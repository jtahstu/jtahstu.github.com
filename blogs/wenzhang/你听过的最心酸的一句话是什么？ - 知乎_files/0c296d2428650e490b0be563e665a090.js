(function(z){
var Vt=function(a){return 1==a.nodeType&&!z.Yb(a)};z.Wt=function(a,b){this.node=a;this.offset=b};z.Xt=function(a){return a.length||a.childNodes.length};z.Yt=function(a,b){return a.Rc&&b?z.x.indexOf(a.Rc,b):-1};z.Zt=function(a,b,c,d){for(;1==a.nodeType;){var f=a.childNodes[b];if(f||a.lastChild)if(f){var g=f.previousSibling;if(c&&g){if(d&&Vt(g))break;a=g;b=z.Xt(a)}else{if(d&&Vt(f))break;a=f;b=0}}else{if(d&&Vt(a.lastChild))break;a=a.lastChild;b=z.Xt(a)}else break}return new z.Wt(a,b)};
var $t=function(a,b,c){c=0>c?z.Yt(a,a.lc):c;var d=z.Th(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.Uh(a,c);if(g&&a.xC(g)){a.bA(c);break}f++;c=b.call(a,c,d)}};z.au=function(a,b){var c=a.parentNode,d=z.x.indexOf(c.childNodes,a)+(b?0:1),c=z.Zt(c,d,b,!0);z.vo(c.node,c.offset).select()};var bu=function(a){$t(a,function(a,c){a--;return 0>a?c-1:a},a.Sa)};var cu=function(a){$t(a,function(a,c){return(a+1)%c},a.Sa)};var du=function(a){$t(a,function(a,c){a--;return 0>a?c-1:a},0)};
z.eu=function(a){$t(a,function(a,c){return(a+1)%c},z.Th(a)-1)};z.fu=function(a){return z.Uh(a,a.Sa)};var gu=function(a,b){var c=b.m(),c=c.id||(c.id=b.be());a.Ag||(a.Ag={});a.Ag[c]=b};var hu=function(a,b){var c=a.o(),d=a.Zb();b?c.g(d,"focus",a.Cd).g(d,"blur",a.Xc).g(a.Gr(),"key",a.$b):c.ta(d,"focus",a.Cd).ta(d,"blur",a.Xc).ta(a.Gr(),"key",a.$b)};var iu=function(a,b){a&&(a.tabIndex=b?0:-1)};
z.ju=function(a,b){if(z.ul(a))a.selectionStart=b,a.selectionEnd=b;else if(z.B){b=z.wl(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};var ku=function(a){this.type="anon_change";this.nb=a};var lu=function(a){return a.ij.length?a.ij.pop():a.wn()};z.mu=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.Hb(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};z.Z=function(a,b){return z.aa[a]=b};z.nu=function(a,b){a.ho=b||null};
z.ou=function(a,b){a.Gy=null==b||b instanceof z.wg?b:new z.wg(b,void 0,void 0,void 0);a.S()&&a.aa()};var pu=function(a){a.ready(function(){var a=this.Na;this.$d?z.ju(a,a.value.length):a.Aa.lastChild?z.au(a.Aa.lastChild):a.Yf();this.hl&&(this.hl.scrollTop=this.hl.scrollHeight)})};var qu=function(a){return a.$d?a.Na:a.Na.m()};var ru=function(a,b){a.params=b};var su=function(a){a.gy=!0;a.bD=z.dh(a.m()).height;z.Bt+=a.bD;z.x.forEach(z.yo,function(a){a&&!a.gy&&a.nl&&a.hp()})};
var tu=function(a,b){a.xw=b};z.uu=function(a,b,c){z.R.call(this,c);this.O=b||z.Vm.T();this.Gb=a||this.O.Yw()};var vu=function(a,b){return a.ie.get(b)};var wu=function(a){var b={};z.x.forEach(a.data.Ab(),function(a){b[a]=this.data.get(a)},a);return b};var xu=function(a){a.Sb()&&a.fire()};
var yu=function(a,b,c){function d(){var b=new z.U(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.cs.pa);b.on("success",function(){var c=z.mf(b);c&&!c.r&&f.dispatchEvent(new ku(a))});b.ajax(d,g)}var f=z.dl,g={title:"\u786e\u8ba4\u4f7f\u7528\u533f\u540d\u8eab\u4efd\uff1f",content:'\x3cp\x3e\u4f7f\u7528\u533f\u540d\u8eab\u4efd\u540e\uff0c\u4f60\u5c06\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e\u4e0d\u80fd\u5728\u8be5\u95ee\u9898\u4e0b\u8bc4\u8bba\uff08\u4f60\u4e4b\u524d\u7684\u8bc4\u8bba\u5c06\u88ab\u9690\u85cf\uff09\x3c/li\x3e\x3cli\x3e\u4e0d\u80fd\u9080\u8bf7\u522b\u4eba\u56de\u7b54\u8be5\u95ee\u9898\x3c/li\x3e\x3c/ul\x3e'},
h={title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\u3001\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"};z.Ai(a?g:h,function(a){a&&d();b&&b(a)})};var zu=function(a){return z.Vg(a)};var Au=function(a){return null!=a};var Bu=function(){this.GA="";this.DJ=Cu};z.Du=function(a){return!/[^\t\n\r ]/.test(a)};z.Eu=function(a,b,c){this.uG=a;this.yS=!!c;a&&!b&&this.next()};
var Fu=function(a){return a instanceof Bu&&a.constructor===Bu&&a.DJ===Cu?a.GA:"type_error:Const"};z.Gu=function(a){return 1==a.nodeType||3==a.nodeType&&!z.Du(a.nodeValue)};z.Hu=function(a){try{return a.next()}catch(b){return null}};var Iu=function(a,b,c){z.ba(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.Eu.call(this,a.childNodes[c],!0,b)};var Ju=function(){this.oH="";this.GJ=Ku};var Lu=function(){this.hm="";this.CJ=Mu};var Nu=function(a){return 1==a.length?"0"+a:a};
var Ou=function(a,b,c,d,f,g){z.Nd.call(this,a);this.event=c;this.pr=g};var Pu=function(a,b){return a>b};var Qu=function(a,b){return a<b};var Ru=function(a){return a.left||0};var Su=function(a){return a.left+a.width-1};var Tu=function(a){return a.top+a.height-1};var Uu=function(a,b){var c=a.dl;return Math.abs(b.y-(c.top+(c.height-1)/2))};
var Vu=function(a,b){var c=window.$.extend({all:!1},Vu.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};var Wu=function(a,b,c){var d=z.Og(a);b instanceof z.Cb&&(c=b.y,b=b.x);z.Ig(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};var Xu=function(a){return void 0!=a.nextElementSibling?a.nextElementSibling:z.ic(a.nextSibling,!0)};
var Yu=function(a){function b(a){if(z.ea(a))z.x.forEach(a,b);else{if(!(a instanceof z.xb)){var g=null;a.Qx&&(g=a.sl());a=z.Ab(z.Fa(a.Ml?a.qj():String(a)),g)}d+=z.zb(a);a=a.sl();0==c?c=a:0!=a&&c!=a&&(c=null)}}var c=0,d="";z.x.forEach(arguments,b);return z.Ab(d,c)};z.Zu=function(a){for(var b;b=a&&1==a.nodeType?z.Hu(z.P.filter(new Iu(a,!1),z.Gu)):null;)a=b;return a};
var $u=function(a,b,c){z.kn.call(this,a,0,c?"\u6dfb\u52a0\u7236\u8bdd\u9898":"\u6dfb\u52a0\u5b50\u8bdd\u9898");this.ky=c;this.Cf=b;this.rs="";this.CH="/topic/parent/remove"};var av=function(){z.O.call(this);this.Tc=[];this.el=[];this.kw={};this.U=new z.ye(this);this.VO=this.vF=!1;this.bB=!0};var bv=function(a,b,c){b.zD=c;b.$i=void 0;a.Tc.push(b)};var cv=function(a,b){for(var c=0,d=a.Tc.length;c<d;c++){var f=a.Tc[c];f.dl=z.Xg(f)}c=0;for(d=a.el.length;c<d;c++)f=a.el[c],f!=b&&(f.dl=z.Xg(f))};
var dv=function(a){z.Kd(a.Jb);a.Dc&&z.K(a.Dc);a.$a&&"none"==a.$a.style.display&&(a.ot.insertBefore(a.$a,a.mz),a.$a.style.display="");a.Vv&&a.$a?z.wh(a.$a,a.Vv||[]):a.$a&&(a.$a.style.visibility="visible");for(var b=0,c=a.Tc.length;b<c;b++){var d=a.Tc[b];d.$i&&z.vh(d,d.$i)}};var ev=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};
var fv=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({dJ:Vu},z.Ps,b||{});if(!c.dJ(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.bC?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var gv=function(a,b){b.all=!0;return Vu(a,b)};
var hv=function(a,b,c,d){var f=null;d&&(c&&(c=window.$.proxy(c,d)),f&&(f=window.$.proxy(f,d)));window.$.get("/node/"+a,{params:b},function(a){a&&a.r?f&&f(a):c&&c(a)})};var iv=function(a){var b=a.match(jv);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var kv=function(a){if(!lv.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(mv,"#$1$1$2$2$3$3"));return a.toLowerCase()};
var nv=function(a){var b=a.body;a=a.documentElement;return new z.Cb(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};z.ov=function(a){z.vo(z.Zu(a),0).select()};z.pv=function(a,b){z.B&&z.$b(a);a.innerHTML=b};z.qv=function(a,b){var c=z.Bc(a);if(a.getElementsByTagName)for(var d in z.ct)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&"\u00a0"==c||z.Du(c)};z.rv=function(a){if(a=z.xn(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(c){}};
var sv=function(a){z.kn.call(this);this.Ge="\u4f8b\u5982\uff1a\u4e92\u8054\u7f51\u3001\u533b\u5b66\u3001\u6cd5\u5f8b\u3001\u6570\u5b66...";this.data=a||[]};var tv=function(a){if(a.Vf)(0,window.$)(a.Vf).on("click",".del",window.$.proxy(function(a){var c=(0,window.$)(a.target).parents(".item");c.data("active")?(z.cc(this.Xm,c[0],0),z.Gk(c[0])):z.K(c[0]);z.x.forEach(this.data,function(a,b){a+""===c.data("url-token")+""&&this.data.splice(b,1)},this);this.Tk();this.dispatchEvent("remove")},a))};
var uv=function(a){if(a.Xm)(0,window.$)(a.Xm).on("click",".add",window.$.proxy(function(a){a=(0,window.$)(a.target).parents(".item");z.cc(this.Vf,a[0],0);z.Gk(a[0]);this.Tk();this.dispatchEvent("add")},a))};var vv=function(a){z.kn.call(this,a,0);this.rs="";this.qC="/topic/ignore"};var wv=function(){z.kn.call(this,null,null,"\u641c\u7d22\u8bdd\u9898");this.Ge="";this.data=[z.fs[0]]};
var xv=function(a){if(a){var b=a.getBoundingClientRect(),c=b.bottom,b=b.top;c<z.Ob().height&&0>b&&(0,window.setTimeout)(function(){var b=a.getBoundingClientRect().bottom,f=nv(window.document);window.scrollTo(f.x,f.y+b-c)})}};
var yv=function(a){function b(a){return window.$.isNumeric(a)?a+" ":a}var c;c=c||+new Date;if(0>=c-a)return"\u521a\u521a";a=Math.floor((c-a)/1E3);c=Math.floor(a/31536E3);if(1<=c)return b(c)+"\u5e74\u524d";c=Math.floor(a/2592E3);if(1<=c)return b(c)+"\u6708\u524d";c=Math.floor(a/604800);if(1<=c)return b(c)+"\u5468\u524d";c=Math.floor(a/86400);if(1<=c)return b(c)+"\u5929\u524d";c=Math.floor(a/3600);if(1<=c)return b(c)+"\u5c0f\u65f6\u524d";c=Math.floor(a/60);if(1<=c)return b(c)+"\u5206\u949f\u524d";c=
Math.floor(a);return b(c)+"\u79d2\u524d"};var zv=function(){var a=z.V;return 1===a||0===a?"\u533f\u540d\u7528\u6237":['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'" title\x3d"'+a[0]+'" class\x3d"','zm-item-link-avatar"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+a[2]+'" /\x3e',"\x3c/a\x3e"].join("")};
var Av=function(a,b){return z.ea(a)?['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'"',b?' class\x3d"'+b+'"':"",' title\x3d"',a[0],'"\x3e',a[0],"\x3c/a\x3e"].join(""):"\u533f\u540d\u7528\u6237"};var Bv=function(a){if(0===a||1===a)return"\u533f\u540d\u7528\u6237";var b=z.J("a",{href:"/people/"+a[1],title:a[0]},a[0]);b.setAttribute("data-tip","p$t$"+a[1]);return b};var Cv=function(a){return z.J("a",{href:"/topic/"+a[1],title:a[0],"class":""},a[0])};
var Dv=function(a){if(0===a||1===a)return z.J("span");if(z.ea(a)){var b=z.J("a",{href:"/people/"+a[1],title:a[0],"class":"zm-item-link-avatar"},z.J("img",{src:a[2],"class":"zm-list-avatar"}));b.setAttribute("data-tip","p$t$"+a[1]);return b}};var Ev=function(a){return 1===a?!0:z.ea(a)?a[3]===z.V[3]:!1};var Fv=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};var Gv=function(a,b){return window.$.post("/question/askpeople",{qid:a,uid:b,op:"remove"})};
var Hv=function(a,b,c){return window.$.post("/question/askpeople",{qid:a,uid:b,_source_type:c,op:"add"})};var Iv=function(a,b,c,d,f){z.Sj.call(this,a,[b],[c],d,f)};var Jv=function(a,b,c,d,f){z.Sj.call(this,a,[b],[c],d,f)};var Kv=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");z.Sj.apply(this,arguments)};
var Lv=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(lv.test(c))return b.ds=kv(c),b.type="hex",b;c=iv(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=Nu(d.toString(16));a=Nu(a.toString(16));c=Nu(c.toString(16));b.ds="#"+d+a+c;b.type="rgb";return b}if(Mv&&(c=Mv[a.toLowerCase()]))return b.ds=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var Nv=function(a){var b=window.$.extend({},{title:"\u4fe1\u606f",pT:"\u52a0\u8f7d\u4e2d",buttons:[],onload:z.m},a),c=z.J("div",{className:"modal-dialog-async-loading",innerHTML:(b.pT||"\u52a0\u8f7d\u4e2d")+'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e'}),d=z.Ai(b);d.W().appendChild(c);b.SC&&b.SC.then(function(a){z.K(c);d.Td||(a&&d.Ga(a),d.aa(),b.onload(d.W(),d))});return d};
var Ov=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!z.A;default:return 166>a.keyCode||183<a.keyCode}};
var Pv=function(a){var b=z.Hb(a),c=z.B&&a.currentStyle;if(c&&z.Ic(z.F(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=z.eh(a,c.width,"width","pixelWidth"),a=z.eh(a,c.height,"height","pixelHeight"),new z.Eb(b,a);c=z.dh(a);b=z.gh(a);a=z.Qg(a);return new z.Eb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};var Qv=function(a,b){var c=a.style[z.ab(b)];return"undefined"!==typeof c?c:a.style[z.Bg(a,b)]||""};
var Rv=function(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};var Sv=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var Tv=function(a,b,c){return Math.min(Math.max(a,b),c)};
var Uv=function(a,b){if(!Vv.test(a))throw Error("Invalid tag name \x3c"+a+"\x3e.");if(a.toUpperCase()in z.Lr)throw Error("Tag name \x3c"+a+"\x3e is not allowed for SafeHtml.");var c=null,d="\x3c"+a;if(b)for(var f in b){if(!Vv.test(f))throw Error('Invalid attribute name "'+f+'".');var g=b[f];if(null!=g){var h,l=a;h=f;if(g instanceof Bu)g=Fu(g);else if("style"==h.toLowerCase()){if(!z.ia(g))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof g+" given: "+
g);if(!(g instanceof z.ub)){var l="",n=void 0;for(n in g){if(!/^[-_a-zA-Z0-9]+$/.test(n))throw Error("Name allows only [-_a-zA-Z0-9], got: "+n);var p=g[n];if(null!=p){if(p instanceof Bu)p=Fu(p);else if(Wv.test(p)){for(var E=!0,H=!0,L=0;L<p.length;L++){var M=p.charAt(L);"'"==M&&H?E=!E:'"'==M&&E&&(H=!H)}E&&H||(p="zClosurez")}else p="zClosurez";l+=n+":"+p+";"}}g=l?(new z.ub).oo(l):z.Jr}g=g instanceof z.ub&&g.constructor===z.ub&&g.BJ===z.wb?g.Az:"type_error:SafeStyle"}else{if(/^on/i.test(h))throw Error('Attribute "'+
h+'" requires goog.string.Const value, "'+g+'" given.');if(h.toLowerCase()in z.Kr)if(g instanceof Ju)g=g instanceof Ju&&g.constructor===Ju&&g.GJ===Ku?g.oH:"type_error:TrustedResourceUrl";else if(g instanceof Lu)g=g instanceof Lu&&g.constructor===Lu&&g.CJ===Mu?g.hm:"type_error:SafeUrl";else throw Error('Attribute "'+h+'" on tag "'+l+'" requires goog.html.SafeUrl or goog.string.Const value, "'+g+'" given.');}g.Ml&&(g=g.qj());h=h+'\x3d"'+z.Fa(String(g))+'"';d+=" "+h}}f=void 0;null!=f?z.ea(f)||(f=[f]):
f=[];!0===z.Ir[a.toLowerCase()]?d+="\x3e":(c=Yu(f),d+="\x3e"+z.zb(c)+"\x3c/"+a+"\x3e",c=c.sl());(f=b&&b.dir)&&(c=/^(ltr|rtl|auto)$/i.test(f)?0:null);return z.Ab(d,c)};z.Xv=function(a){return a.replace(/^[\s\xa0]+/,"")};var Yv=function(){throw Error("unimplemented abstract method");};var Zv=function(a){z.O.call(this);this.view=this.name=null;z.y.extend(this.options={},this.defaults,a||{})};var $v=function(a,b){function c(b){Zv.call(this,b);this.name=a}z.v(c,Zv);z.qa(c.prototype,b);aw[a]=c};
var bw=function(a,b){var c=aw[a];if(!c)throw Error("Cannot find constructor");return new c(b)};var cw=function(a){z.R.call(this);z.y.extend(this.J={},this.defaults,a||{});this.source=this.J.source;this.promise=window.$.Deferred().resolve();this.Hd={}};var dw=function(a,b,c){a.xa&&z.x.forEach(a.zb(),b,c);a.o().g(a,"itemcreated",function(a){b.call(c,a.item)})};var ew=function(a){a.Pd&&(z.K(a.Pd),a.Pd=null);a.dispatchEvent("complete")};
var fw=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,p,E,H){if("%"==p)return"%";var L=c.shift();if("undefined"==typeof L)throw Error("[goog.string.format] Not enough arguments");arguments[0]=L;return gw[p].apply(null,arguments)})};
var hw=function(a){z.O.call(this);this.viewport=a||window;this.size=null;z.gh(window.document.body);this.da=new z.ye(this);this.Np=null;this.QL=250;this.of();(0,window.setTimeout)((0,z.r)(this.update,this))};var iw=function(a,b,c){b.o().g(a,"update",function(a){var f;z.Wd(b)?f=b.hasListener("nearbottom",void 0):(f=z.fe(b),f=!!f&&f.hasListener("nearbottom",void 0));f&&c(a.target.size)&&b.dispatchEvent("nearbottom")})};
var jw=function(a,b,c){var d=kw;d.da.g(d,"update",function g(){a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.da.ta(this,"update",g))})};var lw=function(a){z.R.call(this);z.y.extend(this.J={},this.defaults,a||{});this.content="";this.zc=this.Ue=this.Ve=null;this.zd=!1;this.valid=!0};var mw=function(a){cw.call(this,a)};var nw=function(){};var ow=function(a,b,c){z.jj.call(this,a,c||nw.T(),b);this.Ob(1,!1);this.Ob(2,!1);this.Ob(4,!1);this.Ob(32,!1);this.N=1};
var pw=function(){this.Ev=[]};var qw=function(a,b){var c=a.Ev[b];if(!c){switch(b){case 0:c=a.R()+"-highlight";break;case 1:c=a.R()+"-checkbox";break;case 2:c=a.R()+"-content"}a.Ev[b]=c}return c};var rw=function(a,b,c){a=qw(a,2);return c.B("DIV",a,b)};var sw=function(a,b){var c=a.W(b);if(c){var c=c.firstChild,d=qw(a,1);return!!c&&z.kc(c)&&z.sh(c,d)}return!1};
var tw=function(a,b,c,d){z.bj(a,c,b.ai());z.cj(a,b,c);d!=sw(a,c)&&(z.xh(c,"goog-option",d),c=a.W(c),d?(a=qw(a,1),c.insertBefore(b.M().B("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};var uw=function(a,b,c,d){z.jj.call(this,a,d||pw.T(),c);this.Ha(b)};var vw=function(){};z.ww=function(a,b){z.jj.call(this,null,a||vw.T(),b);this.Ob(1,!1);this.Ob(2,!1);this.Ob(4,!1);this.Ob(32,!1);this.N=1};var xw=function(a){this.zq=a||"menu"};var yw=function(a){z.ww.call(this,vw.T(),a)};
var zw=function(a,b){z.uu.call(this,z.Zs,b||xw.T(),a);this.Qe(!1)};var Aw=function(a,b,c,d){z.lq.call(this,a,b);this.Co=c?5:0;this.pz=d||void 0};var Bw=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var Cw=function(a,b,c,d){Aw.call(this,a,b,c||d);(c||d)&&this.zm(65|(d?32:132))};var Dw=function(){};
var Ew=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==(0,z.Xa)(f))a.removeChild(c);else{c.nodeValue=b?z.Xv(f):z.Da(f);break}}else break;c=d}};var Fw=function(){};var Gw=function(a,b,c){return c.B("DIV","goog-inline-block "+(b+"-caption"),a)};
var Hw=function(a,b,c,d,f){z.qj.call(this,a,c||Fw.T(),d);this.Ob(64,!0);this.Vl=new Cw(null,5);b&&this.nh(b);this.fG=null;this.ma=new z.ue(500);!z.Vr&&!z.zi||z.D("533.17.9")||(this.Cs=!0);this.MP=f||xw.T()};var Iw=function(a){a.fG=new z.wg(7,0,7,0)};var Jw=function(a){a.Vl.zm&&a.Vl.zm(33)};
var Kw=function(a){if(a.ka.xa){var b=a.Vl;a.Vl.element=a.KR||a.m();var c=a.ka.m();a.ka.S()||(c.style.visibility="hidden",z.Q(c,!0));!a.qt&&a.Vl.Tn&&a.Vl.Tn()&32&&(a.qt=z.Vg(c));b.aa(c,b.Lf^1,a.fG,a.qt);a.ka.S()||(z.Q(c,!1),c.style.visibility="visible")}};var Lw=function(a,b,c){var d=a.o();c=c?d.g:d.ta;c.call(d,b,"action",a.ao);c.call(d,b,"close",a.qx);c.call(d,b,"highlight",a.xx);c.call(d,b,"unhighlight",a.Fx)};var Mw=function(a,b){var c=a.o();(b?c.g:c.ta).call(c,a.m(),"keydown",a.uN)};
var Nw=function(a,b){var c=a.m(),d=z.nh(b,"activedescendant"),d=z.Hb(b).getElementById(d)||b;if(!d.id){var f=z.Mh.T();d.id=z.Nh(f)}z.oh(c,d);z.lh(c,"owns",d.id)};var Ow=function(){z.O.call(this)};var Pw=function(a,b,c){z.R.call(this);this.type=a;this.id=b;this.kv=c||Qw[a]||"other_report"};var Rw=function(a,b){if(a.type&&a.id&&!(0,window.$)(b).hasClass("goog-menu-button")){var c=new Hw("report",new zw);c.hk=!0;c.fc=z.Or;c.w(b);z.Id(c,a);a.eG=c;a.o().sa(c.m(),["mouseover","focus"],z.ti(a.zO))}};
var Sw=function(a,b){window.$.get("/report/reported",{type:"question",id:a.id},window.$.proxy(function(a){if(a.r)z.T(a.msg);else if(a.reported)z.T(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5");else{a=new Tw(this.type,this.id);var d=(0,z.lp)(a.ZD,{each:z.x.forEach,options:b,headnote:'\x3ca href\x3d"http://www.zhihu.com/question/19806261" class\x3d"zg-link-gray"\x3e\u77e5\u4e4e\u63d0\u95ee\u89c4\u8303\x3c/a\x3e'});a.Ok("\u9700\u8981\u8fdb\u4e00\u6b65\u4fee\u6539",d);a.Gq(b)}},a))};
var Tw=function(a,b){z.O.call(this);this.type=a;this.id=b};var Uw=function(){z.O.call(this);this.rf="zm-pm-item"};var Vw=function(a){var b=new z.U(!0);b.on("success",function(){var a=z.mf(b);a.r?z.T(a.msg):window.location.reload()});b.ajax("/inbox/delete","type\x3dthread\x26token\x3d"+a)};var Ww=function(){z.O.call(this);this.rf="zm-pm-item"};var Xw=function(a){if(a.zb().length){var b=new mw;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a.Rs)}};
var Yw=function(a,b){z.Ai("\u5220\u9664\u79c1\u4fe1","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u5c01\u79c1\u4fe1\u5417\uff1f",function(a){a&&Zw(this,b)},a)};var Zw=function(a,b){var c=new z.U(!0);a.o().sa(c,"success",function(){var a=z.mf(c);a.r?z.T(a.msg):window.location.reload()});c.ajax("/inbox/delete","type\x3dsingle\x26token\x3d"+b)};var $w=function(a,b,c){z.R.call(this);this.offset=this.Re=0;this.aT=c;this.fM=a;this.url=b||window.location.href;this.bg="zm-item";this.params={}};
var ax=function(a,b){a.url=b};var bx=function(a,b){b?a.Ck.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\u6b63\u5728\u52a0\u8f7d').prop("disabled",!0):a.Ck.html("\u66f4\u591a").prop("disabled",!1)};var cx=function(a,b){a.$r=b};var dx=function(a){var b=a.zb();a.offset=a.Vy?a.Vy(b):b.length;if(a.$r)return b=a.$r(),z.Q(a.cc,b),b;if(a.cc){if("-1"===a.Ck.attr("data-next")||!b||10>b.length)return a.Ck.hide(),!1;a.Ck.removeClass("hidden").show()}return!0};
var ex=function(a){a.dispatchEvent({data:{xo:a.xo,eB:a.eB},type:"afterload"})};var fx=function(a){var b=a.zb(),c;if(a.aT)if(a.cc&&(c=a.cc.getAttribute("data-next")),c)a.Re=c;else if(b=z.x.qd(b))a.Re=a.eH(b)};var gx=function(a,b){z.x.forEach(b,function(a){var b=this.Yj(a);this.dispatchEvent({data:{item:a,kP:b},type:"itemcreated"})},a)};
z.hx=function(a){z.O.call(this);this.ma=null;this.h=a;a=z.B||z.C&&!z.D("531")&&"TEXTAREA"==a.tagName;this.U=new z.ye(this);this.U.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var ix=function(a){null!=a.ma&&(z.xe(a.ma),a.ma=null)};var jx=function(a){a=new z.Qd(a.yb);a.type="input";return a};var kx=function(a,b,c,d){z.O.call(this);this.Ud=a;this.Sh=b;this.Wg=c;this.xD=d||lx;this.Ej=new z.hx(a);z.N(this.Ej,"input",this.Ro,!1,this);mx(this)};
var mx=function(a){var b=a.Hr();a.Sh&&(0>a.Wg-b?(z.rc(a.Sh,"\u5df2\u8d85\u51fa "+(b-a.Wg)+" \u5b57"),z.S.add(a.Sh,"zg-text-error")):(z.rc(a.Sh,"\u8fd8\u53ef\u4ee5\u8f93\u5165 "+(a.Wg-b)+" \u5b57"),z.S.remove(a.Sh,"zg-text-error")))};var nx=function(a,b,c,d){kx.call(this,a,b,c,d)};var ox=function(a,b){z.O.call(this);this.ga=null;this.PL=b;this.VS.apply(this,a);this.init()};var px=function(a,b){qx||(qx=new ox(a,b))};
var rx=function(a){a.ga.Za(a.zf.title);a.$e[a.Ef]||(a.xhr=new z.U(!0),a.o().sa(a.xhr,"success",a.WS),a.xhr.ajax("/"+a.zf.type+"/"+a.zf.UT+"/sharetext","","GET"));z.G("zh-webshare-sina-pm").value=a.$e[a.Ef]&&a.$e[a.Ef].sina||"\u52a0\u8f7d\u4e2d...";mx(a.kI);z.Tm(a.uA);a.uA.vu();var b=a.xk;b.bc.value=a.$e[a.Ef]&&a.$e[a.Ef].pm||"\u52a0\u8f7d\u4e2d...";b.SK&&mx(b.SK);z.Tm(b.hH);b.hH.vu();z.Q(b.Nc,!0);z.Q(b.og,!1);if("answer"===a.zf.type||"post"===a.zf.type)(0,window.$)(a.h).find("#tb-webshare-daily").parent().removeClass("zg-hide"),
a.$e[a.Ef]&&(0,window.$)(a.h).find(".tb-webshare-daily-title").html(a.$e[a.Ef].daily)};var sx=function(a,b){tx(a,b,b+"-content");a.tS||(a.ga.aa(),a.tS=!0)};var tx=function(a,b,c){c=z.G(c);b=z.G(b);z.x.forEach(a.FT,function(a){z.S.remove(a.parentNode,"active")});z.x.forEach(a.ET,function(a){z.Q(a,!1)});z.S.add(b.parentNode,"active");z.Q(c,!0)};var ux=function(a){var b=null;try{b=a.cssRules||a.rules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var vx=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ba(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.x.extend(b,vx(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.x.extend(b,vx(a[d]));else{var g=ux(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.x.extend(b,vx(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var wx=function(){this.Fn="";this.lh=[]};
var xx=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.Fn=d.join("")};var yx=function(a){this.gv={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new zx(a[c]);b.push(d)}this.pi=b}};
var zx=function(a){var b=Ax[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.jF=a;this.HP=c;this.yI={};Ax[a]=this};
var Bx=function(a,b){var c=b.uid,d=a.yI[c];if("undefined"!=typeof d)return d;var f=a.HP,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.$K[g]&&(h=!1);return a.yI[c]=h};var Cx=function(a){var b=z.ja(a),c=Dx[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ja(d);var f={};if(a.className)for(var g=z.qh(a),h=0;h<g.length;h++)f[g[h]]=1;d.$K=f;c.unshift(d)}while(a=a.parentNode);this.vG=c;this.uid=z.ja(this);Dx[b]=this};
z.Ex=function(){z.O.call(this);this.hc=this.nq()};var Fx=function(a,b,c,d,f){this.ND=a;this.xA=b;this.Iq=c;this.SD=d;this.Dw=f||{}};var Gx=function(a,b){this.uU=a;this.ZC=b};
var Hx=function(a,b,c,d){var f=[];a.Iq&&a.xA&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.Iq&&f.push("height:",a.SD?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.ZC&&f.push(c.ZC);z.A&&a.xA&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.gt&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.ND,'" style\x3d"min-width:0;');z.A&&a.Iq&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.xA?"100%":"auto"),a.SD?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.Dg&&f.push(";outline:hidden");for(var g in a.Dw)f.push(";"+g+":"+a.Dw[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var Ix=function(a,b){z.O.call(this);this.Lg=this.id=a;this.kb=null;this.Hd={};this.Aj={};for(var c in z.Jx)this.Aj[c]=[];this.Wk="";this.pk={};this.pk[Kx]=1;this.pk[z.Lx]=1;this.lr=new z.Jj(this.vD,Mx,this);this.jr={};for(var d in Nx)this.jr[Nx[d]]=0;z.A&&(this.ve=new z.Jj(this.Zn,Ox,this));this.ic=new z.ye(this);this.vU=[];this.Tl=z.Px;this.dm=z.F(b||window.document);this.Kc=this.dm.m(this.id);this.xM=z.ot;this.Hk=this.dm.Xa()};
var Qx=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in Rx;return(a.ctrlKey||a.metaKey)&&a.keyCode in Sx||b};var Tx=function(a,b){a.Tl=2;a.Aa=b;a.kb=z.F(b);b.setAttribute("g_editable","true");z.kh(b,"textbox")};
var Ux=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.A&&b.metaKey&&!z.D(29)&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=Qx(b)?!0:!(!z.A||b.ctrlKey||b.metaKey||z.A&&!b.charCode));a.kx=c;a.kx&&a.Rh();return!0};var Vx=function(a,b,c){var d={};a=a.Bt(8,b||"",d);z.Ag(c,d);z.pv(c,a)};
var Wx=function(a,b){if(!b.altKey){var c=z.Vd?b.metaKey:b.ctrlKey;if(c||Xx[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&(d=String.fromCharCode(d).toLowerCase(),z.Vd&&z.A&&"`"==d&&" "==b.yb.key&&(d=" "),a.wo(5,b,d,c)&&b.preventDefault())}}};var Yx=function(a){var b;return a.oc()&&(b=a.kb)?(a=b.Xa())&&a.frameElement:null};z.Zx=function(a){return(a=a.kb&&a.kb.Xa())&&z.ro(a)};
z.$x=function(a,b,c){if(!ay(a,"selectionchange")){var d=z.Zx(a),d=d&&d.Lb();a.qf=!!d&&z.mc(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",rW:b&&b.type});a.wo(4,b,c)}};z.by=function(a,b,c){b&&(a.ve&&xu(a.ve),a.pk[Kx]=1);c&&(z.cy(a),a.pk[z.Lx]=1)};var dy=function(a,b,c){!b&&a.ve&&xu(a.ve);a.pk[Kx]=0;a.pk[z.Lx]=0;b&&a.Zn();c&&a.vD()};var ay=function(a,b){return!!a.pk[b]||a.jr[b]&&500>=(0,z.w)()-a.jr[b]};z.cy=function(a){a.ve&&xu(a.ve);xu(a.lr)};
var ey=function(a){z.Ec(a.target,"A")&&a.preventDefault()};z.fy=function(a){var b=a.m();if(b){var c=z.Zu(b);b==c?z.vo(b,0).select():z.au(c,!0);z.$x(a)}};var gy=function(a){if(!z.ba(a.hy)&&(a.hy=!1,z.B&&a.oc())){for(var b=a.dm.Xa();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.hy="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.hy};z.hy=function(a,b){Ix.call(this,a,b)};
var iy=function(a){if(a.Cp?0:a.Cp=!0){var b=Yx(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(Qv(b,"width"),10)!=h&&(f=z.gh(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.yo()&&(0,window.parseInt)(Qv(b,"height"),10)!=g&&(f||(f=z.gh(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.Cp=!1;d&&a.dispatchEvent("ifrsz")}};var jy=function(a){a.m()&&(iy(a),a.yo()||a.vA())};
var ky=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.Oc=new ly(b)};var ly=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var my=function(){z.O.call(this)};var ny=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.T(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.T("\u64cd\u4f5c\u6210\u529f\uff01"),c&&c(a))}})};
var oy=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.jM);return window.$.post("/manage",c).then(function(a){return z.xa("\u7528\u6237\u5df2\u88ab\u8b66\u544a %s \u6b21\uff0c\u7981\u8a00 %s \u6b21",a.warn_num,a.ban_num)})};var py=function(a){z.R.call(this);z.y.extend(this.J={},this.defaults,a||{});this.Vm=new z.Fe;this.se=null};
var qy=function(a,b){var c=a.J,d=new z.Cq(c.trigger,!1,null,b);d.au=c.eT;d.fs=c.jO;d.mh(a.dn);z.N(d,"trigger",function(a){d.setPosition(new z.lq(a.anchor,1))});z.N(d,"beforeshow",function(a){this.se=a.target.anchor;this.ca()},!1,a);d.className=c.LJ;a.oO=d};var ry=function(a,b){var c=a.J.jP,d=z.fc(a.dn),f=z.x.find(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.S.has(f,c))return!1;z.x.forEach(d,function(a){z.S.remove(a,c)});z.S.add(f,c);return!0};
var sy=function(a,b,c,d){a.Vm.set(b,{name:b,V:c,Ti:d||z.m})};z.ty=function(a){z.R.call(this);z.y.extend(this.J={},this.defaults,a||{})};var uy=function(a){var b=a.J,c=a.h;vy(c);b=wy(c,b.TE);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};var xy=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var yy=function(a,b){return xy(a,b,function(a){return zy(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};
var zy=function(a){return"A"===a.nodeName};var vy=function(a){var b=z.sc(a,function(b){return 3===b.nodeType&&!yy(b,a)}),c,d=z.ro(),f=d&&z.zn(d);z.x.forEach(b,function(a){var b=a.nodeValue,d=Ay(b);d!==b&&(b=z.Wb(d),f===a&&(c=b.lastChild),z.dc(b,a))});c&&z.au(c)};
var wy=function(a,b){var c=z.x.filter(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.x.contains(By,a.protocol))b=z.yc(a),z.va(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.x.map(c,function(c){return Cy(c.href).done(function(f){Dy(a,c,f,b)})})};
var Dy=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.ro();if(d){var f=d.Z(),E=d.wa(),H=d.ia(),L=d.Ma();z.mc(b,f)&&(f=a,E=0);z.mc(b,H)&&(H=a,L=0);c(function(){f===a&&H===a?z.au(a):z.ao(f,E,H,L).select()})}else c(z.m)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",Ey(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.rc(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.dc(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var Ey=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" \u7684\u9875\u9762"};var Ay=function(a){return a.replace(Fy,function(a){z.va(a,"http")||(a="http://"+a);return a.link(a)})};
var Gy=function(a){var b=new py({});sy(b,"link","\u94fe\u63a5",function(a){z.rc(a,a.href)});sy(b,"text","\u6587\u672c",function(a){z.rc(a,a.getAttribute("data-title"))});b.w(a);var c=b.cx();z.ou(c,new z.wg(2,0,0,0));z.nu(c,new z.wg(2,0,0,0));var d=b.o();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.yc(a);c===a.href?ry(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),ry(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&zy(b))return!1});
var f;d.g(c,"show",function(a){f=a.target.anchor;z.S.add(f,"hover")}).g(c,"hide",function(){f&&(z.S.remove(f,"hover"),f=null)});return b};
var Hy=function(a,b,c){z.R.call(this);this.id=a;this.type=b;this.Aa=null;this.zd=this.$g=!1;this.he="\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba\u2026";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.he+"\x3c/p\x3e";this.Lj="";this.Da=-1;this.UF=window.$.Deferred().resolve();this.zz=this.Ts=null;this.HC="zm-comment-box";this.wh=null;a=Iy[b];if(!a)throw Error("API not found");this.zg=window.$.extend({},Iy._default_,a);this.un="";this.nD={};z.y.extend(this.J={},this.defaults,c||{})};
var Jy=function(a,b){return z.Mm(a,function(){return{ra:{question:"question_comment_"+b,answer:"question_answer_comment_"+b}[this.type]||!0,gd:!0}},function(){return this.un})};var Ky=function(a,b,c){var d=z.I(a.HC,b);c&&(a.wh=c);d?a.w(d):(a.$g=!0,a.ca(b))};var Ly=function(a){z.y.forEach({WB:".load-more",tn:".zm-comment-list",NC:".zm-comment-form",Aa:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var My=function(a){a.Aa&&a.Aa.setAttribute("aria-label",a.he);if(z.dp){var b=a.Aa;b.setAttribute("contentEditable",!0);var c=a.fl={m:function(){return b},pl:function(){return z.Yk(b)?"":b.innerHTML},Id:function(a,c){b.innerHTML=c},Yf:function(){z.ov(b)}};a.us(c);a.vs(c)}else Ny(a);a.o().g(a.Aa,["change","keyup"],function(a){27!==a.keyCode&&(z.qv(this.Aa)?this.Lj="":this.Lj=this.hb())});Oy(a)};
var Ny=function(a){var b=z.J("textarea",{placeholder:a.he,"class":"zm-comment-textarea"});z.dc(b,a.Aa);new z.Sm(b,22);a.Aa=b;a.fl={m:function(){return b},pl:function(){return b.value},Id:function(){b.value="";b.style.height=z.Jg(22,!0)},Yf:function(){b.focus()}}};
var Py=function(a){var b=a.fl,c=b.m();if(b.pl()!==a.placeholder){b.Id(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Id(!1,this.Lj||"");this.Aa.lastChild?z.au(this.Aa.lastChild):b.Yf();z.ne(c,d,f,!1,this)};z.N(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.mc(a.Aa,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.Aa.blur()}};var Qy=function(a){a.focus();a=z.uo(a);a.collapse();a.select()};
var Ry=function(a){var b;(b=z.I("zm-comment-reply-hack"))?(b=z.Wb(z.mu(b)),z.S.Yu(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.bc(b,a)):(b="",z.V.ra()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.V.EM()+'"\x3e'),b=z.Wb('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"\u5199\u4e0b\u4f60\u7684\u56de\u590d"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e\u8bc4\u8bba\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var Sy=function(a){var b=window.location.hash.slice(1).split("-");if(b="comment"===b[0]&&b[1])a=Ty(a,b),z.Gk(a),fv(a)};var Ty=function(a,b){return z.x.find(Uy(a),function(a){return a.getAttribute("data-id")===b})};var Uy=function(a){return(0,window.$)(a.tn).children(".zm-item-comment").get()};
var Vy=function(a){a.o().g(a.h,"click",a.Ba).g(a.Aa,"keydown",a.DQ).g(z.dl,"anon_change",a.rj).g(a.fl.m(),["click","focus"],z.pa(a.$t,!0)).g(a.fl.m(),"focus",z.pa(a.Ci,"add_comment_start"));a.Da=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.rf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.yi&&a.WB&&(a.zz=Fv().then(window.$.proxy(a.TF,a)))};var Wy=function(a){0<a.Ua()?(a.Lj=a.hb(),a.$t(!1),Py(a)):a.wh?a.collapse():a.$t();a.Of()};
var Xy=function(a){if(a.wh){var b=(0,window.$)(a.wh);a.$(a.eC).show().css("left",b.position().left+b.width()/2)}};var Yy=function(a){if("pending"!==a.UF.state()){a.mb();a.h.innerHTML=a.Xi();a.expand();var b=a.zg.ql(a.id,a.J.RF).done((0,z.r)(a.kS,a));return a.UF=b}};
var Oy=function(a){z.V.ra()?z.V.active||Zy(a,'\x3cdiv class\x3d"active-mask-tip-comment"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):Zy(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',
null)};var Zy=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.Aa).hide().after(d).after(b)):b.insertAfter(a.Aa);a=(0,z.r)(Jy(z.m,"box"),a);b.on("click",a);d.on("click",a)};var $y=function(a){Ly(a);My(a);Py(a);Vy(a);az(a);Xy(a);bz(a)&&(0,window.$)(a.h).removeClass("empty")};var az=function(a){var b=a.J,c=!a.Ua();z.S.enable(a.h,b.nw,c);c&&a.Aa&&b.autofocus&&a.Aa.focus();a.dispatchEvent("change")};
var cz=function(a,b){var c=a.$("a[name\x3dload-more]");(0,window.$)(".text-content",c).text(b)};var bz=function(a){return(0,window.$)(a.h).data("abtest")};var dz=function(a,b,c){if(!a.im||"pending"!==a.im.state()){var d;z.ia(b)&&(d=b.rS,b=b.content);b=z.Ea(b);var f=new z.Fe;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.zg.add(f.pu());b.done(window.$.proxy(a.OM,a)).done(c);a.im=b;a.Lj=a.hb();a.Ci("add_comment_submit")}};
var ez=function(a,b){var c=z.Gc(b,a.J.rf);(new my).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.r)(function(){z.K(c);--this.Da;az(this)},a))};
var fz=function(a,b){var c=z.Gc(b,a.J.rf),d=c.getAttribute("data-id"),f="\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\u540c\u65f6\u5c06\u6b64\u4eba\u5c4f\u853d\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility",
"visible")}));var h=z.Ai("\u5220\u9664\u8bc4\u8bba",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),gz(this,d,Number(a),z.pa(z.K,c)))},a)};
var hz=function(a,b,c){a.zg.remove(b).done((0,z.r)(function(){z.ha(c)&&c();--this.Da;az(this);if(bz(this)){var a=this.$("a[name\x3dload-more]");0===a.nextAll().length&&(a.removeClass("load-more-fold"),cz(this,"\u663e\u793a\u5168\u90e8 "+this.Da+" \u6761\u8bc4\u8bba"));0===a.prevAll().length&&(a.removeClass("load-more-fold"),a.css("border","none"),cz(this,"\u663e\u793a\u5168\u90e8 "+this.Da+" \u6761\u8bc4\u8bba"))}this.nD[b+""]=!0},a))};
var gz=function(a,b,c,d){a.zg.uK(b,c).done((0,z.r)(function(){z.ha(d)&&d();--this.Da;az(this)},a))};var iz=function(a){if(!a.ml&&!z.Ar.vc){var b=z.Gc(a.h,"zm-item-meta");if(b){var c=z.I("zm-meta-panel",b);c&&(a.ml=new z.Eo(null,b),a.ml.tag="comment",a.ml.w(c))}}};var jz=function(a){z.R.call(this);this.entryType=a};var kz=function(a,b){return z.Mm(a,b,function(){return this.Rn()})};
var lz=function(a){a=(0,window.$)(a);var b={};(0,window.$)("meta[itemprop]",a).each(function(){var a=(0,window.$)(this);b[a.attr("itemprop")]=a.attr("content")});return b};var mz=function(a){var b=(0,window.$)('.js-report, a[name\x3d"report"]',a.m()),c=a.entryType,d=a.lb;b.each(function(a,b){var h=(0,window.$)(b),l=new Pw(c,d);h.hasClass("goog-menuitem")?h.click(function(){l.fI()}):(Rw(l,b),z.Id(l,this))})};var nz=function(a,b){this.Ho=this.Rd=1;this.ah=b||4;this.items=a||[];this.AC=[];oz(this)};
var pz=function(a,b,c){b=(b-1)*a.ah;return a.items.slice(b,b+c)};var qz=function(a,b){var c=pz(a,a.Rd+1,1)[0];if(a.co()&&c){var d=a.remove(b);a.remove(c);a.items.splice(d,0,c);return c}};var oz=function(a){a.Ho=Math.ceil(a.items.length/a.ah)};var rz=function(a){jz.call(this,a)};
var sz=function(a){a=(0,window.$)(a.m());var b=(0,window.$)(".js-list",a);(0,window.$)(".js-hidden-list",a);var c=(0,window.$)(".pager",a),d=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html((0,window.$)(".js-hidden-list").html()).children().add(b.children())),f=new nz(d,4);f.Jc(function(a){c.find(".next").toggleClass("disabled",!a.co);c.find(".prev").toggleClass("disabled",!a.as)});(0,window.$)(".pager",a).on("click",".next:not(.disabled)",function(){f.next();b.html(pz(f,f.Rd,f.ah))}).on("click",
".prev:not(.disabled)",function(){f.prev();b.html(pz(f,f.Rd,f.ah))});a.on("click","[data-follow]",function(a){var b=(0,window.$)(a.target).closest(".item"),c=qz(f,b[0]);c&&b.fadeOut(function(){b.replaceWith(c)})})};var tz=function(a){jz.call(this,a)};var uz=function(){jz.call(this,"question")};var vz=function(a){jw(a.h,function(){wz("question",this.Th,"touch")},a)};var xz=function(){jz.call(this,"answer")};var yz=function(a){return z.I("zm-item-answer",a)||z.I("entry-body",a)};
var zz=function(a,b){(0,window.$)(".feed-question-detail-item",a.h).toggleClass("question-detail-expanded",b)};var Az=function(){jz.call(this,"column")};var Bz=function(a,b,c){z.R.call(this);this.lb=a;this.entryType=b||"answer";this.yd=null;this.J=window.$.extend({},this.defaults,c||{})};var Cz=function(a,b,c){var d=+a.pB.text(),f=0;(0,window.isNaN)(d)||(c===Dz.qe?f=1:b===Dz.qe&&(f=-1),a.pB.text(d+f))};
var Ez=function(a){var b={};b[Dz.qe]="vote_up";b[Dz.ug]="vote_down";b[Dz.FB]="vote_neutral";a.yd=("post"===a.entryType?Fz.lB:Gz.lB)(a.lb,b[a.N]);return a.yd};
var Hz=function(a){var b=a.N,c=a.J,d=b===Dz.qe,b=b===Dz.ug,f=d?"\u53d6\u6d88\u8d5e\u540c":"\u8d5e\u540c",g=b?"\u53d6\u6d88\u53cd\u5bf9":"\u53cd\u5bf9\uff0c\u4e0d\u4f1a\u663e\u793a\u4f60\u7684\u59d3\u540d";a.Ou.toggleClass(c.xt,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.Ju.toggleClass(c.xt,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};
var Iz=function(a){z.R.call(this);this.bq="votebar-mobile";this.gw="votebar-mobile-dialog";this.mB=a;this.fJ=z.J("span","_votebar-holder")};var Jz=function(a){var b=a.mB;z.dc(a.fJ,b.m());z.S.add(b.m(),a.bq);a.o().g(b,"action",function(){this.xb&&(0,window.setTimeout)((0,z.r)(function(){this.xb.G(!1)},this),150)})};var Kz=function(){jz.call(this,"post")};
var Lz=function(a){var b=a.hu=new lw;a.L(b);z.Id(a,b);a.o().g(b,"expand",function(){this.Ta(!0)});b.w(a.h);b.Bd()&&a.o().sa(b,"expand",a.Hy);jw(a.h,a.Rj,a)};var Mz=function(a){var b=z.I("zm-item-vote-info",a.h);if(b){var c=new Nz(a.lb,a.entryType);z.Id(a,c);c.w(b);a.qb&&a.o().g(a.qb,"change",function(){c.gk()}).g(c,"change",function(){var a=z.I("zm-item-vote-count",this.h),b=(0,window.$)(".zm-votebar .count",this.h)[0];a&&z.yk(a,c.Ua());b&&z.yk(b,c.Ua())})}};var Oz=function(){jz.call(this,"roundtable")};
var Pz=function(a){var b=a.getAttribute("data-type");return(b={ac:rz,p:Kz,a:xz,q:uz,r:Oz,c:Az}[b])?new b:yz(a)?new xz:new z.R};var Qz=function(a,b,c){$w.call(this,a,b,c)};var Rz=function(){z.O.call(this);this.ga=null;this.na=0;this.zy=[];this.Qs=[];this.RA="\u6700\u591a\u8f93\u5165 20 \u5b57";this.ew="\u6700\u591a\u8f93\u5165 256 \u5b57"};var Sz=function(a,b,c){a.ga||(a.ga=new z.ui(null,!1),z.oi(a.ga,null),a.ga.Za(b||""),c&&(a.ga.W().innerHTML=c),a.o().g(a.ga,"afterhide",a.Of))};
var Tz=function(a,b,c){var d=z.G("zh-fav-list-item-place-holder");d&&z.Q(d,!1);a.Bz=b[5]?"":z.J("span","zm-fav-list-item-lock",[z.J("i","icon icon-lock")]);d=z.J("span","zm-favo-list-item-title");z.rc(d,b[1]);d=z.J("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.Bz,d,z.J("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e \u6761\u7b54\u6848 \x3cspan class\x3d"zg-bull"\x3e\u2022\x3c/span\x3e '+b[4]+" \u4eba\u5173\u6ce8"})]);a.Bz&&a.Bz.setAttribute("data-tip",
"s$t$\u79c1\u5bc6\u6536\u85cf\u5939");d.setAttribute("data-lid",b[0]);z.x.contains(a.Qs,b[0])&&z.S.add(d,"zm-favo-list-item-link-active");b=z.I("zm-favo-list-item-link",a.Tg);c&&b?z.ac(d,b):a.Tg.appendChild(d)};var Uz=function(a,b){if(a.na!==b&&a.Tg){var c=z.Lb("zm-favo-list-item-link",a.Tg);z.x.forEach(c,function(a){z.S.remove(a,"zm-favo-list-item-link-active")},a)}a.na=b};
var Vz=function(a,b,c,d){var f=z.G("zh-fav-head-title"),g=z.G("zh-fav-head-description-source");b=b||(f?z.yc(f):"");c=c||(g?z.yc(g):"");a.cD=d||z.gs;Wz(a);a.wb();Xz(a,1);z.Q(a.CA,!1);a.Tq.innerHTML="\u53d6\u6d88";a.PB.innerHTML="\u4fdd\u5b58";a.ga.Za("\u7f16\u8f91\u6536\u85cf\u5939");a.Nj.value=z.Pa(b);a.Sl.value=z.Pa(c);a.cD[1]?(z.Q(a.VR,!1),z.Q(a.RR,!1),z.Q(a.mP,!1)):a.cP.setAttribute("checked",!0);a.DO=Yz(a);a.ga.G(!0);a.Bs=!0};
var Zz=function(a){var b=z.Lb("zm-favo-list-item-link",a.Tg);z.x.forEach(b,function(a){var b=a.getAttribute("data-lid");z.S.remove(a,"zm-favo-list-item-link-active");z.x.contains(this.Qs,+b)&&z.S.add(a,"zm-favo-list-item-link-active")},a)};var Wz=function(a){a.XL?Zz(a):a.B()};
var Xz=function(a,b){var c=!!b;a.ga.Za(0===b?"\u6dfb\u52a0\u5230\u6536\u85cf\u5939":"\u521b\u5efa\u65b0\u6536\u85cf\u5939");z.Q(a.uP,!c);z.Q(a.Rw,c);new z.fm(a.Nj,a.RA);new z.fm(a.Sl,a.ew);if(1===b)(0,window.$)(a.Rw).on("change.FavoDiag","input, textarea, select",function(){a.ef()});else(0,window.$)(a.Rw).off("change.FavoDiag"),a.Of()};
var Yz=function(a){var b=new z.Qk,c=z.Bk(a.Nj.value),d=z.Fa(a.Sl.value===a.ew?"":a.Sl.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.dP.checked?1:0);return b};var $z=function(a){a.ga.G(!1);a.dispatchEvent(aA);z.X.oa({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.Tg).length}})};
var bA=function(a){var b=a.type;if(!z.ba(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:null;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return z.ba(a.value)?a.value:null}};var cA=function(a,b){var c=a.elements[b];if(c){if(c.type)return bA(c);for(var d=0;d<c.length;d++){var f=bA(c[d]);if(f)return f}}return null};
var dA=function(a,b,c){var d=new z.U(!0);d.addEventListener("complete",function(){var a;try{a=z.mf(this)}catch(d){}a&&!a.r&&z.ha(b)?b.call(this,a):z.ha(c)&&c.call(this,a.msg)});d.ajax("/people/edit","data\x3d"+(0,window.encodeURIComponent)(z.Mc(a)))};var eA=function(a,b){z.O.call(this);this.h=a;var c=z.kc(this.h)?this.h:this.h?this.h.body:null;this.fP=!!c&&z.ah(c);this.OF=z.N(this.h,z.A?"DOMMouseScroll":"mousewheel",this,b)};var fA=function(a,b){return z.C&&(z.Vd||z.Er)&&0!=a%b?a:a/b};
var gA=function(a,b,c,d){z.Qd.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var hA=function(){z.O.call(this)};var iA=function(a,b){return null==a.nk?b:a.Lo+Math.round((b-a.Lo)/a.nk)*a.nk};var jA=function(a,b){z.R.call(this,a);this.TB=null;this.Cb=new hA;this.nP=b||z.Pr;z.N(this.Cb,"change",this.FE,!1,this)};
var kA=function(a,b){b?(a.o().g(a.le,"beforedrag",a.Mr).g(a.Wf,"beforedrag",a.Mr).g(a.le,["start","end"],a.Yr).g(a.Wf,["start","end"],a.Yr).g(a.tb,"key",a.lf).g(a.m(),"click",a.Vr).g(a.m(),"mousedown",a.Vr),a.uF&&lA(a,!0)):(a.o().ta(a.le,"beforedrag",a.Mr).ta(a.Wf,"beforedrag",a.Mr).ta(a.le,["start","end"],a.Yr).ta(a.Wf,["start","end"],a.Yr).ta(a.tb,"key",a.lf).ta(a.m(),"click",a.Vr).ta(a.m(),"mousedown",a.Vr),a.uF&&lA(a,!1))};
var mA=function(a,b){var c=z.Rg(b,a.m());return"vertical"==a.Gb?c.y:a.Zd&&a.Ed()?a.m().clientWidth-c.x:c.x};var nA=function(a,b){var c=a.Ec(),d=a.Wc();if("vertical"==a.Gb){var f=a.cb.offsetHeight,g=a.m().clientHeight-f,f=mA(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.cb.offsetWidth;g=a.m().clientWidth-f;f=mA(a,b)-f/2;return(d-c)*f/g+c};var oA=function(a,b){if(b==a.cb)return a.Cb.X();if(b==a.Ad)return a.Cb.X()+a.Cb.Yh();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};
var pA=function(a,b){Math.abs(b)<a.Vn()&&(b=(0,z.Mr)(b)*a.Vn());var c=oA(a,a.cb)+b,d=oA(a,a.Ad)+b,c=Tv(c,a.Ec(),a.Wc()-a.$s),d=Tv(d,a.Ec()+a.$s,a.Wc());qA(a,c,d-c)};var rA=function(a,b,c){var d=iA(a.Cb,c);c=b==a.cb?d:a.Cb.X();b=b==a.Ad?d:a.Cb.X()+a.Cb.Yh();c>=a.Ec()&&b>=c+a.$s&&a.Wc()>=b&&qA(a,c,b-c)};var qA=function(a,b,c){a.Ec()<=b&&b<=a.Wc()-c&&a.$s<=c&&c<=a.Wc()-b&&(b!=a.X()||c!=a.Yh())&&(a.Cb.ct=!0,a.Cb.Ut(0),a.Cb.Ha(b),a.Cb.Ut(c),a.Cb.ct=!1,a.FE())};
var sA=function(a,b){return b<=a.Cb.X()+a.Cb.Yh()/2?a.cb:a.Ad};var tA=function(a){if(a.cb&&!a.ys){var b=uA(a,oA(a,a.cb)),c=uA(a,oA(a,a.Ad));if("vertical"==a.Gb)a.cb.style.top=b.y+"px",a.Ad.style.top=c.y+"px",a.Tb&&(b=vA(c.y,b.y,a.cb.offsetHeight),a.Tb.style.top=b.offset+"px",a.Tb.style.height=b.size+"px");else{var d=a.Zd&&a.Ed()?"right":"left";a.cb.style[d]=b.x+"px";a.Ad.style[d]=c.x+"px";a.Tb&&(b=vA(b.x,c.x,a.cb.offsetWidth),a.Tb.style[d]=b.offset+"px",a.Tb.style.width=b.size+"px")}}};
var vA=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var uA=function(a,b){var c=new z.Cb;if(a.cb){var d=a.Ec(),f=a.Wc(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Gb?(d=a.m().clientHeight-a.cb.offsetHeight,f=Math.round(f*d),c.x=wA(a,a.cb),c.y=d-f):(d=Math.round(f*(a.m().clientWidth-a.cb.offsetWidth)),c.x=d,c.y=a.cb.offsetTop)}return c};
var xA=function(a,b){b=Tv(b,a.Ec(),a.Wc());a.ys&&a.dr.stop(!0);var c=new z.fq,d,f=sA(a,b),g=a.X(),h=a.Yh(),l=oA(a,f),n=uA(a,l);d=a.Vn();Math.abs(b-l)<d&&(b=Tv(l+(b>l?d:-d),a.Ec(),a.Wc()));rA(a,f,b);l=uA(a,oA(a,f));d="vertical"==a.Gb?[wA(a,f),l.y]:[l.x,f.offsetTop];n=new Kv(f,[n.x,n.y],d,100);n.Sf(a.Zd);c.add(n);a.Tb&&yA(a,f,g,h,l,c);a.TB&&(f=a.TB.KV(g,b,100),z.x.forEach(f,function(a){c.add(a)}));a.dr=c;a.o().g(c,"end",a.hM);a.ys=!0;c.play(!1)};
var yA=function(a,b,c,d,f,g){var h=uA(a,c),l=uA(a,c+d);c=h;d=l;b==a.cb?c=f:d=f;"vertical"==a.Gb?(b=vA(l.y,h.y,a.cb.offsetHeight),h=vA(d.y,c.y,a.cb.offsetHeight),f=new Kv(a.Tb,[wA(a,a.Tb),b.offset],[wA(a,a.Tb),h.offset],100),b=new Iv(a.Tb,b.size,h.size,100)):(b=vA(h.x,l.x,a.cb.offsetWidth),h=vA(c.x,d.x,a.cb.offsetWidth),f=new Kv(a.Tb,[b.offset,a.Tb.offsetTop],[h.offset,a.Tb.offsetTop],100),b=new Jv(a.Tb,b.size,h.size,100));f.Sf(a.Zd);b.Sf(a.Zd);g.add(f);g.add(b)};
var zA=function(a){var b=a.m();b&&(z.lh(b,"valuemin",a.Ec()),z.lh(b,"valuemax",a.Wc()),z.lh(b,"valuenow",a.X()),z.lh(b,"valuetext",a.nP(a.X())||""))};var lA=function(a,b){b?(a.Uj||(a.Uj=new eA(a.m())),a.o().g(a.Uj,"mousewheel",a.AE)):a.o().ta(a.Uj,"mousewheel",a.AE)};var wA=function(a,b){return a.Zd?z.Ch(b):b.offsetLeft};var AA=function(a,b){jA.call(this,a,b);this.Cb.Ut(0)};var BA=function(a){z.R.call(this);this.options=window.$.extend({},this.defaults,a)};
var CA=function(a,b){a.zoom=b;DA(a,a.Ke.cq/2+a.Ke.x,a.Ke.Wn/2+a.Ke.y)};var DA=function(a,b,c){var d=a.zoom;a.Ke={cq:a.options.qg/d,Wn:a.options.pg/d,x:b-a.options.qg/d/2,y:c-a.options.pg/d/2};EA(a)};var EA=function(a){var b=a.zoom,c=Tv(a.options.Pm-a.Ke.x*b,a.options.qg+a.options.Pm-a.js*b,a.options.Pm),d=Tv(a.options.Qm-a.Ke.y*b,a.options.pg+a.options.Qm-a.hs*b,a.options.Qm),f={width:b*a.js,height:b*a.hs,left:c,top:d};a.Tm.css(f);a.Ku.css(f);a.Ke.x=(a.options.Pm-c)/b;a.Ke.y=(a.options.Qm-d)/b};
var FA=function(a,b,c){z.R.call(this);this.Bq=a||GA;this.ID=b;this.LH=c||"l"};var HA=function(){return!!window.FileReader};
var IA=function(a){a.Ll=a.Ox=a.xj="";if(a.Ea)a.Ea.aa();else{a.Ea=new z.ui(null,!1);a.Ea.Za("\u4fee\u6539\u56fe\u7247");var b=z.ss.We,c=z.ss.wg,d=new z.ri;d.set(b,"\u53d6\u6d88",!1,!0).set(c,"\u786e\u5b9a",!0);z.oi(a.Ea,d);a.o().g(a.Ea,z.qi,function(a){if(a.key===c){if(HA()){var b=this.Tv;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.qg);a.attr("height",b.options.pg);var d=a[0];(0,window.$)(window.document.body).append(d);var l=a[0].getContext("2d"),n=b.Ke;l.drawImage(b.ks,
n.x,n.y,n.cq,n.Wn,0,0,b.options.qg,b.options.pg);b=d.toDataURL("image/png");a.remove();a=b}else a=this.Tv.Ke;this.xj=a;JA(this);this.Ea.G(!1);return!1}})}KA(a.Ea.W());a.Ea.G(!0);z.S.add(a.Ea.h,"avatar-edit-dialog")};var LA=function(a){var b=a.input.cloneNode();z.dc(b,a.input);a.input=b;a.o().g(a.input,"change",a.Jc)};
var JA=function(a){if(a.xj&&(HA()||a.Ox)){a.dispatchEvent("beforepost");var b={type:a.Bq,dest_id:a.Bq===GA?z.V[3]:a.ID,return_size:a.LH};if(HA()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",MA(a.xj.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.cB,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.YC,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.xj.x),y:Math.round(a.xj.y),height:Math.round(a.xj.Wn),width:Math.round(a.xj.cq),hashval:a.Ox}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.cB+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var KA=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\u6b63\u5728\u4e0a\u4f20...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var MA=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),l=0;l<g.length;l++)h[l]=g.charCodeAt(l);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
var NA=function(){z.R.call(this)};var OA=function(a){z.Q(z.G("zh-setting-page-bind-sina-binded-wrap"),!!a);z.Q(z.G("zh-setting-page-bind-sina-tobind-wrap"),!a)};var PA=function(a){z.Q(z.G("zh-setting-page-bind-qqconn-binded-wrap"),!!a);z.Q(z.G("zh-setting-page-bind-qqconn-tobind-wrap"),!a)};var QA=function(a){z.R.call(this);this.CR=a};var RA=function(a){return z.x.every(a.pe,function(a){return!!a.value})};
var SA=function(a,b,c,d,f){this.nd=a=new z.Sl(a,!f);c=new z.Xl(c);d=new z.xl(null,null,!!d,300);z.kl.call(this,a,c,d);d.ea=this;d.Ik(b);(d=b.getAttribute("placeholder"))&&new z.fm(b,d)};var TA=function(){z.R.call(this)};
var UA=function(a){var b=z.I("profile-edit-avatar-btn");if(b){a.lv=new FA(GA);var c=a.lv;c.w(b);a.o().g(a.lv,"beforepost",function(){(0,window.$)(".zm-avatar-editor-preview").parent().append((0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e"))});a.o().g(a.lv,"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:c.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),
z.T("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),(0,window.$)("img.zm-avatar-editor-preview").attr("src",c.getData().url))})})}};var VA=function(){z.O.call(this);this.fH={}};var WA=function(){this.bj="editing";z.R.call(this)};var XA=function(a,b,c){z.Ar.vc&&null==window.navigator.userAgent.match(/iPad/i)||(a=(0,window.$)(".item",a.K).index(b),b.siblings().eq(a-a%2).height(c?"auto":b.height()))};var YA=function(){z.R.call(this)};var ZA=function(){z.R.call(this)};
var $A=function(){z.O.call(this);this.bg="zm-item";this.ES=!0};var aB=function(a,b){a.o().g(b,"next",a.refresh)};var bB=function(){this.Ow=["zg-btn-follow","zg-btn-unfollow"];this.Pw="people"};var cB=function(a,b,c,d){z.O.call(this);this.Ud=a;this.Sh=b;this.Wg=c;this.xD=d||dB;a.removeAttribute("maxlength");this.Ej=new z.hx(a);z.N(this.Ej,"input",this.Ro,!1,this);this.Tk()};var eB=function(a){z.O.call(this);this.ga=null;this.pa=a;this.Lt=0;this.qH=""};
var fB=function(a,b){var c=z.Lb("zm-menu-item-link",a.XG);z.x.forEach(c,function(a,c){var g=!z.x.contains(b,c);z.Q(a,g)},a)};var gB=function(){z.O.call(this)};
var hB=function(a){a.o().g(a.ll,"change",function(){var a=this.ll.value;this.Fz.value="no"===a?"":iB.Qu[+a][1]}).g(a.sn,"click",function(a){"cancel"===a.target.name?this.ga.G(!1):this.Fz.value&&"no"!==this.ll.value&&(this.Kw=new z.U(!0),this.o().g(this.Kw,"complete",function(){var a=z.mf(this.Kw);a&&!a.r?(this.Pi.innerHTML="\u5df2\u7ecf\u6807\u8bb0",this.ga.G(!1)):z.T(a.msg)}),a=z.Bk(this.Fz.value),this.Kw.ajax("/answer/flag","answer_id\x3d"+this.KJ+"\x26flag\x3d"+this.ll.value+"\x26reason\x3d"+(0,window.encodeURIComponent)(a)))})};
var jB=function(a){function b(){var b;kB||(kB=new gB,kB.init());b=kB;b.Pi=a;b.KJ=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;lB||(lB=new eB,lB.init());c=lB;c.Pi=a;c.pa=a.id.split("-")[1];"redirect"===b?c.show():(z.Fi("/question/unredirect",null,"POST","qid\x3d"+c.pa+"\x26rqid\x3d"+c.Lt),c.Pi.innerHTML="\u91cd\u5b9a\u5411\u5df2\u64a4\u9500",c.Pi.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=
(new z.Ml).add("revision",g).add("reason",f),E=new z.U(!0);E.on("success",function(){var a=z.mf(E);a.r?z.T(a.msg):(c.G(!1),a.msg?window.location.href=a.msg:window.location.reload())});E.ajax("/revert",f.toString())}var c=z.Ai("\u64a4\u9500",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0" placeholder\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),
!1}),d=z.I("content",c.W());new z.fm(d);new z.Sm(d,48);new cB(d,null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};var mB=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){jB(this)})};var nB=function(){z.R.call(this)};
var oB=function(a){var b=z.G("zh-profile-ask-list");if(b){var c=new mw({use:["autoload","locationSource"],ph:!1});a.L(c);c.w(b);if(a=z.I("zm-profile-section-list"))b=new $A,b.xi("zm-profile-section-item"),aB(b,c),b.init(a)}};var pB=function(a){var b=(0,window.$)("#zh-profile-log-list").get(0);if(b){var c=new mw;c.use("locationSource",{rt:!0});a.L(c);c.w(b);mB(b);(0,window.$)(b).on("click",'a[name\x3d"report"]',function(){(new Pw("activity",(0,window.$)(this).data("id"))).submit();return!1})}};
var qB=function(a){var b=(0,window.$)("#zh-profile-fav-list \x3e .zh-general-list").get(0);if(b){var c=new mw({use:["autoload","nodeSource"],ph:!1});a.L(c);c.w(b)}};
var rB=function(a){var b=z.G("zh-profile-topic-list");if(b){var c=new mw({use:["autoload","locationSource"]});a.L(c);a.o().g(c,"itemcreated",function(a){a=a.item;var b=a.getAttribute("data-tid").split("-")[1];if(z.V.Me===z.zp[3]){var c=new z.$o(!0,"/topic/bio/update","bio");c.xu=!0;c.params=["tid\x3d"+b];c.Pb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u4f60\u5728\u8be5\u8bdd\u9898\u7684\u7ecf\u9a8c\x3c/a\x3e';c.w(a)}});c.w(b);if(a=z.I("zm-profile-section-list"))b=new $A,b.xi("zm-profile-section-item"),
aB(b,c),b.init(a)}};var sB=function(a){var b=(0,window.$)("#zh-profile-column-list \x3e .zh-general-list").get(0);if(b){var c=new mw({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var tB=function(a){var b=(0,window.$)("#zh-profile-follows-list \x3e .zh-general-list").get(0);if(b){var c=new mw({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var uB=function(a){var b=(0,window.$)("#zh-profile-follows-list-old").get(0);if(b){var c=new mw({use:["autoload","locationSource"]});a.L(c);c.w(b)}};
var vB=function(a){var b=(0,window.$)("#zh-profile-answer-list \x3e .zh-general-list").get(0)||(0,window.$)("#zh-profile-answer-list").get(0);if(b){var c=new mw({ph:!1});a.L(c);c.use("childConstructor",{Xk:xz}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("category","profile").fill("label","profile_answers_list")});if(a=z.I("zm-profile-section-list"))b=new $A,aB(b,c),b.init(a)}};
var wB=function(a){var b=z.G("zh-profile-page-force-to-rename");(a.Qw=b)&&a.o().g(b,"click",a.TT)};var xB=function(a){var b=z.G("zh-profile-activity-wrap");b&&a.o().g(b,"click",function(a){if((a=a.target)&&"focus"===a.name){var b=a.getAttribute("data-type");(0,z.Ft)(a,b,null,["zm-profile-follow-link-gray","zm-profile-unfollow-link-gray"])}})};
var yB=function(a){var b=z.G("zh-profile-activity-page-list");if(b){var c=new mw({use:["expandLimit"],ph:!0});c.use("locationSource",{url:"/people/"+z.zp[1]+"/activities",Rl:10,param:function(a){return{start:z.x.qd(a).getAttribute("data-time")}}});c.use("childConstructor",{factory:Pz});a.L(c);c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("category","profile").fill("label","profile_feed")})}};
var zB=function(){var a=z.I("zm-profile-header-operation");a&&(new bB).w(a);(a=z.I("zm-profile-header"))&&(new YA).w(a)};
var AB=function(a){var b=z.I("zm-profile-answer-sort");b&&(a.Eh=new zw,a.Eh.Ja(a.kK=new uw("\u6309\u65f6\u95f4\u6392\u5e8f")),a.Eh.Ja(a.lK=new uw("\u6309\u6295\u7968\u6392\u5e8f")),a.Eh.Ja(a.jK=new uw("\u95ee"+z.V[0]+"\u7684\u95ee\u9898")),a.Eh.ca(b),a.Eh.G(!1),a.o().g(b,"click",function(a){this.Eh.G(!0);a.stopPropagation();this.o().sa(window.document,"click",function(){this.Eh.G(!1)})}),a.o().g(a.Eh,"action",a.QN))};
var BB=function(a,b){var c=new z.U(!0);a.o().sa(c,"complete",function(){window.location.reload()});c.ajax("/people/"+z.zp[1]+"/block","action\x3d"+(b?"add":"cancel"))};var CB=function(){var a=z.G("zm-profile-details-editform");a&&(new TA).w(a)};var DB=function(a){var b=z.I("zm-profile-fav-wrap");b&&a.o().g(b,"click",a.mM)};
var EB=function(a){a.Uz=z.G("zh-profile-search-form");if(a.Uz){FB(a);a.ik=a.Uz.getAttribute("data_type");a.o().g(a.Uz,"submit",a.search);z.N(window,"popstate",function(a){a=a.state;var b;a&&a.q&&(b=z.G("zh-profile-search-query"),b.value=(0,window.decodeURIComponent)(a.q),GB(this,a.type),this.search(void 0,!1),b.focus())},!1,a);var b=(new z.Gl(window.location)).kd().get("pq"),c=(new z.Gl(window.location)).kd().get("type");c||(c="all");if(b&&c){var d=z.G("zh-profile-search-info");d&&z.Q(d,!0);GB(a,
c);z.G("zh-profile-search-query").value=b;a.search(void 0,void 0,!1)}}};var FB=function(a){var b=z.G("zh-profile-search-type");b&&a.o().g(b,"click",a.RQ)};var GB=function(a,b){var c=z.Lb("zm-profile-search-type-item");if(c)for(var d=0;d<c.length;d++)z.S.remove(c[d],"current"),c[d].name===b&&z.S.add(c[d],"current");a.ik=b};var HB=function(){var a=z.G("zh-profile-edit-expert");a&&(new IB).w(a)};
var JB=function(a){var b=z.I("profile-expert-tip");b&&a.o().g(b,"click",function(a){var d=a.target;"enable"!==d.name&&"close"!==d.name||window.$.post("/node/ProfileExpertTopicsV2",{method:d.name},function(a){a&&a.r||("enable"===d.name?window.location.href="/people/edit/expert":z.zk(b,!0))})});(0,window.$)(".zm-profile-section-wrap.skilled-topics").each(function(){(new WA).w(this)});(0,window.$)(".zm-profile-module.skilled-topics").each(function(){(new WA).w(this)});(0,window.$)(".zm-profile-module.active-topics").each(function(){(new WA).w(this)})};
var IB=function(){z.R.call(this)};var KB=function(){z.R.call(this)};var LB=function(a){var b=window.$.Deferred();z.Ai("\u53d6\u6d88\u5c4f\u853d",a,function(a){a?b.resolve():b.reject()});return b.promise()};
var MB=function(a){var b=(0,window.$)(".blocked-users",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);LB("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\uff1a\u5173\u6ce8\u4f60\u3001\u7ed9\u4f60\u53d1\u79c1\u4fe1\u3001\u5411\u4f60\u63d0\u95ee\u3001\u8bc4\u8bba\u4f60\u7684\u7b54\u6848\u3001\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002").then(function(){return window.$.post("/settings/unblockuser",{uid:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});
b.children().length||window.location.reload()})})};
var NB=function(a){var b=(0,window.$)(".blocked-columns",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);LB("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u4f60\u5c06\u53ef\u4ee5\u770b\u5230\u6765\u81ea\u8be5\u4e13\u680f\u7684\u6587\u7ae0\u3002").then(function(){return window.$.post("/settings/unblockcolumn",{id:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});b.children().length||window.location.reload()})})};
var OB=function(){z.R.call(this)};
var PB=function(){function a(a,c){var d={method:"save",params:{settings:a}};window.$.extend(d.params,z.ms.settings_unsubscribe_formdata);window.$.post("/node/NotiEmailSettingsV2",d,function(a){var b;a.r?b="error":(c&&c(),b="success");var d=(0,window.$)(".settings-msg-"+b);d.length?d.show():(d=(0,window.$)('\x3cdiv class\x3d"settings-msg-'+b+'"\x3e'+a.msg+"\x3c/div\x3e"),d.appendTo((0,window.$)("body")));d.delay(1E3).fadeOut()})}(0,window.$)('.settings-receive input[type\x3d"radio"]').on("change",function(){if(this.checked){var b=
(0,window.$)(this),c={type:b.closest(".settings-item").data("type"),noti:b.val()};"no"===c.noti?a(c,function(){b.closest(".settings-receive").next(".settings-mail").addClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!0)}):a(c,function(){b.closest(".settings-receive").next(".settings-mail").removeClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!1)})}});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),
mail:this.checked};a(b)});(0,window.$)("#settings-fast-answer").on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),fast:this.checked};a(b)});(0,window.$)(".settings-msg-disappear").delay(3E3).fadeOut()};
var QB=function(){var a=(0,window.$)(".js-ajax-form");a.submit(function(b){var d=(0,window.$)(b.target);b=d.attr("action")||window.location.href;window.$.post(b,d.serialize()).done(function(b){z.Br(z.y.Pa(b),5E3);d.hasClass("unsubscribe")&&(a.remove(),(0,window.$)(".settings-section").remove())});return!1});(0,window.$)(".js-unsubscribe-other-reason").on("change",function(a){(0,window.$)(a.target).parent().siblings().find(".zg-form-text-input").toggle()});var b=(0,window.$)(".feedback-form");b.submit(function(){var a=
b.attr("action");window.$.post(a,b.serialize()).done(function(){b.before('\x3cdiv style\x3d"font-size:13px;color:black;margin-bottom:20px"\x3e\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01\x3c/div\x3e\x3ca href\x3d"/"\x3e\x26laquo; \u8fd4\u56de\u77e5\u4e4e\x3c/a\x3e');b.remove()});return!1})};
var RB=function(){var a=(0,window.$)("#js-form-account-password");a.length&&((0,window.$)("input[placeholder]",a).each(function(){new z.fm(this)}),a.validate({messages:{np:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65b0\u5bc6\u7801\u672a\u586b\u5199'},op:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65e7\u5bc6\u7801\u672a\u586b\u5199'},rp:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u786e\u8ba4\u5bc6\u7801\u672a\u586b\u5199'}},errorClass:"validate-error"}))};
var SB=function(){(0,window.$)("#weibopageenable").on("change",function(a){window.$.post("/node/SettingsWeiboPageV2",{method:a.target.checked?"enable":"disable"}).done(function(a){a.r?z.T(a.msg):z.Br([!1,"\u4fdd\u5b58\u6210\u529f"])});return!1})};var TB=function(){var a=z.G("zh-setting-page-black-list-wrap");a&&(new KB).w(a)};
var UB=function(){var a=(0,window.$)("#js-settings-account-form");if(a.length){var b=z.ti(function(){new z.fm(z.G("password"))}),c=(0,window.$)("#url_token"),d=(0,window.$)("#js-url-preview .token");c.on("input change keyup",function(){d.text(window.$.trim(this.value))});var f=(0,window.$)("#email"),g=function(){(0,window.$)("#js-email-confirm").removeClass("hidden");f.off("focus",g);b()};f.one("focus",g);(0,window.$)(function(){window.document.activeElement===f.get(0)&&g()});(0,window.$)(".resend-mail",
a).click(function(){var a=(0,window.$)(this);z.dl.dispatchEvent("/activation/resend-email");window.$.post("/settings/resend_reset_email",function(b){b.r?z.T(b.msg):a.replaceWith("\u5df2\u53d1\u9001")});return!1});VB(a);var c=new z.Zq,h=(0,window.$)(".rename-tab",a);c.w(h.get(0));var l=function(){(0,window.$)("input[placeholder]:visible",h).placeholder()};c.on("select",l);var n=(0,window.$)(".rename-button",a),a=function(){n.remove();h.removeClass("hidden");l()};n.one("click",a);"#rename-section"===
window.location.hash&&a()}};var VB=function(a){(0,window.$)(".zg-form-text-input",a).each(function(){function a(){this.value!==this.defaultValue&&(d.hide(),c.off("change input keyup",a))}var c=(0,window.$)(this),d=c.next(".validate-error");if(d.length)c.on("change input keyup",a)})};var WB=function(a,b,c,d,f){$w.call(this,a,b,f);this.Mw=c||"people";this.tM=d||["zg-follow","zg-unfollow"]};
var XB=function(a,b,c,d){z.O.call(this);this.h=a;this.Mw=b||"people";this.sM=c||["zg-btn-follow","zg-btn-unfollow"];this.text=d||["\u5173\u6ce8","\u53d6\u6d88\u5173\u6ce8"]};var YB=function(a){z.O.call(this);this.url=a||"/topic"};
var ZB=function(a,b,c){var d=c[0],f="";"topic"!==d[0]&&d[3]&&(f='data-parent\x3d"'+d[3]+'"');b.html('\x3ca href\x3d"'+("topic"===d[0]?"/topic/"+d[2]+"/organize/entire":"javascript:;")+'" data-token\x3d"'+d[2]+'" '+f+' name\x3d"'+d[0]+'"\x3e'+d[1]+"\x3c/a\x3e\x3cul class\x3d'zm-topic-organize-list'\x3e\x3c/ul\x3e");"topic"!==c[0][0]&&b.addClass("zm-topic-organize-loadmore");b=(0,window.$)("ul",(0,window.$)(b));if(1<c.length)for(c=c[1],d=0;d<c.length;d++){var f=c[d],g=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");
b.append(g);ZB(a,g,f)}};
var $B=function(a){var b={Tp:!1,uW:!1};return function(c){if(!1===c)return!1;c={};z.y.extend(c,b,a||{});if(c.Tp&&!z.V.bs)return z.Ei("\u63d0\u793a\u4fe1\u606f",'\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'),!1;if(c.jm&&!z.cs.cM)return z.Ei("\u63d0\u793a\u4fe1\u606f",'\x3cp\x3e\u521b\u5efa\u8f83\u4e45\u6216\u5df2\u6709\u8f83\u591a\u8ba8\u8bba\u7684\u95ee\u9898\u9650\u5236\u516c\u5171\u7f16\u8f91\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u95ee\u9898\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e\x3c/p\x3e'),!1}};
var aC=function(a,b,c){z.$o.call(this,a,b,c)};var bC=function(){z.R.call(this);var a=z.fs;this.Cf=a[0][3];this.UA=a[0];this.Hq=a[4];this.iy=a[5];this.Zg="topic"};var cC=function(){var a=z.G("zh-topic-log-list");a&&((new WB(a,null,null,null,!0)).init(),(0,window.$)(a).on("click",'a[name\x3d"revert"]',z.$c(function(a){!1!==a&&jB(this)},$B({Tp:!0}))).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new Pw("activity",(0,window.$)(this).data("id"))).submit();return!1}))};
var dC=function(a){if(z.G("zh-topic-admin-page-wrap")){var b=z.G("zh-topic-del-btn");b&&a.o().g(b,"click",a.qQ)}};var eC=function(a,b){var c=z.Jb("li",null,a.dv);z.x.forEach(c,function(a){a.getAttribute("data-token")===b[1]&&z.Q(a,!1)})};var fC=function(a){var b=z.G("zh-topic-followers-list-wrap");b&&(a=["/topic",(0,window.encodeURI)(a.UA[1]),"followers"].join("/"),b=new WB(b,a,null,["zg-btn-follow","zg-btn-unfollow"],!0),b.xi("zm-person-item"),b.init())};
var gC=function(a){var b=z.G("zh-topic-side-head");if(b){var c=z.I("zu-entry-focus-button",b);c&&a.o().g(c,"click",function(){(0,z.Ft)(c,"topic","",["zg-btn-green","zg-btn-white"])});a.eg=z.G("zh-topic-operation-menu");a.eg&&a.o().g(a.eg,"click",a.nA)}if(b=z.G("zh-current-topic-bio")){var d=new z.$o(!0,"/topic/bio/update","bio");ru(d,["tid\x3d"+a.Cf]);d.Pb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u4f60\u5728 '+a.UA[0]+" \u8bdd\u9898\u4e2d\u7684\u7ecf\u9a8c\x3c/a\x3e";d.qD=!0;d.w(b)}};
var hC=function(a){z.Zb(a,z.Wb('\x3ca href\x3d"/question/23261456" class\x3d"zg-link-gray-normal"\x3e\x3ci class\x3d"icon-info" style\x3d"vertical-align: -3px; margin-right: 6px"\x3e\x3c/i\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'))};
var iC=function(a){if(z.G("zh-topic-organize-page-wrap")){var b=z.G("zh-topic-organize-parent-editor");if(b)if(z.V.bs){var c=new $u(null,a.Cf,!0);c.ft=!0;c.w(b);c.addEventListener("remove_tag",function(a){(a=a.data&&a.data.id)&&(0,window.$)("#wedge-"+a).remove()})}else hC(b);if(b=z.G("zh-topic-organize-child-editor"))z.V.bs?(c=new $u(null,a.Cf,!1),c.ft=!0,c.w(b),(0,window.$)("a.entire-link").insertAfter(c.In).show()):hC(b);(0,window.$)("#zm-topic-manage-relation").on("change",'[type\x3d"checkbox"]',
function(){var a=(0,window.$)(this).closest("li").attr("id").split("-")[1];window.$.post("/topic/update",{action:"set_topic_edge",parent_topic_id:a,topic_id:z.fs[0][3],edge:this.checked^0}).done(function(a){a&&a.msg&&z.T(a.msg)})});a.cv=z.G("zh-topic-alias-input");new z.fm(a.cv,"\u8f93\u5165\u8bdd\u9898\u522b\u540d");a.dv=z.G("zh-topic-alias-list");a.o().g(z.G("zh-topic-alias-container"),"click",a.eR);if(b=z.G("zh-topic-merge"))a.Ra=new wv,a.Ra.w(b);(b=z.G("zh-topic-merge-btn"))&&a.o().g(b,"click",
a.IQ)}};var jC=function(){var a=z.G("zh-topic-organize-page-children");a&&(new YB("/topic/"+(0,window.encodeURIComponent)(z.fs[0][1])+"/organize/entire")).w(a)};var kC=function(a){var b=z.G("zh-topic-side-related-topics");b&&(a.eS=b,a.Jz=new z.U(!1),a.o().g(a.Jz,"complete",a.QQ),a.Jz.ajax("/topic/related?tid\x3d"+a.Cf))};
var lC=function(a){if(z.lr)(0,window.$)("div.topic-avatar").addClass("disabled");else{var b=z.I("zm-entry-head-avatar-edit-button");if(b){var c=new FA(2,z.fs[0][3]);c.w(b);var d=z.I("zm-avatar-editor-preview");z.N(c,"beforepost",function(){(0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading topic'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e").appendTo(d.parentNode)});z.N(c,"success",function(){window.$.post("/topic/"+z.fs[0][1]+"/avatar",{avatar_path:c.getData().id}).then(function(){d&&(d.src=
c.getData().url)}).always(function(){(0,window.$)(".avatar-edit-preview-loading").remove()})});a.o().g(c,"beforeopen",z.$c($B({Tp:!0}),z.Mm(z.m,!0)))}}};var mC=function(a){nC(a);oC(a);a.Ya&&a.o().g(a.Ya,"afterload",function(b){z.X.oa({type:"ga_click_topic_more",data:b.data,target:a.Ya.cc})})};
var nC=function(a){var b=z.G("zh-topic-feed-list");if(b){var c=new mw;a.L(c);c.use("locationSource",{Rl:0,offset:function(a){return z.x.qd(a).getAttribute("data-score")}});c.use("childConstructor",{factory:Pz}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("category",this.Zg).fill("label","topic_activity")})}};
var oC=function(a){var b=z.G("zh-topic-top-page-list");if(b){var c=new mw({ph:!1});a.L(c);c.use("childConstructor",{factory:Pz}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("category",this.Zg).fill("label","topic_activity")})}};
var pC=function(a){function b(a){a&&a.msg&&z.T(a.msg)}a.qs=z.G("zh-topic-info-add");a.qs&&a.o().g(a.qs,"submit",a.CQ);a.dF=z.I("zm-topic-info-content-main",a.h);a.dF&&a.o().g(a.dF,"click",a.AQ);(0,window.$)("#zh-topic-manage-info-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/"+z.fs[0][1]+"/information/manage",{info:(0,window.$)(this).val(),action:"change"}).done(b)});(0,window.$)("#zh-topic-manage-relation-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/update",
{action:"set_topic_weaknode",topic_id:z.fs[0][3],weak:(0,window.$)(this).val()}).done(b)});(0,window.$)("#zh-topic-manage-lock-form").on("change",'[type\x3d"checkbox"]',function(){window.$.post("/topic/lock",{url_token:z.fs[0][1],lock_type:this.name,lock_value:(0,window.$)(this).is(":checked")?1:0}).done(b)})};var qC=function(a){z.R.call(this,a)};
var rC=function(a,b,c){var d,f,g=[];for(d in c)f=c[d],z.fa(f)?z.x.forEach(f,(0,z.r)(function(a){g.push(sC(d,String(a)))},a)):g.push(sC(d,String(f)));z.Bb(b,Yu(g))};var sC=function(a,b){return Uv("input",{type:"hidden",name:a,value:b})};var tC=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"day"})})};var uC=function(a){return window.$.get("/node/ExploreHotFavlistsInnerV2",{params:JSON.stringify({offset:a})})};
var vC=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"month"})})};var wC=function(){z.O.call(this)};var xC=function(){z.R.call(this);var a=z.gs||[0,0];this.Os=a[0];this.visible=!!a[1];this.Zg="collection"};
var yC=function(a){var b=z.G("zh-list-answer-wrap");if(b){(0,window.$)(b).on("click","a[name\x3dunfavo]",window.$.proxy(a.aO,a));var c=new mw({ph:!1});a.L(c);c.use("childConstructor",{Xk:xz}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("category",this.Zg).fill("label","collection_answer")})}};
var zC=function(a){var b=z.G("zh-list-side-head");if(b){var c=z.I("zu-entry-focus-button",b);c&&a.o().g(c,"click",function(){(0,z.Ft)(c,"favlist","",["zg-btn-green","zg-btn-white"])});a.eg=z.G("zh-list-operation-menu");a.eg&&a.o().g(a.eg,"click",a.nA)}(b=z.G("zh-single-answer-author-info"))&&(new XB(b)).init();(b=z.G("zh-list-create-new-list"))&&a.o().g(b,"click",a.dT);(b=z.G("zh-fav-list-side-bar-creator"))&&(new XB(b)).init();(b=z.G("zh-fav-list-side-bar-report"))&&Rw(new Pw("favlist",a.Os),b);
a.wk=z.G("zh-favlist-webshare-container");a.wk&&a.o().g(a.wk,"click",a.qA)};var AC=function(a){z.Ai("\u5220\u9664\u6536\u85cf\u5939","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u6536\u85cf\u5939\u5417\uff1f",function(a){a&&(a=new z.Qk,a.add("favlist_id",this.Os),a.add("_xsrf",(new z.tg(window.document)).get("_xsrf")),(new qC).post(wu(a),"/collection/delete"))},a)};
var BC=function(a){a.qa||(a.qa=new Hy(a.Os,"favlist"),a.L(a.qa),a.o().g(a.qa,"click!",function(a){"comment"===a.namespace&&(a.Oc.fill("category",this.Zg).fill("label","collection"),a.Oc.action=a.Oc.action.replace("favlist","collection"))}),Ky(a.qa,a.Ic,(0,window.$)(".toggle-comment",a.Ic)[0]))};var CC=function(a){a.WI=new z.U(!0);a.o().g(a.WI,"complete",function(){window.location.reload()});a.WI.ajax("/collection/update","favlist_id\x3d"+a.Os+"\x26is_public\x3d1")};
var DC=function(a){EC||(this.Mn=a,this.zh=(0,window.$)(this.Mn.m()),(0,window.setTimeout)((0,z.r)(this.of,this)))};var FC=function(a){(0,window.setTimeout)(function(){window.$.ajax({type:"POST",url:"/zreactor/deliver",data:JSON.stringify(a),contentType:"application/json",processData:!1})},50)};
var GC=function(a){var b=HC[a.zh.data("type")];jw(a.zh[0],function(){IC(a,"display")},a.Mn);a.Mn.o().g(a.Mn,"expand",function(c){c.target instanceof jz&&IC(a,"expand_"+b)}).g(a.Mn,"collapse",function(c){c.target instanceof jz&&IC(a,"collapse_"+b)});a.zh.on("click",'a[name\x3d"nohelp"]',function(){var b=!!(0,window.$)(this).data("revert");IC(a,b?"unhelpful":"revert_unhelpful");(0,window.$)(this).data("revert",!b)});window.$.each({".actioncard-body .more":"view_all",".actioncard-body .next:not(.disabled)":"next_page",
".actioncard-body .prev:not(.disabled)":"prev_page",".actioncard-body .items a":"open_topic",'.zg-follow[data-follow^\x3d"t:"], .zg-btn-follow[data-follow^\x3d"t:"]':"follow_topic",'.zg-unfollow[data-follow^\x3d"t:"], .zg-btn-unfollow[data-follow^\x3d"t:"]':"unfollow_topic",'a.zg-follow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"follow_"+JC[b],'a.zg-unfollow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"unfollow_"+JC[b],"a.toggle-comment":"expand_comments",'a[name\x3d"addnew"]':"comment",
".content h2 a":"open_"+KC[b],"a.ignore:not(.close)":"uninterest","a.revert":"revert_uninterest","a.ignore.close":"confirm_uninterest","button.up.pressed":"vote_up_"+b,"button.down.pressed":"vote_down_"+b,"button.up:not(.pressed)":"revert_vote_up_"+b,"button.down:not(.pressed)":"revert_vote_down_"+b,'a[name\x3d"favo"]':"collect_answer",'a[name\x3d"thanks"]':"thanks",'a[name\x3d"share"]':"share",'a[name\x3d"report"], .js-report':"report","a.answer-date-link":"open_answer"},function(b,d){a.zh.on("click",
b,function(){IC(a,d)})})};var IC=function(a,b){var c=window.$.extend({},LC(a),{action_type:b,time:(0,z.w)()});c.object_id&&("display"===b?a.LR(c):FC(c))};var LC=function(a){var b=a.uB,c=window.$.extend({},b.data("meta"),{create:a.zh.find(".source .time").data("timestamp"),offset:(0,window.$)(".feed-item").index(a.zh)+1});return{mid:z.ms.ga_vars.user_hash,object_type:HC[a.zh.data("type")],object_id:b.data("id"),object_meta:c,context:MC,others:""}};
var NC=function(a,b,c){$w.call(this,a,b,c);this.Uy=!1;this.Ij=!!(0,window.$)("#is-topstory2").length;this.wB=(0,window.$)("#zh-topstory2-nomore");this.qB=OC(this);this.Lu=(0,window.$)("#zh-topstory2-newblock");this.vB=(0,window.$)("#zh-topstory2-loading-newblock")};var PC=function(a){var b=QC(a);b.each(function(c){var d=(0,window.$)(this);c=b.eq(c+1);if(c.length&&d.data("block")!==c.data("block"))return OC(a).insertBefore(c),!1})};var QC=function(a){return(0,window.$)(a.zb()).filter("[data-block]")};
var OC=function(a){var b;a.qB?(b=a.qB.detach(),!a.Uy&&RC(a)&&jw(b[0],function(){SC(this)},a)):b=(0,window.$)('\x3cdiv class\x3d"feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u8bfb\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e');return b};var RC=function(a){var b=QC(a).eq(0).data("block");return 0<(0,window.$)("."+a.bg+"[data-block\x3d"+b+"]").length};var SC=function(a){a.dispatchEvent("shownewblockbtn");a.Lu.show()};var TC=function(a){z.Vh(a,function(a){(0,window.$)(a.m()).remove()})};
var UC=function(){this.interval=3E4};var VC=function(){var a=UC.T();WC(a)};var WC=function(a,b){if(!a.ad||b)b&&(0,window.clearInterval)(a.ad),a.ad=(0,window.setInterval)((0,z.r)(function(){XC(this)},a),a.interval)};var YC=function(){var a=UC.T();XC(a,!0)};var XC=function(a,b){(0,window.$)(".feed-item-hook .time").each(function(){(0,window.$)(this).text(yv((0,window.$)(this).data("timestamp")))});b&&WC(a,b)};
var ZC=function(){z.R.call(this);this.my={};this.et=[];this.YO="old"===(0,window.$)("#feed-ver").val();this.AF=!!(0,window.$)("#is-topstory").length;this.Ij=!!(0,window.$)("#is-topstory2").length;this.MD=this.YO?"zm-item":"feed-item-hook";window._gaq=window._gaq||[];this.AF?window._gaq.push(["_setCustomVar",5,"is_topstory",!0,3]):window._gaq.push(["_setCustomVar",5,"is_topstory",!1,3])};
var $C=function(a){a.Ya=new NC(a.h,null,!0);a.getParent()&&a.getParent().L(a.Ya);ax(a.Ya,"/node/"+(0,window.$)(a.h).data("init").nodename);a.Ya.xi("feed-item-hook");a.o().g(a.Ya,"itemcreated",function(a){aD(this,a.data.kP)}).g(a.Ya,"afterload",function(a){z.X.oa({type:"ga_click_feed_more",data:a.data})}).g(a.Ya,"ignore",function(a){bD(this,a.key,a.value)}).g(a.Ya,"shownewblockbtn",function(){this.Bk.addClass("force-hide")}).g(a.Ya,"hidenewblockbtn",function(){this.Bk.removeClass("force-hide").hide();
this.rh=0});a.Ya.init()};var cD=function(a){a.K.on("click",".js-change-some",function(){z.Sk("feed","intrests-change");var b=(0,window.$)(this),c=(0,window.$)(this).parent().parent();window.$.post("/node/HomeExtraFeedList",{method:"next",params:{}}).done(function(d){!d.r&&d.msg&&(0<d.msg.length?(c.find(".feed-item-hook").remove(),c.append(d.msg).find(".feed-item-hook").each(function(){a.Ya.Yj(this)})):b.replaceWith('\x3cspan class\x3d"zg-right zg-gray"\x3e\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\x3c/span\x3e'))})})};
var dD=function(a){a.K.on("click",".js-more-similar",function(){(0,window.$)(this).parent().slideUp("fast").nextUntil(":not(.hidden)").slideDown("fast")})};var aD=function(a,b){var c=z.Nh(z.Mh.T());a.my[c]=b;(0,window.$)(b.h).attr("data-fid",c)};var bD=function(a,b,c){z.y.forEach(a.my,function(a){a.ur[b]===c&&(0,window.$)(a.h).fadeOut(150)})};var eD=function(){z.R.call(this)};var fD=function(){z.R.call(this)};var gD=function(){z.O.call(this);this.Jx=[];this.jD=[]};
var hD=function(a){for(var b=[],c=0;3>c;c++){var d=a.jD.shift();d&&b.push(d)}3===b.length?(a.Ss.innerHTML=b.join(""),iD(a)):jD(a)};var iD=function(a){var b=z.Lb("suggest-item",a.Ss);z.x.forEach(b,function(a){this.Jx.push(a.id.split("-")[1])},a)};var jD=function(a){a.Ss.innerHTML='\x3cimg class\x3d"bubble-loading" src\x3d"http://static.zhihu.com/static/img/noti-loading.gif"\x3e';window.$.post("/lookup/suggest_member",{ids:a.Jx.join(",")}).done((0,z.r)(a.oQ,a))};var kD=function(){z.R.call(this)};
var lD=function(a){var b=z.G("js-home-feed-list");if(b){var c=new ZC;a.L(c);c.w(b)}};var mD=function(){var a=(0,window.$)("#js-global-notify");if(a.length){var b=new z.xo;b.w(a[0]);su(b);(0,window.$)(".zu-global-notify-close",a).click(function(){var c=(0,window.$)(this).data("id");window.$.post("/notice/read",{nid:c});b.H();a.remove()})}};
var nD=function(){var a=z.V[1],b=z.G("zu-welcome-once");b&&("welcome"===window.location.hash.slice(1)?(z.Q(b,!0),z.Gj.set("reg_noti_",a,86400)):a===z.Gj.get("reg_noti_")&&z.Q(b,!0),z.N(z.I("x-m",b),"click",function(){window.location.hash="";z.K(b);z.Gj.remove("reg_noti_")}))};
var oD=function(a){var b=(0,window.$)(".user-guiding-box");if(0!==b.length){var c=(0,window.$)(".view-avatar",b),d=(0,window.$)(".view-headline",b),f=(0,window.$)(".view-email",b),g=[];d.length&&g.push(d);c.length&&g.push(c);f.length&&g.push(f);var h=function(){var a=g.shift();if(0===g.length)z.Kk()?z.Lk(b,"fadeOut",function(){b.remove()}):b.remove();else{var c=g[0];z.Kk()?z.Lk(a,"fadeOutRight10",function(){a.remove();c.show();z.Lk(c,"fadeInLeft10")}):(a.remove(),c.show())}};(0,window.$)(".js-noavatar",
b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"avatar"}});h();pD("close_avatar")});(0,window.$)(".js-noheadline",b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"headline"}});h();pD("close_headline")});var l=new FA(GA);l.w((0,window.$)(".js-uploadavatar",b));l.on("success",function(a){a.src&&(window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:l.getData().id}}},function(a){a&&
!a.r&&(0,window.$)(".avatar-edit-preview-loading").remove()}),(0,window.$)(".zu-top-nav-userinfo img.avatar").attr({src:a.src.url}),h(),pD("upload_avatar"))},!1,a);var n=(0,window.$)("form",d);n.validate({submitHandler:function(b){window.$.post("/node/HomeGuideV2",{method:"add_headline",params:{headline:(0,window.$)('input[name\x3d"headline"]',b).val()}},function(b){b&&b.r?263===b.errcode?a.showErrors({headline:"\u4ecb\u7ecd\u8fc7\u957f"}):a.showErrors({headline:"\u4fdd\u5b58\u5931\u8d25"}):(h(),
pD("add_headline"))})},messages:{headline:{required:"\u4e0d\u80fd\u4e3a\u7a7a",maxlength:"\u4ecb\u7ecd\u8fc7\u957f"}},rules:{headline:{maxlength:40}},errorPlacement:function(a){a.appendTo((0,window.$)(".button-wrapper",n))},focusCleanup:!0,focusInvalid:!1})}};var pD=function(a){z.pm({t:"event",tid:"zhihu.web.register",action:a})};var qD=function(){z.di.call(this,null,!1);this.rC="zh-lightbox-showing";this.NT="zh-lightbox-thumb";this.of()};var rD=function(a,b,c){uw.call(this,a,b,c);this.zi(!0)};
z.sD=function(){};z.tD=function(){this.zq="toolbar"};var uD=function(){};z.vD=function(a,b,c){z.qj.call(this,a,b||uD.T(),c)};var wD=function(){};var xD=function(a,b){return b.B("DIV","goog-color-menu-button-indicator",a)};var yD=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(lv.test("#"==b.charAt(0)?b:"#"+b)||iv(b).length||Mv&&Mv[b.toLowerCase()]);c=c?Lv(b).ds:null;a.firstChild.style.borderBottomColor=c||(z.B?"":"transparent")}};var zD=function(a,b,c,d){z.vn.call(this,a,b,c,null,d)};z.AD=function(){};
var BD=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var l=[],n=0;n<c.width;n++){var p=b&&b[h++];l.push(CD(a,p,d))}f.push(DD(a,l,d))}return a.Rv(f,d)};var DD=function(a,b,c){a=c.B("TR",a.R()+"-row",b);z.kh(a,"row");return a};var CD=function(a,b,c){a=c.B("TD",{"class":a.R()+"-cell",id:a.R()+"-cell-"+ED++},b);z.kh(a,"gridcell");z.lh(a,"selected",!1);if(!z.yc(a)&&!z.ph(a)){var d;b=new zD(a);for(c="";!c&&(d=z.P.rG(b));)1==d.nodeType&&(c=z.ph(d)||d.title);(d=c)&&z.lh(a,"label",d)}return a};
var FD=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.sh(c,a.R()+"-cell"))return c.firstChild;c=c.parentNode}return null};var GD=function(a){z.O.call(this);this.Fd=[];HD(this,a)};var HD=function(a,b){b&&(z.x.forEach(b,function(a){this.wm(a,!1)},a),z.x.extend(a.Fd,b))};z.ID=function(a,b,c){z.jj.call(this,a,b||z.AD.T(),c);this.Si&=-89;this.zn=new JD;this.zn.wp(this);this.sy=-1};
z.KD=function(a,b){if(a.m())throw Error("Component already rendered");a.yc=z.ga(b)?new z.Eb(b,void 0):b;LD(a)};var MD=function(a){var b=a.hb();return b&&b[a.Sa]};var ND=function(a,b){var c=a.hb();a.Hb(c?z.x.indexOf(c,b):-1)};
var OD=function(a,b,c){if(a.m()){var d=a.hb();if(d&&0<=b&&b<d.length){var f;f=(f=MD(a))?f.parentNode:null;a.zn.m()!=f&&(a.zn.h=f);f=a.zn;f.wc(c);!!(f.N&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,z.xh(b,a.O.R()+"-cell-hover",c),c?z.lh(a.h,"activedescendant",b.id):b.id==z.nh(a.h,"activedescendant")&&a.h.removeAttribute("aria-activedescendant"))}}};
var LD=function(a){var b=a.hb();if(b)if(a.yc&&a.yc.width){if(b=Math.ceil(b.length/a.yc.width),!z.ga(a.yc.height)||a.yc.height<b)a.yc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.yc=new z.Eb(b,b);else a.yc=new z.Eb(0,0)};var JD=function(){z.jj.call(this,null);this.qh|=2};var PD=function(a,b,c){this.Wq=a||[];z.ID.call(this,null,b||z.AD.T(),c);this.Wq=this.Wq;this.gt=this.Hs=null;this.Ga(QD(this))};
var QD=function(a){return z.x.map(a.Wq,function(a,c){var d=this.M().B("DIV",{"class":this.O.R()+"-colorswatch",style:"background-color:"+a}),f;this.Hs&&this.Hs[c]?f=this.Hs[c]:"#"==a.charAt(0)?(f=kv(a),f="RGB ("+[(0,window.parseInt)(f.substr(1,2),16),(0,window.parseInt)(f.substr(3,2),16),(0,window.parseInt)(f.substr(5,2),16)].join(", ")+")"):f=a;d.title=f;return d},a)};var RD=function(a){if(a)try{return Lv(a).ds}catch(b){}return null};var SD=function(a,b,c,d){Hw.call(this,a,b,c||wD.T(),d)};
var TD=function(a){var b=new zw(a);z.y.forEach(UD,function(c){c=new PD(c,null,a);z.KD(c,8);b.L(c,!0)});return b};var VD=function(){};var WD=function(){};var XD=function(a,b,c,d){SD.call(this,a,b,c||WD.T(),d)};var YD=function(a,b,c,d){Hw.call(this,a,b,c||VD.T(),d)};var ZD=function(a,b,c,d,f){Hw.call(this,a,b,c,d,f||new xw("listbox"));this.cw=this.hb();this.$x=null;this.xp("listbox")};var $D=function(a,b){a.cw=b;aE(a)};var bE=function(a,b){a.la=new GD;b&&z.Vh(b,function(a){cE(a);this.la.Ja(a)},a);dE(a)};
var dE=function(a){a.la&&a.o().g(a.la,"select",a.vj)};var aE=function(a){var b=a.kf();a.Ga(b?b.Ig():a.cw);var c=a.O.W(a.m());c&&a.M().isElement(c)&&(null==a.$x&&(a.$x=z.ph(c)),b=(b=b?b.m():null)?z.ph(b):a.$x,z.lh(c,"label",b),eE(a))};var eE=function(a){var b=a.O;if(b&&(b=b.W(a.m()))){var c=a.h;b.id||(b.id=z.Nh(z.Mh.T()));z.kh(b,"option");z.lh(c,"activedescendant",b.id);a.la&&(c=a.la.zb(),z.lh(b,"setsize",fE(c)),a=a.la.mj(),z.lh(b,"posinset",0<=a?fE(z.x.slice(c,0,a+1)):0))}};
var fE=function(a){return z.x.count(a,function(a){return a instanceof uw})};var cE=function(a){a.xp(a instanceof uw?"option":"separator")};var gE=function(a,b,c,d){ZD.call(this,a,b,c||VD.T(),d)};var hE=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};
var iE=function(a,b){z.x.forEach(b,function(b){var d=b.caption;b=b.value;var f=hE(b),d=new rD(d,b,a.M());z.Qh(d,f);a.Ja(d);d.W().style.fontFamily=b})};var jE=function(a){z.x.forEach(kE,function(b){var c=b.value;b=new rD(b.caption,c,a.M());a.Ja(b);b=b.W();b.style.fontSize=(lE[c]||10)+"px";b.firstChild.style.height="1.1em"})};var mE=function(a){z.x.forEach(nE,function(b){var c=b.caption;b=b.Ca;var d=a.M(),c=new rD(d.B("DIV",null,c),b,d);z.Qh(c,b);a.Ja(c)})};
z.oE=function(a,b,c,d,f,g){c=new z.vD(pE(c,d,g),f,g);z.Qh(c,a);c.mc(b);return c};z.qE=function(a,b,c,d,f,g){a=z.oE(a,b,c,d,f,g);a.Ob(16,!0);return a};var rE=function(a,b,c,d,f,g){f=new gE(null,null,f,g);d&&z.x.forEach(d.split(/\s+/),f.Dh,f);f.Dh("goog-toolbar-select");$D(f,c);z.Qh(f,a);f.mc(b);return f};var sE=function(a,b,c,d,f,g){c=new XD(pE(c,d,g),null,f,g);z.Qh(c,a);c.mc(b);return c};var pE=function(a,b,c){a&&""!=a||!z.A||z.D("1.9a")||(a="\u00a0");return(c||z.F()).B("DIV",b?{"class":b}:null,a)};
var tE=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in uE&&(c=uE[b]);c.length&&iE(a,c);iE(a,vE)};var wE=function(a,b,c,d,f,g){var h=z.oE(a,b,c,d,f,g);h.Fi=function(a){h.bb(a)};return h};var xE=function(a,b){var c=b;try{if(z.B)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.X()&&a.Ha(c)}catch(g){}};
z.yE=function(a){z.Ex.call(this);this.da=new z.ye(this);this.WE=z.J("div",{style:"display:none"});this.h=this.rc=null;this.J={};z.y.extend(this.J,this.defaults,a||{})};var zE=function(a){if(a.Rp){var b=(0,window.$)(a.Rp);b.stop().text("\u8349\u7a3f\u5df2\u7ecf\u4fdd\u5b58").fadeTo(600,.5).delay(3E3).fadeOut(600,function(){b.text("")})}};
var AE=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.HD||(a.mO=window.history.length),a.HD=!0,BE(a,"writing"),a.kJ=z.Jc(z.F((z.t||window).document)),z.dc(a.WE,a.J.tk),a.rc.appendChild(a.J.tk),z.S.add(window.document.body,a.J.Sw),a.Fb=z.I(a.J.VT,a.h),a.Fb.appendChild(a.Rp),CE(a),(0,z.Xa)(z.yc(a.F.Aa))||a.F.Yf(),a.dispatchEvent("enterFullScreen"))};
var DE=function(a){!z.zi&&a.HD&&a.mO!==window.history.length?window.history.back():BE(a,"");a.Fb.removeChild(a.Rp);a.cI(!1);a.h.onscroll=null;a.da.ta(window.document,"keydown",a.Wo);z.dc(a.J.tk,a.WE);z.S.remove(window.document.body,a.J.Sw);window.scrollTo(a.kJ.x,a.kJ.y);a.dispatchEvent("exitFullScreen")};var BE=function(a,b){a.da.ta(window,"hashchange",a.FG);window.location.hash=b||"";(0,window.setTimeout)((0,z.r)(function(){this.da.g(window,"hashchange",this.FG)},a))};
var CE=function(a){var b=a.h;b.scrollTop=0;var c=a.Fb.getBoundingClientRect().top;b.onscroll=z.$c((0,z.r)(a.cI,a),function(){return b.scrollTop>c});a.da.g(window.document,"keydown",a.Wo)};var EE=function(a,b){z.O.call(this);this.dg=a;this.jA=b||FE;a.ub||(this.show=z.m)};var GE=function(a,b,c){uw.call(this,a,b,c);this.tp(!0)};var HE=function(a,b){z.O.call(this);this.pa=a;this.Rb=b;this.data=z.cs};var IE=function(a,b){return a?b?new GE(a):new uw(a):new yw};
var JE=function(a){a.lm.innerHTML="";z.Q(a.lm,!1);a.Ao=!1;a.cm.xm("\u95ee\u9898\u91cd\u5b9a\u5411");z.Fi("/question/unredirect",null,"POST","qid\x3d"+a.pa+"\x26rqid\x3d"+a.Lt)};var KE=function(a){z.$o.call(this,!0,"/topic/bio/update","bio");this.VA=a[0];this.params=["tid\x3d"+this.VA[3]];this.content=a[1];this.Pb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u63cf\u8ff0\u4f60\u5173\u4e8e '+this.VA[0]+" \u7684\u7ecf\u9a8c\x3c/a\x3e";this.xu=!0};
var LE=function(a,b){z.O.call(this);this.FO=b;this.al=a;this.items=[];this.xy=!1};var ME=function(){NE||(NE=new LE(z.es,!1));return NE};var OE=function(a){a.locked=!0;var b=new z.U(!0);a.o().g(b,"success",function(a){this.OP=!0;this.locked=!1;a=z.mf(a.target);a.r||(this.al=a.msg,PE(this))});b.ajax("/question/"+a.AH+"/bios",null,"GET")};
var PE=function(a){if(!a.locked)if(!a.OP&&a.xy)OE(a);else{if(!a.ga){a.ga=new z.ui;a.ga.Za("\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c");z.oi(a.ga,null);z.ji(a.ga,!1);var b=a.ga.W();b.innerHTML='\x3cdiv class\x3d"zg-section-title"\x3e\u4fee\u6539\u6bcf\u4e2a\u8bdd\u9898\u65c1\u8fb9\u9760\u8fd1\u4f60\u540d\u5b57\u7684\u7b80\u4ecb\uff1a\x3c/div\x3e';a.ca(b)}a.ga.G(!0)}};
var QE=function(a,b){z.R.call(this);this.vb=a;this.Cr=qu(this.vb);this.isContentEditable=this.vb.isContentEditable();this.PT=30;this.ad=new z.ue(1E3*this.PT);this.pa=z.cs?z.cs.pa:0;this.sF=b||!1};var RE=function(a){SE(a,"\u4fdd\u5b58\u4e2d\u2026");a.Jn();a.JO()};var TE=function(a){a.ad.stop()};var UE=function(a){a.PA&&((0,window.clearInterval)(a.PA),a.PA=null)};var VE=function(a,b){var c=yv(b||(0,z.w)());/^\d/.test(c)&&(c=" "+c);SE(a,"\u5df2\u5b58\u4e8e"+c)};
var SE=function(a,b,c){var d=(0,window.$)(a.fF);c?d.addClass("warning"):d.removeClass("warning");z.Q(a.ps,!0);z.rc(a.fF,b)};var WE=function(a){XE(a);var b={qid:a.pa,timestamp:(0,z.w)()};(0,window.setTimeout)(function(){window.$.post("/draft/delete",b)},500)};var XE=function(a){a.KF&&(a.KF.abort(),a.cl());UE(a);z.Q(a.ps,!1);a.dispatchEvent("clearContent")};
var YE=function(a,b,c){z.cp.call(this,!1);this.nb=!!a;this.ng=b;this.Pb="\x26nbsp;";this.Hq=c;this.wu=this.ow=this.YD=this.enabled=!0;if(z.V.active||!z.V.ra())this.Dy='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e\u5199\u56de\u7b54\u2026\x3c/span\x3e'};var ZE=function(a,b){a.Hq=b?b:z.V[4];if(a.ws&&window.$.trim(b)){var c=b;20<c.length&&(c=c.substring(0,17)+"...");a.GK.innerHTML="\uff0c"+z.Fa(c)+'\x3ca name\x3d"edit_bio" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e'}};
var $E=function(a,b,c){b=(0,window.$)(b).css("top",0).css("z-index",9);(0,window.$)(a.Bc).hide();c=(0,window.$)(c);(0,window.$)(a.cj).append(b).after(c);a=z.Mm(z.m,{ra:"question_answer_add_start",gd:!0},"#draft");b.on("click",a);c.on("click",a)};
var aF=function(a){a.zk?a.zk.show():(a.zk=(0,window.$)('\x3cdiv class\x3d"question-tip-box-bottom"\x3e\u786e\u5b9a\u60f3\u8981\u56de\u7b54\u4f60\u81ea\u5df1\u63d0\u51fa\u7684\u95ee\u9898\u5417\uff1f\x3cbr\x3e\u5982\u679c\u9700\u8981\u5bf9\u95ee\u9898\u505a\u51fa\u66f4\u591a\u7684\u89e3\u91ca\u548c\u8bf4\u660e\uff0c\u8bf7\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0\u3002 \u5982\u679c\u9700\u8981\u5bf9\u5176\u4ed6\u56de\u7b54\u505a\u51fa\u56de\u5e94\uff0c\u8bf7\u5728\u76f8\u5e94\u56de\u7b54\u4e0b\u901a\u8fc7\u8bc4\u8bba\u53d1\u5e03\u3002\x3cbr\x3e\x3cdiv class\x3d"zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-btn zg-btn-blue" name\x3d"confirm"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-link-gray " name\x3d"cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),a.zk.on("click",
'[name\x3d"cancel"]',function(){a.zk.hide()}).on("click",'[name\x3d"confirm"]',function(){a.zk.hide();(0,window.$)(a.Xb).hide();a.bb(!0);a.Af()}),(0,window.$)(a.Xb).after(a.zk))};var bF=function(a){var b=(0,window.$)("input[name\x3danno-checkbox]",a.Bc)[0],c=(0,window.$)("label",a.Bc)[0];a.vq=b;z.cs.nb&&(a.vq.checked=!0);z.bh(c,!0)};var cF=function(a,b,c,d,f){z.cp.call(this,d,b,c);this.pa=a;this.Ds=this.jp=!1;this.sR=f};var dF=function(a,b){a.Ds=b};
var eF=function(){var a=z.J("select",{style:"1px solid #999 "}),b=z.J("option",{value:"none"},"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531...");a.appendChild(b);z.x.forEach(fF,function(b,d){var f=z.J("option",{value:b.value},d+1+". "+b.label);a.appendChild(f)});return a};var gF=function(a,b,c){a.hG.innerHTML=b;z.S.set(a.hG,c||"zg-error-text")};var hF=function(a,b){this.Nh=a instanceof z.Cb?a:new z.Cb(a,b)};var iF=function(a,b){hF.call(this,a,b)};
var jF=function(a,b){zw.call(this,a,b);this.Ym=!0;this.Qe(!0);this.G(!1,!0);this.Bf=new z.Fe};var kF=function(a,b,c,d,f){var g=a.S();a.jy()&&a.ST?a.hide():(a.Nf=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.Q(a.m(),!0),b.aa(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Hb(-1),a.G(!0)))};
var lF=function(a,b){for(var c=a.Bf.Ab(),d=0;d<c.length;d++){var f=a.Bf.get(c[d]);if(f.h==b.currentTarget){a.hI(f,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};var mF=function(){z.R.call(this)};var nF=function(){z.ui.call(this);this.Pf=!0;this.G(!0)};
var oF=function(a,b){a.Za("\u63d0\u95ee\u65e0\u4eba\u95ee\u6d25\uff1f");a.Ga(b);a.aa();(0,window.$)(".js-gonext",a.h).on("click",function(){var b=(0,window.$)(this).parents('[class^\x3d"view"]').attr("class");"view-starting"===b?(a.Za("\u7b2c\u4e00\u6761"),a.Kd("firsttip")):"view-firsttip"===b?(a.Za("\u7b2c\u4e8c\u6761"),a.Kd("secondtip")):"view-secondtip"===b?(a.Za("\u7b2c\u4e09\u6761"),a.Kd("thirdtip")):"view-thirdtip"===b&&a.G(!1)})};
var pF=function(a,b){a.Za("\u9080\u8bf7\u56de\u7b54\u5c0f\u7a8d\u95e8");a.Ga(b);a.aa();(0,window.$)(".js-close",a.h).on("click",function(){a.G(!1)})};var qF=function(a,b){z.R.call(this);this.WR=a;this.yt=b;this.ea=null;this.Xd=!1;this.vo=null;this.Ol=[];this.tI=[];this.$g=!0;this.AP="loading";this.oF="zg-btn-white";this.SO="invite-button"};
var rF=function(a){function b(a){0>a||a>d-1||(h.find("li").hide().slice(4*a,4*(a+1)).show(),0===a?f.addClass("link-disabled"):f.removeClass("link-disabled"),a===d-1?g.addClass("link-disabled"):g.removeClass("link-disabled"),c=a)}a=a.h;var c=0,d,f,g,h;h=(0,window.$)(".suggest-persons",a);d=h.find("li").length/4;f=(0,window.$)(".js-prev",a).on("click",function(){b(c-1)});g=(0,window.$)(".js-next",a).on("click",function(){b(c+1)});b(0)};
var sF=function(a,b){return!!z.x.find(a.Ol,function(a){return a.id===b})};var tF=function(a,b,c){a=a.oF;c?(z.S.add(b,a),z.rc(b,"\u6536\u56de\u9080\u8bf7")):(z.S.remove(b,a),z.rc(b,"\u9080\u8bf7\u56de\u7b54"))};var uF=function(a,b){var c=z.cs;a.dispatchEvent(new ky("click!invitation",{category:"invitation",action:"ask_to_answer",label:b,value:c.wF?null:c.ue}))};
var vF=function(a,b,c){var d=(0,window.$)(".invite-button",a.sI).filter(function(){return this.getAttribute("data-uid")===b}).get(0);d&&tF(a,d,c)};var wF=function(a,b){return z.x.find(a.tI,function(a){return a.id===b})};var xF=function(a,b){a.Ol.unshift(b);yF(a);(0,window.$)(".ignore-invite-hint").css("display","none")};var zF=function(a,b){a.Ol&&z.x.iS(a.Ol,function(a){return a.id===b})&&(yF(a),(0,window.$)(".ignore-invite-hint").css("display","none"))};
var yF=function(a){var b=a.Ol,c={each:z.x.forEach,fullList:function(){return(0,z.lp)(a.AM,{persons:b,helper:c})}};a.cy.innerHTML=b.length?(0,z.lp)(a.YS,{persons:b,helper:c}):""};var AF=function(a){z.R.call(this);this.data=a;this.qa=null};
var BF=function(a){var b=z.I("panel-container",a.h);b&&(a.Wl=new mF,a.L(a.Wl),a.Wl.w(b),a.qa=new Hy(a.data.pa,"question"),a.Wl.L(a.qa),Ky(a.qa,a.Wl.m(),(0,window.$)(".toggle-comment",a.h)[0]),a.Cj(),"normal"===z.cs.status&&(b=new qF(a.data.pa,a.data.ub),b.ca(a.Wl.m()),a.Wl.L(b),z.cs.gT&&(b.expand(),a.dispatchEvent(new ky("show!invitation",{category:"invitation",action:"ask_to_answer_card",label:""}))),a.nF=b))};
var CF=function(a,b){var c=a.QJ;c||(c=new jF,c.w(z.G("zh-question-admin-menu")),z.Vh(c,function(a){a.Ha(a.m().getAttribute("data-action"))}),a.o().g(c,"action",function(a){a=this.NB=a.target;(new my).open(a.m(),{id:this.data.pa,type:"question"},(0,z.r)(this.tL,this))}),a.QJ=c);c.S()?c.G(!1):kF(c,new Aw(b,1,!0),0,new z.wg(5,0,5,0))};
var DF=function(a){z.Ai("\u5220\u9664\u95ee\u9898","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u95ee\u9898\u5417\uff1f\u76f8\u5173\u7684\u8bc4\u8bba\u4e5f\u5c06\u88ab\u5220\u9664\u3002",function(a){if(a){var c=new z.U(!0);z.N(c,"complete",function(){var a=z.mf(c);a&&!a.r?window.location.href="/":z.T(a.msg)});c.ajax("/question/delete/"+this.data.pa)}},a)};var Nz=function(a,b){z.R.call(this);this.lb=a;this.entryType=b;this.im=null;this.zg="post"===b?Fz:Gz};
var EF=function(a){this.K=(0,window.$)(a);this.of()};var FF=function(a,b,c){z.cp.call(this,a,b,c)};var GF=function(){this.Ev=[]};var HF=function(a,b,c){var d=b.M().B("SPAN");d.className="goog-submenu-arrow";IF(b,d);a.W(c).appendChild(d)};var IF=function(a,b){a.Ed()?(z.th(b,"goog-submenu-arrow-rtl"),z.rc(b,a.tq?"\u25c4":"\u25ba")):(z.vh(b,"goog-submenu-arrow-rtl"),z.rc(b,a.tq?"\u25ba":"\u25c4"))};var JF=function(a,b,c,d){uw.call(this,a,b,c,d||GF.T())};var KF=function(a){a.Sd&&z.xe(a.Sd);a.pA&&z.xe(a.pA)};
var LF=function(a){z.Vh(a.getParent(),function(a){a!=this&&"function"==typeof a.Fg&&(a.Fg(),KF(a))},a)};var MF=function(a,b){a.dispatchEvent(z.Ph(64,b));var c=a.ab();b!=a.Ky&&z.xh(a.m(),"goog-submenu-open",b);if(b!=c.S()&&(b&&(c.xa||c.ca(),c.Hb(-1)),c.G(b),b)){var c=new Aw(a.m(),a.tq?6:4,a.bP),d=a.ab(),f=d.m();d.S()||(f.style.visibility="hidden",z.Q(f,!0));c.aa(f,a.tq?4:6);d.S()||(z.Q(f,!1),f.style.visibility="visible")}a.Ky=b};var NF=function(a,b,c){var d=a.o();(c?d.g:d.ta).call(d,b,"enter",a.mQ)};
var OF=function(a,b,c,d){JF.call(this,a,b,c,d)};var PF=function(a,b,c){z.R.call(this);this.pa=a;this.na=c;this.IL=b||z.cs;this.Mv=null};var QF=function(a,b){return z.Mm(a,b,function(){return this.Rn()})};
var RF=function(a){var b=z.I("zm-item-answer",a.h)||a.h;a.na=b.getAttribute("data-aid");a.Ne="1"===b.getAttribute("data-isowner");a.ub=b.getAttribute("data-atoken");a.gi="1"===b.getAttribute("data-deleted");a.Sv=+b.getAttribute("data-created");a.iO=+b.getAttribute("data-helpful");a.$O="1"===b.getAttribute("data-good");a.Gj="1"===b.getAttribute("data-collapsed");a.nb=null};var SF=function(a,b){var c={};c.Er=!!b;c=a.hu=new lw(c);a.L(c);c.w(a.h);c.Bd()&&a.o().sa(c,"expand",a.Hy);jw(a.h,a.Rj,a)};
var TF=function(a,b){a.Ic=b};var UF=function(a){var b=z.I("zm-item-vote-info",a.h);if(b){a.vk=new Nz(a.na);a.L(a.vk);a.vk.w(b);b=(0,window.$)(".zm-item-vote-count",a.h);b[0]||(b=(0,window.$)(".zm-item-vote-count",a.Ic));var c=[b[0],(0,window.$)(".zm-votebar .count",a.h)[0]];if(c.length){var d=a.vk;a.vk.on("change",function(){z.x.forEach(c,function(a){z.yk(a,d.Ua())})})}}};
var VF=function(a){var b=z.I("more-actions",a.Ic);if(b){var c={share:{label:"\u5206\u4eab",action:a.uc},fav:{label:"\u6536\u85cf",action:a.sj},report:{label:"\u4e3e\u62a5",action:a.NN},nohelp:{label:a.iO?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9",action:a.BE}},d=new zw,f=function(a){z.Th(d)&&d.Ja(new yw);var b=new uw(c[a].label);b.Ha(a);d.Ja(b)};f("share");f("fav");a.Ne||(f("nohelp"),z.V.ra()&&f("report"));f=new Hw("operation",d);f.hk=!0;Jw(f);Iw(f);f.bm=function(){};f.fc=z.Or;
f.w(b);z.S.add(d.m(),"zh-answer-more-actions");a.o().g(d,"action",function(a){var b=a.target.X();(b=c[b])&&b.action&&b.action.call(this,a)})}};
var WF=function(a){if(!a.te&&a.Ne&&z.cs&&a.na){a.te=new FF(!1,"/answer/content","content");z.Id(a,a.te);a.te.wu=!0;a.te.ow=!0;a.te.kE=YE.prototype.kE;var b=z.I("zm-item-rich-text",a.h);ru(a.te,["id\x3d"+a.pa]);a.te.w(b);a.o().g(a.te,"shouldUpdateContent",function(a){if(z.ea(a.data))return!1});a.o().g(a.h,"click",function(a){"suggest_edit"===a.target.name&&(this.te.Af(),(0,window.$)(".zh-question-censor-tip",this.h).hide());return!0})}};
var XF=function(a,b){if(!a.qa){a.qa=new Hy(a.na,"answer",b);a.L(a.qa);Ky(a.qa,a.Ic,(0,window.$)(".toggle-comment",a.Ic)[0]);iz(a.qa);a.qa.Tt(a.Rn());var c=window.location.hash.slice(1).split("-"),d=window.location.pathname.split("/"),d="answer"===d[3]&&d[4];"comment"===c[0]&&c[1]&&d===a.ub&&(a.qa.Ta(!0),a.o().g(a.qa,"expand",function(){Sy(this.qa)}))}};var YF=function(a){if(a.rq)a.rq.G(!0);else{var b=ZF(a);b&&(kF(b,new Aw(a.RJ,1,!0),0,new z.wg(5,0,5,0)),$F(a,b),aG(a,b),a.rq=b)}};
var ZF=function(a){var b=(0,window.$)("a[name\x3dadmin]",a.ki)[0];if(b){a.RJ=b;bG=0;var c=new jF;a.L(c);c.attach(b,5);var d=a.Gj?new uw("\u53d6\u6d88\u6298\u53e0"):new OF("\u6298\u53e0");d.Ha("collapse");var f=function(a,b){var c=new uw(b+1+" "+a.label);c.Ha(a.value);d.Ja(c)};a.Gj||cG("answer","collapse").then(function(a){z.x.forEach(a,f);z.S.add(d.ab().m(),"manage-menu")});b=new uw("\u5220\u9664");b.Ha("delete");c.Ja(d);c.Ja(b);c.ca(a.h);z.S.add(c.m(),"manage-menu");return c}};
var $F=function(a,b){a.o().g(b,"action",function(a){var b=a.target;a=b.X();var b=b.m(),f=new z.Ml;"collapse"===a?(f.add("answer_id",this.na).add("action","collapse2").add("collapse",this.Gj?"cancel":"done"),b.setAttribute("data-op",this.Gj?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),dG(this,b)):"delete"===a?(f.add("answer_id",this.na).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
dG(this,b)):z.ga(a)&&(b=new z.Ml,b.add("answer_id",this.na).add("action","collapse2").add("collapse",this.Gj?"cancel":"done").add("reason",a),ny("/manage",b.toString(),(0,z.r)(this.PG,this)))})};var dG=function(a,b){(new my).open(b,{id:a.na,type:"answer"},(0,z.r)(a.PG,a))};
var eG=function(a){function b(){c();var b=a.rq.Zh(0);b.ab&&b.ab()&&(b.bu(),b.ab().Hb(0))}function c(){YF(a);a.rq.Hb(0)}var d=new EF(a.h),d=z.Os.lJ(d.getItem()||a.h);z.xk(z.xk(z.xk(z.xk(z.xk(z.xk(z.xk(d.register("v",function(){this.qb&&this.qb.ru()},a),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"}).register("d",function(){this.qb&&this.qb.qu()},a),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"}).register("f x",a.uc,a),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("s c",a.sj,a),{group:"\u64cd\u4f5c",
name:"\u6536\u85cf"}).register("t",a.Xr,a),{group:"\u64cd\u4f5c",name:"\u611f\u8c22"}).register("c",a.rx,a),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",a.Lr,a),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"});var f=z.Vd?"\u2318":"ctrl";z.Ar.qF&&(0,window.$)("a[name\x3dadmin]",a.ki)[0]&&z.xk(z.xk(d.register("meta+.",c),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u83dc\u5355",key:f+"+."}).register("meta+k",b),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u6298\u53e0\u5b50\u83dc\u5355 (Kill)",
key:f+"+k"})};var aG=function(a,b){a.o().g(b,"show",function(){z.S.add(this.Ic,"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.S.remove(this.Ic,"zm-item-meta-has-menu")})};
var fG=function(a){var b=(0,window.$)('[name\x3d"comment_opt"]',a.Ic);if(b.length){var c=b.data(),d=new zw,f=new GE("\u7981\u6b62\u8f6c\u8f7d");f.$c(!c.copyable);d.Ja(f);d.Ja(new yw);gG(a,d);d.Ja(new yw);d.Ja(new uw("\u5220\u9664"));a.o().g(d,"action",a.WM);aG(a,d);z.S.add(d.m(),"zg-gray-normal");a=new Hw("comment",d);a.hk=!0;Jw(a);Iw(a);a.fc=z.Or;a.w(b[0])}};
var hG=function(a){if(!a.KC||!a.KC.Sb()){var b=new z.U(!0);a.o().sa(b,"success",function(a){if((a=z.mf(a.target))&&!a.r){var b=a.msg;z.x.forEach(this.Nv,function(a){a.X()===b&&a.$c(!0)});this.Mv=b}else z.T(a.msg)});b.ajax("/answer/comment_permission?answer_id\x3d"+a.na,null,"GET");a.KC=b}};var gG=function(a,b){a.Nv=[];z.y.forEach(iG,function(a,d){var f=new GE(a);f.Ha(d);f.$c(d===this.Mv);this.Nv.push(f);b.Ja(f)},a)};
var jG=function(a){var b=new z.U(!0);a.o().sa(b,"success",function(){z.Q(this.h,!this.gi);this.gi?this.Ru="set_delete":(WF(this),this.Ru="cancel_delete");this.dispatchEvent("change");(0,window.$)(this.h).parent(".zm-item").hide()});b.ajax("/answer/"+(a.gi?"remove":"unremove"),"aid\x3d"+a.na)};var kG=function(a){a.gi=!1;a.status=0;jG(a)};var lG=function(a,b,c){PF.call(this,a,b,c)};
var mG=function(){z.R.call(this);this.data=z.cs||{};this.pa=this.data.pa;this.Ao=!1;this.Ri={};this.jv=[];this.wq=[];this.mi=0;this.dg=z.ds&&z.ds.url_token?z.ds:null};var nG=function(a){z.V.eh&&window.$.post("/question/popup",{action:"no_answer",question_token:a.data.ub},function(a){a&&oF(new nF,a)})};var oG=function(a){(0,window.$)(".js-ignore-invite").click(function(){(0,window.$)(".question-invited-by").hide();window.$.post("/question/askpeople",{qid:a.data.ub,uid:z.V.Me,op:"pass"})})};
var pG=function(a){qG(a);rG(a);sG(a,null);tG(a);a.o().g(z.dl,"anon_change",function(a){this.data.nb=a.nb})};var uG=function(a){"close"!==z.cs.status&&(a.Ra=new z.kn(a.data.WA,a.data.pa),a.Ra.Ws=5,a.Ra.Zs=1,a.Ra.QB=!0,a.Ra.ft=!0,a.Ra.w(z.I("zm-tag-editor",a.h)),a.o().g(a.Ra,["remove_tag","add_tag"],function(){z.X.oa("ga_edit_question_topic_changed")}),a.o().g(a.Ra,"start_editing",function(){z.X.oa("ga_question_topic_edit_finish_changed")}),a.Ra.addEventListener("beforeedit",$B({jm:!0})))};
var vG=function(a){"close"===z.cs.status&&(0,window.$)('.question-status [name\x3d"appeal"]').click(window.$.proxy(function(){var a=this.pa,b=new z.ui;z.ji(b,!0);b.Pf=!0;z.oi(b,z.ei());b.Za("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");b.Ga('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');b.G(!0);b.aa();b.o().g(b,z.rs,function(){window.$.post("/question/appeal",
{qid:a,reason:(0,window.$)('[name\x3d"reason"]',b.h).val()},function(){z.Ai({title:"\u7533\u8bc9\u63d0\u4ea4",Sj:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",aa:!0,buttons:["\u77e5\u9053\u5566"]})})})},a));var b=z.G("zh-question-title");
"false"!==b.getAttribute("data-editable")&&(a.cd=new cF(a.data.pa,"/question/title","content",!1,!0),a.cd.qD=!0,a.cd.$d=!0,a.cd.jp=!0,dF(a.cd,Ev(a.data.eh)),a.cd.w(b),a.o().g(a.cd,"change",function(){z.dl.dispatchEvent("question_title_change");window.document.title=this.cd.hb()+" - \u77e5\u4e4e"}),a.o().g(a.cd,"click_edit",function(){z.X.oa("ga_question_title_edit_start")}),a.o().g(a.cd,"cancel_edit",function(){z.X.oa("ga_question_title_edit_cancel")}),a.o().g(a.cd,"save_changed",function(){z.X.oa("ga_question_title_edit_save_changed")}),
a.o().g(a.cd,"save_unchanged",function(){z.X.oa("ga_question_title_edit_save_unchanged")}),a.cd.addEventListener("beforeedit",$B({jm:!0})))};var wG=function(a,b){z.V.ra()&&b?(xG(a,"zh-question-detail",a.yO),xG(a,"zh-question-answer-summary",a.BO)):(xG(a,"zh-question-detail",z.m),xG(a,"zh-question-answer-summary",z.m))};var xG=function(a,b,c){if(b=z.G(b)){var d=new lw;a.o().g(d,"expand",c).g(d,"invalid",c);d.w(b)}};
var tG=function(a){a.data.Uq=+a.kL.innerHTML;z.V.ra()||(a.data.Uq=0);z.Q(a.Lh,0<a.data.Uq);a.xq&&z.rc(a.xq,a.data.ue?a.data.ue+" \u4e2a\u56de\u7b54":"\u8fd8\u6ca1\u6709\u56de\u7b54");a.Jm&&z.Q(a.Jm,1<a.data.ue);z.Q(a.Lh,0<a.data.Uq)};
var yG=function(a){var b=z.G("zh-question-answer-wrap");if(b){var c=new mw({use:["expandLimit","nodeSource"],ph:a.data.ue>a.data.yR&&!z.I("question-page-pager")});a.L(c);a.o().g(c,"itemcreated",function(a){c.L(zG(this,a.item));(0,window.$)("img.lazy",a.item).lazyload({data_attribute:"actualsrc",threshold:400})});c.w(b)}};
var zG=function(a,b,c,d){d=new lG(a.pa,null,d);d.w(b);a.Ri[d.na]=d;a.wq.push(d.na);a.o().g(d,"change",a.Yy);d.Ne&&(a.mi=d.na,d.sK=z.V,a.o().g(d.te,"change",a.EN),a.yg=d);d.Gj?d.Ne&&a.rn.appendChild(d.m()):a.jv.push({added_time:d.Sv,vote:c,aid:d.na});d.gi&&z.Q(d.m(),!1);return d};
var rG=function(a){var b=null,c=null,d,f={suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"};z.as.Od||"normal"===z.cs.status||(c="\u88ab"+f[z.cs.status]+'\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\u3002\x3ca data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e');a.mi?
(d=a.Ri[a.mi],b="#answer-"+d.na,d=d.gi):a.dg&&(b="/question/"+z.cs.ub+"/answer/"+a.dg.url_token,d=a.dg.is_delete);b&&(c=d?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':'\u4e00\u4e2a\u95ee\u9898\u4f60\u53ea\u80fd\u56de\u7b54\u4e00\u6b21\uff0c\u4f46\u4f60\u53ef\u4ee5\u5bf9 \x3ca href\x3d"'+b+'"\x3e\u73b0\u6709\u7684\u56de\u7b54\x3c/a\x3e \u8fdb\u884c\u4fee\u6539');
!z.V.eh||a.mi||a.dg||(c='\u6dfb\u52a0\u56de\u7b54\uff1a\x3ca href\x3d"javascript:;" name\x3d"answer_my_question"\x3e\u56de\u7b54\u81ea\u5df1\u7684\u63d0\u95ee\x3c/a\x3e');a.data.iy&&(c='\u8be5\u95ee\u9898\u76ee\u524d\u5df2\u7ecf\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u6dfb\u52a0\u65b0\u7b54\u6848\u3002\x3ca href\x3d"http://www.zhihu.com/question/19604313" target\x3d"_blank"\x3e\u95ee\u9898\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u9501\u5b9a\uff1f\x3c/a\x3e');c&&a.vb.bb(!1,c)};
var AG=function(a){a.xq=z.G("zh-question-answer-num");a.yq=z.G("zh-question-answer-wrap");a.Lh=z.G("zh-question-collapsed-link");a.rn=z.G("zh-question-collapsed-wrap");a.kL=z.G("zh-question-collapsed-num");a.iK=z.G("zh-question-answer-form-wrap");a.qk=z.G("zh-question-notification-summary");a.Jm=z.G("zh-answers-filter");a.At=z.G("zh-add-question-sug");a.xq&&(a.data.ue=+a.xq.getAttribute("data-num"));a.yq&&(a.data.yR=+a.yq.getAttribute("data-pagesize"));a.Lh&&a.o().g(a.Lh,"click",a.DT);a.At&&a.o().g(a.At,
"click",a.wE);a.Jm&&z.Zr&&a.o().g(a.Jm,"click",function(a){a.stopPropagation();z.S.add(this.Jm,"activated");this.o().sa(window.document,"click",function(){z.S.remove(this.Jm,"activated")})})};var BG=function(a,b){var c=z.G("zh-question-collapsed-switcher");b?(c.name="collap",a.LC=!0,z.Q(a.rn,!0),z.S.add(a.Lh,"zu-question-collap-title-active")):(a.LC=!1,c.name="expand",z.Q(a.rn,!1),z.S.remove(a.Lh,"zu-question-collap-title-active"))};
var CG=function(a){a.mL=!0;var b=a.rn,c=window.$.get("/node/QuestionCollapsedAnswerListV2",{params:{question_id:a.data.pa}});c.done(function(c){c=z.Wb(c);BG(a,!0);z.S.remove(b,"zm-question-collapsed-list-loading");b.appendChild(c);z.x.forEach(z.fc(b),function(b){b!==d&&zG(a,b,99999)});(0,window.$)("img.lazy",b).lazyload({data_attribute:"actualsrc",threshold:400})});var d=z.fc(b)[0];d&&(z.Q(d,!1),c.done(function(){z.Q(d,!0)}));z.Q(b,!0);z.S.add(b,"zm-question-collapsed-list-loading")};
var qG=function(a){var b=z.V[4];z.es&&z.es.length&&(b=z.es[0][1]);a.vb=new YE(a.data.nb,z.V,b);a.L(a.vb);a.vb.w(a.iK);z.as.Od&&z.as.Od.length?a.vb.Ga(z.as.Od[0]):!z.Ar.vc&&z.A&&a.vb.Ga("\x3cp\x3e\x3c/p\x3e");if(!(a.data.iy||a.mi||a.dg&&a.dg.url_token))if(a.data.$m&&a.data.$m.length&&a.data.$m[3]!==z.V.Me)a.vb.bb(!1,"\u53ea\u6709 "+Av(a.data.$m)+" \u80fd\u56de\u7b54\u6b64\u95ee\u9898");else if("normal"===z.cs.status||z.as.Od)z.V.eh||a.vb.Af();a.o().g(a.vb,"change",a.eQ);a.o().g(a.vb,"cancel_delete_answer",
a.lQ);a.vb.ready(function(){var a=this.$w();a&&"writing"===window.location.hash.slice(1)&&a.execCommand("toggleFullScreen")})};var sG=function(a,b){if(b=b||window.location.hash.slice(1)){var c=b.split("-"),d=c[1];"answer"===c[0]&&(c=a.dE(d))&&(c.Gj&&!a.LC?DG(a,a.Lh):DG(a,c.m()))}};var DG=function(a,b){if(b){var c=z.gh(window.document.body).top,d=a.gO?z.Vg(a.qk).height:0,c={paddingTop:c+d};"number"===window.$.type(c)&&(c={offsetTop:c});c.dJ=gv;fv(b,c);z.Gk(b);a.jj&&a.jj.Yp()}};
var EG=function(){mG.call(this);this.data=z.cs;this.pa=this.data.pa};var FG=function(a){var b=(0,window.$)(".awesome-answer-list").get(0);if(b){var c=new mw({use:["expandLimit"],ph:!1});a.L(c);a.o().g(c,"itemcreated",function(a){var b=new xz;b.w(a.item);c.L(b)});c.w(b)}};
var GG=function(a,b){var c=(0,window.$)("#js-sidebar-author-info");if(!(0,window.$)("a[name\x3dfocus]",c).length){var d={0:"fullname",1:"url_token",2:"avatar_path",3:"hash",4:"headline"},f=z.x.reduce(z.V,function(a,b,c){a[d[c]]=b;return a},{}),f=(0,z.lp)(a.tK,{author:!b&&f});c.html(f)}};var HG=function(){var a=(0,window.$)("#zh-question-answer-collestions");a.length&&(0,window.$)("a[name\x3dfocus]",a).click(function(){(0,z.Ft)(this,"favlist")})};
var IG=function(a){a.Rb?a.Rb.gi?(a.mr.innerHTML=a.Rb.Ne?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':"\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664",z.Q(a.Rb.m(),!1)):z.Q(a.Rb.m(),!0):a.mr.innerHTML="\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664"};
var JG=function(){z.R.call(this);this.page=1};var KG=function(a,b){z.rc(a,b?"\u52a0\u8f7d\u4e2d...":"\u66f4\u591a")};var LG=function(a,b){window.$.each(b,function(b,d){var f=new MG;a.L(f);f.w((0,window.$)(d)[0]);a.rB.append(f.m());a.o().g(f,"unfollow",function(){NG(a)})})};
var OG=function(a){function b(a){g.hasClass("disabled")||(h.random(a)||(g.addClass("disabled"),(0,window.$)(".hidden-topics-plaza").show(),z.Y("topic","show_hidden_enter_topics_square","topic_feed_recommend")),d.html(pz(h,h.Rd,h.ah)))}var c=(0,window.$)(a.m()),d=(0,window.$)(".js-list",c),f=(0,window.$)(".js-hidden-list",c),g=(0,window.$)(".js-pager",c),f=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html(f.html()).children().add(d.children())),h=new nz(f,3);g.on("click",function(){b(d.find(".zg-btn-follow").length)});
d.on("click","[data-follow]",function(c){var f=(0,window.$)(c.target),p=f.data("id"),E=(0,window.$)(".new-follow-topics span"),H=E.data("ids");if(f.hasClass("zg-btn-follow"))c=(0,window.$)(c.target).closest(".topic-item"),h.remove(c[0]),E.length?(H.push(p),E.data("ids",H),E.text(H.length)):(0,window.$)('\x3ca href\x3d"#" class\x3d"new-follow-topics"\x3e\u65b0\u5173\u6ce8 \x3cspan data-ids\x3d"['+p+']"\x3e1\x3c/span\x3e \u4e2a\u8bdd\u9898\uff0c\u70b9\u51fb\u67e5\u770b\x3c/a\x3e').insertBefore((0,window.$)(".topic-recommend")),
1===(0,window.$)(".zg-btn-follow",d).length&&(g.hasClass("disabled")?(0,window.$)(".topic-recommend").fadeOut():(0,window.setTimeout)(function(){b(0)})),PG(a);else if(f.hasClass("zg-btn-unfollow")){var L=(0,window.$)(".js-topic-item[data-id\x3d"+p+"]");L.length?L.fadeOut(function(){L.remove();NG(a)}):H&&(1<H.length?(H.splice(H.indexOf(p),1),E.data("ids",H),E.text(H.length)):E.parent().remove(),NG(a))}});c.on("click",".new-follow-topics",function(b){b.preventDefault();var c=(0,window.$)(b.target);
window.$.get("/topic/newest-feeds",{ids:JSON.stringify((0,window.$)("span",c).data("ids"))},function(b){b&&!b.r&&(LG(a,b.msg),c.remove())})}).on("click",".js-nomore-recommend",function(){window.$.post("/topic/suggest-topics/close",function(a){a&&!a.r&&(0,window.$)(".topic-recommend").fadeOut()})})};var PG=function(a){var b=(0,window.parseInt)(a.Hu.text());QG(a,b+1)};var NG=function(a){var b=(0,window.parseInt)(a.Hu.text());QG(a,b-1)};
var QG=function(a,b){a.Hu.text(b);(0,window.$)(".no-topics").toggle(0===b)};var MG=function(){z.R.call(this)};var RG=function(){z.R.call(this)};var SG=function(a){a.Qf&&a.Qf.H();var b=new av;b.qr=(0,z.Xa)("pin-topic-moving").split(" ");bv(b,a.h,0);b.init();a.o().g(b,"dragend",(0,z.r)(a.ju,a));a.Qf=b;(0,window.$)("a",a.h).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})})};var TG=function(a,b){return(0,window.$)(a.h).find("[data-topicid\x3d"+b+"]")};
var UG=function(a,b){return window.$.post("/pin-topic/add",{tid:b},window.$.proxy(function(a){!a.r&&a.msg?((0,window.$)(this.h).append((0,window.$)(this.qS({topic:a.msg})).hide().fadeIn()),SG(this)):z.T(a.msg,2E3)},a))};var VG=function(a,b,c){var d=TG(a,b);d.fadeOut(function(){d.remove();a.ju().done(function(a){c&&c(a)});a.dispatchEvent({type:"change",FI:d.attr("data-topicid")});0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})};
var WG=function(){z.R.call(this);this.JD="even";this.yn="current"};var XG=function(a,b){return a.Gu.filter(function(){return(0,window.$)(this).text()===b})};var YG=function(a,b){return a.Gu.filter(function(){return(0,window.$)(this).attr("data-id")===String(b)})};var ZG=function(){z.R.call(this)};var $G=function(){z.R.call(this)};
var aH=function(a,b){var c=z.G(b);if(c){var d=new mw;a.L(d);d.use("locationSource",{rt:!0});d.w(c);(0,window.$)(c).on("click",'a[name\x3d"revert"]',function(){if(!1===$B({jm:!0})())return!1;jB(this);return!1}).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new Pw("activity",(0,window.$)(this).data("id"))).submit();return!1})}};var bH=function(){z.R.call(this)};
var cH=function(a,b){var c;if(a&&b){c=c||"text-highlight";var d=new RegExp(b,"i");(0,window.$)(a).find("*").andSelf().contents().each(function(){if(3===this.nodeType){var a=this,g=a.parentNode;if(!z.S.has(g,c))for(var h,l;-1!==(h=a.data.search(d));)h=0<h?a.splitText(h):a,a=h.splitText(b.length),l=window.document.createElement("em"),l.className=c,l.appendChild(h.cloneNode()),g.replaceChild(l,h)}})}};var dH=function(){cw.call(this,{use:["autoload","dataPagingSource"]})};
var eH=function(){z.R.call(this);this.Zg="roundtable";this.mp=z.ms.roundtable};var fH=function(a){var b=new lw({Ov:"content",xI:"script.content"});a.L(b);b.w(a.m());a.o().g(a,["expand","collapse"],function(a){a.target===this&&b.Ta("expand"===a.type,!0)}).g(b,["expand","collapse"],function(a){this.Ta("expand"===a.type)})};
var gH=function(){var a=(0,window.$)(".roundtable-profile");(0,window.$)(".share",a).click(z.Mm(function(){var a=(0,window.$)(this).data();px(["\u5206\u4eab\u6d3b\u52a8","roundtable",a.token,{roundtable_id:a.id}],"tb-webshare-sina");z.X.oa({type:"ga_click_share_roundtable_box",target:this,data:{type:"sina"}})}));(0,window.$)(".follow",a).click(z.Mm(function(){var b=this;(0,z.Ft)(b,"roundtable",function(c){(0,window.$)(".label",b).text(c?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8");var d=(0,window.$)(".followers .count",
a);c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text(c).data("count",c))},["button-success","button-cancel"])}))};var hH=function(){z.R.call(this);this.Vz=z.ms.searchKeyword};var iH=function(){var a=(0,window.$)("#js-search-question-form");a.length&&a.submit(function(b){b.preventDefault();b=z.ip.T();b.show();z.jp(b,(0,window.$)(".title-input",a).val())})};
var jH=function(a){var b=(0,window.encodeURIComponent)(a.Vz);(0,window.$)("ul.list[data-paging]").on("click",".item a[href!\x3d#]",function(a){a=a.currentTarget;a.host&&(a=(0,window.$)(a).closest(".item").index()+1,z.Gj.set("s-q",b),z.Gj.set("s-i",a),z.Gj.set("sid",(0,z.Qs)()))})};
var kH=function(a){function b(a,b){var f=(0,window.$)(a);window.$.each(b(),function(a,b){f.on("click",a,function(a){d.apply(null,c(b,a))})})}function c(a,b){return f(a,function(a){return z.ha(a)?a(b):a})}var d=z.pa(z.Y,"search"),f=z.x.map;b(".related-topics",function(){return{"a.avatar-link":["visit_topic","search_result_card_topic_avatar"],"a.name-link":["visit_topic","search_result_card_topic"],"a[href$\x3dquestions]":["visit_topic_questions","search_result_card_topic"],"a[href$\x3dtop-answers]":["visit_topic_topanswers",
"search_result_card_topic"],"a[href$\x3dfollowers]":["visit_topic_followers","search_result_card_topic"],"button.zg-btn-follow":["click_follow_topic","search_result_card_topic"],"button.zg-btn-unfollow":["click_unfollow_topic","search_result_card_topic"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_topic"]}});b(".related-users",function(){return{"a.avatar-link":["visit_people_profile","search_result_card_people_avatar"],"a.name-link":["visit_people_profile","search_result_card_people"],
"a[href$\x3danswers]":["visit_people_answers","search_result_card_people"],"a[href$\x3dfollowers]":["visit_people_followers","search_result_card_people"],"a[href$\x3dposts]":["visit_people_posts","search_result_card_people"],"button.zg-btn-follow":["click_follow_people","search_result_card_people"],"button.zg-btn-unfollow":["click_unfollow_people","search_result_card_people"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_people"]}});b(window.document.body,function(){var a=
z.pa(z.xa,"search_result_%s_more_button");return{"ul.list.questions + .zu-button-more":["click_search_result_more",a("all")],"ul.list.users + .zu-button-more":["click_search_result_more",a("user")],"ul.list.topics + .zu-button-more":["click_search_result_more",a("topic")]}});b(".search-tabs",function(){var a=z.pa(z.xa,"search_result_tab_%s");return{'a[href^\x3d"/search?type\x3dquestion"]':["click_search_result_tab",a("all")],'a[href^\x3d"/search?type\x3dpeople"]':["click_search_result_tab",a("user")],
'a[href^\x3d"/search?type\x3dtopic"]':["click_search_result_tab",a("topic")]}});b(".range-selector",function(){var a=z.pa(z.xa,"search_result_range_%s");return{'a[href*\x3d"range\x3d1d"]':["click_search_result_range",a("1d")],'a[href*\x3d"range\x3d1w"]':["click_search_result_range",a("1w")],'a[href*\x3d"range\x3d3m"]':["click_search_result_range",a("3m")]}});b("ul.list.questions",function(){function a(){return function(a){return"search_result_all_list_"+((0,window.$)(a.target).closest(".item").index()+
1)+""}}return{"a.question-link":["visit_question",a()],".js-expand, .summary":["click_expand",a()],'a[name\x3d"collapse"]':["click_collapse_answer",a()],"a.zg-follow":["click_follow_question",a()],"a.zg-unfollow":["click_unfollow_question",a()]}});b("ul.list.users",function(){function a(b){return function(a){return"search_result_user_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_people_profile",a("_avatar")],"a.name-link":["visit_people_profile",
a()],"a[href$\x3danswers]":["visit_people_answers",a()],"a[href$\x3dfollowers]":["visit_people_followers",a()],"a[href$\x3dposts]":["visit_people_posts",a()],"button.zg-btn-follow":["click_follow_people",a()],"button.zg-btn-unfollow":["click_unfollow_people",a()]}});b("ul.list.topics",function(){function a(b){return function(a){return"search_result_topic_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_topic",a("_avatar")],"a.name-link":["visit_topic",
a()],"a[href$\x3dquestions]":["visit_topic_questions",a()],"a[href$\x3dfollowers]":["visit_topic_followers",a()],"button.zg-btn-follow":["click_follow_topic",a()],"button.zg-btn-unfollow":["click_unfollow_topic",a()]}});a.o().g(a,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("category","search").fill("label","search_result_answer")})};
var lH=function(a,b){z.O.call(this);var c=this.J={};z.y.extend(c,this.defaults,b||{});this.input=a;this.Yb=c.Yb;this.th=this.ER();this.zv=[];this.zv.push({action:"remove",method:this.removeTag,Uv:c.gS,V:"\u5220\u9664"});(0,window.setTimeout)((0,z.r)(this.xg,this))};
var mH=function(a,b){var c={rd:function(a,b,c){c.innerHTML=f(a.data)}};z.y.extend(c,b||{});var d=new z.mm(a,c);z.N(d,"show",function(){1<d.Ka.length&&!d.Ka[0].id&&z.pl(d)});var f=(0,z.lp)('\x3c% if (data.avatar) { %\x3e\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3c% } %\x3e\x3c% if(data.type \x3d\x3d\x3d "search_link" || !data.id){ %\x3e\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e\x3c%\x3ddata.type \x3d\x3d\x3d "search_link"?("\u6dfb\u52a0 "+label+" \u8bdd\u9898"):label%\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"zu-autocomplete-row-name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c% if (data.alias \x26\x26 data.followers) { %\x3e\x3c% if ( data.alias ) { %\x3e\u53c8\u79f0 \x3c%\x3dalias%\x3e\x3c% } %\x3e\x3c% if ( data.alias \x26\x26 data.followers ){ %\x3e\uff0c\x3c% } %\x3e\x3c% if ( data.followers ){ %\x3e\x3c%\x3dfollowers%\x3e \u4eba\u5173\u6ce8\x3c% } %\x3e\x3c% }else{ %\x3e\x26nbsp;\x3c% } %\x3e\x3c/span\x3e');return d};
var nH=function(){this.tB=this.xB=null};
var oH=function(a){function b(){var a=window.$.grep(f.get(0).options,function(a){return a.selected});window.$.map(a,function(a){return a.value})}function c(){g=n.IM();p.val(g.join(","))}var d=(0,window.$)("#rq-settings-ui"),f=(0,window.$)("select.select",d);(0,window.$)(".topics-num",d);(0,window.$)(".actions-num",d);var g=[];a.tB=(0,window.$)("#rq-info-block");d.on("click",".beginedit-button",function(a){a.preventDefault();d.addClass("expanded-view")}).on("click",".exitedit-button",function(a){a.preventDefault();
d.removeClass("expanded-view")}).on("click",".endedit-button",function(a){a.preventDefault();d.get(0).submit()});a=(0,window.$)(".topic-editor",d);var h=(0,window.$)("input.topic-input",a).get(0),l=(0,window.$)("ul.tag-list",a).get(0),n=new lH(h,{Dv:!0,Yb:l}),p=(0,window.$)('input[name\x3d"topics"]',a);n.on("change",c);f.on("change",b);c();b();pH(f.get(0))};
var pH=function(a){function b(a,b){var c=z.J("li"),f=z.J("span","item-label",a);c.appendChild(f);var h=new z.qj("",z.zj.T());h.Dh("zm-profile-tag-btn zm-profile-tag-btn-del");h.bb(!0);h.mc("\u79fb\u9664\u52a8\u4f5c");h.Ha(b);h.addEventListener("action",function(){var a=h.X();g(a,!1);z.K(c);l.Ft(!0);d()});h.ca(c);p.appendChild(c)}function c(){n.G(l.ul()!==f().length)}function d(){z.x.forEach(h,function(a){a.selected||(a=new rD(a.text,a.value),l.Ja(a))});c()}function f(){return z.x.filter(l.zb(),function(a){return!!(a.N&
8)})}function g(a,b){var c=z.x.find(h,function(b){return b.value===a});c&&(c.selected=b)}z.Q(a,!1);var h=a.options,l=new zw;l.on("action",function(a){a=a.target;b(a.Ig(),a.X());g(a.X(),!0);l.removeItem(a);c()});var n=new Hw("\u6dfb\u52a0\u52a8\u4f5c",l);n.Dh("menu-button");n.ca(a.parentNode);n.hk=!0;Jw(n);var p=z.J("ul","display-list");d();(function(){z.x.forEach(h,function(a){a.selected&&b(a.text,a.value)})})();a.parentNode.insertBefore(p,n.m())};
var qH=function(a){function b(){var b=f.text()||0;0<b&&f.text(b-1);rH(a)}var c=(0,window.$)("#rq3-item-list"),d={KT:function(a){return window.$.post("/watch/thank",{id:a,rq_type:"thank"})},XR:function(a){return window.$.post("/watch/seen",{id:a,rq_type:"seen"})}};c.on("click",".read-button",function(){var a=(0,window.$)(this).closest(".rq-item"),c=a.data("id");d.XR(c);b();a.slideUp(function(){a.remove()})}).on("click",".thank-button",function(a){a.preventDefault();a=(0,window.$)(this);var b=a.closest(".rq-item").data("id");
a.hasClass("thanked")||(d.KT(b),a.addClass("thanked").text("\u5df2\u611f\u8c22"))});mB(c);c=new $w(c.get(0),window.location.href,!0);c.eH=function(a){return a.getAttribute("data-id")};c.xi("rq-item");c.init();var c=(0,window.$)("#rq3-sidenav-link"),f=(0,window.$)(".zg-num",c);a.xB=f};var rH=function(a){var b=a.tB,c=Number(a.xB.text());(0,window.setTimeout)(function(){b.toggleClass("hidden",!!c)},210)};var sH=function(){};var tH=function(){z.R.call(this)};var uH=function(){z.R.call(this)};var vH=function(){};
var wH=function(a,b){z.ea(b)||(b=[b]);var c=z.x.map(b,function(a){return z.q(a)?a:a.UR+" "+a.duration+"s "+a.timing+" "+a.delay+"s"});xH(a,c.join(","))};var xH=function(a,b){z.Ag(a,"transition",b)};var yH=function(a,b,c,d,f){z.Hj.call(this);this.h=a;this.aM=b;this.EO=c;this.PD=d;this.YT=z.ea(f)?f:[f]};var zH=function(a,b,c,d){return new yH(a,.15,{opacity:c},{opacity:d},{UR:"opacity",duration:.15,timing:b,delay:0})};var AH=function(){z.R.call(this);this.Zg="explore";this.nM="explore_feed"};
var BH=function(){var a=(0,window.$)("ul.hot-roundtables"),b=(0,window.$)(".hot-roundtables-feature-popup");if(a.children().length&&b.length&&!(300>a.offset().left)){var c=a.children().first(),d=new z.nq(b[0]);d.vi(!1);d.Yt(zH(b[0],"ease-out",0,1),zH(b[0],"ease-in",1,0));b.on("click",".dismiss",function(){window.$.post("/notifeature",{feature:"explore_roundtable"});d.G(!1)});(0,window.setTimeout)(function(){d.G(!1);z.oq(d,2);z.ou(d,new z.wg(-25,10,0,0));d.setPosition(new Aw(c[0],0));d.G(!0)},200)}};
var CH=function(a){var b=(0,window.$)("#js-explore-tab");if(b.length){var c=(0,window.$)(".tab-panel",b),d=(0,window.$)(".tab-nav",b),f=null;d.children().click(function(){f=z.Pb(window.document)});b=function(){var b={"daily-hot":0,"monthly-hot":1}[window.location.hash.slice(1)]||0;d.removeClass("active").eq(b).addClass("active");b=c.hide().eq(b).show().children("[data-type]");if(!b.data("inited")){b.data("inited",!0);var h={daily:tC,monthly:vC}[b.data("type")],h=new DH(h);h.use("expandLimit");a.L(h);
h.w(b[0])}f&&window.scrollTo(f.x,f.y)};a.o().g(window,"hashchange",b);b()}};var EH=function(a){var b=(0,window.$)("#zh-recommend-list-full\x3e.zh-general-list")[0];if(b){var c=new mw;c.use("nodeSource");dw(c,function(a){var b=Pz(a);b&&(c.L(b),b.w(a))});a.L(c);c.w(b)}};var DH=function(a){cw.call(this,{source:FH(a),use:["autoload"]})};var FH=function(a){return function(){return a((0,window.$)(this.zb()).last().data("offset")).then(function(a){return{results:a}})}};var GH=function(){z.R.call(this)};
var HH=function(){var a=0;return function(){return window.$.get("",{start:a+20,limit:20}).then(function(b){if(!b.r)return b=b.msg,b.hasmore&&(a+=20),{results:b.htmls,next:Boolean(b.hasmore)}})}};var IH=function(a){this.Ot=a;a.activityUrl="";JH(this)};
var JH=function(a){function b(a,b){var c;c=c||"slug";return{source:a,filter:function(a){return a.filter(function(a){return b.every(function(b){return b[c]!==a[c]})})},select:function(a){b.push(a);return""}}}a=a.Ot;var c=a.roundtable;a.topicsSuggestOpitons=b("/r/ac/topics",c.topics);a.organizationsSuggestOpitons=b("/r/ac/topics",c.organizations);a.presentersSuggestOpitons=b("/r/ac/users",c.presenters);a.guestsSuggestOpitons=b("/r/ac/users",c.guests)};
var KH=function(a,b){var c={ge:5,className:"ui-suggest",jh:"row",LD:200};z.y.extend(c,b||{});var d=c.ca;d&&(c.rd=z.m,c.ca=function(a,b){!1!==d.apply(this,arguments)&&(a.jg=z.Lb(a.jh,b))});z.mm.call(this,a,c);var f=this.O;f.className=c.className;f.jh=c.jh;f.Ko=c.LD};
var LH=function(a,b){return function(c,d,f){(0,window.$)(d).datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"});b(function(){(0,window.$)(d).datetimepicker("update",new Date(a(f.ngModel)(c)))})}};var MH=function(){return{scope:{id:"@id",avatar:"\x3davatar"},link:function(a,b){var c=new FA(4,a.id,"xl");c.w(b);c.addEventListener("success",function(){a.$apply(function(){a.avatar.id=c.getData().id})})}}};
var NH=function(a){return{scope:{options:"\x3dsuggestOptions"},link:function(b,c,d){var f,g;d={CS:'\x3cdiv class\x3d"row"\x3e\x3cimg class\x3d"avatar" src\x3d"[[avatar | avatarUrl]]"\x3e\x3cspan class\x3d"name"\x3e[[name]]\x3c/span\x3e\x3c/div\x3e',LD:100,source:d.source,ri:c.parent()[0],ca:function(a,b,c){b.innerHTML=c.map(function(a){return g(a.data)}).join("")}};g=a(d.CS);window.angular.extend(d,b.options);d.select&&(d.select=function(a){return function(c){return b.$apply(function(){return a(c)})}}(d.select));
f=new KH(c[0],d);return b.$on("destroy",function(){return f.H()})}}};var OH=function(){return function(a,b){return"string"===typeof a?a:a.template.replace("{id}",a.id).replace("{size}",b||"xs")}};var PH=function(a){a.startSymbol("[[").endSymbol("]]")};var QH=function(){eH.call(this);this.mp=z.ms.roundtable};
var RH=function(a){var b=a.mp;(0,window.$)(".feeds.pending-questions").on("click",".add",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"approve_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})}).on("click",".remove",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,
{action:"ignore_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var SH=function(a){var b=a.mp;(0,window.$)(".feeds.pending-activities").on("click",".remove",function(){var a=(0,window.$)(this).data(),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"remove_pending_activity",type:a.type,url_token:a.token}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var TH=function(a){var b=(0,window.$)(".add-pending-activities-form");if(b.length){var c=(0,window.$)(".url",b),d=(0,window.$)(".time",b);d.datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"}).datetimepicker("update",new Date);var f=a.mp;b.submit(function(a){function b(a){a.success?(z.T("\u6dfb\u52a0\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},3E3)):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")}a.preventDefault();
if(!c.val())return z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u5fc5\u987b\u586b\u5199");if(!d.val())return z.T("\u53d1\u5e03\u65f6\u95f4\u5fc5\u987b\u586b\u5199");a=(a=c.val().match(/\/question\/\d+\/answer\/(\d+)/))&&a[1];var l=c.val().match(/\/question\/(\d+)/),l=l&&l[1];a?window.$.post("/roundtable/"+f.slug,{action:"add_pending_activity",publish_time:d.val(),type:"answer",url_token:a},b):l?window.$.post("/roundtable/"+f.slug,{action:"add_pending_activity",publish_time:d.val(),type:"question",
url_token:l},b):z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u4e0d\u6b63\u786e")})}};var UH=function(){z.R.call(this)};var VH=function(){z.R.call(this)};var WH=function(a){a.Iu&&a.Iu.hide();a.Iu=(0,window.$)(a.AB[a.fr]).show();(0,window.$)(".question-progress").html(a.fr+1+"/"+a.Ez);a.fr++};
var XH=function(a,b){a.kB.hide();a.Ip.show();b?((0,window.$)(".success-view-back-btn",a.Ip).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Ip).css("display","inline-block")):((0,window.$)(".success-view-back-btn",a.Ip).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Ip).hide());a.Fp===a.bE&&(0,window.$)(".success-describe",a.K).html("\u4f60\u7684\u53cb\u5584\u5ea6\u5df2\u7ecf\u662f\u6700\u9ad8\u503c");var c=(0,window.$)(".blue-stars",a.K).css("width","0"),d=a.Fp;(0,window.setTimeout)(function(){c.animate({width:20*
d+"%"},1E3)},200)};var YH=function(a,b,c){var d=(0,window.$)(".failed-view-wrong-answers",a.jl);a.kB.hide();a.jl.show();c?((0,window.$)(".failed-view-back-btn",a.jl).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.jl).css("display","inline-block")):((0,window.$)(".failed-view-back-btn",a.jl).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.jl).hide());d.html("");a.AB.each(function(){var a=(0,window.$)(this),c=a.data("id");z.x.contains(b,c)&&a.appendTo(d).show()})};z.v(ku,z.Nd);
z.$o.prototype.$w=z.Z(56,function(){return this.Na});z.No.prototype.Oe=z.Z(55,function(a){this.ea.Wt(a)});z.Hn.prototype.Fc=z.Z(45,function(){return this.P.toString()});z.Mn.prototype.Fc=z.Z(44,function(){return this.P.text});z.Zn.prototype.Fc=z.Z(43,function(){return z.co(this).Fc()});z.fo.prototype.Fc=z.Z(42,function(){return""});z.mo.prototype.Fc=z.Z(41,function(){return z.x.map(z.yn(this),function(a){return a.Fc()}).join("")});z.pq.prototype.Fc=z.Z(40,function(){return z.yc(this.m())});
z.wn.prototype.Lb=z.Z(21,function(){var a=this.tc();return 1==a.nodeType?a:a.parentNode});z.Vm.prototype.Yw=z.Z(18,function(){return z.Zs});z.jj.prototype.xm=z.Z(17,function(a){this.Ga(a)});z.di.prototype.xp=z.Z(14,function(a){this.ap=a});z.jj.prototype.xp=z.Z(13,function(a){this.ap=a});z.Xh.prototype.jy=z.Z(12,function(){return this.Jj||150>(0,z.w)()-this.ry});z.Xh.prototype.Yt=z.Z(11,function(a,b){this.Hm=a;this.Il=b});
z.$h.prototype.Yt=z.Z(10,function(a,b,c,d){this.ck=a;this.bk=b;this.Lk=c;this.Kk=d});z.Xh.prototype.vi=z.Z(9,function(a){z.Yh(this);this.Jk=a});z.ui.prototype.vi=z.Z(8,function(a){this.Jk=a;this.xa&&z.wi(this)});z.Dh.prototype.cA=z.Z(7,function(a){this.Hx=Math.pow(a,2)});z.Dh.prototype.Sf=z.Z(6,function(a){this.Gi=a});z.Pj.prototype.Sf=z.Z(5,function(a){this.Gi=a});
z.Vf.prototype.oq=z.Z(4,function(a,b,c){var d=(0,z.w)(),f=c?c:d,g=lu(this.wr);g.yr=2;g.xr=f;g.type=b;g.MC=a;a=(a=this.VV)&&a.isTracing()?a.totalVarAlloc:-1;g.GI=a;this.Lv++;if(c){c=this.Uf.length;for(a=0;a<c;a++)if(this.Uf[a].xr>f){z.x.to(this.Uf,g,a);break}a==c&&this.Uf.push(g)}else this.Uf.push(g);if(f=g.type)g=this.mk.get(f),g||(g=lu(this.BA),g.type=f,this.mk.set(f,g)),g.count++;this.tu+=(0,z.w)()-d});
z.Gb.prototype.Rv=z.Z(1,function(a,b,c){var d=this.La;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var l=d.createElement("TR"),n=0;n<b;n++){var p=d.createElement("TD");c&&z.rc(p,"\u00a0");l.appendChild(p)}g.appendChild(l)}return f});z.xb.prototype.sl=z.Z(0,function(){return this.rD});z.v(z.uu,z.R);z.e=z.uu.prototype;z.e.oy=null;z.e.tb=null;z.e.O=null;z.e.Gb=null;z.e.pb=!0;z.e.hc=!0;z.e.Nw=!0;z.e.Sa=-1;z.e.lc=null;z.e.sf=!1;z.e.cK=!1;z.e.oR=!0;
z.e.Ag=null;z.e.Zb=function(){return this.oy||this.O.Zb(this)};z.e.Gr=function(){return this.tb||(this.tb=new z.Zi(this.Zb()))};z.e.B=function(){this.h=this.O.B(this)};z.e.W=function(){return this.O.W(this.m())};z.e.fc=function(a){return this.O.fc(a)};z.e.fa=function(a){this.h=this.O.w(this,a);"none"==a.style.display&&(this.pb=!1)};
z.e.D=function(){z.uu.v.D.call(this);z.Vh(this,function(a){a.xa&&gu(this,a)},this);var a=this.m();this.O.Fe(this);this.G(this.pb,!0);this.o().g(this,"enter",this.tx).g(this,"highlight",this.xx).g(this,"unhighlight",this.Fx).g(this,"open",this.IN).g(this,"close",this.qx).g(a,"mousedown",this.ee).g(z.Hb(a),"mouseup",this.aN).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.UM);this.Qg()&&hu(this,!0)};z.e.mb=function(){this.Hb(-1);this.lc&&this.lc.Db(!1);this.sf=!1;z.uu.v.mb.call(this)};
z.e.C=function(){z.uu.v.C.call(this);this.tb&&(this.tb.H(),this.tb=null);this.O=this.lc=this.Ag=this.oy=null};z.e.tx=function(){return!0};z.e.xx=function(a){var b=z.Yt(this,a.target);if(-1<b&&b!=this.Sa){var c=z.fu(this);c&&c.wc(!1);this.Sa=b;c=z.fu(this);this.sf&&c.setActive(!0);this.oR&&this.lc&&c!=this.lc&&(z.dj(c,64)?c.Db(!0):this.lc.Db(!1))}b=this.m();null!=a.target.m()&&z.lh(b,"activedescendant",a.target.m().id)};z.e.Fx=function(a){a.target==z.fu(this)&&(this.Sa=-1);this.m().removeAttribute("aria-activedescendant")};
z.e.IN=function(a){(a=a.target)&&a!=this.lc&&a.getParent()==this&&(this.lc&&this.lc.Db(!1),this.lc=a)};z.e.qx=function(a){a.target==this.lc&&(this.lc=null)};z.e.ee=function(a){this.hc&&(this.sf=!0);var b=this.Zb();b&&z.uc(b)?b.focus():a.preventDefault()};z.e.aN=function(){this.sf=!1};
z.e.UM=function(a){var b;a:{b=a.target;if(this.Ag)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.Ag){b=this.Ag[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.ee(a);break;case "mouseup":b.nf(a);break;case "mouseover":b.md(a);break;case "mouseout":b.Cl(a);break;case "contextmenu":b.$n(a)}};z.e.Cd=function(){};z.e.Xc=function(){this.Hb(-1);this.sf=!1;this.lc&&this.lc.Db(!1)};
z.e.$b=function(a){return this.isEnabled()&&this.S()&&(0!=z.Th(this)||this.oy)&&this.mf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.mf=function(a){var b=z.fu(this);if(b&&"function"==typeof b.$b&&b.$b(a)||this.lc&&this.lc!=b&&"function"==typeof this.lc.$b&&this.lc.$b(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Qg())this.Zb().blur();else return!1;break;case 36:z.eu(this);break;case 35:du(this);break;case 38:if(this.Gb==z.Zs)bu(this);else return!1;break;case 37:if(this.Gb==z.Ys)this.Ed()?cu(this):bu(this);else return!1;break;case 40:if(this.Gb==z.Zs)cu(this);else return!1;
break;case 39:if(this.Gb==z.Ys)this.Ed()?bu(this):cu(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.uu.v.L.call(this,a,b)};z.e.Fk=function(a,b,c){a.qh|=2;a.qh|=64;!this.Qg()&&this.cK||a.Ob(32,!1);a.vp(!1);var d=a.getParent()==this?z.Yt(this,a):-1;z.uu.v.Fk.call(this,a,b,c);a.xa&&this.xa&&gu(this,a);a=d;-1==a&&(a=z.Th(this));a==this.Sa?this.Sa=Math.min(z.Th(this)-1,b):a>this.Sa&&b<=this.Sa?this.Sa++:a<this.Sa&&b>this.Sa&&this.Sa--};
z.e.removeChild=function(a,b){if(a=z.q(a)?z.Sh(this,a):a){var c=z.Yt(this,a);-1!=c&&(c==this.Sa?(a.wc(!1),this.Sa=-1):c<this.Sa&&this.Sa--);(c=a.m())&&c.id&&this.Ag&&z.y.remove(this.Ag,c.id)}a=z.uu.v.removeChild.call(this,a,b);a.vp(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Gb=a};z.e.S=function(){return this.pb};
z.e.G=function(a,b){if(b||this.pb!=a&&this.dispatchEvent(a?"show":"hide")){this.pb=a;var c=this.m();c&&(z.Q(c,a),this.Qg()&&iu(this.Zb(),this.hc&&this.pb),b||this.dispatchEvent(this.pb?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.hc};
z.e.bb=function(a){this.hc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.hc=!0,z.Vh(this,function(a){a.hJ?delete a.hJ:a.bb(!0)})):(z.Vh(this,function(a){a.isEnabled()?a.bb(!1):a.hJ=!0}),this.sf=this.hc=!1),this.Qg()&&iu(this.Zb(),a&&this.pb))};z.e.Qg=function(){return this.Nw};z.e.Qe=function(a){a!=this.Nw&&this.xa&&hu(this,a);this.Nw=a;this.hc&&this.pb&&iu(this.Zb(),a)};z.e.Hb=function(a){(a=z.Uh(this,a))?a.wc(!0):-1<this.Sa&&z.fu(this).wc(!1)};z.e.wc=function(a){this.Hb(z.Yt(this,a))};
z.e.xC=function(a){return a.S()&&a.isEnabled()&&z.dj(a,2)};z.e.bA=function(a){this.Hb(a)};var Cu={};Bu.prototype.Ml=!0;Bu.prototype.qj=function(){return this.GA};Bu.prototype.toString=function(){return"Const{"+this.GA+"}"};z.v(z.Eu,z.De);z.Eu.prototype.next=function(){var a=this.uG;if(!a)throw z.P.eb;this.uG=this.yS?a.previousSibling:a.nextSibling;return a};var Ku={},Mu={},Wv=/^[-,."'%_!# a-zA-Z0-9]+$/;z.v(Iu,z.Eu);Ju.prototype.Ml=!0;Ju.prototype.qj=function(){return this.oH};Ju.prototype.Qx=!0;
Ju.prototype.sl=function(){return 1};Lu.prototype.Ml=!0;Lu.prototype.qj=function(){return this.hm};Lu.prototype.Qx=!0;Lu.prototype.sl=function(){return 1};var lv=/^#(?:[0-9a-f]{3}){1,2}$/i;z.v(Ou,z.Nd);Vu.defaults={paddingTop:0};var jv=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,mv=/#(.)(.)(.)/,Vv=/^[a-zA-Z0-9-]+$/;z.v($u,z.kn);z.e=$u.prototype;z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))$u.v.w.call(this,a),this.Le(!0),z.Q(this.RD,!1)};
z.e.Og=function(a){var b;this.ky&&(b="/topic/autocomplete?no_create\x3dtrue");$u.v.Og.call(this,a,b);this.Y.nd.OD=!1};z.e.sm=function(){return(0,z.r)(function(a,b){return z.x.filter(a,function(a){return 3>=a.length?!1:z.x.every(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"\u5df2\u5728\u73b0\u6709\u5217\u8868\u4e2d',!0):!1:!0})},this)},this)};
z.e.Xe=function(a,b){this.Ug||(this.Ug=!0,this.xhr=new z.U(!0),this.o().sa(this.xhr,"complete",this.$u),a||(a=-1),this.ky?this.xhr.ajax("/topic/add","tid\x3d"+this.Cf+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.Cf+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.aE=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.$o=function(a){if(!this.ha||!this.ha.Sb()){var b=new z.U(!0);this.o().g(b,"success",function(){var c=z.mf(b);c.r?z.T(c.msg):(z.nn(this),this.Pe(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.ky?b.ajax(this.CH,"cid\x3d"+this.Cf+"\x26pid\x3d"+a):b.ajax(this.CH,"pid\x3d"+this.Cf+"\x26cid\x3d"+a);this.ha=b}};z.v(av,z.O);z.e=av.prototype;z.e.XE=0;z.e.cA=function(a){this.XE=a};
z.e.init=function(){if(!this.vF){for(var a=0,b=this.Tc.length;a<b;a++)for(var c=z.fc(this.Tc[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,l=z.ja(h);this.kw[l]=g;this.CD&&(this.U.g(g,"mouseover",this.hN),this.U.g(g,"mouseout",this.gN));this.BD&&(this.U.g(h,"mouseover",this.fN),this.U.g(h,"mouseout",this.eN));this.el.push(g);this.U.g(h,["mousedown","touchstart"],this.LN)}this.vF=!0}};
z.e.C=function(){this.U.H();for(var a=0,b=this.Tc.length;a<b;a++){var c=this.Tc[a];c.zD=void 0;c.$i=void 0}this.Tc.length=0;this.el.length=0;this.kw=null;dv(this);av.v.C.call(this)};
z.e.LN=function(a){var b=z.ja(a.currentTarget);this.$a=this.kw[b];a:{for(var b=this.$a,c=b.cloneNode(!0),d=b.getElementsByTagName("TEXTAREA"),f=c.getElementsByTagName("TEXTAREA"),g=0;g<d.length;g++)f[g].value=d[g].value;switch(b.tagName){case "TR":b=z.J("TABLE",null,z.J("TBODY",null,c));break a;case "TD":case "TH":b=z.J("TABLE",null,z.J("TBODY",null,z.J("TR",null,c)));break a;case "TEXTAREA":c.value=b.value;default:b=c}}this.Dc=b;this.qr&&z.uh(this.Dc,this.qr||[]);this.Dc.style.margin="0";this.Dc.style.position=
"absolute";this.Dc.style.visibility="hidden";z.Hb(this.$a).body.appendChild(this.Dc);b=z.Og(this.$a);Wu(this.Dc,b);this.Jb=new z.Dh(this.Dc);this.Jb.cA(this.XE);z.N(this.Jb,"start",this.sx,!1,this);z.N(this.Jb,"end",this.cN,!1,this);z.N(this.Jb,"earlycancel",this.Fv,!1,this);this.Jb.Km(a)};
z.e.sx=function(a){if(this.dispatchEvent(new Ou("beforedragstart",0,a.tC,0,0,null))){this.ot=this.$a.parentNode;this.$C=this.mz=Xu(this.$a);this.Wv=this.ot;this.Vv?z.uh(this.$a,this.Vv||[]):this.$a.style.visibility="hidden";var b=z.Vg(this.Dc);this.Dc.NM=b.width/2;this.Dc.MM=b.height/2;this.Dc.style.visibility="";this.bB&&(this.$a.style.display="none");cv(this,this.$a);this.$a.style.display="";z.N(this.Jb,"drag",this.iN,!1,this);this.dispatchEvent(new Ou("dragstart",0,a.tC,0,0,this.Jb))}else a.preventDefault(),
this.Fv()};
z.e.iN=function(a){var b=z.Og(this.Dc),b=new z.Cb(b.x+this.Dc.NM,b.y+this.Dc.MM),c;a:{c=null;if("none"!=this.$a.style.display){c=this.$a.parentNode;var d=z.Xg(c);if(ev(b,d))break a}for(var d=0,f=this.Tc.length;d<f;d++){var g=this.Tc[d];if(g!=c&&ev(b,g.dl)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var l,n,d=!1,f=void 0;switch(c.zD){case 0:h=b.y;l=Tu;n=Qu;break;case 4:d=!0;case 2:h=b.x;l=Su;n=Qu;break;case 5:d=!0;case 3:h=b.x,l=Ru,n=Pu}for(var g=
null,p,E=z.fc(c),H=0,L=E.length;H<L;H++){var M=E[H];if(M!=this.$a){var W=l(M.dl);if(d){var ma=Uu(M,b);z.ba(f)||(f=ma);n(h,W)&&(void 0==p||ma<f||ma==f&&(n(W,p)||W==p))&&(g=M,p=W);ma<f&&(f=ma)}else n(h,W)&&(void 0==p||n(W,p))&&(g=M,p=W)}}h=null!==g&&Uu(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new Ou("beforedragmove",0,a,0,0,this.Jb)))return!1;if(c)this.bB?this.$a.parentNode==c&&Xu(this.$a)==h||c.insertBefore(this.$a,h):h&&(this.$C=h),this.$a.style.display="",c.$i&&z.th(c,c.$i);else for(this.VO||
(this.$a.style.display="none"),h=0,l=this.Tc.length;h<l;h++)n=this.Tc[h],n.$i&&z.vh(n,n.$i);c!=this.Wv&&(this.Wv=c,cv(this,this.$a));this.dispatchEvent(new Ou("dragmove",0,a,0,0,this.Jb));return!1};z.e.Fv=function(){dv(this);this.Jb=this.Dc=this.mz=this.ot=this.Wv=this.$a=null;for(var a=0,b=this.Tc.length;a<b;a++)this.Tc[a].dl=null;a=0;for(b=this.el.length;a<b;a++)this.el[a].dl=null};
z.e.cN=function(a){if(!this.dispatchEvent(new Ou("beforedragend",0,a,0,0,this.Jb)))return!1;this.bB||this.ot.insertBefore(this.$a,this.$C);dv(this);this.dispatchEvent(new Ou("dragend",0,a,0,0,this.Jb));this.Fv();return!0};z.e.hN=function(a){z.uh(a.currentTarget,this.CD||[])};z.e.gN=function(a){z.wh(a.currentTarget,this.CD||[])};z.e.fN=function(a){z.uh(a.currentTarget,this.BD||[])};z.e.eN=function(a){z.wh(a.currentTarget,this.BD||[])};
var Mv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},$H=/[^\d]+$/;z.v(sv,z.kn);z.e=sv.prototype;
z.e.w=function(a){this.h=a;this.kg=z.I("zm-tag-editor-labels",this.h);this.Le(!0);this.we();this.wb();this.Vf=z.G("zh-expert-topics");this.Xm=z.G("zh-active-topics");tv(this);uv(this);this.data=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get();this.qm()};
z.e.Kn=function(){this.Uc||(this.Uc=z.J("div","zm-tag-editor-editor",[this.df=z.J("div","zg-section zm-tag-editor-command-buttons-wrap",[this.ob=z.G("profile-expert-edit-input")])]),this.Ge&&(this.qy=new z.$m(this.Ge),this.qy.w(this.ob),this.ob.title=this.Ge),z.bc(this.Uc,this.kg),this.Og(this.df))};
z.e.Og=function(a){this.Y=new z.jn("/topic/autocomplete",this.ob,null,null,a,!0);this.Y.oh(!0);this.Y.Ul=this.ge;this.Y.yp(this.sm());tu(this.Y,[this.Ge]);this.o().g(this.Y,"select",this.Po);this.o().g(this.Y,"suggestionsupdate",this.Zu);this.o().g(this.Y,"suggestionsupdate",this.Wu);this.o().g(this.Y,z.ol,function(){(0,window.$)(this.Y.O.h).hide()})};
z.e.Wu=function(){if(0===this.Y.Ka.length){var a=z.J("div",{className:"zu-autocomplete-empty"},"\u6ca1\u6709\u540d\u5b57\u4e3a "+(0,window.$)(this.ob).val()+" \u7684\u8bdd\u9898");(0,window.$)(this.Y.O.h).html(a).show()}};z.e.Po=function(){var a=this.Y.nj().slice(1);a&&3<a.length&&(this.fD=a,this.Xe(a))};
z.e.Xe=function(a){this.data.push(a[1]);var b=(0,window.$)(this.Vf).find("[data-url-token\x3d'"+a[1]+"']")[0];b?z.Gk(b):(hv("TopicMediumV2",{member_url_token:z.V[1],topic_url_token:a[1]},this.br,this),(0,window.$)(this.Xm).find("[data-url-token\x3d'"+a[1]+"']").remove(),this.dispatchEvent("add"))};z.e.br=function(a){a=(0,window.$)(a)[0];z.cc(this.Vf,a,0);z.Gk(a);this.Tk()};z.e.Pe=function(){};
z.e.qm=function(){if(!z.Ar.vc){var a=this;this.Qf&&this.Qf.H();var b=new av;b.qr=(0,z.Xa)("expert-item-moving").split(" ");bv(b,this.Vf,4);b.init();this.Qf=b;this.o().g(this.Qf,"dragend",function(){this.dispatchEvent("sort")});(0,window.$)("a, input, .del, .add",this.Vf).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})});this.o().g(this.Qf,"beforedragstart",function(){return z.I("editing",this.Vf)?!1:!0})}};
z.e.Tk=function(){var a=(0,window.$)(this.Vf).children().length;6<a&&z.K((0,window.$)(this.Vf).children()[6]);z.Q(z.G("zh-profile-expert-empty"),0>=a);0<a&&z.Q(z.G("zh-profile-expert-warning"),!1);a=(0,window.$)(this.Xm).children().length;z.Q(z.G("active-topics-wrap"),a);this.qm()};z.e.sm=function(){return(0,z.r)(function(a){return z.x.filter(a,function(a){return z.x.every(this.data,function(c){return c+""!==a[2]+""&&3<a.length})},this)},this)};z.v(vv,$u);
vv.prototype.Xe=function(a){this.Ug||(this.Ug=!0,this.xhr=new z.U(!0),this.o().sa(this.xhr,"complete",this.$u),this.xhr.ajax(this.qC,"tid\x3d"+a+"\x26method\x3dadd"))};vv.prototype.$o=function(a){this.Ug||(this.Ug=!0,this.xhr=new z.U(!0),this.o().g(this.xhr,"complete",function(){z.nn(this);this.Pe();this.Ug=!1}),this.xhr.ajax(this.qC,"tid\x3d"+a+"\x26method\x3ddel"))};z.v(wv,z.kn);z.e=wv.prototype;z.e.w=function(a){this.h=a;this.kg=z.I("zm-tag-editor-labels",this.h);this.Le(!0);this.we();this.wb()};
z.e.Kn=function(){this.Uc||(this.Uc=z.J("div","zm-tag-editor-editor",[this.In=z.J("div","zg-section zg-clear"),this.df=z.J("div","zg-section zm-tag-editor-command-buttons-wrap",[this.ob=z.G("zh-topic-merge-input"),z.J("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"\u6dfb\u52a0"),this.RD=z.G("zh-topic-merge-btn")])]),z.bc(this.Uc,this.kg),this.Og(this.df))};
z.e.Og=function(a){this.Y=new z.jn("/topic/autocomplete",this.ob,null,null,a,!0);this.Y.oh(!0);this.Y.Ul=this.ge;this.Y.yp(this.sm());this.Y.xw=[this.Ge];this.o().g(this.Y,"select",this.Po);this.o().g(this.Y,"suggestionsupdate",this.Zu)};z.e.sm=function(){return(0,z.r)(function(a){return z.x.filter(a,function(a){return z.x.every(this.data,function(c){return c[1]!==a[1]&&3<a.length})},this)},this)};z.e.Po=function(){var a=this.Y.nj().slice(1);a&&3<a.length&&(this.fD=a,this.Xe(a[3],a[0]))};
z.e.Xe=function(a,b){var c=this;(0,window.setTimeout)(function(){c.ob.value=b})};z.e.Pe=function(){};
var Gz={qE:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},lB:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.Ei("\u63d0\u793a\u4fe1\u606f","\x3cp\x3e"+a.msg+'\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24752645" target\x3d"_blank"\x3e\u4e3a\u4ec0\u4e48\u56de\u7b54\u4f1a\u88ab\u5efa\u8bae\u4fee\u6539\uff1f\x3c/a\x3e\x3c/p\x3e')})},$z:function(a,b){return window.$.post("/node/AnswerMetaV2",
{method:"set_copyright",params:{answer_id:a,is_copyable:Number(b)}})}};z.v(Iv,z.Sj);Iv.prototype.xh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.v(Jv,z.Sj);Jv.prototype.xh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.v(Kv,z.Sj);Kv.prototype.xh=function(){var a=this.Gi&&this.Ed()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.v(Zv,z.O);var aw={};
Zv.prototype.defaults={};Zv.prototype.o=function(){return this.Kg||(this.Kg=new z.ye(this))};Zv.prototype.init=function(){};Zv.prototype.C=function(){Zv.v.C.call(this);this.view&&(z.y.remove(this.view.Hd,this.name),this.view=null);this.Kg&&(this.Kg.H(),this.Kg=null)};z.v(cw,z.R);z.e=cw.prototype;z.e.defaults={source:null,use:["autoload","shortcut"],ph:!0,ln:"zg-btn-white zu-button-more"};z.e.use=function(a,b){var c=bw(a,b);c.view=this;this.xa?c.init(this):this.o().g(this,"initialized",function(){c.init(this)});this.Hd[a]=c;return this};z.e.Wi=function(){!this.Pd&&this.J.ph&&(this.Pd=this.Lq(),z.bc(this.Pd,this.h),this.o().g(this.Pd,"click",this.Vs))};
z.e.D=function(){cw.v.D.call(this);this.Wi();z.x.forEach(this.zb(),this.br,this);z.x.forEach(this.J.use,this.use,this);this.dispatchEvent("initialized")};z.e.C=function(){z.y.forEach(this.Hd,function(a){a.H()});this.Hd=null;cw.v.C.call(this)};z.e.zb=function(){return z.fc(this.h)};z.e.br=function(a,b){this.Yj(a,b);this.dispatchEvent({type:"itemcreated",item:a,index:b})};z.e.Yj=z.m;z.e.FQ=function(a){if(a){var b=a.results,c=!b||!b.length;c||this.ca(b);this.dispatchEvent("next");(c||!1===a.next)&&ew(this)}};
z.e.ca=function(a,b){a=window.$.isArray(a)?a.join(""):a;var c=z.Wb(a+" ");z.x.forEach(window.$.makeArray(z.fc(c)),this.br,this);z.cc(this.h,c,b)};z.e.Vs=function(){if(!1!==this.dispatchEvent("beforeloadnext")&&"pending"!==this.promise.state())return this.oA(!0),this.promise=this.source().done((0,z.r)(this.FQ,this)).always((0,z.r)(z.pa(this.oA,!1),this))};z.e.Bd=function(){return this.Pd};z.e.Lq=function(){return z.J("a",{"aria-role":"button","class":this.J.ln},"\u66f4\u591a")};
z.e.oA=function(a){this.Pd&&(this.Pd.innerHTML=a?'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e \u52a0\u8f7d\u4e2d':"\u66f4\u591a",z.S.enable(this.Pd,"loading",a))};var gw={s:function(a,b,c){return(0,window.isNaN)(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,f){d=a.toString();(0,window.isNaN)(f)||""==f||(d=(0,window.parseFloat)(a).toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if((0,window.isNaN)(c)||d.length>=c)return d;d=(0,window.isNaN)(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;0<=b.indexOf("-",0)?d=g+
d+Array(a+1).join(" "):(b=0<=b.indexOf("0",0)?"0":" ",d=g+Array(a+1).join(b)+d);return d},d:function(a,b,c,d,f,g,h,l){return gw.f((0,window.parseInt)(a,10),b,c,d,0,g,h,l)}};gw.i=gw.d;gw.u=gw.d;$v("activeSource",{defaults:{OK:"%d \u6761\u65b0\u52a8\u6001",ln:"zu-main-feed-fresh-button",DW:z.m},init:function(a){this.data=[];this.button=this.Lq();z.ac(this.button,a.m());this.o().g(this.button,"click",function(){a.ca(this.data,0);this.setData([])});var b=this,c=this.options.source(function(a){a&&a.length&&b.setData(a.concat(b.data))},function(){return b.data});if(!c||!z.ha(c.H))throw Error("Source must return a disposable object.");this.WL=c},setData:function(a){this.data=a;this.pQ()},pQ:function(){var a=
this.data.length;z.rc(this.button,fw(this.options.OK,a));z.Q(this.button,!!a)},Lq:function(){return z.J("a",{href:"javascript:;",style:"display:none","class":this.options.ln})},H:function(){Zv.prototype.H.call(this);z.Kd(this.WL);this.options=null;this.button&&(z.K(this.button),this.button=null)}});z.v(hw,z.O);hw.prototype.of=function(){var a=this.Np=new z.Zm(this.update,this.QL,this);this.da.g(this.viewport,["scroll","resize"],function(){a.fire()})};hw.prototype.o=function(){return this.da};hw.prototype.C=function(){hw.v.C.call(this);this.da.H();this.da=null;this.Np.H();this.Np=null};hw.prototype.update=function(){this.size=(z.lc(this.viewport)?z.Ob:zu)(this.viewport);this.dispatchEvent("update")};var kw=new hw;(0,window.$)(function(){kw.update()});$v("autoload",{defaults:{hC:!0,viewport:window,zW:function(){return!0}},init:function(a){if(a.Bd()&&(!this.options.hC||z.V.ra())){var b=this.options.viewport,c=new hw(b);z.Id(this,c);iw(c,this,function(c){return z.Zg(a.Bd())?400>=(z.lc(b)?a.Bd().getBoundingClientRect().top-c.height:b.scrollHeight-b.scrollTop-c.height):!1});this.o().g(a,"complete",this.H).g(a,"next",function(){this.enable()});this.enable()}},enable:function(){this.o().sa(this,"nearbottom",function(){this.view.Vs()})}});$v("childConstructor",{defaults:{Xk:null,factory:null},init:function(a){z.ha(this.options.Xk)&&dw(a,this.uL,this);z.ha(this.options.factory)&&dw(a,this.TR,this)},uL:function(a){var b=new this.options.Xk;this.view.L(b);b.w(a)},TR:function(a){var b=this.options.factory(a);this.view.L(b);b.w(a)}});$v("dataPagingSource",{defaults:{BC:!0},init:function(a){var b=(0,window.$)(a.m()).data("paging").next;b||ew(a);a.source=function(){return window.$.get(b).then(function(a){b=a.paging.next;return{results:a.htmls,next:!!b}})}}});z.v(lw,z.R);z.e=lw.prototype;z.e.defaults={xI:"textarea.content",vC:".toggle-expand",BT:".summary",Ov:"zm-editable-content",Er:!1};
z.e.D=function(){lw.v.D.call(this);var a=this.h,b=this.J;b.Er?(this.Ve=(0,window.$)("."+b.Ov,a),this.content=this.Ve.val(),this.zc=(0,window.$)(b.vC,a)):(this.jq=(0,window.$)(b.xI,a),this.content=this.jq.is(":input")?this.jq.val():this.jq.html(),this.Ve=(0,window.$)(b.BT,a),this.zc=(0,window.$)(b.vC,this.Ve));if(this.Ve.length){if(this.zc.length)this.zc.click(!1).on("click",window.$.proxy(this.expand,this));this.Ve.on("click",window.$.proxy(this.RN,this))}else this.valid=!1,this.expand=this.collapse=
z.m,this.dispatchEvent("invalid")};z.e.Bd=function(){return this.zc.get(0)};z.e.hb=function(){return this.content};z.e.Ta=function(a,b){a?this.expand(b):this.collapse(b)};z.e.RN=function(a){var b=z.ro();b&&b.Fc()||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),this.expand()))};
z.e.expand=function(a){this.zd||!1===this.dispatchEvent("beforeexpand")||(this.zd=!0,this.J.Er?(this.Ve.removeClass("fixed-summary"),this.zc.remove()):(this.Ue?this.Ue.show():this.Ve.length&&(this.Ue=(0,window.$)("\x3cdiv\x3e",{html:this.content,"class":this.J.Ov}).insertBefore(this.jq)),this.Ve.hide()),!0!==a&&this.dispatchEvent("expand"))};z.e.collapse=function(a){this.zd&&(this.zd=!1,this.Ue&&this.Ue.hide(),this.J.Er?this.Ve.addClass("fixed-summary"):this.Ve.show(),!0!==a&&this.dispatchEvent("collapse"))};$v("expandLimit",{defaults:{JW:3},init:function(a){var b=z.Cs.create("ExpandLimit");b.get("expandCount")||b.je("expandCount","0");z.V.ra()||this.o().g(a,"beforeloadnext",function(){z.Lm("expand");return!1})}});$v("locationSource",{defaults:{Rl:20,param:null,rt:!1,offset:function(a){return a.length}},init:function(a){function b(a){return{start:c.rt?z.x.qd(a).id.split("-")[1]:0,offset:c.offset(a)}}var c=this.options,d=c.url||window.location.href,f=a.zb().length;(!f||f<c.Rl)&&ew(a);a.source=function(){return window.$.post(d,(c.param||b)(a.zb())).then(function(b){if(!b.r){b=b.msg;var d=b[0];z.ga(d)&&d<c.Rl&&ew(a);return{results:b[1]}}})}}});$v("nodeSource",{defaults:{BC:!0},init:function(a){var b=(0,window.$)(a.m()).data("init"),c="/node/"+b.nodename,d=b.params,f=d.offset||0,b=d.limit,g=d.pagesize;this.options.BC&&b&&a.zb().length<b&&ew(a);a.source=function(){return window.$.post(c,{method:"next",params:window.$.extend(d,{offset:f+a.zb().length})}).then(function(a){var b=!0;g&&!a.r&&a.msg.length<g&&(b=!1);return!a.r&&{results:a.msg,next:b}})}}});$v("shortcut",{defaults:{items:"\x3ediv"},init:function(a){a.zb().length&&(this.No=new z.bq(this.options),this.No.w(a.m()),this.o().g(this.No,"action",function(b){b.data.index>=b.data.size&&a.Bd()&&z.Zg(a.Bd())&&a.Bd().click()}))},H:function(){Zv.prototype.H.call(this);this.No&&(this.No.H(),this.No=null)}});z.v(mw,cw);z.v(nw,z.aj);z.ca(nw);nw.prototype.R=function(){return"goog-menuheader"};z.v(ow,z.jj);z.hj("goog-menuheader",function(){return new ow(null)});z.v(pw,z.aj);z.ca(pw);z.e=pw.prototype;z.e.Ae=function(){return"menuitem"};z.e.B=function(a){var b=a.M().B("DIV",this.Be(a).join(" "),rw(this,a.hb(),a.M()));tw(this,a,b,z.dj(a,8)||z.dj(a,16));return b};z.e.W=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.hc(b),d=qw(this,2);c&&z.sh(c,d)||b.appendChild(rw(this,b.childNodes,a.M()));z.sh(b,"goog-option")&&(a.tp(!0),this.tp(a,b,!0));return pw.v.w.call(this,a,b)};
z.e.Ga=function(a,b){var c=this.W(a),d=sw(this,a)?c.firstChild:null;pw.v.Ga.call(this,a,b);d&&!sw(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.zi=function(a,b,c){a&&b&&tw(this,a,b,c)};z.e.tp=function(a,b,c){a&&b&&tw(this,a,b,c)};z.e.Qn=function(a){switch(a){case 2:return qw(this,0);case 16:case 8:return"goog-option-selected";default:return pw.v.Qn.call(this,a)}};
z.e.Jr=function(a){var b=qw(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return pw.v.Jr.call(this,a)}};z.e.R=function(){return"goog-menuitem"};z.v(uw,z.jj);z.e=uw.prototype;z.e.X=function(){var a=this.Oy;return null!=a?a:this.Ig()};z.e.Ha=function(a){this.Oy=a};z.e.Ob=function(a,b){uw.v.Ob.call(this,a,b);switch(a){case 8:this.He()&&!b&&this.$c(!1);var c=this.m();c&&this.O.zi(this,c,b);break;case 16:(c=this.m())&&this.O.tp(this,c,b)}};z.e.zi=function(a){this.Ob(8,a)};z.e.tp=function(a){this.Ob(16,a)};
z.e.Ig=function(){var a=this.hb();return z.ea(a)?(a=z.x.map(a,function(a){return z.kc(a)&&(z.sh(a,"goog-menuitem-accel")||z.sh(a,"goog-menuitem-mnemonic-separator"))?"":z.Bc(a)}).join(""),z.Ca(a)):uw.v.Ig.call(this)};z.e.nf=function(a){var b=this.getParent();if(b){var c=b.WG;b.WG=null;if(b=c&&z.ga(a.clientX))b=new z.Cb(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}uw.v.nf.call(this,a)};z.e.mf=function(a){return a.keyCode==this.Ny&&this.Gd(a)?!0:uw.v.mf.call(this,a)};
z.e.GM=function(){return this.Ny};z.hj("goog-menuitem",function(){return new uw(null)});uw.prototype.ai=function(){return z.dj(this,16)?"menuitemcheckbox":z.dj(this,8)?"menuitemradio":uw.v.ai.call(this)};uw.prototype.getParent=function(){return z.jj.prototype.getParent.call(this)};uw.prototype.yl=function(){return z.jj.prototype.yl.call(this)};z.v(vw,z.aj);z.ca(vw);vw.prototype.B=function(a){return a.M().B("DIV",this.R())};vw.prototype.w=function(a,b){b.id&&z.Qh(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);z.ac(b,c);z.K(c)}else z.th(b,this.R());return b};vw.prototype.Ga=function(){};vw.prototype.R=function(){return"goog-menuseparator"};z.v(z.ww,z.jj);z.ww.prototype.D=function(){z.ww.v.D.call(this);z.kh(this.m(),"separator")};z.hj("goog-menuseparator",function(){return new z.ww});z.v(xw,z.Vm);z.ca(xw);z.e=xw.prototype;z.e.fc=function(a){return"UL"==a.tagName||xw.v.fc.call(this,a)};z.e.Sn=function(a){return"HR"==a.tagName?new z.ww:xw.v.Sn.call(this,a)};z.e.Kf=function(a,b){return z.mc(a.m(),b)};z.e.R=function(){return"goog-menu"};z.e.Fe=function(a){xw.v.Fe.call(this,a);z.lh(a.m(),"haspopup","true")};z.v(yw,z.ww);z.hj("goog-menuseparator",function(){return new z.ww});z.v(zw,z.uu);z.e=zw.prototype;z.e.Ym=!0;z.e.dK=!1;z.e.R=function(){return this.O.R()};z.e.Kf=function(a){if(this.O.Kf(this,a))return!0;for(var b=0,c=z.Th(this);b<c;b++){var d=z.Uh(this,b);if("function"==typeof d.Kf&&d.Kf(a))return!0}return!1};z.e.Ja=function(a){this.L(a,!0)};z.e.Qi=function(a,b){this.Fk(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.Zh=function(a){return z.Uh(this,a)};z.e.ul=function(){return z.Th(this)};
z.e.zb=function(){var a=[];z.Vh(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.S();c||z.Q(this.m(),!0);Wu(this.m(),a,b);c||z.Q(this.m(),!1)};z.e.G=function(a,b,c){(b=zw.v.G.call(this,a,b))&&a&&this.xa&&this.Ym&&this.Zb().focus();this.WG=a&&c&&z.ga(c.clientX)?new z.Cb(c.clientX,c.clientY):null;return b};z.e.tx=function(a){this.Ym&&this.Zb().focus();return zw.v.tx.call(this,a)};z.e.xC=function(a){return(this.dK||a.isEnabled())&&a.S()&&z.dj(a,2)};
z.e.fa=function(a){var b=this.O,c;c=this.M();c=z.Kb(c.La,"DIV",b.R()+"-content",a);for(var d=c.length,f=0;f<d;f++)z.Wm(b,this,c[f]);zw.v.fa.call(this,a)};z.e.mf=function(a){var b=zw.v.mf.call(this,a);b||z.Vh(this,function(c){!b&&c.GM&&c.Ny==a.keyCode&&(this.isEnabled()&&this.wc(c),b=c.$b(a))},this);return b};z.e.Hb=function(a){zw.v.Hb.call(this,a);(a=z.Uh(this,a))&&z.Pg(a.m(),this.m())};z.v(Aw,z.lq);Aw.prototype.Tn=function(){return this.Co};Aw.prototype.zm=function(a){this.Co=a};Aw.prototype.aa=function(a,b,c,d){var f=z.Tl(this.element,this.Lf,a,b,null,c,10,d,this.pz);if(f&496){var g=Bw(f,this.Lf);b=Bw(f,b);f=z.Tl(this.element,g,a,b,null,c,10,d,this.pz);f&496&&(g=Bw(f,g),b=Bw(f,b),z.Tl(this.element,g,a,b,null,c,this.Tn(),d,this.pz))}};z.v(Cw,Aw);z.v(Dw,z.gj);z.ca(Dw);z.e=Dw.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.Be(a).join(" ")},b=a.M().B("DIV",b,this.Wi(a.hb(),a.M()));this.mc(b,a.Zf());return b};z.e.Ae=function(){return"button"};z.e.W=function(a){return a&&a.firstChild&&a.firstChild.firstChild};z.e.Wi=function(a,b){return b.B("DIV","goog-inline-block "+(this.R()+"-outer-box"),b.B("DIV","goog-inline-block "+(this.R()+"-inner-box"),a))};z.e.fc=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){Ew(b,!0);Ew(b,!1);var c;a:{c=a.M().jE(b);var d=this.R()+"-outer-box";if(c&&z.sh(c,d)&&(c=a.M().jE(c),d=this.R()+"-inner-box",c&&z.sh(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Wi(b.childNodes,a.M()));z.uh(b,["goog-inline-block",this.R()]);return Dw.v.w.call(this,a,b)};z.e.R=function(){return"goog-custom-button"};z.v(Fw,Dw);z.ca(Fw);z.e=Fw.prototype;z.e.W=function(a){return Fw.v.W.call(this,a&&a.firstChild)};z.e.w=function(a,b){var c=z.Jb("*","goog-menu",b)[0];if(c){z.Q(c,!1);z.Hb(c).body.appendChild(c);var d=new zw;d.w(c);a.nh(d)}return Fw.v.w.call(this,a,b)};z.e.Wi=function(a,b){return Fw.v.Wi.call(this,[this.createCaption(a,b),b.B("DIV","goog-inline-block "+(this.R()+"-dropdown"),"\u00a0")],b)};z.e.createCaption=function(a,b){return Gw(a,this.R(),b)};z.e.R=function(){return"goog-menu-button"};z.v(Hw,z.qj);z.e=Hw.prototype;z.e.Cs=!1;z.e.hk=!1;z.e.NS=!1;z.e.D=function(){Hw.v.D.call(this);Mw(this,!0);this.ka&&Lw(this,this.ka,!0);z.lh(this.h,"haspopup",!!this.ka)};z.e.mb=function(){Hw.v.mb.call(this);Mw(this,!1);if(this.ka){this.Db(!1);this.ka.mb();Lw(this,this.ka,!1);var a=this.ka.m();a&&z.K(a)}};z.e.C=function(){Hw.v.C.call(this);this.ka&&(this.ka.H(),delete this.ka);delete this.KR;this.ma.H()};
z.e.ee=function(a){Hw.v.ee.call(this,a);this.Sb()&&(this.Db(!this.sb(),a),this.ka&&(a=this.sb(),this.ka.sf=a))};z.e.nf=function(a){Hw.v.nf.call(this,a);this.ka&&!this.Sb()&&(this.ka.sf=!1)};z.e.Gd=function(){this.setActive(!1);return!0};z.e.$M=function(a){this.ka&&this.ka.S()&&!this.Kf(a.target)&&this.Db(!1)};z.e.Kf=function(a){return a&&z.mc(this.m(),a)||this.ka&&this.ka.Kf(a)||!1};
z.e.mf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ka&&this.ka.S()){var b=13==a.keyCode||32==a.keyCode,c=this.ka.$b(a);return 27==a.keyCode||b?(this.Db(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Db(!0,a),!0):!1};z.e.ao=function(){this.Db(!1)};z.e.CN=function(){this.Sb()||this.Db(!1)};z.e.Xc=function(a){this.Cs||this.Db(!1);Hw.v.Xc.call(this,a)};
z.e.ab=function(){this.ka||this.nh(new zw(this.M(),this.MP));return this.ka||null};z.e.nh=function(a){var b=this.ka;if(a!=b&&(b&&(this.Db(!1),this.xa&&Lw(this,b,!1),delete this.ka),this.xa&&z.lh(this.h,"haspopup",!!a),a)){this.ka=a;z.Rh(a,this);a.G(!1);var c=this.Cs;(a.Ym=c)&&a.Qe(!0);this.xa&&Lw(this,a,!0)}return b};z.e.Ja=function(a){this.ab().L(a,!0)};z.e.Qi=function(a,b){this.ab().Fk(a,b,!0)};z.e.removeItem=function(a){(a=this.ab().removeChild(a,!0))&&a.H()};
z.e.Zh=function(a){return this.ka?z.Uh(this.ka,a):null};z.e.ul=function(){return this.ka?z.Th(this.ka):0};z.e.G=function(a,b){var c=Hw.v.G.call(this,a,b);c&&!this.S()&&this.Db(!1);return c};z.e.bb=function(a){Hw.v.bb.call(this,a);this.isEnabled()||this.Db(!1)};z.e.hI=function(){this.Db(!0)};
z.e.Db=function(a,b){Hw.v.Db.call(this,a);if(this.ka&&!!(this.N&64)==a){if(a){if(!this.ka.xa)if(this.hk){var c=Xu(this.m());c?this.ka.gp(c.parentNode,c):this.ka.ca(this.m().parentNode)}else this.ka.ca();this.eJ=z.Ng(this.m());this.uC=z.Xg(this.m());Kw(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||c&&this.NS?z.eu(this.ka):this.ka.Hb(-1)}else{this.setActive(!1);this.ka.sf=!1;if(c=this.m())z.lh(c,"activedescendant",""),z.lh(c,"owns","");null!=this.qt&&(this.qt=void 0,
(c=this.ka.m())&&z.Ug(c,"",""))}this.ka.G(a,!1,b);if(!this.Td){var c=this.o(),d=a?c.g:c.ta;d.call(c,this.M().va(),"mousedown",this.$M,!0);this.Cs&&d.call(c,this.ka,"blur",this.CN);d.call(c,this.ma,z.El,this.bm);a?this.ma.start():this.ma.stop()}}this.ka&&this.ka.m()&&this.ka.h.removeAttribute("aria-hidden")};
z.e.bm=function(){var a=z.Xg(this.m()),b=z.Ng(this.m()),c=this.uC;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.eJ,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.uC=a,this.eJ=b,Kw(this))};z.e.xx=function(a){(a=a.target.m())&&Nw(this,a)};z.e.uN=function(a){z.dj(this,32)&&this.Zb()&&this.ka&&this.ka.S()&&a.stopPropagation()};
z.e.Fx=function(){if(!z.fu(this.ka)){var a=this.m();z.lh(a,"activedescendant","");z.lh(a,"owns","")}};z.e.qx=function(a){if(this.sb()&&a.target instanceof uw){a=a.target;var b=a.m();a.S()&&a.N&2&&null!=b&&Nw(this,b)}};z.hj("goog-menu-button",function(){return new Hw(null)});z.v(Ow,z.O);Ow.prototype.JB={question:"\u95ee\u9898",comment:"\u8bc4\u8bba",answer:"\u56de\u7b54",favlist:"\u6536\u85cf",member:"\u7528\u6237",message:"\u79c1\u4fe1",image:"\u56fe\u7247",video:"\u89c6\u9891",post:"\u6587\u7ae0"};Ow.prototype.Uv="report-dialog";Ow.prototype.WF="loading";Ow.prototype.ZD='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"\u8bf7\u586b\u5199\u539f\u56e0" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
Ow.prototype.submit=Yv;z.e=Ow.prototype;z.e.Zw=function(){return this.Hn};z.e.Ok=function(a,b){var c=new z.ui;z.ji(c,!0);c.Pf=!0;z.oi(c,z.ei());c.addEventListener(z.qi,this.ZM,!1,this);z.Id(c,this);a&&c.Za(a);b&&c.Ga(b);c.G(!0);c.aa();z.S.add(c.m(),this.Uv);return this.Hn=c};z.e.ZM=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.Hn.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.Ok(this.gE(a),this.xv());z.S.add(d.m(),this.WF);this.nE(a).then((0,z.r)(function(f){d.Ga((0,z.lp)(this.ZD,{each:z.x.forEach,options:f,headnote:c}));z.S.remove(d.m(),this.WF);d.aa();z.xi(d,450);this.jM={type:a,id:b};this.Gq(f)},this))};z.e.CE=function(){};
z.e.Gq=function(a){var b=this,c=(0,window.$)(this.Hn.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,l=z.x.find(a,function(a){return h===String(a.value)});b.CE(l);l="0"===h;f.toggle(l);l&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"\u8bf7\u9009\u62e9\u7406\u7531",detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.xv=function(){return'\x3cdiv class\x3d"loading"\x3e\u7406\u7531\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.v(Pw,z.R);var Qw={question:"question_report",answer:"question_answer_report",post:"article_report",member:"member_report",comment:"comment_report",favlist:"favlist_report",message:"message_report"},aI=(0,z.r)(z.Qt(function(a){return window.$.getJSON(z.xa("/report/%s/options",a))}),z.t);
Pw.submit=function(a,b,c){b=window.$.extend({type:a,id:b},c);z.X.oa({type:"ga_click_report",data:{type:a}});window.$.post("/report",b).done(function(a){if(a.r)"duplicate_report"===a.errtype?z.T(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5"):z.T(a.msg);else if(a.noti){var b=z.Ai({title:"\u4e3e\u62a5\u6210\u529f\uff01",Sj:!0,content:'\x3cp\x3e\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u300c\u79c1\u4fe1\u300d\u901a\u77e5\u60a8\x3c/p\x3e\x3cp\x3e\u60a8\u4e5f\u53ef\u4ee5\u8fdb\u5165 \x3ca href\x3d"/community/report"\x3e\u793e\u533a\u670d\u52a1\u4e2d\u5fc3\x3c/a\x3e \u67e5\u770b\u5b9e\u65f6\u5904\u7406\u8fdb\u5ea6\x3c/p\x3e\x3clabel class\x3d"modal-dialog-cancelNoti"\x3e\x3cinput type\x3d"checkbox" name\x3d"cancelNoti" /\x3e\u4e0d\u518d\u63d0\u9192\x3c/label\x3e',
className:"report-success-dialog",aa:!0,buttons:["\u77e5\u9053\u5566"]});b.o().g(b,z.rs,function(){(0,window.$)(z.hi(b)).find("input[name\x3dcancelNoti]")[0].checked&&window.$.post("/community/report/noti",{cancel:!0});return!0})}else z.T("\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210",2E3,"\u4e3e\u62a5\u6210\u529f\uff01")})};
Pw.prototype.submit=z.Mm(function(a){Pw.submit(this.type,this.id,a)},function(){return{ra:this.kv,gd:!0}});Pw.prototype.fI=z.Mm(function(){(new Tw(this.type,this.id)).open(this.type,this.id);z.X.oa({type:"ga_click_report_box",data:{type:this.type}})},function(){return{ra:this.kv,gd:!0}});
Pw.prototype.zO=function(){var a=this.eG,b=this.eG.ab();aI(this.type).then(function(c){window.$.each(c,function(a,c){var g=new uw(c.label,{value:c.value,options:c.options});b.Ja(g)});Kw(a);(0,window.$)(b.m()).addClass("report-menu")});this.o().g(b,"show",z.Mm(function(){z.X.oa({type:"ga_click_report_box",data:{type:this.type}})},{ra:this.kv,gd:!0})).g(b,"action",this.lx)};
Pw.prototype.lx=function(a){var b=a.target.X().value;a=a.target.X().options;var c=this.type;0===b?(b=new Tw(this.type,this.id),b.Ok("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",'\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3ctextarea class\x3d"textarea" name\x3d"detail"\x3e\x3c/textarea\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"0" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e'),b=(0,window.$)(b.Zw().m()),b=(0,window.$)("form",b),b.validate({rules:{detail:{rangelength:[2,
100],required:!0}},messages:{detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",b)})):"member"===c&&10018!==b?(b='\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3cinput placeholder\x3d"\u586b\u5199\u8fdd\u89c4\u5185\u5bb9\u94fe\u63a5\u4f1a\u66f4\u5feb\u88ab\u7ba1\u7406\u5458\u5904\u7406" type\x3d"text" name\x3d"link" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"'+b+'" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e',
(new Tw(this.type,this.id)).Ok("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",b)):"question"===c&&a?Sw(this,a):Pw.submit(c,this.id,{reason:b})};z.v(Tw,Ow);Tw.prototype.nE=aI;Tw.prototype.submit=function(){var a=(0,window.$)((0,window.$)("form",this.Hn.m())[0]).serializeArray(),a=z.x.reduce(a,function(a,c){c.value&&(a[c.name]=c.value);return a},{});Pw.submit(this.type,this.id,a)};Tw.prototype.gE=function(a){return z.xa("\u4e3a\u4ec0\u4e48\u4e3e\u62a5\u8fd9\u4e2a%s\uff1f",this.JB[a]||"\u6761\u76ee")};z.v(Uw,z.Nm);
Uw.prototype.init=function(){var a=z.G("zh-create-pm");a&&this.o().g(a,"click",this.nQ);var a=z.G("zh-pm-item-wrap"),b=new mw;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a);this.o().g(a,"click",this.Ba);(0,window.$)(function(){(0,window.$)("#zh-change-pm-admin").change(function(){var a=(0,window.$)(this).find("option:selected").attr("data-token");window.location.href="self"===a?"/admin_feedback":"/admin_feedback/"+a})});(0,window.$)('a[name\x3d"report"]').each(function(a,b){var f=
(0,window.$)(b).closest(".zm-pm-item").data("report-token");Rw(new Pw("message",f),b)})};Uw.prototype.nQ=z.Mm(function(){var a;this.mo();this.Ub.show();z.Lq(this.Ub,-1);(a=z.Qa(window.location.pathname,"admin_inbox")?"admin":(0,window.$)("#zh-change-pm-admin option:selected").attr("data-token"))&&this.Ub.Wt(a)},!0);Uw.prototype.mo=function(){this.Ub||(this.Ub=new z.Jq({Et:!0}))};
Uw.prototype.Ba=function(a){if(a=z.Pk(this.sW,a.target)){var b=a.name,c=z.Gc(a,this.rf);if(!c||!a.name)return!0;var d=(0,window.$)(c).data(),f=d.member,g=d.name;switch(b){case "reply":z.Mm((0,z.r)(function(){this.mo();this.Ub.show();var a=this.Ub,b=d.type;a.Mp=d.token;a.NA=b;z.Lq(this.Ub,f,g,!1);this.Ub.bc.focus()},this),!0)();break;case "delete":var h=c.getAttribute("data-token");z.Ai("\u5220\u9664\u79c1\u4fe1\u4f1a\u8bdd","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u4e0e "+g+"\u7684\u6240\u6709\u4f1a\u8bdd\u5417\uff1f",
function(a){a&&Vw(h)},this);break;case "edit":z.Ek(this.Nc,this.og),this.Bi=-1}}};z.v(Ww,z.Nm);
Ww.prototype.init=function(){this.Rs=z.G("zh-pm-detail-item-wrap");this.o().g(this.Rs,"click",this.Ba);var a=z.G("zh-pm-editor-form");if(a){this.Ub=new z.Jq({Et:!0});this.Ub.Zp=!1;this.Ub.mh(a);this.Ub.show();if(a=this.zb()[0]){var a=(0,window.$)(a).data(),b=this.Ub,c=a.type;b.Mp=a.token;b.NA=c;z.Lq(this.Ub,a.member,a.name)}else a=z.zp,z.Lq(this.Ub,a.id,a.Tw);this.Ub.focus()}else this.Ub=new z.Jq({Et:!0});Xw(this);this.Cj()};
Ww.prototype.Cj=function(){(0,window.$)('a[name\x3d"report"]').each(function(a,b){var c=(0,window.$)(b).closest(".zm-pm-item").data("token");Rw(new Pw("message",c),b)})};Ww.prototype.zb=function(){return z.fc(this.Rs)};
Ww.prototype.Ba=function(a){var b=z.Pk(this.Rs,a.target);if(b&&(a=b.name,b=z.Gc(b,this.rf))){var b=(0,window.$)(b).data(),c=b.token;switch(a){case "reply":this.Ub.show();a=this.Ub;var d=b.type;a.Mp=c;a.NA=d;z.Lq(this.Ub,b.member,b.name,!1);this.Ub.focus();break;case "delete":Yw(this,c)}}};z.v($w,z.R);z.e=$w.prototype;z.e.fB=!z.yi;z.e.eB=!z.yi;z.e.xi=function(a){this.bg=a};z.e.init=function(){this.cc=z.G("zh-load-more");this.w(this.fM)};
z.e.D=function(){$w.v.D.call(this);this.bn=1;fx(this);this.Ck=(0,window.$)(this.cc);this.cc&&dx(this)&&(this.o().g(this.cc,"click",function(){this.xo=!0;this.Ah&&"pending"===this.Ah.state()&&1===this.bn?(this.Ah.done((0,z.r)(this.Xg,this)),this.mA=!0,bx(this,!0)):this.fz()}),this.fB&&(this.OA=new z.Zm(this.cz,100,this),this.o().g(window,"scroll",function(){this.OA.fire()})));gx(this,this.zb())};
z.e.cz=function(){var a=this.cc;a&&z.Zg(a)&&1E3>=a.getBoundingClientRect().top-z.Ob().height&&!(this.wt||this.Ah&&"pending"===this.Ah.state())&&(this.eB&&(3===this.bn?(this.bn=1,this.mA=!1):(this.xo=!1,this.bn++,this.mA=!0)),this.Pj())};z.e.fz=function(){this.fB&&this.wt?(this.Xg(this.wt),this.wt=null):(bx(this,!0),this.Pj())};
z.e.Pj=function(a,b,c){b=b||z.m;if(!this.Ah||"pending"!==this.Ah.state()){var d=this.mH(window.$.extend(this.params,{offset:this.offset,start:this.Re}));this.Ah=window.$.post(this.url,d).done(b).done(window.$.proxy(function(b){if(c)return c.call(this,b);this.fB&&!a?this.mA?this.Xg(b):(this.wt=b,bx(this,!1)):this.Xg(b)},this));1!==this.bn&&bx(this,!0);return this.Ah}};z.e.mH=function(a){return a};
z.e.Xg=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.cc.setAttribute("data-next",f));0<c&&(this.Zm(d),this.offset=this.Vy?this.Vy(this.zb()):this.offset+c);b=!0;b=this.$r?this.$r(a):!(-1===f||10>c);z.Q(this.cc,b);bx(this,!1);ex(this)}};z.e.zb=function(){return z.Lb(this.bg,this.h)};z.e.eH=function(a){return a.id.split("-")[1]};
z.e.Zm=function(a,b){var c=z.ea(a)?a.join(""):a,c=z.Wb(c+" "),d=z.Lb(this.bg,c);gx(this,d);"prepend"===b?z.ac(c,this.h.firstChild):this.h.appendChild(c);fx(this)};z.e.Yj=z.m;z.v(z.hx,z.O);z.hx.prototype.handleEvent=function(a){if("input"==a.type)z.B&&z.D(10)&&0==a.keyCode&&0==a.charCode||(ix(this),this.dispatchEvent(jx(a)));else if("keydown"!=a.type||Ov(a)){var b="keydown"==a.type?this.h.value:null;z.B&&229==a.keyCode&&(b=null);var c=jx(a);ix(this);this.ma=z.we(function(){this.ma=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.hx.prototype.C=function(){z.hx.v.C.call(this);this.U.H();ix(this);delete this.h};z.v(kx,z.O);var lx=0;kx.prototype.Ro=function(){mx(this)};kx.prototype.C=function(){kx.v.C.call(this);delete this.Ud;this.Ej.H();this.Ej=null};kx.prototype.isValid=function(){return 0<=this.Wg-this.Ud.value.length};kx.prototype.Hr=function(){return this.Ud.value.length};z.v(nx,kx);
nx.prototype.Hr=function(){return Math.ceil((0,z.Xa)(this.Ud.value).replace(/(http|https):\/\/[a-zA-Z0-9]+(\.[a-zA-Z0-9]+)+([-A-Z0-9a-z_\$\.\+\!\*\(\)\/\,\:;@&=\?~#%]*)*/gi,"length-20-string----").replace(/[^\x00-\xff]/g,"--").length/2)};var qx;z.v(ox,z.Nm);ox.prototype.$e={};var bI=z.Qt(function(){return window.$.get("/node/WebShareDialogV2")});z.e=ox.prototype;z.e.init=function(){this.o().g(z.dl,"question_title_change",function(){this.$e[this.Ef]=null});bI().then((0,z.r)(function(a){a=z.Wb((0,z.Xa)(a));this.B(a);this.wb();this.show();sx(this,this.PL)},this))};z.e.show=function(){rx(this);this.xc&&(this.xc.checked=!1,this.$j());z.Rm.T().refresh();this.ga.G(!0)};z.e.hide=function(){this.ga.G(!1)};
z.e.VS=function(a,b,c,d){this.zf={title:a,type:b,UT:c,params:d};this.Ef=b+":"+c};z.e.WS=function(){var a=z.mf(this.xhr);a&&a.r?z.T(a.msg):(this.$e[this.Ef]=a,rx(this))};z.e.B=function(a){this.h=a;this.ga=new z.ui(null,!1);z.oi(this.ga,null);this.ga.Pf=!0;this.ga.W().appendChild(this.h);z.N(this.ga,z.rs,function(){qx=null});this.xk=new z.Jq({gH:"share"});this.xk.xb=this.ga;this.xk.mh(z.G("tb-webshare-letter-content"));this.xk.Rk=!1;this.xk.init()};z.e.fA=function(){this.xc.checked=!0;this.$j()};
z.e.wb=function(){var a=z.I("tab-navs",this.h);this.o().g(a,"click",this.bR);this.FT=(0,window.$)(".tab-nav \x3e a",this.h);this.ET=z.Lb("zm-tab-content",this.h);(0,window.$)(".zm-command",this.h).on("click",window.$.proxy(this.Ba,this));this.wz=z.G("zh-webshare-sina-pm");this.uA=new z.Sm(this.wz);this.kI=new nx(this.wz,z.G("zg-webshare-sina-counter"),140,lx);this.o().g(z.X,"sina_callback",function(a){this.fA(a.Lc.id,a.Lc.name)});this.ov();a=z.I("zg-btn-blue",this.xk.m());z.V.active||z.S.CT(a,"zg-btn-blue",
"zg-btn-disabled");this.o().g(a,"click",this.Ba)};z.e.ov=function(){this.xc=z.I("sina-checkbox",this.h);this.o().g(this.xc,"change",this.iz)};z.e.$j=function(){var a=z.I("weibo-share-button",this.h),b=this.xc.checked;z.S.enable(a,"zg-btn-blue",b);z.S.enable(a,"zg-btn-disabled",!b)};z.e.iz=function(a){a=a.target;var b=a.getAttribute("data-bindurl");a!==this.xc||z.ls.id?a=void 0:(window.open(b),a.checked=!1,a=!0);a||this.$j()};z.e.bR=function(a){(a=this.hf(a.target))&&sx(this,a.id)};
z.e.Ba=function(a){var b=this.hf(a.target);if(b)switch(b.name){case "send_sina":if(!z.S.has(b,"zg-btn-disabled")){var c=this.wz.value;c&&this.Ef in this.$e&&(b=new z.Qk(!0),b.add("content",c),c=[],this.xc.checked&&c.push("sina"),b.add("via",c.join(",")),this.dk(b),this.zf&&z.X.oa({type:"ga_click_share_"+this.zf.type+"_weibo",data:{cJ:c}}))}break;case "send":if(!z.S.has(b,"zg-btn-disabled"))if(b=this.xk,"-1"===String(b.Bi))z.Mq(b,"\u8bf7\u586b\u5199\u6536\u4fe1\u4eba\u3002");else if(c=b.bc.value,this.Ef in
this.$e)if((0,z.Xa)(c)){var d=new z.Qk(!0);d.add("talker_id",b.Bi);d.add("content",c);d.add("via","pm");this.dk(d);this.zf&&z.X.oa("ga_click_share_"+this.zf.type+"_message")}else z.Mq(b,"\u8bf7\u586b\u5199\u79c1\u4fe1\u5185\u5bb9\u3002");break;case "send_daily":b=new z.Qk(!0);b.add("content",(0,window.$)(".tb-webshare-daily-form [name\x3drecommend-reason]").val());b.add("via","daily");this.dk(b);break;case "cancel":this.hide()}a.stopPropagation();a.preventDefault()};
z.e.dk=function(a){z.y.forEach(this.zf.params,function(b,c){a.add(c,b)});this.xhr=new z.U(!0);this.o().sa(this.xhr,"complete",this.bv);this.xhr.ajax("/"+this.zf.type+"/share",a.kd())};z.e.bv=function(){var a=z.mf(this.xhr);this.ga.G(!1);a&&a.r?z.T(a.msg):z.T(a.msg||"\u5206\u4eab\u53d1\u9001\u5b8c\u6bd5")};z.e.S=function(){return this.ga.S()};var wz=function(a,b){var c=[],d=[].slice,f=z.bl(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.V.ra()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});var cI=/a(:(link|visited|active|hover))?/;wx.prototype.clone=function(){var a=new wx;a.lh=this.lh.concat();a.Fn=this.Fn;return a};var dI=/(^|;|{)\s*color:([^;]+);/g,Ax={},Dx={},eI={},fI="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),gI="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var hI;z.v(z.Ex,z.O);z.e=z.Ex.prototype;z.e.F=null;z.e.vK=!0;z.e.UI=function(){this.F&&(this.disable(this.F),this.F=null)};z.e.enable=function(a){this.F==a&&(this.hc=!0)};z.e.disable=function(a){this.F==a&&(this.hc=!1)};z.e.isEnabled=function(a){return this.F==a?this.hc:!1};z.e.nq=z.Nr;z.e.gP=z.Nr;z.e.C=function(){this.F&&this.UI(this.F);z.Ex.v.C.call(this)};z.Jx=z.y.Mm({zx:1,vN:2,Tr:3,vj:4,Ur:5,execCommand:6,queryCommandValue:7,lH:8,bL:10,aL:11});hI=z.y.af(8,10,11);
z.Ex.prototype.execCommand=function(a,b){var c=this.gP(a);c||(z.A&&z.by(this.F,!0,!0),this.F.Rh());try{var d=this.ff.apply(this,arguments)}finally{c||(this.F.cf(),z.$x(this.F))}return d};z.Ex.prototype.Je=function(){return!1};var Kx,Nx;z.v(Ix,z.O);Ix.prototype.Aa=null;Ix.prototype.Kc=null;Kx="change";z.Lx="delayedchange";Nx={HU:"cvc",$U:"load",sV:"unload",AU:"beforechange",FU:Kx,IU:z.Lx,BU:"beforefocus",LU:"focus",DU:"blur",CU:"beforetab",SU:"ifrsz",hV:"selectionchange"};z.Px=0;z.iI=null;z.e=Ix.prototype;z.e.Ng=!1;z.e.$I=!1;z.e.Au=!1;z.e.m=function(){return this.Aa};z.e.addListener=function(a,b,c,d){var f=this.m();z.kt&&f&&this.oc()&&(f=f.ownerDocument);d?z.ze(this.ic,f,a,b,c,d):this.ic.g(f,a,b,c)};z.e.$h=function(a){return this.Hd[a]};
var Ox=15,Mx=250;Ix.prototype.oc=z.Or;Ix.prototype.yo=z.Or;Ix.prototype.eI=z.Nr;var Rx={46:!0,8:!0};z.B||(Rx[9]=!0);var Sx={86:!0,88:!0};z.mk&&!z.A&&(Rx[229]=!0);
Ix.prototype.Hv=function(){this.ic&&this.ic.removeAll();if((z.Vr||z.zi)&&this.oc()&&this.eI()){try{var a=this.kb.Xa();a.removeEventListener("keydown",this.hn,!1);a.removeEventListener("touchend",this.hn,!1)}catch(b){}delete this.hn}if(z.Dg&&this.oc()){try{a=this.kb.Xa(),a.removeEventListener("focus",this.tv,!1),a.removeEventListener("blur",this.sv,!1)}catch(c){}delete this.tv;delete this.sv}this.ve&&this.ve.stop();this.lr.stop()};
Ix.prototype.C=function(){this.Kc&&this.execCommand("clearlorem");this.Tl=z.Px;for(var a in this.Hd){var b=this.Hd[a];b.nq()||b.disable(this)}this.kb=this.Aa=null;this.Hv();this.kl&&(z.oe(this.kl),this.kl=null);this.dm=null;this.ic&&(this.ic.H(),this.ic=null);for(;a=this.vU.pop();)a.H();z.iI==this.id&&(z.iI=null);for(var c in this.Hd)a=this.Hd[c],a.vK&&a.H();delete this.Hd;Ix.v.C.call(this)};var jI=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];
Ix.prototype.iA=function(){if(z.ht||!this.oc())this.ic.g(this.m(),"DOMSubtreeModified",this.Ax);else{var a=this.kb.va();this.ic.g(a,jI,this.Ax,!0);this.ic.g(a,"DOMAttrModified",(0,z.r)(this.uE,this,this.Ax),!0)}};var kI={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},lI={65:!0,86:!0,88:!0},Xx={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=Ix.prototype;
z.e.wo=function(a,b){for(var c=this.Aj[a],d=z.x.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||hI[a])&&g[z.Jx[a]].apply(g,d))return!0}return!1};z.e.TO=function(a,b){for(var c=this.Aj[a],d=z.x.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||hI[a])&&g[z.Jx[a]].apply(g,d)}};z.e.Bt=function(a,b,c){for(var d=this.Aj[a],f=z.x.slice(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||hI[a])f[0]=h[z.Jx[a]].apply(h,f)}return f[0]};
z.e.lf=function(a){(z.A||Ux(this,a))&&!this.wo(1,a)&&z.rt&&Wx(this,a)};z.e.wN=function(a){if(z.A){if(!Ux(this,a))return}else this.kx=!0,this.Rh();this.wo(2,a)||z.rt||Wx(this,a)};z.e.xN=function(a){z.A||!this.kx&&!Qx(a)||this.Zn();this.wo(3,a);ay(this,"selectionchange")||(kI[a.keyCode]||(a.ctrlKey||a.metaKey)&&lI[a.keyCode])&&this.WH.start()};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.Aj[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.Je(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Ie()&&this.qf;if(z.q(a))return this.zt(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.zt(a[d],b);return c};z.e.zt=function(a,b){for(var c=this.Aj[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.Je(a)&&(b||f.nq()))return f.queryCommandValue(a)}return b?null:!1};z.e.uE=function(a,b){if(!ay(this,Kx)){var c=b.yb;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Ax=function(a){ay(this,Kx)||(a=a.eE?a.yb:a,a.target.firebugIgnore||this.ve.start())};z.e.Qr=function(){z.B&&this.execCommand("clearlorem",!0);z.A&&this.iw();this.cf()};z.e.PN=function(){var a=this.VH;this.VH=null;z.$x(this,void 0,a)};z.e.Rh=function(){ay(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.cf=function(a){dy(this,!0,a)};z.e.Zn=function(){ay(this,Kx)||(this.ve&&this.ve.stop(),ay(this,z.Lx)||this.lr.start())};z.e.vD=function(){ay(this,z.Lx)||(this.lr.stop(),this.dispatchEvent(z.Lx))};
z.e.iw=function(){this.uD();this.wD()};z.e.uD=function(){ay(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.wD=function(){if(!ay(this,"focus")){z.iI=this.id;this.qf=!0;this.dispatchEvent("focus");if(z.A){var a=this.m(),b=z.Zx(this);if(b){var c=z.Bn(b);0!=z.Cn(b)||c&&c!=a&&"BODY"!=c.tagName||z.ov(a)}}!z.it&&this.oc()&&this.kb.Xa().parent.getSelection().removeAllRanges()}};z.e.nr=function(){ay(this,"blur")||(z.iI==this.id&&(z.iI=null),this.qf=!1,this.dispatchEvent("blur"))};
z.e.Al=function(a){z.iI=this.id;if(z.B){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.dm.Xa().open(b.href)}this.Au=!0};z.e.sx=function(){this.Au=!1};z.e.Wr=function(a){if(!this.$I||this.Au)this.Au=!1,z.$x(this,a),z.B&&(this.VH=a.target,this.WH.start())};
z.e.pl=function(){if(this.queryCommandValue("usinglorem"))return"\u00a0";if(!this.Ie())return this.Kc.innerHTML;var a=this.m(),b=a.cloneNode(!1),a=a.innerHTML;z.B&&a.match(/^\s*<script/i)&&(a="\u00a0"+a);b.innerHTML=a;this.TO(11,b);return this.Bt(10,b.innerHTML)};
z.e.Id=function(a,b,c,d){if(1!=this.Tl){d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.by(this,!1,!0);a=b;if(b=this.m()){if(this.oc()&&z.C)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Kc;b&&Vx(this,a,b);d&&this.execCommand("updatelorem");this.Ie()&&(c?(z.A&&xu(this.ve),dy(this)):this.cf())}};z.e.YA=function(){var a=this.kb.va();a.designMode="on";z.nt&&a.execCommand("styleWithCSS",!1,!1)};
z.e.lF=function(){this.Wk&&gy(this)&&z.$g(this.Wk,this.m())};z.e.Ie=function(){return 2==this.Tl};z.e.focus=function(){if(!z.gt&&this.oc())this.kb.Xa().focus();else{if(z.Dg)var a=this.Hk.pageXOffset,b=this.Hk.pageYOffset;this.m().focus();z.Dg&&this.Hk.scrollTo(a,b)}};z.e.Yf=function(){!z.et&&z.A||z.fy(this);this.focus()};z.e.Le=function(a){this.Tl=1;var b=this.Kc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;b.className+=" editable";this.Ey(a)};
z.e.Ey=function(a){var b=this.Kc;if(b){var b=b.innerHTML,c={},b=this.Bt(8,b,c),d=this.dm.B("IFRAME",this.lE());if(gy(this)){var f=(0,z.r)(this.ZE,this,d,b,c);this.kl=z.N(d,"load",f,!0);a&&(d.src=a)}this.gC(d);gy(this)||this.ZE(d,b,c)}};
z.e.Rr=function(){z.B&&z.rv(this.kb.Xa());z.iI!=this.id&&this.execCommand("updatelorem");if((z.Vr||z.zi)&&this.oc()&&this.eI()){var a=this.kb.Xa();this.hn=(0,z.r)(a.focus,a);a.addEventListener("keydown",this.hn,!1);a.addEventListener("touchend",this.hn,!1)}z.Dg&&this.oc()?(this.tv=(0,z.r)(this.iw,this),this.sv=(0,z.r)(this.nr,this),a=this.kb.Xa(),a.addEventListener("focus",this.tv,!1),a.addEventListener("blur",this.sv,!1)):(z.qt?(this.addListener("focus",this.wD),this.addListener(z.Rr,this.uD)):this.addListener("focus",
this.iw),this.addListener("blur",this.nr,z.A));z.A?this.iA():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.Rh),this.addListener(["cut","paste"],Sv(this.cf)),this.addListener("drop",this.Qr));this.addListener(z.C?"dragend":"dragdrop",this.Qr);this.addListener("keydown",this.lf);this.addListener("keypress",this.wN);this.addListener("keyup",this.xN);this.WH=new z.Jj(this.PN,250,this);this.xM&&this.addListener("click",ey);this.addListener("mousedown",this.Al);this.$I?(this.ic.g(this.kb.va(),
"mouseup",this.Wr),this.addListener("dragstart",this.sx)):this.addListener("mouseup",this.Wr);this.lF();dy(this);this.dispatchEvent("load");for(var b in this.Hd)this.Hd[b].enable(this)};z.e.gC=function(a){var b=this.Kc;a.className=b.className;a.id=b.id;z.dc(a,b)};z.e.ax=function(a){var b=z.Ic(z.F(this.Kc));return new Fx(this.id,b,!1,!1,a)};
z.e.nJ=function(a,b,c){c=this.ax(c);gy(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.gt&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.ND,z.Ag(a,c.Dw),a.innerHTML=b):Hx(c,b,new Gx(this.m(),this.Wk),a)};z.e.ZE=function(a,b,c){this.kl&&(z.oe(this.kl),this.kl=null);a.allowTransparency="true";this.nJ(a,b,c);Tx(this,(a.contentDocument||a.contentWindow.document).body);!z.gt&&this.oc()&&this.YA();this.Rr()};
z.e.lE=function(){var a="padding:0;"+this.Kc.style.cssText;z.wa(a,";")||(a+=";");a+="background-color:white;";z.B&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var mI;z.v(z.hy,Ix);z.e=z.hy.prototype;z.e.tF=!1;z.e.ZO=!1;z.e.yo=function(){return this.tF};z.e.DE=function(){ay(this,Kx)||iy(this)};
z.e.vA=function(){if(this.Cp?0:this.Cp=!0){var a=!1,b=Yx(this);if(b){var c,d=Yx(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(Qv(d,"height"),10)&&z.Ag(d,"height","1px");z.Ic(z.F(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=mI||(mI=z.jh())));c=d;this.PP&&(c=Math.max(c,this.PP));(0,window.parseInt)(Qv(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.Cp=!1;a&&this.dispatchEvent("ifrsz")}};z.e.Kx="";var nI=!1;z.e=z.hy.prototype;z.e.oc=function(){return!z.gt};
z.e.iA=function(){z.hy.v.iA.call(this);if(this.oc()){var a=Yx(this).ownerDocument;this.ic.g(a,jI,this.DE,!0);this.vP=z.me(this.kb.Xa(),"load",this.vA,!0,this);this.ic.g(a,"DOMAttrModified",(0,z.r)(this.uE,this,this.DE),!0)}};z.e.Zn=function(){ay(this,Kx)||(z.hy.v.Zn.call(this),this.oc()&&this.vA())};
z.e.nr=function(){if(!ay(this,"blur")&&(z.hy.v.nr.call(this),!z.gt&&!z.it)){var a=this.kb.Xa(),b=!1;z.oe(this.NF);this.NF=z.me(a.document.body,"dragover",function(){b=!0});z.t.setTimeout((0,z.r)(function(){if(!b&&this.kb){var a=z.Zx(this),d=this.kb.Xa();z.rv(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.YA=function(){z.hy.v.YA.call(this);var a=this.kb.va();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.lF=function(){this.oc()||nI||(this.Wk&&z.$g(this.Wk,this.m()),nI=!0)};z.e.Ey=function(a){if(this.oc())z.hy.v.Ey.call(this,a);else if(a=this.Kc)Tx(this,a),a.contentEditable=!0,Vx(this,a.innerHTML,a),this.Rr()};z.e.Rr=function(){if(this.oc()){var a=this;z.t.setTimeout(function(){jy(a)},0)}z.hy.v.Rr.call(this)};z.e.lE=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.gC=function(a){if(!this.ZO){var b=this.Kc;b&&(this.tF="auto"==z.Gg(b,"overflowY"))}var b=this.Kc,c=z.F(b),d=b.style.width,f=b.style.height;z.Ag(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);var g=Pv(b),c=g.width,g=g.height,h="";this.yo()&&(h="\x26nbsp;",z.Ag(b,"position","relative"),z.Ag(b,"overflow","visible"),z.Ag(a,"position","absolute"),z.Ag(a,"top","0"),z.Ag(a,"left","0"));z.Ug(b,
c,g);z.Ic(z.F(b))&&z.Ag(b,"lineHeight","0");z.pv(b,h);z.Ug(a,c,g);z.Ug(b,d,f);z.Ag(b,"visibility","");b.appendChild(a);gy(this)||(b=a.contentWindow.document,z.Ic(z.F(a.ownerDocument))&&(b.open(),a=z.Ab("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e",null),b.write(z.zb(a)),b.close()))};z.e.ax=function(a){var b=this.Kc;if(b)return new Fx(this.id,z.Ic(z.F(b)),!0,this.yo(),a);throw Error("no field");};
z.e.nJ=function(a,b,c){z.Ag(a,"visibility","hidden");c=this.ax(c);var d=this.Kc,f=this.Wk;if(!this.Kx){var g=this.Kc;if(g){var h=g.ownerDocument,l=z.ja(h);if(!eI[l]){for(var n=z.ja(h),p=[],h=vx(h.styleSheets),E=0,H;H=h[E];E++)if((H=ux(H))&&H.length)for(var L=0,M=H.length;L<M;L++){var W=new wx,ma;ma=W;var vb=H[L],ib=vb.style;if(ib){var Na=void 0,Ga="";ib&&(Na=vb.selectorText)&&(Ga=ib.cssText)?z.B&&(Ga+="/* */"):vb.cssText&&(Ga=/([^\{]+)\{/,Na=Ga.exec(vb.cssText)[1],Ga=vb.cssText.replace(Ga,"").replace(/\}[^\}]*$/g,
""));if(Na){vb=ma;vb.lh=[];Na=Na.split(/,\s*/gm);for(ib=0;ib<Na.length;ib++){var Mf=Na[ib];0<Mf.length&&vb.lh.push(new yx(Mf))}ma.Fn=Ga;ma=!0}else ma=!1}else ma=!1;ma&&p.push(W)}eI[n]=p}n=eI[l];l=[];for(p=0;p<n.length;p++)l.push(n[p].clone());h=new Cx(g);E=new zx("body");for(n=0;n<l.length;n++)for(H=l[n].lh,p=H.length,L=0;L<p;L++){M=H[L];W=M;ma=h.uid;if(W.gv[ma])ma=W.gv[ma];else{for(var Ga=0,ib=Na=vb=null,Mf=h.vG,Lo=Mf.length,Nf=0;Nf<=W.pi.length;Nf++){for(Na=W.pi[Nf];Ga<Lo;){var Ce=Mf[Ga];if(Na&&
Bx(Na,Ce)){vb={ED:Ga,XH:Nf};Ga++;break}else ib&&Bx(ib,Ce)&&(vb={ED:Ga,XH:Nf-1});Ga++}ib=Na}ma=W.gv[ma]=vb}ma&&(W=ma.XH,M=M.pi,Ga=M.length-1,ma.ED==h.vG.length-1||W<Ga?(M=M.concat(),M.splice(0,W+1,E),W=new yx,W.pi=M,H.push(W)):0<W&&W==Ga&&(W=new yx,W.pi=[E,M[Ga]],H.push(W)))}h=new wx;g=g.currentStyle||z.Hb(g).defaultView.getComputedStyle(g,"")||{};n=new yx;n.pi=[new zx("html")];h.lh=[n];E={};for(n=0;p=fI[n];n++)E[p]=g[z.ab(p)];xx(h,E);l.push(h);h=new wx;E=new yx;E.pi=[new zx("body")];H={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(n=0;p=gI[n];n++)H[p]=g[z.ab(p)];xx(h,H,!0);h.lh=[E];l.push(h);g=[];p=l.length;for(n=0;n<p;n++){H=l[n];h=g;L=H.lh.length;E=!1;for(M=0;M<L;M++){W=H.lh[M].pi;ma=W.length;for(Ga=0;Ga<ma;Ga++)h.push(W[Ga].jF," ");M<L-1&&h.push(",");z.A&&!z.D("1.9a")&&(E=E||cI.test(W[ma-1].jF))}H=H.Fn;E&&(H=H.replace(dI,"$1 color: $2 ! important; "));h.push("{",H,"}\n")}this.Kx=g.join("")}}d=new Gx(d,f+this.Kx);c.Iq&&(f=z.gh(d.uU),(f.top||f.left||f.right||
f.bottom)&&z.Ag(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));Hx(c,b,d,a);jy(this);z.Ag(a,"visibility","visible")};z.e.Hv=function(){z.oe(this.NF);z.oe(this.vP);z.hy.v.Hv.call(this)};var Iy={};Iy._default_={ex:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},ql:Yv,rl:Yv,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},yy:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
Iy.answer={ql:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},rl:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},uK:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
Iy.question={ql:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},rl:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
Iy.favlist={ql:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},rl:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
Iy.post={ex:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},ql:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},rl:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},yy:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
Iy.roundtable={ex:function(a){return window.$.get("/roundtable/comments/"+a)},ql:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},rl:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},yy:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};z.v(ky,z.Nd);ly.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.v(my,Ow);var cG=function(a){return function(b,c){return a(z.xa("/manage/%s/options?action\x3d%s",b,c))}}(z.Qt(window.$.getJSON));z.e=my.prototype;z.e.EB={remove:"\u5220\u9664",lock:"\u9501\u5b9a",unlock:"\u89e3\u9664\u9501\u5b9a",collapse:"\u6298\u53e0",uncollapse:"\u89e3\u9664\u6298\u53e0",mute:"\u9694\u79bb",unmute:"\u89e3\u9664\u9694\u79bb"};z.e.nE=function(a){return cG(a,this.ol())};z.e.Ok=function(a,b){var c=my.v.Ok.call(this,a,b);c.qc.set("ok",this.EB[this.ol()]);return c};z.e.ol=function(){return(0,window.$)(this.wv).data("op").split("-")[0]};
z.e.gE=function(a){return z.xa("\u786e\u5b9a\u8981%s\u8be5%s\uff1f",this.EB[this.ol()],this.JB[a]||"\u6761\u76ee")};z.e.aI=function(a){(0,window.$)(".footnote",this.Zw().m()).text(a)};z.e.CE=function(a){a&&(a.trackable?oy(this,a).then((0,z.r)(this.aI,this)):this.aI(""))};my.prototype.submit=function(){var a=(0,window.$)(this.wv).data(),b=a.action,a=a.content,c=(0,window.$)((0,window.$)("form",this.Hn.m())[0]).serialize();a&&(c+="\x26"+a);ny(b,c,this.Qk)};
my.prototype.C=function(){this.Qk=this.wv=null;my.v.C.call(this)};my.prototype.open=function(a,b,c){this.wv=a;this.Qk=c||z.df.nW;my.v.open.call(this,b.type,b.id,"")};z.v(py,z.R);z.e=py.prototype;z.e.defaults={trigger:{A:"data-editable"},LJ:"hc-actionbar",jP:"checked",eT:100,jO:100};z.e.D=function(){py.v.D.call(this);this.dn=z.J("div");window.document.body.appendChild(this.dn);qy(this,this.h)};z.e.cx=function(){return this.oO};
z.e.NK=function(a,b,c){b=z.J("div",{title:a.V,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.J("i","icon icon-actionbar-"+a.name)]);z.bh(b,!0);this.o().g(b,"click",function(){ry(this,a.name)&&a.Ti(this.se)});return b};z.e.ca=function(){this.dn.innerHTML="";z.Zb(this.dn,z.x.map(z.y.Pa(this.Vm.pu()),this.NK,this))};z.v(z.ty,z.R);z.ty.prototype.defaults={TE:{},rK:!0};z.ty.prototype.D=function(){z.ty.v.D.call(this);var a=this,b=this.h;this.J.rK&&(this.lq=Gy(b));this.o().g(b,"paste",function(){(0,window.setTimeout)(function(){uy(a)})}).g(b,"keydown",this.dO)};
z.ty.prototype.dO=function(a){var b=z.zh(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.ro(),d=b.Z(),f=b.ia(),g=this.h,h,l=xy(d,g,zy)||f!==d&&(h||(h=xy(f,g,zy)));if(l){var n=z.yc(l),p=b.wa(),E=b.Ma();if(l.getAttribute("data-editable")&&n===l.href){var H=!1;h=h||xy(f,g,zy)||l;var g=l.contains(d),L=h.contains(f);if(c)g&&(d=l,p=0,H=!0),L&&(f=h,E=z.Xt(h),H=!0),H&&z.ao(d,p,f,E).select();else if(g&&L&&h===l){if(!b.isCollapsed()||0!==p&&n.length!==p)a.preventDefault(),z.au(l)}else g&&
(d=l.nextSibling,p=0,H=!0),L&&(f=h.previousSibling,E=z.Xt(f),H=!0),H&&z.ao(d,p,f,E).select()}}}};var Fy=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,By=["http:","https:"],Cy=z.Qt(function(a){return window.$.post("/scraper",{url:a})});z.v(Hy,z.R);z.e=Hy.prototype;z.e.defaults={RF:!1,autofocus:!0,nw:"empty",rf:"zm-item-comment"};z.e.fa=function(a){Hy.v.fa.call(this,a);$y(this);Sy(this);this.zd=!0;z.x.forEach(Uy(this),this.lt,this)};z.e.oK="zm-comment-bubble";z.e.eC="."+Hy.prototype.oK;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.J("div",{"class":this.HC,style:"display:none"});this.ef()};z.e.Xi=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.C=function(){Hy.v.C.call(this);this.Aa=this.NC=this.tn=this.WB=this.wh=this.zz=this.SF=null};z.e.vs=function(a){(a=a.m&&a.m())&&(new z.ty({TE:{image:z.m}})).w(a)};z.e.us=function(a,b){if(a.m){var c=(new z.Ml).add("type",this.type+"_comment").add("resource_id",this.id),d=a.m(),c=new z.Po(d,{Um:{source:"/people/autocomplete?"+c.toString()},ak:z.I("zu-main")||window.document.body});new z.Ho(d,{Mz:z.Zo});z.ha(b)&&b(c)}};
z.e.jT=Jy(function(a){var b=z.I("zm-comment-content-wrap",a),c=z.I("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.I("zm-comment-editable",c);if(z.Zg(c)){if(Vu(c)){z.Q(c,!1);return}}else z.Q(c,!0);Qy(g)}else{c=Ry(b);g=z.I("zm-comment-editable",c);var h=new z.hy(g);h.Id(!1,"");h.Le();this.us(h,function(){Qy(g)});this.vs(h);a=z.I("zm-comment-close",c);b=z.I("zm-comment-submit",c);b.name="";var l=function(){var a=(0,z.Xa)(h.pl()),b=(0,z.Xa)(z.yc(g));a&&b?dz(f,{content:a,rS:d},function(a){a.r||
(z.Q(c,!1),h.Id(!1,""),(a=z.x.qd(Uy(f)))&&fv(a,{offsetTop:100,bC:!0}))}):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),g.focus())};z.N(a,"click",function(){z.Q(c,!1)});z.N(b,"click",l);z.N(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(l(),a.preventDefault())})}fv(c,100)},"reply");z.e.$t=function(a){z.S.enable(this.NC,"expanded",a)};z.e.Ci=function(a,b){this.dispatchEvent(new ky("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.ga(b)?b:this.Ua()}))};
z.e.rj=function(){this.zd?Yy(this):this.$g=!0};z.e.DQ=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.oq(),(0,window.$)(this.Aa).blur(),a.preventDefault());27===a.keyCode&&Wy(this)};
z.e.Ba=function(a){var b=z.Pk(this.h,a.target,"BUTTON")||z.Pk(this.h,a.target);if(b&&b.name){var c=z.Gc(b,this.J.rf);a.preventDefault();switch(b.name){case "reply_comment":this.jT(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");yu(0,null,a);break;case "delcomment":this.Or(b);break;case "like_comment":this.zN(b);break;case "author_delcomment":fz(this,b);break;case "admin_delcomment":ez(this,b);break;case "closeform":Wy(this);break;case "addnew":this.oq();break;
case "load-more":this.Ci("comments_all"),this.SF(b)}}};
z.e.SF=function(a){this.Ts&&"pending"===this.Ts.state()||(a&&z.S.add(a,"loading"),this.Ts=this.zz||this.TF(),this.Ts.done((0,z.r)(function(b){a&&z.K(a);b=(0,window.$)(b).filter(".zm-item-comment").get();var c=this.nD;b=z.x.filter(b,function(a){return!((0,window.$)(a).attr("data-id")in c)});if(b.length){var d=Uy(this);d.length&&(b=z.x.filter(b,function(a){return!z.x.find(d,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.x.concat(d,b).sort(function(a,b){return a.getAttribute("data-id")-
b.getAttribute("data-id")}),z.x.forEach(b,this.lt,this));z.Zb(this.tn,b)}},this)))};
z.e.zN=Jy(function(a){var b=(0,window.$)(a),c=z.Gc(a,this.J.rf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");(c=!b.hasClass("liked"))&&this.Ci("like_comment");this.zg.yy(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tip","s$r$"+f+" \u4eba\u89c9\u5f97\u8fd9\u4e2a\u5f88\u8d5e");d.text(f);b.toggleClass("liked",c);z.yk(b[0],c?"\u53d6\u6d88\u8d5e":"\u8d5e")},"like");z.e.expand=function(){this.Ta(!0)};z.e.collapse=function(){this.Ta(!1)};
z.e.Hc=function(){return this.zd};
z.e.Ta=function(a){if(a!==this.zd){a&&(this.$(this.eC).hide(),this.ef());this.zd=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.Q(this.h,this.zd);var b=(0,z.r)(function(){a&&Xy(this);this.dispatchEvent(a?"expand":"collapse");this.ml&&!a&&(z.Ao(this.ml),fv(this.ml.h))},this),c;a&&this.$g?(c=Yy(this))&&c.done(b):(0,window.setTimeout)(b);this.wh&&(a?(this.wR=z.yc(this.wh),z.yk(this.wh,"\u6536\u8d77\u8bc4\u8bba")):z.yk(this.wh,0>this.Da?this.wR:this.Da?this.Da+" \u6761\u8bc4\u8bba":"\u6dfb\u52a0\u8bc4\u8bba"))}};
z.e.Df=function(){this.Ta(!this.zd)};z.e.TF=function(){return this.zg.rl(this.id)};z.e.Tt=function(a){this.un=a};z.e.kS=function(a){a=z.Wb((0,z.Xa)(a));z.Q(a,this.zd);z.x.forEach((0,window.$)("."+this.J.rf,a).get(),this.lt,this);this.$g=!1;this.mb();z.dc(a,this.h);this.h=a;$y(this)};z.e.hb=function(){var a=(0,z.Xa)(this.fl.pl());return a===this.placeholder?"":a};
z.e.oq=function(){var a=this.$("a[name\x3dload-more]");a.length&&bz(this)&&!a.hasClass("load-more-fold")&&(0===a.prevAll().length?cz(this,"\u663e\u793a\u5168\u90e8 "+(this.Da+1)+" \u6761\u8bc4\u8bba"):(a.addClass("load-more-fold"),cz(this,"\u5c55\u5f00\u5176\u5b83 "+(this.Da-1)+" \u6761\u8bc4\u8bba")));var a=this.hb(),b=(0,z.Xa)(z.yc(this.Aa));a&&"TEXTAREA"===this.Aa.tagName&&b||a?dz(this,a):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),this.Aa.focus())};z.e.Ua=function(){return this.Da};
z.e.OM=function(a){if(a.r)return z.Ei("\u63d0\u793a\u4fe1\u606f",a.msg);this.zg.ex(a.msg).done(window.$.proxy(this.lS,this));this.fl.Id("");Py(this);this.$t(!1)};
z.e.lt=function(a){if(z.ks("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e\u5220\u9664',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.Cj(a)};
z.e.Cj=function(a){var b=(0,window.$)("a[name\x3dreport], button.report",a);b.length&&(a=a.getAttribute("data-id"),a=new Pw("comment",a,{post:"article_comment_report",question:"question_comment_report",answer:"question_answer_comment_report"}[this.type]),Rw(a,b[0]),z.Id(a,this))};z.e.lS=function(a){this.Lj="";a=z.Wb(a);this.tn.appendChild(a);this.lt(a);this.Da+=1;az(this)};
z.e.Or=function(a){var b=z.Gc(a,this.J.rf),c=b.getAttribute("data-id");z.Ai("\u5220\u9664\u8bc4\u8bba","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",function(a){a&&hz(this,c,z.pa(z.K,b))},this)};z.e.ef=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.r)(function(){if(this.Lj)return"\u4f60\u7684\u8bc4\u8bba\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Of=function(){(0,window.$)(window).off("beforeunload.CommentForm")};z.v(jz,z.R);z.e=jz.prototype;z.e.Bw="zm-item-expanded";z.e.Ys="zm-item-meta";z.e.Mj=null;z.e.D=function(){jz.v.D.call(this);var a=lz(this.h);this.lb=a[this.entryType+"-id"];this.Th=a[this.entryType+"-url-token"];this.ur=a;this.en();this.re();mz(this)};z.e.Rn=function(){var a=this.entryType+"-"+this.lb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.en=function(a){var b={'a[name\x3d"expand"]':function(a){this.Ta(!0);this.Ds&&(a.currentTarget.name="toggleExpanded")},'a[name\x3d"collapse"]':function(){this.Ta(!1)},'a[name\x3d"toggleExpanded"]':this.Df,'a[name\x3d"ignore"]':this.Sr,".js-close":this.HE,".js-collect":this.sj,".js-hiderelated":this.GE,".js-share":this.uc,".js-toggle-commentbox":this.ME,".js-unhide":this.QE,'a[name\x3d"dislike"]':this.tE};z.y.extend(b,a||{});z.y.forEach(b,function(a,b){if(z.ha(a))(0,window.$)(this.h).on("click",
b,window.$.proxy(a,this))},this);var c=(0,window.$)(".zm-meta-panel",this.h);z.y.forEach({'a[name\x3d"toggle-comment"]':function(a){this.ME(a);c.toggleClass("focusin",this.qa.Hc())},'a[name\x3d"share"]':this.uc},function(a,b){c.on("click",b,window.$.proxy(a,this))},this)};z.e.ME=function(a){this.Qp();this.qa.Hc()&&(a=(0,window.parseInt)(z.yc(a.currentTarget),10)||0,this.qa.Ci("view_comments",a))};z.e.Hy=function(){wz(this.entryType,this.Th,"read")};z.e.Rj=function(){wz(this.entryType,this.Th,"touch")};
z.e.Hc=function(){return z.S.has(this.h,this.Bw)};z.e.Df=function(){this.Ta(!this.Hc())};z.e.Ta=function(a){if(a===this.Hc())return!1;a&&Pv(this.h).height<z.Ob().height&&1<(0,window.$)("a.collapse",this.h).length&&(0,window.$)("a.collapse",this.h).eq(0).remove();z.S.enable(this.h,this.Bw,a);this.dispatchEvent(a?"expand":"collapse");return!0};z.e.nR=function(){window.open(z.I(this.Mj,this.h).href)};z.e.HE=function(){(0,window.$)(this.h).fadeOut(150,function(){(0,window.$)(this).remove()})};
z.e.sj=z.m;z.e.Sr=z.m;z.e.QE=z.m;z.e.GE=z.m;z.e.uc=kz(function(){px(arguments,"tb-webshare-sina")},{ra:"question_answer_share"});
z.e.tE=function(){var a=(0,window.$)(this.h),b=(0,window.$)(".feed-item-inner",a),c=(0,window.$)(".undo-dislike-options",a),d={block_id:a.data("block"),offset:a.data("offset")};c.off().one("click",".revert",function(){b.slideDown();c.slideUp();window.$.post("/topstory/item/uninterest/revert",d)}).one("click",".close",function(){a.slideUp(function(){a.remove()})});window.$.post("/topstory/item/uninterest",d).done(function(){b.slideUp();c.slideDown()})};
z.e.Qp=function(){if(!this.qa){var a=(0,window.$)(".toggle-comment",this.h)[0];this.qa=new Hy(this.lb,this.entryType);this.L(this.qa);Ky(this.qa,z.I(this.Ys,this.h),a);iz(this.qa);this.qa.Tt(this.Rn())}this.qa.Df()};z.e.wx=function(){this.qa?this.qa.Aa.focus():this.Qp()};
z.e.re=function(){this.Jd=z.Os.lJ(this.h);z.xk(this.Jd.register("shift+o",this.nR,this),{group:"\u64cd\u4f5c",name:"\u65b0\u7a97\u53e3\u6253\u5f00\u6761\u76ee"});var a=(0,window.$)('a[name\x3d"dislike"], a[name\x3d"ignore"]',this.h);a.length&&z.xk(this.Jd.register("i g",function(){a.click()}),{group:"\u64cd\u4f5c",name:"\u4e0d\u611f\u5174\u8da3"})};nz.prototype={Jc:function(a){if(a)this.AC.push(a);else{var b={current:this.Rd,co:this.co(),as:this.as()};z.x.forEach(this.AC,function(a){(0,window.setTimeout)(function(){a.call(null,b)})})}},remove:function(a){a=this.items.indexOf(a);-1!==a&&(this.items.splice(a,1),oz(this),this.Jc());return a},co:function(){return this.Rd<this.Ho},as:function(){return 1!==this.Rd},next:function(){this.co()&&(this.Rd+=1,this.Jc())},prev:function(){this.as()&&(--this.Rd,this.Jc())},random:function(a){if(this.Ho>=2*
this.ah){for(var b=[],c=1;c<this.Ho+1;c++)b.push(c);0!==a&&z.x.remove(b,this.Rd);0!==this.items.length%this.ah&&z.x.remove(b,this.Ho);a=b.length;a=Math.floor(Math.random()*a);this.Rd=b[a]}else a===this.ah&&this.items.reverse(),this.Rd=1;this.Jc();return this.items.length>this.ah}};z.v(rz,jz);rz.prototype.D=function(){rz.v.D.call(this);sz(this)};rz.prototype.tE=function(){var a=this,b=(0,window.$)(this.h);window.$.post("/actioncard/uninterest",{type:"suggest_topics"},function(){b.slideUp(function(){a.H();b.remove()})})};z.v(tz,jz);tz.prototype.Mj="question_link";tz.prototype.Sr=function(){var a=this.ur["question-id"];this.dispatchEvent({type:"ignore",key:"question-id",value:a});window.$.post("/question/uninterest",{qid:a})};z.v(uz,tz);uz.prototype.D=function(){uz.v.D.call(this);vz(this)};uz.prototype.uc=function(){uz.v.uc.call(this,"\u5206\u4eab\u95ee\u9898","question",this.Th,{qid:this.lb})};
uz.prototype.re=function(){uz.v.re.call(this);z.xk(z.xk(z.xk(this.Jd.register("c",this.Qp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.uc,this),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("shift+c",this.wx,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(xz,tz);z.e=xz.prototype;z.e.D=function(){xz.v.D.call(this);this.cC=yz(this.h);this.Ds=this.cC.getAttribute("data-isowner");this.Vx();this.Nl()};z.e.uc=z.m;
z.e.Ta=function(a){xz.v.Ta.call(this,a)&&(a||(xv(this.yg.m()),zz(this,!1)),a&&this.Nl(),this.yg.hA(a),this.yg.hu.Ta(a))};z.e.Vx=function(){var a=z.I("zm-item-answer-author-wrap",this.h);a&&(a=z.I("zm-list-avatar",a),z.Ms.add(a))};z.e.Nl=function(){this.yg=new PF(this.ur["question-id"],{ub:this.ur["question-url-token"]},this.lb);TF(this.yg,z.I("zm-item-meta",this.h));this.L(this.yg);this.yg.w(this.cC);var a=this.yg.hu;this.o().g(a,"expand",function(){this.Ta(!0)});this.Nl=z.m};
z.e.re=function(){xz.v.re.call(this);z.xk(this.Jd.register("o",this.Df,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"})};z.e.en=function(){xz.v.en.call(this,{"a[name\x3dexpandQuestionDetail]":function(){zz(this,!0)}})};z.v(Az,jz);Az.prototype.D=function(){Az.v.D.call(this);var a=z.I("column",this.h);jw(a,this.Rj,this)};Az.prototype.Rj=function(){wz("column",this.Th,"touch")};var Fz={lB:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},qE:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.v(Bz,z.R);var Dz={qe:1,ug:-1,FB:0};Bz.prototype.defaults={eU:"up",ZL:"down",yL:"count",xt:"pressed"};z.y.extend(Bz.prototype,Dz);z.e=Bz.prototype;z.e.N=Dz.FB;
z.e.w=function(a){Bz.v.w.call(this,a);var b=this.J;a=this.K=(0,window.$)(a);this.Ou=(0,window.$)("."+b.eU,a);this.Ju=(0,window.$)("."+b.ZL,a);this.pB=(0,window.$)("."+b.yL,a);b=this.Ou.hasClass(this.J.xt);a=this.Ju.hasClass(this.J.xt);b?this.N=Dz.qe:a&&(this.N=Dz.ug);Hz(this);this.Ou.click(window.$.proxy(this.ru,this));this.Ju.click(window.$.proxy(this.qu,this));return this};z.e.ce=function(){return this.N};
z.e.dc=z.Mm(function(a){a!==this.N&&z.y.Cg(Dz,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.yd&&"pending"===this.yd.state()&&this.yd.abort(),Cz(this,this.N,a),this.N=a,Hz(this),Ez(this).done((0,z.r)(function(a){a.r||this.Jc()},this)))},function(a){var b={};b[Dz.qe]="question_answer_vote_up";b[Dz.ug]="question_answer_vote_down";return{ra:b[a],gd:!0}});z.e.track=function(a){a===Dz.qe?z.Sk("vote","voteup","side_vote"):a===Dz.ug&&z.Sk("vote","votedown","side_vote")};
z.e.ru=function(){this.dc(this.N===Dz.ug?Dz.qe:this.N^Dz.qe)};z.e.qu=function(){this.dc(this.N===Dz.qe?Dz.ug:this.N^Dz.ug)};z.e.Jc=function(){this.dispatchEvent("change")};z.v(Iz,z.R);Iz.prototype.fa=function(a){Iz.v.fa.call(this,a);this.o().g(a,"click",this.qR)};Iz.prototype.SL=function(){var a=this.mB;z.dc(a.m(),this.fJ);z.S.remove(a.m(),this.bq)};Iz.prototype.qP='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e\u8d5e\u540c\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e\u53cd\u5bf9\x3c/label\x3e\x3c/div\x3e';
Iz.prototype.qR=z.Mm(function(){this.xb&&this.xb.H();var a=new z.ui(null,!1);a.Pf=!0;a.vi(!0);a.XD=!0;Jz(this);this.o().sa(a,"hide",this.SL);var b=a.W();b.appendChild(this.mB.m());b.appendChild(z.Wb(this.qP));z.S.add(a.m(),this.gw);a.G(!0);this.xb=a;z.Id(this,a)},!0);z.v(Kz,jz);z.e=Kz.prototype;z.e.Mj="post-link";z.e.D=function(){Kz.v.D.call(this);Lz(this);var a=z.I("zm-votebar",this.h);a&&(this.qb=new Bz(this.lb,this.entryType),z.Id(this,this.qb),this.qb.w(a),(a=z.I("votenum-mobile",this.h))&&(new Iz(this.qb)).w(a));Mz(this)};z.e.uc=function(){Kz.v.uc.call(this,"\u5206\u4eab\u6587\u7ae0","post",this.lb,{post_id:this.lb})};z.e.Ta=function(a){Kz.v.Ta.call(this,a)&&(a||xv((0,window.$)(".entry-body",this.h)[0]),this.hu.Ta(a),this.hA(a))};
z.e.hA=function(a){var b=this.Dj();b&&z.zo(b,a)};z.e.Dj=function(){if(this.yh)return this.yh;var a=!z.yi,b=z.I("zm-editable-content",this.h),c=this.qb&&this.qb.m();a&&c&&(0,window.$)(c).is(":visible")&&b&&230<(0,window.$)(b).height()&&(a=this.yh=new z.Eo(null,b),this.L(a),a.tag="votebar",a.qz=50,a.w(c))};z.e.Sr=function(){(0,window.$)(".feed-hide-options",this.h).show().siblings().hide();window.$.post(fw("/post/uninterest"),{id:this.lb})};
z.e.QE=function(){(0,window.$)(".feed-hide-options",this.h).hide().siblings().show();window.$.post(fw("/post/undo_uninterest"),{id:this.lb})};z.e.GE=function(a){a=(0,window.$)(a.currentTarget);var b=a.data();z.Ai(a.attr("title"),fw("\u786e\u5b9a%s\u5417\uff1f",a.text()),function(a){a&&(this.HE(),window.$.post(fw("/%s/uninterest",b.type),{id:b.id}))},this)};
z.e.re=function(){Kz.v.re.call(this);z.xk(this.Jd.register("v",function(){this.qb&&this.qb.ru()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.xk(this.Jd.register("d",function(){this.qb&&this.qb.qu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.xk(z.xk(z.xk(z.xk(this.Jd.register("o",this.Df,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.Qp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.uc,this),{group:"\u64cd\u4f5c",
name:"\u5206\u4eab"}).register("shift+c",this.wx,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(Oz,jz);z.e=Oz.prototype;z.e.D=function(){Oz.v.D.call(this);this.ro()};z.e.Mj="roundtable_link";z.e.Sr=function(){window.$.post("/roundtable/"+this.Th,{action:"mute"});this.dispatchEvent({type:"ignore",key:"roundtable-id",value:this.lb})};z.e.ro=function(){jw(this.h,this.Rj,this)};z.e.Rj=function(){wz("roundtable",this.Th,"touch")};z.v(Qz,$w);Qz.prototype.Yj=function(a){var b=Pz(a);this.L(b);b.w(a);b instanceof xz&&b.Ta(!1)};z.v(Rz,z.Nm);z.ca(Rz);z.e=Rz.prototype;
z.e.B=function(){this.XL=!0;this.h=z.J("div",null,[this.uP=z.J("div",null,[this.Tg=z.J("div","zm-favo-list-content"),this.RB=z.J("div","zh-favo-add-new-wrap zm-command",this.tT=z.J("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ \u521b\u5efa\u6536\u85cf\u5939"),this.Iv=z.J("a",{href:"javascript:;","class":"zg-btn-blue"},"\u5173\u95ed")),this.Xu=z.J("div","zh-favo-add-new-wrap zm-command",this.hL=z.J("a",{href:"javascript:;","class":""},"\u53d6\u6d88"),this.uT=z.J("a",{"class":"zm-favo-dialog-create zg-btn-blue",
href:"javascript:;"},"\u521b\u5efa\u6536\u85cf\u5939"))]),this.Rw=z.J("div",{style:"display:none"},[z.J("div",null,["\u6807\u9898",this.QA=z.J("span",{"class":"zh-favo-add-title-error"},"\u8bf7\u586b\u5199\u6807\u9898")]),z.J("div","zg-section",this.Nj=z.J("input",{"class":"zg-form-text-input",style:"width:97%;font-size:13px"})),z.J("div",null,"\u63cf\u8ff0\uff08\u53ef\u9009\uff09"),z.J("div","zg-section zg-editor-simple-wrap zg-form-text-input",this.Sl=z.J("textarea",{"class":"zg-editor-input",style:"height:66px"})),
this.VR=z.J("label",null,[this.dP=z.J("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),z.J("strong",null," \u516c\u5f00 "),z.J("span","zg-gray-normal","\u516c\u5f00\u540e\u4e0d\u80fd\u8bbe\u7f6e\u4e3a\u79c1\u5bc6")]),this.mP=z.J("br"),this.RR=z.J("label",null,[this.cP=z.J("input",{type:"radio",value:"private",name:"mode"}),z.J("strong",null," \u79c1\u5bc6 "),z.J("span","zg-gray-normal","\u53ea\u6709\u4f60\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u6536\u85cf\u5939")]),z.J("div","zm-command",
[this.CA=z.J("a",{href:"javascript:;","class":"zg-mr10"},"\u53d6\u6d88"),this.Tq=z.J("a",{href:"javascript:;","class":"zg-mr10"},"\u5b8c\u6210"),this.PB=z.J("a",{"class":"zg-btn-blue"},"\u786e\u8ba4\u521b\u5efa")])])]);z.Q(this.QA,!1);z.Q(this.Xu,!1);(new z.$m(this.RA)).w(this.Nj);(new z.$m(this.ew)).w(this.Sl);z.x.forEach(this.zy,function(a){Tz(this,a)},this);this.zy.length||(this.Tg.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6536\u85cf\u5939\uff0c\u5c06\u7b54\u6848\u5206\u7c7b\u6536\u85cf\x3c/div\x3e ',
z.Q(this.Xu,!0),z.Q(this.RB,!1));Sz(this);this.ga.W().innerHTML="";this.ga.W().appendChild(this.h);this.ga.aa()};
z.e.wb=function(){this.JK||(this.JK=!0,this.o().g(this.CA,"click",function(){this.na?Xz(this,0):$z(this)}).g(this.tT,"click",function(){z.X.oa({type:"ga_click_add_collection"});Xz(this,1)}).g(this.Iv,"click",function(){$z(this)}).g(this.uT,"click",function(){z.X.oa({type:"ga_click_add_collection"});Xz(this,1)}).g(this.hL,"click",function(){$z(this)}).g(this.Tq,"click",function(){$z(this)}).g(this.PB,"click",this.Yg).g(this.Tg,"click",this.TQ).g(this.Nj,"change",function(){z.Q(this.QA,!1)}))};
z.e.TQ=function(a){var b=z.Ec(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.S.has(b,"zm-favo-list-item-link-active")?(c=!0,this.dD=a):this.aD=a;b=new z.Qk;b.add("answer_id",this.na);b.add("favlist_id",a);this.Xz=new z.U(!0);this.locked=!0;this.o().sa(this.Xz,"complete",this.$J);this.Xz.ajax(c?"/collection/remove":"/collection/add",b.kd())}};
z.e.$J=function(){this.locked=!1;this.Iv.innerHTML="\u5173\u95ed";var a=z.mf(this.Xz);a&&!a.r?(a=z.Lb("zm-favo-list-item-link",this.Tg),z.x.forEach(a,function(a){var c=a.getAttribute("data-lid"),d=z.I("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.dD?(d.innerHTML=f-1+"",z.S.remove(a,"zm-favo-list-item-link-active")):c===this.aD&&(d.innerHTML=f+1+"",z.S.add(a,"zm-favo-list-item-link-active"))},this),this.aD=this.dD=null,z.Sk("Favorite","add_favorite")):z.T("\u6dfb\u52a0\u5931\u8d25: "+a.msg)};
z.e.Zj=function(){this.wb();this.Iv.innerHTML="\u5173\u95ed";this.na?(z.Q(this.Tq,!1),Xz(this,0)):(Xz(this,1),z.Q(this.CA,!1),this.Tq.innerHTML="\u53d6\u6d88")};z.e.show=function(a){a?(Wz(this),this.ga.G(!0),this.Zj()):(Sz(this,"\u6dfb\u52a0\u5230\u6536\u85cf\u5939",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e\u6536\u85cf\u5939\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.ga.G(!0),this.Ir())};
z.e.Ir=function(){this.na&&window.$.get("/collections/json",{answer_id:this.na}).done((0,z.r)(this.JQ,this))};z.e.JQ=function(a){a&&!a.r&&(this.zy=a.msg[0],this.Qs=a.msg[1],Wz(this),this.Zj())};
z.e.Yg=function(){if(!this.xhr||!this.xhr.Sb()){var a=z.Bk(this.Nj.value);if(a&&a!==this.RA){a=Yz(this);this.na&&a.add("answer_id",this.na);if(this.Bs){if(this.DO.kd()===a.kd()){$z(this);return}a.add("favlist_id",this.cD[0])}this.xhr=new z.U(!0);this.o().sa(this.xhr,"complete",this.SJ);this.xhr.ajax(this.Bs?"/collection/update":"/collection/create",a.kd())}else z.Q(this.QA,!0)}};
z.e.SJ=function(){var a=z.mf(this.xhr);a&&!a.r?this.Bs?($z(this),z.T("\u7f16\u8f91\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Bs=!1):this.na?(z.Q(this.Xu,!1),z.Q(this.RB,!0),Xz(this,0),this.Qs.push(a.msg[0]),Tz(this,a.msg,!0),this.Nj.value="",this.Sl.value=""):($z(this),z.T("\u521b\u5efa\u6210\u529f"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):z.T(a.msg)};z.e.S=function(){return this.ga.S()};var aA="close";
Rz.prototype.ef=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.r)(function(){return"\u4f60\u5bf9\u6536\u85cf\u5939\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};Rz.prototype.Of=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.v(eA,z.O);eA.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.yb;if("mousewheel"==a.type){c=1;if(z.B||z.C&&(z.mk||z.D("532.0")))c=40;d=fA(-a.wheelDelta,c);z.ba(a.wheelDeltaX)?(b=fA(-a.wheelDeltaX,c),c=fA(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ba(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.ga(this.bG)&&(b=Tv(b,-this.bG,this.bG));z.ga(this.cG)&&(c=Tv(c,-this.cG,this.cG));this.fP&&(b=-b);b=new gA(d,a,b,c);this.dispatchEvent(b)};
eA.prototype.C=function(){eA.v.C.call(this);z.oe(this.OF);this.OF=null};z.v(gA,z.Qd);z.v(hA,z.O);z.e=hA.prototype;z.e.me=0;z.e.Lo=0;z.e.Io=100;z.e.Ln=0;z.e.nk=1;z.e.rF=!1;z.e.ct=!1;z.e.Ha=function(a){a=iA(this,a);this.me!=a&&(this.me=a+this.Ln>this.Io?this.Io-this.Ln:a<this.Lo?this.Lo:a,this.rF||this.ct||this.dispatchEvent("change"))};z.e.X=function(){return iA(this,this.me)};z.e.Ut=function(a){a=iA(this,a);this.Ln!=a&&(this.Ln=0>a?0:this.me+a>this.Io?this.Io-this.me:a,this.rF||this.ct||this.dispatchEvent("change"))};
z.e.Yh=function(){var a=this.Ln;return null==this.nk?a:Math.round(a/this.nk)*this.nk};z.e.Ec=function(){return iA(this,this.Lo)};z.e.Wc=function(){return iA(this,this.Io)};z.e.Vn=function(){return this.nk};z.v(jA,z.R);z.e=jA.prototype;z.e.Gb="horizontal";z.e.ys=!1;z.e.UP=!1;z.e.If=10;z.e.$s=0;z.e.uF=!0;z.e.at=0;z.e.zJ=1E3;z.e.hc=!0;z.e.Zd=!1;z.e.B=function(){jA.v.B.call(this);var a=this.M().B("DIV",this.R(this.Gb));this.fa(a)};z.e.fa=function(a){jA.v.fa.call(this,a);z.th(a,this.R(this.Gb));a=this.m();var b=z.Jb(null,"goog-slider-thumb",a)[0];b||(b=this.M().B("DIV","goog-slider-thumb"),z.kh(b,"button"),a.appendChild(b));this.cb=this.Ad=b;z.kh(this.m(),"slider");zA(this)};
z.e.D=function(){jA.v.D.call(this);this.le=new z.Dh(this.cb);this.Wf=new z.Dh(this.Ad);this.le.Sf(this.Zd);this.Wf.Sf(this.Zd);this.le.aw=this.Wf.aw=z.m;this.tb=new z.Zi(this.m());kA(this,!0);this.m().tabIndex=0;tA(this)};z.e.mb=function(){jA.v.mb.call(this);z.Ld(this.le,this.Wf,this.tb,this.Uj)};
z.e.Mr=function(a){var b=a.pr==this.le?this.cb:this.Ad,c;"vertical"==this.Gb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Wc()-this.Ec())+this.Ec()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.Wc()-this.Ec())+this.Ec();c=a.pr==this.le?Math.min(Math.max(c,this.Ec()),this.X()+this.Yh()):Math.min(Math.max(c,this.X()),this.Wc());rA(this,b,c)};
z.e.Yr=function(a){var b="start"==a.type;z.xh(this.m(),"goog-slider-dragging",b);z.xh(a.target.handle,"goog-slider-thumb-dragging",b);a=a.pr==this.le;b?(this.dispatchEvent("h"),this.dispatchEvent(a?"d":"f")):(this.dispatchEvent("i"),this.dispatchEvent(a?"e":"g"))};
z.e.lf=function(a){var b=!0;switch(a.keyCode){case 36:xA(this,this.Ec());break;case 35:xA(this,this.Wc());break;case 33:pA(this,this.If);break;case 34:pA(this,-this.If);break;case 37:var c=this.Zd&&this.Ed()?1:-1;pA(this,a.shiftKey?c*this.If:c*this.Xp);break;case 40:pA(this,a.shiftKey?-this.If:-this.Xp);break;case 39:c=this.Zd&&this.Ed()?-1:1;pA(this,a.shiftKey?c*this.If:c*this.Xp);break;case 38:pA(this,a.shiftKey?this.If:this.Xp);break;default:b=!1}b&&a.preventDefault()};
z.e.Vr=function(a){this.m().focus&&this.m().focus();var b=a.target;z.mc(this.cb,b)||z.mc(this.Ad,b)||(b="click"==a.type,b&&(0,z.w)()<this.at+this.zJ||(b||(this.at=(0,z.w)()),this.UP?xA(this,nA(this,a)):(this.FA(a),this.Te=sA(this,nA(this,a)),this.cF="vertical"==this.Gb?this.Js<this.Te.offsetTop:this.Js>wA(this,this.Te)+this.Te.offsetWidth,a=z.Hb(this.m()),this.o().g(a,"mouseup",this.DA,!0).g(this.m(),"mousemove",this.FA),this.fi||(this.fi=new z.ue(200),this.o().g(this.fi,z.El,this.LE)),this.LE(),
this.fi.start())))};z.e.AE=function(a){pA(this,(0<a.detail?-1:1)*this.Xp);a.preventDefault()};z.e.LE=function(){var a;if("vertical"==this.Gb){var b=this.Js,c=this.Te.offsetTop;this.cF?b<c&&(a=oA(this,this.Te)+this.If):b>c+this.Te.offsetHeight&&(a=oA(this,this.Te)-this.If)}else b=this.Js,c=wA(this,this.Te),this.cF?b>c+this.Te.offsetWidth&&(a=oA(this,this.Te)+this.If):b<c&&(a=oA(this,this.Te)-this.If);z.ba(a)&&rA(this,this.Te,a)};
z.e.DA=function(){this.fi&&this.fi.stop();var a=z.Hb(this.m());this.o().ta(a,"mouseup",this.DA,!0).ta(this.m(),"mousemove",this.FA)};z.e.FA=function(a){this.Js=mA(this,a)};z.e.Ec=function(){return this.Cb.Ec()};z.e.Wc=function(){return this.Cb.Wc()};z.e.FE=function(){tA(this);zA(this);this.dispatchEvent("change")};z.e.hM=function(){this.ys=!1};
z.e.setOrientation=function(a){if(this.Gb!=a){var b=this.R(this.Gb),c=this.R(a);this.Gb=a;this.m()&&(a=this.m(),z.sh(a,b)&&(z.vh(a,b),z.th(a,c)),b=this.Zd&&this.Ed()?"right":"left",this.cb.style[b]=this.cb.style.top="",this.Ad.style[b]=this.Ad.style.top="",this.Tb&&(this.Tb.style[b]=this.Tb.style.top="",this.Tb.style.width=this.Tb.style.height=""),tA(this))}};
z.e.C=function(){jA.v.C.call(this);this.fi&&this.fi.H();delete this.fi;this.dr&&this.dr.H();delete this.dr;delete this.cb;delete this.Ad;this.Tb&&delete this.Tb;this.Cb.H();delete this.Cb;this.tb&&(this.tb.H(),delete this.tb);this.Uj&&(this.Uj.H(),delete this.Uj);this.le&&(this.le.H(),delete this.le);this.Wf&&(this.Wf.H(),delete this.Wf)};z.e.Xp=1;z.e.Vn=function(){return this.Cb.Vn()};z.e.X=function(){return this.Cb.X()};z.e.Ha=function(a){rA(this,this.cb,a)};z.e.Yh=function(){return this.Cb.Yh()};
z.e.Ut=function(a){rA(this,this.Ad,this.Cb.X()+a)};z.e.G=function(a){z.Q(this.m(),a);a&&tA(this)};z.e.bb=function(a){this.hc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.hc=a,kA(this,a),a||this.DA(),z.xh(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.hc};z.v(AA,jA);AA.prototype.R=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.v(BA,z.R);z.e=BA.prototype;z.e.defaults={PC:310,QC:310,pg:250,qg:250,KP:2,opacity:.25,LW:"#eee"};z.e.fa=function(a){BA.v.fa.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.Qm=(this.options.PC-this.options.pg)/2;this.options.Pm=(this.options.QC-this.options.qg)/2;this.ar()};
z.e.ar=function(){var a=this.options;this.oB=(0,window.$)((0,z.lp)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"\u62d6\u52a8\u76f8\u7247"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.QC,
containerHeight:a.PC,windowHeight:a.pg,windowWidth:a.qg,windowMarginTop:a.Qm,windowMarginLeft:a.Pm,src:a.src,opacity:a.opacity}));this.Yb=this.oB[0];this.oB.insertBefore(this.h);z.Q(this.h,!1);this.wL=z.I("avatar-editor-container-inner",this.Yb);this.ks=z.I("outer",this.Yb);this.Px=z.I("inner",this.Yb);this.Tm=(0,window.$)(this.ks);this.Ku=(0,window.$)(this.Px);this.aF=0;this.Tm.load((0,z.r)(this.OI,this));this.Ku.load((0,z.r)(this.OI,this));this.Px.src=this.ks.src=this.options.src;this.mT=z.I("goog-slider",
this.Yb)};
z.e.D=function(){this.wA=new AA;this.wA.w(this.mT);this.o().g(this.wL,["mousedown","touchstart"],function(a){var b=new z.Dh(this.Yb);b.addEventListener("drag",(0,z.r)(function(a){var b=this.zoom;this.Ke={cq:this.options.qg/b,Wn:this.options.pg/b,x:(this.options.Pm-(this.iF.left+(a.clientX-this.cu)))/b,y:(this.options.Qm-(this.iF.top+(a.clientY-this.du)))/b};EA(this)},this));b.addEventListener("end",(0,z.r)(function(){b.H()},this));b.Km(a);this.Km(a)});this.o().g(this.Yb,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.o().g(this.wA,"change",function(){var a=this.wA.X(),b=this.qJ;CA(this,(this.yU-b)*a/100+b)})};z.e.OI=function(){this.CO||(this.Px.complete&&this.ks.complete?this.init():(this.aF++,2<=this.aF&&this.init()))};z.e.init=function(){this.js=this.Tm.width();this.hs=this.Tm.height();var a=this.options.qg/this.js,b=this.options.pg/this.hs;this.qJ=a=b>a?b:a;this.yU=this.qJ*this.options.KP;this.Ke={Wn:this.options.qg/a,cq:this.options.pg/a,x:0,y:0};CA(this,a);DA(this,this.js/2,this.hs/2);this.CO=!0};
z.e.Km=function(a){this.cu=a.clientX;this.du=a.clientY;this.iF=this.Ku.position();this.Tm.position()};z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.v(FA,z.R);var GA=1;z.e=FA.prototype;z.e.fa=function(a){this.h=a;this.B()};
z.e.B=function(){this.cB="http://upload."+z.Ar.rm+"/upload_avatar";this.Ak=(0,window.$)((0,z.lp)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.cB,
type:this.Bq,dest_id:this.Bq===GA?z.V[3]:this.ID,return_size:this.LH}));this.tJ=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.tJ.appendTo(window.document.body);this.input=this.Ak.find("input[type\x3dfile]")[0];z.B?(this.Ak.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.Ak),this.Ak.addClass("avatar-editor-form-ie")):(this.Ak.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.o().g(this.input,"change",this.Jc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.o().g(z.X,"iframe_data",function(a){(a=a.Lc)&&!a.r?"upload"===a.handle_mode?(this.Ll=a.url,this.Ox=a.id,HA()||this.Yo()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.YC(a)):z.T(a.msg)})};
z.e.Jc=function(a){IA(this);a=this.input=a.target;if(HA()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.r)(function(a){this.Ll=a.target.result;this.Yo()},this);b.readAsDataURL(a)}}else this.Ak[0].submit();LA(this)};z.e.Yo=function(){var a=this.Ea.W();this.Nx=new window.Image;this.Nx.src=this.Ll;a=(0,window.$)(a);a.html("");a.append(this.Nx);this.Tv=new BA;this.Tv.w(this.Nx)};
z.e.YC=function(a){a&&!a.r?this.data=a:z.T(a.msg);this.dispatchEvent({type:"success",src:this.data});this.Ea.G(!1)};z.e.getData=function(){return this.data||null};z.v(NA,z.R);NA.prototype.fa=function(a){NA.v.fa.call(this,a);this.o().g(z.X,"sina_callback",this.jt);this.o().g(z.X,"qqconn_callback",this.jt);this.o().g(z.G("zh-setting-page-bind-sina-unbindbtn"),"click",this.UG);this.o().g(z.G("zh-setting-page-bind-qqconn-unbindbtn"),"click",this.UG)};
NA.prototype.jt=function(a){if("sina_callback"===a.type){var b=z.ls.name=a.Lc.name;a=z.ls.id=a.Lc.id;z.G("zh-setting-page-bind-sinaname").innerHTML='\x3ca href\x3d"http://weibo.com/'+a+'" target\x3d"_blank"\x3e@'+b+"\x3c/a\x3e";OA(!0)}else"qqconn_callback"===a.type&&(z.G("zh-setting-page-bind-qqconnname").innerHTML=a.Lc.name,PA(!0))};
NA.prototype.UG=function(a){var b=a.target.getAttribute("data-weibotype");if(window.confirm("\u4f60\u786e\u5b9a\u8981\u89e3\u9664\u4e0e"+{sina:"\u65b0\u6d6a\u5fae\u535a",qqconn:" QQ "}[b]+"\u7684\u7ed1\u5b9a\u5417\uff1f")){var c=new z.U(!0);this.o().sa(c,"success",function(){var a=z.mf(c);a&&!a.r?"sina"===b?OA():"qqconn"===b&&PA():z.T(a.msg)});c.ajax("/oauth/unbind/"+b)}};z.v(QA,z.R);z.e=QA.prototype;z.e.fa=function(a){QA.v.fa.call(this,a);this.pe=(0,window.$)("input",a);this.ud=(0,window.$)(".zm-profile-details-items",this.h);this.kq=[];var b=this;b.kq=this.pe.map(function(){var a=new SA("/topic/autocomplete",this,b.CR||(0,window.$)(this).parents(".topic-input-wrap")[0]);a.an=!1;var d=(0,z.r)(b.filter,b);a.filter=d;return a});this.qm()};
z.e.D=function(){this.o().g(z.I("add",this.h),"click",this.add);var a=this;this.pe.each(function(){a.o().g(this,"keydown",function(a){this.keydown(a)})});z.x.forEach(this.kq,function(b){a.o().g(b.O,z.ml,a.select)});this.ud.on("click","[name\x3d'del']",window.$.proxy(this.remove,this));this.qm()};
z.e.qm=function(){if(!z.Ar.vc){var a=this;this.Qf&&this.Qf.H();var b=new av;b.qr=(0,z.Xa)("profile-edit-item-moving").split(" ");bv(b,this.ud[0],0);b.init();this.Qf=b;(0,window.$)('a, input, [role\x3d"button"]',this.ud).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})})}};z.e.keydown=function(a){13===a.keyCode&&(0,window.setTimeout)((0,z.r)(function(){RA(this)&&this.add();this.pe[0].value&&this.pe[1]&&!this.pe[1].value&&this.pe[1].focus()},this));return!0};
z.e.kp=function(){z.x.forEach(this.pe,function(a){a.value=""});this.pe[0].focus()};z.e.select=function(){RA(this)&&this.add()};z.e.add=function(){var a=(0,z.Xa)(this.pe[0].value),b={title:a,member_url_token:z.zp["1"]};if(this.pe[1]){var c=(0,z.Xa)(this.pe[1].value);if(!a&&!c)return;b.sub_title=c}hv("ProfileEditItemV2",b,this.cQ,this)};
z.e.cQ=function(a){a=(0,window.$)(a);var b;if(a.data("title")){if(b=this.ud.find("[data-title\x3d'"+a.data("title")+"']")[0]){z.Gk(b);this.kp();return}}else if(a.data("sub-title")&&(b=this.ud.find("[data-sub-title\x3d'"+a.data("sub-title")+"']")[0])){z.Gk(b);this.kp();return}this.ud.append(a);this.qm();this.kp();this.dispatchEvent("add")};z.e.remove=function(a){(0,window.$)(a.target).parents("li").remove();this.dispatchEvent("remove")};
QA.prototype.filter=function(a){return z.x.filter(a,function(a){return!this.ud.find("[data-title\x3d'"+a+"']")[0]},this)};z.v(SA,z.em);SA.prototype.om=function(a,b){a=a[0].slice(1);a=z.x.filter(a,function(a){return 3<a.length});a=z.x.map(a,function(a){return a[1]});this.filter&&(a=this.filter(a));SA.v.om.call(this,a,b)};z.v(TA,z.R);z.e=TA.prototype;z.e.fa=function(a){TA.v.fa.call(this,a);UA(this);this.Y=[];var b=this;(0,window.$)(".editable-group",this.h).each(function(){var a=new QA;b.Y.push(a);a.w(this)});a=z.G("zm-profile-edit-submit");this.o().g(a,"click",this.gz);(new NA).w(this.h);(0,window.$)(this.h).on("change","input, textarea, select",function(){b.ef()})};
z.e.D=function(){TA.v.D.call(this);z.Mm(z.m,!0)();var a=z.G("zm-profile-progress-anim"),b=new VA;b.addEventListener("update",function(){var c=100*b.X()|0;10>c&&(c=10);a.style.width=a.innerHTML=c+"%"});z.x.forEach(this.Y,function(a,c){b.watch({name:"name"+c,target:a,Uh:["add","remove"],Mh:function(){return!!a.ud.children().length}})},this);var c=this.h,d=z.G("zm-profile-edit-male"),f=z.G("zm-profile-edit-female"),g=z.G("zm-profile-edit-description"),h=(0,window.$)(".business-selection select")[0],
l=z.G("zm-profile-edit-expert-disable");b.watch({name:"expert_progress",target:z.G("zm-profile-edit-expert-enable"),Uh:["change"],Mh:function(){return null!==cA(c,"enable_expert")}}).watch({name:"expert_progress",target:l,Uh:["change"],Mh:function(){return null!==cA(c,"enable_expert")}}).watch({name:"gender_progress",target:d,Uh:["change"],Mh:function(){return null!==cA(c,"gender")}}).watch({name:"gender_progress",target:f,Uh:["change"],Mh:function(){return null!==cA(c,"gender")}}).watch({name:"desc_progress",
target:g,Uh:["blur"],Mh:function(){return!!(0,z.Xa)(g.value)}}).watch({name:"business_progress",target:g,Uh:["blur"],Mh:function(){return!!(0,z.Xa)(g.value)}}).watch({name:"headline_progress",target:h,Uh:["blur"],Mh:function(){return!!(0,z.Xa)(h.value)}})};z.e.ef=function(){(0,window.$)(window).on("beforeunload.profileedit",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Of=function(){(0,window.$)(window).off("beforeunload.profileedit")};
z.e.gz=z.Mm(function(){var a=(0,window.$)("#zm-profile-edit-male").is(":checked")?1:0,b=(0,window.$)("#zm-profile-edit-headline").val(),c=(0,window.$)("#zm-profile-edit-description").val(),d=(0,window.$)(".business-selection select").val(),f=[];(0,window.$)("#zm-profile-edit-loc-container").children().each(function(){f.push((0,window.$)(this).data("title"))});var g=[];(0,window.$)("#zm-profile-edit-co-container").children().each(function(){var a=(0,window.$)(this);g.push([a.data("title"),a.data("sub-title")||
""])});var h=[];(0,window.$)("#zm-profile-edit-edu-container").children().each(function(){var a=(0,window.$)(this);h.push([a.data("title"),a.data("sub-title")||""])});var l=(0,window.$)("#zm-profile-edit-weibo-enable").is(":checked")?1:0,n=(0,window.$)("#zm-profile-edit-expert-enable").is(":checked")?1:0,a=z.y.filter({gender:a,headline:b,description:c,location:f,business:d,employment:g,education:h,enable_weibo:l,enable_expert:n},Au);dA(a,(0,z.r)(function(){this.Of();window.location.href="/people/"+
z.V[1]+"/about"},this),function(a){z.T(z.ea(a)?a[0][1]:a)})},!0);z.v(VA,z.O);VA.prototype.update=function(a,b){this.fH[a]=b;this.dispatchEvent({type:"update"});return this};VA.prototype.watch=function(a){var b=(0,z.r)(function(){this.update(a.name,a.Mh())},this);z.N(a.target,a.Uh,b);b();return this};VA.prototype.X=function(){var a=z.y.Pa(this.fH);return a.length&&z.x.filter(a,Boolean).length/a.length};z.v(WA,z.R);WA.prototype.fa=function(a){WA.v.fa.call(this,a);this.K=(0,window.$)(a);this.K.on("click",'a[href^\x3d"javascript"]',window.$.proxy(this.Ba,this));this.K.on("click",'a[href^\x3d"javascript"], input',!1);this.K.on("click",".item",window.$.proxy(this.pR,this))};WA.prototype.pR=function(a){var b=(0,window.$)(a.currentTarget),c=b.data("href"),b=c&&!b.hasClass(this.bj);a=a.metaKey||a.ctrlKey;b&&(a?window.open(c):window.location.href=c)};
WA.prototype.Ba=function(a){var b=(0,window.$)(a.currentTarget),c=b.closest(".item");a=b.attr("name");if("edit"===a)b.closest(".description").hide().siblings(".description-edit").show().find("input").focus().closest(".item").addClass(this.bj).closest(".skilled-topics").addClass(this.bj),XA(this,c);else if("cancel"===a)b.closest(".description-edit").hide().siblings(".description").show().closest(".item").removeClass(this.bj).closest(".skilled-topics").removeClass(this.bj),XA(this,c,!0);else if("save"===
a){var d=new z.U(!0);this.o().g(d,"success",function(){var a=z.mf(d);a.r?z.T(a.msg):(b.closest(".description-edit").hide().siblings(".description").show().children(".des").text(a.msg).siblings(".edit").addClass("zu-edit-button").children(".edit-msg").html("\u4fee\u6539").closest(".item").removeClass(this.bj).closest(".skilled-topics").removeClass(this.bj),XA(this,c,!0))});d.ajax("/topic/bio/update","tid\x3d"+b.closest(".item").data("id")+"\x26bio\x3d"+b.parent().siblings("input").val(),"POST")}};z.v(YA,z.R);
YA.prototype.fa=function(a){YA.v.fa.call(this);if(a&&(this.K=(0,window.$)(a),(0,window.$)(".editable-group",this.K).each(function(){(new ZA).w(this)}),(a=z.G("profile-header-description-input"))&&new z.Sm(a),(a=z.I("zm-profile-header-avatar-container"))&&z.S.has(a,"self"))){var b=new FA(GA);b.w(a);this.o().g(b,"beforepost",function(){(0,window.$)(".zm-avatar-editor-preview").parent().append((0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e"))});this.o().g(b,
"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:b.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),z.T("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),z.I("zm-avatar-editor-preview").src=b.getData().url)})})}};z.v(ZA,z.R);
ZA.prototype.fa=function(a){ZA.v.fa.call(this);this.K=(0,window.$)(a);this.oe=(0,window.$)(".info-wrap",this.K);this.Nd=(0,window.$)(".edit-wrap",this.K);(0,window.$)(".title",this.oe);(0,window.$)("input",this.Nd)};
ZA.prototype.D=function(){ZA.v.D.call(this);this.K.on("click","[name\x3d'edit']",z.Mm(window.$.proxy(function(){this.K.addClass("editing");var a=this.Nd.find("input").get(0);a?a.focus():(a=this.Nd.find("textarea").get(0))&&a.focus()},this),!0));var a=this;this.kq=[];(0,window.$)("input[type\x3dtext]",this.K).each(function(){var b=new SA("/topic/autocomplete",this,(0,window.$)(this).parents(".topic-input-wrap")[0]);a.kq.push(b)});this.Nd.on("keydown","input",function(a){13===a.keyCode&&(0,window.setTimeout)(function(){var b=
(0,window.$)(a.target),f=b.parents(".edit-wrap").children().index(b.parent()),g=b.parents(".edit-wrap").find("input, select").get(f+1),f=b.parents(".edit-wrap").find("input, select").get(f-1);b.val()&&(g?g.focus():f&&!(0,window.$)(f).val()&&f.focus())})});this.Nd.on("click","[name\x3d'cancel'], [name\x3d'save']",window.$.proxy(function(a){a=a.target.name;"cancel"===a?this.cancel():"save"===a&&this.save()},this));var b=(0,window.$)(".fold-wrap");b.click(function(a){"fold"===a.target.name?b.addClass("fold"):
"unfold"===a.target.name&&b.removeClass("fold")})};
ZA.prototype.save=function(){var a=this,b=this.K.data("name");if("location"===b){var b=this.Nd.find("input.location"),c=this.Nd.find("select"),d=this.Nd.find("input.male").is(":checked")?1:0;window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{location:[b.val()],business:c.val(),gender:d}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.location[0].html||(b.location[0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5c45\u4f4f\u5730\x3c/a\x3e"),b.business.html||
(b.business.html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u884c\u4e1a\x3c/a\x3e"),a.oe.find("span.location").attr("title",b.location[0].text).html(b.location[0].html),a.oe.find("span.business").attr("title",b.business.text).html(b.business.html),b=1===(0,window.parseInt)(b.gender,10)?"male":"female",a.oe.find("span.gender i").removeClass("icon-profile-female icon-profile-male").addClass("icon-profile-"+b),a.cancel())})}else"employment"===b?(c=
this.Nd.find("input.employment"),b=this.Nd.find("input.position"),c=c.val(),b=b.val(),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{employment:[[c,b]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.employment[0][0].text||b.employment[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.employment[0][0].html||(b.employment[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u516c\u53f8\u4fe1\u606f\x3c/a\x3e"),b.employment[0][1].html||
(b.employment[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u804c\u4f4d\x3c/a\x3e"),a.oe.find(".employment").attr("title",b.employment[0][0].text).html(b.employment[0][0].html),a.oe.find(".position").attr("title",b.employment[0][1].text).html(b.employment[0][1].html),a.cancel())})):"education"===b?(c=[this.Nd.find("input.education"),this.Nd.find("input.education-extra")],b=c[0].val(),c=c[1].val(),window.$.post("/node/ProfileHeaderV2",{method:"save",
params:{data:{education:[[b,c]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.education[0][0].text||b.education[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.education[0][0].html||(b.education[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5b66\u6821\u4fe1\u606f\x3c/a\x3e"),b.education[0][1].html||(b.education[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e13\u4e1a\x3c/a\x3e"),
a.oe.find(".education").attr("title",b.education[0][0].text).html(b.education[0][0].html),a.oe.find(".education-extra").attr("title",b.education[0][1].text).html(b.education[0][1].html),a.cancel())})):"description"===b&&(b=this.Nd.find("textarea.description"),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{description:b.val()}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.description.text?a.K.removeClass("empty"):(b.description.fold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",
b.description.unfold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",a.K.addClass("empty")),a.oe.find(".fold-item .content").empty().html(b.description.fold_html),a.oe.find(".unfold-item .content").html(b.description.unfold_html),b.description.shortened?a.oe.removeClass("disable-fold"):a.oe.addClass("disable-fold"),a.cancel())}))};ZA.prototype.cancel=function(){this.K.removeClass("editing")};z.v($A,z.Nm);z.e=$A.prototype;z.e.init=function(a){this.Yb=a;this.o().g(a,"click",this.Ba);this.refresh()};z.e.xi=function(a){this.bg=a};
z.e.Ba=function(a){if(a.target){var b=z.Pk(this.Yb,a.target);b&&(this.type=b.getAttribute("data-type"),this.id=b.getAttribute("data-id"),this.action=b.name,this.item=z.Gc(a.target,this.bg),this.type&&this.id&&this.action&&this.item&&!this.pJ&&(this.pJ=!0,this.xhr=new z.U(!0),this.o().g(this.xhr,"complete",this.Xg),this.xhr.ajax("/people/"+("top"===this.action?"pin":"unpin")+"_"+this.type,this.type+"_id\x3d"+this.id,"POST")))}};
z.e.Xg=function(){if("cancel-top"===this.action)z.zk(this.item,!0);else if("top"===this.action){var a=z.Lb(this.bg,this.Yb);z.Og(this.item);a&&2<=a.length&&z.ac(z.K(this.item),z.I(this.bg,this.Yb));this.scroll();z.Gk(this.item);a=z.I("zm-item-top-btn-top",this.item);z.Q(a,!1);a=z.I("zm-item-top-btn-cancel",this.item);z.Q(a,!0);this.refresh()}this.pJ=!1};z.e.scroll=function(){if(this.ES){var a=z.I("zm-profile-section-wrap"),b=z.Jc(z.F((z.t||window).document)).y;a&&0>z.Og(a).y-b&&a.scrollIntoView()}};
z.e.refresh=function(){var a=z.Lb(this.bg,this.Yb);a&&0<a.length&&z.x.forEach(a,function(a,c){if(0!==c){var d=z.I("zm-item-top-btn-top",a);d&&z.Q(d,!0)}},this)};z.v(bB,z.R);bB.prototype.D=function(){this.o().g(this.h,"click",this.Ba)};bB.prototype.Ba=function(a){var b=z.Pk(this.h,a.target);this.qn&&this.qn(b);b&&b.name&&"focus"===b.name&&(0,z.Ft)(b,this.Pw,function(){b.getAttribute("data-followme")&&(z.S.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$\u5bf9\u65b9\u5df2\u5173\u6ce8\u4f60"):b.setAttribute("data-tip","s$b$\u5df2\u4e92\u76f8\u5173\u6ce8"))},this.Ow,{UV:"question"===this.Pw?"\u5173\u6ce8\u95ee\u9898":null})};
bB.prototype.$H=function(a){this.qn=a};z.v(cB,z.O);var dB=0;cB.prototype.Ro=function(){this.Tk()};cB.prototype.Tk=function(){var a=this.Ud.value.length;if(a>this.Wg){var b=this.Ud.scrollTop,c=this.Ud.scrollLeft;this.Ud.value=this.Ud.value.substring(0,this.Wg);a=this.Wg;this.Ud.scrollTop=b;this.Ud.scrollLeft=c}this.Sh&&z.rc(this.Sh,String(1==this.xD?a:this.Wg-a))};cB.prototype.C=function(){cB.v.C.call(this);delete this.Ud;this.Ej.H();this.Ej=null};var lB;z.v(eB,z.Nm);z.e=eB.prototype;z.e.init=function(){this.ws||(this.ws=!0,this.B(),this.wb())};z.e.wb=function(){z.B||(new z.$m("\u641c\u7d22\u95ee\u9898")).w(this.Nc);this.Y=new z.jn("/redirect-question/autocomplete",this.Nc,null,null,z.G("zh-question-redirect-diag-content"),!1);this.Y.an=!1;this.Y.oh(!0);this.o().g(this.Y,"suggestionsupdate",z.al);this.o().g(this.Y,"select",this.VQ).g(this.LK,"click",function(){this.ga.G(!1)})};
z.e.VQ=function(){var a=this.Y.nj();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.Nc.value="";var b=a[3],a=a[1];this.ga.G(!1);this.Nc.value="";this.xhr=new z.U(!0);this.o().sa(this.xhr,"complete",this.aK);this.xhr.ajax("/question/redirect","qid\x3d"+this.pa+"\x26rqid\x3d"+b);this.Lt=b;this.qH=a}};
z.e.aK=function(){var a=z.mf(this.xhr);a&&(a.r?z.T(a.msg):this.Pi?(this.Pi.innerHTML="\u5df2\u7ecf\u91cd\u5b9a\u5411",this.Pi.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.J("div",{id:"zh-question-redirect-diag"},["\u5c06\u95ee\u9898\u8df3\u8f6c\u81f3",z.J("div",{id:"zh-question-redirect-diag-content"},this.Nc=z.J("input",{type:"text","class":"zg-form-text-input"})),z.J("div","zm-command",this.LK=z.J("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"\u653e\u5f03\u64cd\u4f5c"))]);this.ga=new z.ui(null,!1);this.ga.Za("\u95ee\u9898\u91cd\u5b9a\u5411");z.oi(this.ga,null);this.ga.W().appendChild(this.h)};
z.e.show=function(){this.init();this.ga.G(!0)};var iB={},iB=function(){z.O.call(this)};z.v(iB,z.Nm);
iB.Qu=[["\u9700\u8981\u8be6\u7ec6\u9610\u8ff0","\u7b54\u6848\u8fc7\u4e8e\u7b80\u77ed\u6216\u8868\u8ff0\u4e0d\u6e05\u6670\uff0c\u8bf7\u5b8c\u5584\u7b54\u6848\u3002"],["\u7b54\u975e\u6240\u95ee","\u6ca1\u6709\u6b63\u9762\u6216\u76f4\u63a5\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5e94\u4f5c\u4e3a\u95ee\u9898\u7684\u8bc4\u8bba","\u8be5\u5185\u5bb9\u662f\u5bf9\u95ee\u9898\u672c\u8eab\u7684\u8bc4\u8bba\u800c\u4e0d\u662f\u56de\u7b54\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5e94\u4f5c\u4e3a\u7b54\u6848\u7684\u8bc4\u8bba",
"\u8be5\u5185\u5bb9\u662f\u5bf9\u53e6\u5916\u4e00\u4e2a\u7b54\u6848\u7684\u8bc4\u8bba\u6216\u56de\u5e94\uff0c\u800c\u4e0d\u662f\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5185\u5bb9\u91cd\u590d","\u4e0e\u5df2\u6709\u7b54\u6848\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5185\u5bb9\u5df2\u8fc7\u671f","\u7b54\u6848\u7684\u65f6\u6548\u6027\u5df2\u8fc7\uff0c\u8bf7\u66f4\u65b0\u7b54\u6848\u3002"],["\u9700\u8981\u6ce8\u660e\u5173\u8054\u5229\u76ca",
"\u6709\u5e7f\u544a\u3001\u63a8\u9500\u5acc\u7591\uff0c\u8bf7\u6ce8\u660e\u4f5c\u8005\u4e0e\u5229\u76ca\u65b9\u7684\u5173\u7cfb\u3002"]];iB.Fj=null;iB.T=function(){iB.Fj||(iB.Fj=new iB,iB.Fj.init());return iB.Fj};z.e=iB.prototype;z.e.init=function(){if(!this.h){this.B();this.wb();var a=new z.nq(this.h);z.Yh(a);a.UE=!0;a.vi(!0);a.G(!1);z.oq(a,0);z.ou(a,new z.wg(13,0,0,-22));this.yz=a}};z.e.wb=function(){this.o().g(this.h,"click",this.SQ)};
z.e.SQ=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.GL.TV(a),this.yz.G(!1))};
z.e.B=function(){var a=z.J("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.J("div","zg-r5px zu-hovercard-inner",[z.J("div",{id:"zh-answer-flag-popup-header"},[z.J("a",{"class":"zg-right",href:"http://www.zhihu.com/question/19867017",target:"_blank"},"\u8fd9\u662f\u4ec0\u4e48\uff1f"),"\u9009\u62e9\u4e00\u4e2a\u7406\u7531\uff1a"]),this.XG=z.J("div",{id:"zh-answer-flog-options-wrap"})]),z.J("div","zu-hovercard-spin-top")]);z.x.forEach(iB.Qu,function(a,c){var d=z.J("a",{href:"javascript:;",
"class":"zm-menu-item-link"},a[0]);d.setAttribute("data-index",c);this.XG.appendChild(d)},this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.yz.setPosition(new z.lq(a,1));fB(this,b.YV());this.yz.G(!0);this.GL=b};var kB;z.v(gB,z.Nm);gB.prototype.init=function(){this.B();hB(this)};
gB.prototype.B=function(){this.h=z.J("div",null,[z.J("div","zg-section",[z.J("div",null,"\u6807\u8bb0\uff1a"),this.ll=z.J("select")]),z.J("div",null,[z.J("div",null,"\u539f\u56e0"),this.Fz=z.J("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.sn=z.J("div","zm-command",[z.J("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"\u53d6\u6d88"),z.J("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"\u786e\u5b9a")])]);this.ll.appendChild(z.J("option",
{value:"no"},"\u9009\u62e9\u6807\u8bb0\u539f\u56e0"));z.x.forEach(iB.Qu,function(a,b){this.ll.appendChild(z.J("option",{value:b},a[0]))},this);this.ga=new z.ui(null,!1);this.ga.Za("\u6807\u8bb0\u7b54\u6848");z.oi(this.ga,null);this.ga.W().appendChild(this.h)};gB.prototype.show=function(){this.ga.G(!0)};z.v(nB,z.R);z.e=nB.prototype;z.e.init=function(){z.vr.L(this);this.w(window.document.body)};
z.e.D=function(){nB.v.D.call(this);zB();xB(this);wB(this);EB(this);yB(this);DB(this);CB();AB(this);HB();JB(this);oB(this);vB(this);pB(this);rB(this);sB(this);tB(this);uB(this);qB(this);this.po();-1<window.location.search.indexOf("clean-followers-noti\x3d1")&&(new z.U(!0)).ajax("/notification/clear","no_refresh_content\x3dtrue\x26type\x3dfollow");(0,window.$)("#__signin").click(function(){z.Lm("privacy_sign_in_button","singin")});(0,window.$)(".zm-profile-header-user-edit").click(z.Mm(z.m,!0))};
z.e.TT=function(){z.Ai("\u786e\u5b9a","\u786e\u5b9a\u8981\u5f3a\u5236\u6b64\u7528\u6237\u6539\u540d\u5417\uff1f",function(a){if(a&&(z.G("realname_form").submit(),this.Qw.innerHTML="\u5df2\u53d1\u9001",z.S.add(this.Qw,"zg-gray"),a=this.Qw))if(z.Wd(a))a.Wd&&a.Wd.removeAll(void 0);else if(a=z.fe(a)){var b=0,c;for(c in a.kc)for(var d=a.kc[c].concat(),f=0;f<d.length;++f)z.oe(d[f])&&++b}},this)};
z.e.po=function(){this.Bj();var a=z.G("zm-profile-header-pm-btn");a&&z.N(a,"click",Rv(function(a){a.preventDefault()},z.Mm(function(){var b=new z.Jq;b.show();z.Lq(b,z.zp[3],z.zp[0]);z.Kq(b,a.href);b.bc.focus()},{ra:"people_message_button",gd:!0})));var b=z.G("zh-profile-cancel-block");b&&this.o().g(b,"click",this.zG);(0,window.$)("#zh-report-people, #profile-side-op a[name\x3dreport]").each(function(a,b){Rw(new Pw("member",z.zp[3]),b)});(b=z.G("zh-profile-search-query-mirro"))&&new z.fm(b,b.getAttribute("placeholder"))};
z.e.zG=function(){z.Ai("\u786e\u5b9a\u53d6\u6d88\u5c4f\u853d\uff1f","\u53d6\u6d88\u5c4f\u853d\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002",function(a){a&&BB(this,!1)},this)};z.e.Mk=function(){this.o().sa(window.document,"click",function(){this.ib.G(!1)})};
z.e.Bj=function(){var a=z.G("profile-side-op");a&&this.o().g(a,"click",this.uj)};z.e.QN=function(a){var b="";a.target===this.kK?b="time":a.target===this.lK?b="vote":a.target===this.jK&&(b="ask");window.location.href="/people/"+z.V[1]+"/answers?sort\x3d"+b};
z.e.uj=function(a){a=a.target.name;"block"===a?z.Ai("\u786e\u5b9a\u8981\u5c4f\u853d\u8be5\u7528\u6237\uff1f","\u5c4f\u853d\u7528\u6237\u540e\uff0c\u5bf9\u65b9\u5c06\u4e0d\u80fd\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u5b9e\u540d\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\u4f60\u7684\u516c\u5f00\u4fe1\u606f\u3002",function(a){a&&BB(this,!0)},
this):"cancel-block"===a&&this.zG()};z.e.mM=function(a){if(a&&a.target&&(a=z.Pk(this.h,a.target))){var b=z.I("zm-profile-fav-item-title",a),c=z.I("zm-profile-fav-item-des",a);b&&c&&"fav-edit"===a.name&&(b=b.innerHTML,c=c.innerHTML||"",a=[Number(a.getAttribute("data-id")),Number(a.getAttribute("data-public"))],Vz(Rz.T(),b,c,a))}};z.e.RQ=function(a){(a=a.target)&&a.name&&(GB(this,a.name),this.search())};
z.e.search=function(a,b,c){this.Oe=z.G("zh-profile-search-query").value;this.um="/people/"+z.G("zh-profile-search-form").getAttribute("data_url")+"/search";if(this.Oe){void 0===b&&(b=!0);void 0===c&&(c=!0);if(window.history.pushState){if(this.Wz)return;a&&a.preventDefault();this.vm=new z.U(!0);this.Wz=!0;this.o().g(this.vm,"complete",this.oJ);b&&window.history.pushState({q:(0,window.encodeURIComponent)(this.Oe),type:this.ik},"","?pq\x3d"+(0,window.encodeURIComponent)(this.Oe)+"\x26type\x3d"+this.ik);
this.vm.ajax(this.um,"type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Oe),"","POST")}else a||(c?(this.Oe=z.G("zh-profile-search-query").value,this.um="/people/"+z.G("zh-profile-search-form").getAttribute("data_url")+"/search",window.location.href=this.um+"?type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Oe)):(this.vm=new z.U(!0),this.Wz=!0,this.o().g(this.vm,"success",this.oJ),this.Oe=z.G("zh-profile-search-query").value,this.um="/people/"+z.G("zh-profile-search-form").getAttribute("data_url")+
"/search",this.vm.ajax(this.um,"type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Oe),"","POST")));(a=z.G("zh-profile-search-info"))&&z.Q(a,!0)}else a&&a.preventDefault()};
z.e.oJ=function(){this.Wz=!1;z.rc(z.G("zh-profile-search-word"),this.Oe);var a=z.mf(this.vm);if(a&&!a.r){var b=z.G("zh-profile-search-list");if(b)if(0===a.msg[0])z.G("zh-profile-list-container").innerHTML='\x3cdiv id\x3d"'+b.id+'"\x3e\x3cdiv style\x3d"margin: 20px;color: #999;text-align: center;"\x3e\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u4efb\u4f55\u7ed3\u679c\x3c/div\x3e\x3c/div\x3e';else{var c;c=""+('\x3cdiv id\x3d"'+b.id+'"\x3e');c+=a.msg[1]+"\x3c/div\x3e";z.G("zh-profile-list-container").innerHTML=
c+'\x3ca href\x3d"javascript:;" id\x3d"zh-load-more" class\x3d"zg-btn-white zu-button-more" style\x3d""\x3e\u66f4\u591a\x3c/a\x3e';(a=z.Lb("zm-item",b))&&a.length&&(this.Re=a[a.length-1].id.split("-")[1]);this.Ya=null;this.Ya=new Qz(z.G(b.id),null,!0);this.Ya.init();this.Ya.Re=this.Re;this.Ya.url=this.um;this.Ya.params.pq=this.Oe;this.Ya.params.type=this.ik;z.G("zh-profile-search-query").focus()}}};z.v(IB,z.R);
IB.prototype.fa=function(a){this.h=a;this.Ra=new sv;this.Ra.w(this.h);this.form=z.G("zm-profile-expert-editform");this.o().g(this.form,"submit",this.gz);this.o().g(this.Ra,["add","remove","sort"],function(){this.ef()});(0,window.$)(".enable").on("change","input",window.$.proxy(function(){this.ef()},this));var b=z.G("zh-profile-expert-warning");b&&this.o().g(b,"click",function(a){"close"===a.target.name&&z.zk(b)});(0,window.$)(".enable input[type\x3d'radio']").click(function(a){a=!Number((0,window.$)(a.target).val());
z.Q(z.G("zh-profile-expert-reopen-tip"),a)})};IB.prototype.ef=function(){(0,window.$)(window).on("beforeunload.profile",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};IB.prototype.Of=function(){(0,window.$)(window).off("beforeunload.profile")};
IB.prototype.gz=function(a){a.preventDefault();z.x.map(this.Ra.data,function(a){return a[3]});a=(0,window.$)(this.form).serializeArray()[0].value;var b=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get(),c=this;window.$.post("/node/ProfileEditExpertTopicsV2",{method:"save",params:{settings:{enable_expert:a,expert_topic:b}}},function(a){a&&a.r||(c.Of(),window.location.href="/people/"+z.V[1])})};z.v(KB,z.R);KB.prototype.D=function(){KB.v.D.call(this);var a=z.G("zh-topic-block-editor");a&&(new vv(z.hs)).w(a);MB(this);NB(this)};z.v(OB,z.R);OB.prototype.init=function(){var a=this;PB();QB();SB();UB();RB();TB();var b=z.G("zh-setting-page-bind-wrap");b&&(new NA).w(b);(0,window.$)(".zu-main-content-inner form").on("change","input, textarea, select",function(){a.Jn("SettingsPage")}).on("submit",function(){a.cl("SettingsPage")})};
OB.prototype.Jn=function(){(0,window.$)(window).on("beforeunload.SettingsPage",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};OB.prototype.cl=function(){(0,window.$)(window).off("beforeunload.SettingsPage")};z.v(WB,$w);WB.prototype.init=function(a){WB.v.init.call(this,a);this.wb(this.h)};WB.prototype.gB=function(a){this.gB=a};WB.prototype.wb=function(a){if(this.gB){var b=new bB,c=this.tM;b.Pw=this.Mw;b.Ow=c||b.Ow;this.qn&&b.$H(this.qn);b.w(a)}};WB.prototype.$H=function(a){this.qn=a};z.v(XB,z.Nm);XB.prototype.init=function(){this.o().g(this.h,"click",this.So)};XB.prototype.So=function(a){a=z.Pk(this.h,a.target);"focus"===(a&&a.name)&&(0,z.Ft)(a,this.Mw,null,this.sM,{follow_text:this.text[0],unfollow_text:this.text[1]})};z.v(YB,z.Nm);z.e=YB.prototype;z.e.w=function(a){this.element=a;var b=(0,window.$)("\x3cul\x3e");this.KI=(0,window.$)("\x3cli\x3e");b.append(this.KI);(0,window.$)(a).append(b);this.LI||(this.LI=!0,this.XA=new z.U(!0),this.o().sa(this.XA,"success",this.uQ),this.XA.ajax(this.url,null,"POST"))};z.e.uQ=function(){var a=z.mf(this.XA);a&&(a&&a.r?z.T(a.msg):(ZB(this,this.KI,a.msg),this.LI=!1,this.D()))};z.e.D=function(){this.o().g(this.element,"click",this.So)};
z.e.So=function(a){var b=(a=a.target)?a.name:"";if(b)switch(b){case "load":case "loadmore":if(!this.Fo){var b=a.getAttribute("data-token"),c=a.getAttribute("data-parent");this.Fo=!0;this.Qj=new z.U(!0);this.o().sa(this.Qj,"success",this.sq);this.Yz=a.parentNode;this.Yz.innerHTML='\x3cspan class\x3d"zg-gray"\x3e\u52a0\u8f7d\u4e2d...\x3c/a\x3e';this.Qj.ajax(this.url+"?child\x3d"+b+"\x26parent\x3d"+c,null,"POST")}break;case "topic":window.location.href=a.href}};
z.e.sq=function(){var a=z.mf(this.Qj);if(a)if(a&&a.r)z.T(a.msg);else if(a=a.msg,a[1]){(0,window.$)(this.Yz).hide();for(var b=(0,window.$)(this.Yz.parentNode),c=0;c<a[1].length;c++){var d=a[1][c],f=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");"topic"!==d[0][0]&&f.addClass("zm-topic-organize-loadmore");b.append(f);ZB(this,f,d)}this.Fo=!1}};z.v(aC,z.$o);aC.prototype.Yg=function(a){z.fs[0][0]===a?this.Ai():aC.v.Yg.apply(this,arguments)};aC.prototype.VB=function(a){if(a=z.mf(a.target))a.r?z.T(a.msg):a.msg&&(window.location.href=a.msg)};z.v(bC,z.R);z.e=bC.prototype;z.e.init=function(){z.vr.L(this);this.w(window.document.body)};
z.e.D=function(){bC.v.D.call(this);gC(this);var a=z.G("zh-topic-top-answerer");a&&(new XB(a,"people",["zg-follow","zg-unfollow"])).init();if(a=z.G("zh-topic-direct-question-list"))a=new WB(a,null,"question",null,!0),a.xi("question-item"),a.init();if(a=z.G("zh-topic-title"))this.cd=new aC(!1,"/topic/update","title"),ru(this.cd,["tid\x3d"+this.Cf]),this.cd.addEventListener("beforeedit",$B({Tp:!0})),this.cd.w(a),(0,window.$)(a).on("click",".js-pin",function(){var a=(0,window.$)(this),b=a.attr("data-action");
window.$.post(b,{tid:z.fs[0][3]}).done(function(b){b.r?z.T(b.msg):(b=a.hasClass("pin")?'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/remove" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e':'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/add" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e',
a.replaceWith(b))})});if(a=z.G("zh-topic-desc"))(0,window.$)(a).find(".zm-editable-content").data("editable-maxlength"),this.bl=new z.cp(!0,"/topic/update","description"),this.bl.Pb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u8bdd\u9898\u63cf\u8ff0\x3c/a\x3e\x3c/div\x3e',ru(this.bl,["tid\x3d"+this.Cf]),this.bl.Oq=!1,this.bl.YI=!1,this.bl.addEventListener("beforeedit",$B({Tp:!0})),this.bl.w(a);if(a=z.G("zh-topic-faq"))this.Fw=new z.cp(!0,"/topic/"+(0,window.encodeURIComponent)(z.fs[0][1])+
"/faq","content"),this.Fw.Pb='\x3cdiv class\x3d"zm-topic-faq-container"\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\u5e38\u89c1\u95ee\u9898\u662f\u8be5\u8bdd\u9898\u4e0b\u7ecf\u5e38\u4f1a\u63d0\u5230\u7684\u95ee\u9898\u7684\u6574\u7406\uff0c\u4ee5\u4fbf\u540e\u6765\u8005\u67e5\u9605\uff08\x3ca href\x3d"http://www.zhihu.com/question/20388061" class\x3d"zg-link-litblue"\x3e\u5982\u4f55\u521b\u5efa\uff1f\x3c/a\x3e\uff09\x3c/div\x3e\x3ca href\x3d"javascript:;" name\x3d"edit" class\x3d"zg-link-litblue"\x3e\x3cspan class\x3d"zg-blue-edit"\x3e\x3c/span\x3e\u4e3a\u300c'+
z.fs[0][0]+"\u300d\u6dfb\u52a0\u5e38\u89c1\u95ee\u9898\x3c/a\x3e\x3c/div\x3e",this.Fw.Oq=!1,this.Fw.w(a);lC(this);mC(this);fC(this);iC(this);jC();kC(this);dC(this);cC();(a=z.I("zm-topic-search-input-new"))&&new z.fm(a,"\u5728\u8bdd\u9898\u4e2d\u641c\u7d22");var b=(0,window.$)(a);z.Ar.vc||b.focus(function(){b.addClass("stretch-to")}).blur(function(){b.removeClass("stretch-to")});(a=z.I("zm-topic-ask-in-topic"))&&this.o().g(a,"click",this.lA);(a=z.I("zm-topic-feed-container"))&&(new XB(a,"question",
["zg-follow","zg-unfollow"])).init();(a=z.G("zh-topic-side-children-list"))&&(new XB(a,"topic",["zg-follow","zg-unfollow"])).init();pC(this);(a=z.G("zh-topic-info-add"))&&z.x.forEach(z.fc(a),function(a){var b;a&&a.getAttribute&&(b=a.getAttribute("data-placeholder"))&&new z.fm(a,b)});(0,window.$)(".js-may-disable").click(z.Mm(z.m,!0))};
z.e.IQ=function(){this.er=this.Ra.fD;if(!this.gG&&this.er){this.gG=!0;this.Ly=new z.U(!0);this.o().sa(this.Ly,"success",this.WJ);this.Ly.ajax("/topic/"+(0,window.encodeURIComponent)(z.fs[0][1])+"/demand","action\x3dmerge\x26target_topic_id\x3d"+this.er[3]);var a=z.G("zh-topic-merged-msg");z.Q(z.G("zh-topic-merge"),!1);z.Q(a,!0);a=z.Jb("a",null,a)[0];a.href="/topic/"+this.er[1];a.innerHTML=this.er[0];this.Ra&&(this.Ra.ob.value="")}};z.e.WJ=function(){var a=z.mf(this.Ly);a&&a.r?z.T(a.msg):this.gG=!1};
z.e.qQ=function(){this.mD||(this.mD=!0,this.dw=new z.U(!0),this.o().sa(this.dw,"success",this.UJ),this.dw.ajax("/topic/"+(0,window.encodeURIComponent)(z.fs[0][1])+"/demand","action\x3dremove"))};z.e.UJ=function(){var a=z.mf(this.dw);a&&a.r?z.T(a.msg):(a=z.G("zh-topic-del-msg"),z.Q(z.G("zh-topic-del-btn"),!1),z.Q(a,!0),this.Ra&&(this.Ra.ob.value=""),this.mD=!1)};
z.e.eR=function(a){if((a=a.target)&&a.name)if("add"===a.name){if(a=this.cv.value)this.ev=new z.U(!0),this.o().sa(this.ev,"complete",this.TJ),this.ev.ajax(window.location.href,"action\x3dadd_alias\x26alias\x3d"+(0,window.encodeURIComponent)(a))}else"remove"===a.name?(this.Kz=new z.U(!0),a=a.parentNode.getAttribute("data-token"),this.o().sa(this.Kz,"complete",this.YJ),this.Kz.ajax(window.location.href,"action\x3dremove_alias\x26alias_token\x3d"+a)):"remove-merged"===a.name&&(this.Lz=new z.U(!0),a=a.parentNode.getAttribute("data-token"),
this.o().sa(this.Lz,"complete",this.ZJ),this.Lz.ajax("/topic/"+(0,window.encodeURIComponent)(z.fs[0][1]+"/demand"),"action\x3dremove\x26target_topic_id\x3d"+a))};z.e.ZJ=function(){var a=z.mf(this.Lz);a&&a.r?z.T(a.msg):eC(this,a.msg)};z.e.YJ=function(){var a=z.mf(this.Kz);a&&a.r?z.T(a.msg):eC(this,a.msg)};
z.e.TJ=function(){var a=z.mf(this.ev);if(a&&a.r)z.T(a.msg);else{var a=a.msg,b=z.J("li");b.setAttribute("data-token",a[1]);b.innerHTML=a[0]+' \x3ca name\x3d"remove" href\x3d"javascript:;" class\x3d"zg-link-gray"\x3e\u79fb\u9664\x3c/a\x3e';this.dv.appendChild(b);this.cv.value="";z.Q(this.dv.parentNode,!0)}};z.e.nA=function(a){this.lz?this.ib.S()?this.ib.G(!1):(this.ib.G(!0),a.stopPropagation(),a.preventDefault(),this.Mk()):(a.stopPropagation(),a.preventDefault(),this.Bj(),this.Mk());this.lz=!0};
z.e.Mk=function(){this.o().sa(window.document,"click",function(){this.ib.G(!1)})};z.e.Bj=function(){var a=z.G("zh-topic-side-head"),b=this.eg.getAttribute("data-auth");this.ib=new zw;this.Gx=!0;"f-topic-manage"===b&&this.ib.Ja(this.jR=new uw("\u7ba1\u7406\u8bdd\u9898"));this.ib.Ja(this.kR=new uw("\u7ec4\u7ec7\u8bdd\u9898"));this.ib.Ja(this.iR=new uw("\u8bdd\u9898\u65e5\u5fd7"));this.Gx&&(this.ib.ca(a),this.o().g(this.ib,"action",this.uj))};
z.e.uj=function(a){var b="";a.target===this.jR?b="admin":a.target===this.kR?b="organize":a.target===this.iR&&(b="log");window.location.href=["/topic",this.UA[1],b].join("/")};z.e.QQ=function(){var a=z.mf(this.Jz);if(a&&!a.r){var b=[];z.x.forEach(a,function(a){b.push(z.Ak(a,null,!0))});this.eS.innerHTML=b.join("")+'\x3cdiv class\x3d"zg-clear"\x3e\x3c/div\x3e';a.length&&z.Q(z.G("zh-topic-side-related-topics-wrap"),!0)}};
z.e.AQ=function(a){var b=a.target;b&&b.name&&"remove"===b.name&&(this.vO=b,this.eF||(this.eF=!0,this.Sx=new z.U(!0),this.o().g(this.Sx,"success",this.BQ),a="token\x3d"+this.vO.parentNode.getAttribute("data-token")+"\x26action\x3dremove\x26element\x3d"+(0,window.encodeURIComponent)((0,window.$)(a.target).prev("[data-element]").text()),this.Sx.ajax("/topic/"+z.fs[0][1]+"/information/manage",a,"POST")))};
z.e.BQ=function(){this.eF=!1;var a=z.mf(this.Sx);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.I("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html()))};z.e.CQ=function(a){a.preventDefault();this.gF||(this.gF=!0,this.Tx=new z.U(!0),this.o().g(this.Tx,"success",this.zQ),a=z.fc(this.qs),this.Tx.ajax("/topic/"+z.fs[0][1]+"/information/manage","title\x3d"+a[0].value+"\x26content\x3d"+a[1].value+"\x26url\x3d"+a[2].value+"\x26action\x3dadd","POST"))};
z.e.zQ=function(){this.gF=!1;var a=z.mf(this.Tx);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.I("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html(),a=z.fc(this.qs),z.x.forEach(a,function(a,c){3>c&&(a.value="")})))};z.e.lA=z.Mm(function(){if(!z.kr()){var a=z.ip.T();a.show();var b=z.I("zm-topic-search-input-new");b.value&&z.jp(a,b.value);a.Ra.data.length||a.Ra.lk(z.fs[0])}},!0);z.v(qC,z.R);qC.prototype.B=function(){this.h=this.M().B("FORM",{method:"POST",style:"display:none"})};qC.prototype.post=function(a,b,c){var d=this.m();d||(this.ca(),d=this.m());d.action=b||"";d.target=c||"";rC(this,d,a);d.submit()};z.v(wC,z.Nm);wC.prototype.init=function(){var a=vu(new z.Gl(window.location.href),"group_id");a&&(this.Vj=new z.U(!1),this.o().sa(this.Vj,"success",this.tz),a&&this.Vj.ajax("/noti7/read","group_id\x3d"+a,"POST"))};wC.prototype.tz=function(){var a=z.mf(this.Vj);if(a&&!a.r&&a.msg){var b=a.msg;if(!0===b||"true"===b||"True"===b)return;this.YP=a.msg;this.dispatchEvent("change")}(a=z.It)&&z.jq(a)};z.v(xC,z.R);z.e=xC.prototype;z.e.init=function(){z.vr.L(this);this.w(window.document.body)};
z.e.D=function(){xC.v.D.call(this);zC(this);if(this.Ic=z.G("zh-list-meta-wrap"))this.o().g(this.Ic,"click",this.Zo),vu(new z.Gl(window.location.href),"fc")&&BC(this);var a=z.G("zh-favlists-wrap");a&&(new WB(a,null,"favlist",null,!0)).init();yC(this);(a=z.G("zh-favlist-log-list-wrap"))&&(new WB(a,null,"favlist",null,!0)).init();(a=z.G("zh-favlist-following-wrap"))&&(new WB(a,null,"favlist",null,!0)).init();if(a=z.G("zh-favlist-followers-wrap"))a=new WB(a,null,"people",["zg-btn-follow","zg-btn-unfollow"],
!0),a.xi("zm-profile-section-item"),a.gB(!0),a.init();this.o().g(window,"hashchange",this.tW);this.Yx();this.Oo=new wC;this.Oo.init()};z.e.aO=function(a){a=a.target;var b=a.id.split("-"),c=b[1],b=b[2];(new z.U(!0)).ajax("/collection/remove","answer_id\x3d"+c+"\x26favlist_id\x3d"+b);if(b=z.Ec(a,"div","zm-item"))a=z.Lb("zm-item-answer",b),1===a.length?z.K(b):(a=z.x.find(a,function(a){return a.getAttribute("data-aid")===c}))&&z.K(a.parentNode)};
z.e.qA=function(a){a=z.Pk(this.wk,a.target);var b=window.location.pathname.match(/^\/collection\/(\w+)/);a&&a.name&&b&&px(["\u5206\u4eab\u6536\u85cf\u5939","collection",b[1],{fid:z.gs[0]}],"tb-webshare-"+a.name)};z.e.dT=z.Mm(function(){Rz.T().show(!0)},!0);z.e.nA=function(a){this.lz?this.ib.S()?this.ib.G(!1):(this.ib.G(!0),a.stopPropagation(),a.preventDefault(),this.Mk()):(a.stopPropagation(),a.preventDefault(),this.Bj(),this.Mk());this.lz=!0};
z.e.Mk=function(){this.o().sa(window.document,"click",function(){this.ib.G(!1)})};z.e.Bj=function(){var a=z.G("zh-list-side-head");this.ib=new zw;this.Gx=!0;this.visible||this.ib.Ja(this.mR=new uw("\u8bbe\u7f6e\u4e3a\u516c\u5f00"));this.ib.Ja(this.hR=new uw("\u5220\u9664\u6b64\u6536\u85cf\u5939"));this.Gx&&(this.ib.ca(a),this.o().g(this.ib,"action",this.uj))};
z.e.Zo=function(a){a=a.target;switch(a&&a.name){case "edit":Vz(Rz.T());break;case "addcomment":BC(this);this.qa.Df();this.qa.Hc()&&this.qa.Ci("view_comments",(0,window.parseInt)(z.yc(a),10)||0);break;case "remove":AC(this)}};
z.e.uj=function(a){a.target===this.mR?z.Ai("\u786e\u5b9a\u8bbe\u7f6e\u6536\u85cf\u5939\u4e3a\u516c\u5f00\uff1f","\u6536\u85cf\u5939\u8bbe\u7f6e\u4e3a\u516c\u5f00\u540e\uff0c\u5c06\u4e0d\u80fd\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6\u3002",function(a){a&&CC(this)},this):a.target===this.hR&&AC(this)};z.e.Yx=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=uC(a).done(function(a){b.html(a)}))})};var MC=(0,window.$)("#is-topstory2").length?"topstory2":"homefeed",EC=z.B&&!z.D(9),HC={ac:"actioncard",q:"question",a:"answer",p:"article",c:"column",r:"roundtable"},JC={question:"question",answer:"question",article:"column",column:"column",roundtable:"roundtable"},KC={question:"question",answer:"question",article:"article",column:"column",roundtable:"roundtable"};DC.prototype.of=function(){this.uB=(0,window.$)('meta[itemprop\x3d"ZReactor"]',this.zh);this.uB.length&&(GC(this),this.AO())};
DC.prototype.LR=function(){var a=[],b=z.bl(550,function(){a.length&&(FC(a),a=[])});return function(c){a.push(c);b()}}();
DC.prototype.AO=z.ti(function(){z.N(z.X,"click_feed_fresh",function(a){FC({mid:z.ms.ga_vars.user_hash,object_type:"btn",object_id:2,object_meta:{load_items:a.data.count},action_type:"click",context:MC,others:"",time:(0,z.w)()})});z.N(z.X,"topstory_feed_more",function(){FC({mid:z.ms.ga_vars.user_hash,object_type:"btn",object_id:1,object_meta:{next:(0,window.$)("#js-home-feed-list .feed-item").length+1},action_type:"click",context:MC,others:"",time:(0,z.w)()})})});z.v(NC,$w);var oI={ROUNDTABLE_ADD_RELATED:"roundtable",ARTICLE_VOTE_UP:"post_vote",ARTICLE_CREATE:"post_create",RECOMMENDED:"feed_recommended",QUESTION_FOLLOW:"feed_question_follow",QUESTION_CREATE:"feed_question",ANSWER_VOTE_UP:"feed_answer_vote",ANSWER_CREATE:"feed_answer_answer"};z.e=NC.prototype;z.e.D=function(){NC.v.D.call(this);this.Ij&&(this.Lu.click(window.$.proxy(this.zP,this)),PC(this))};
z.e.zP=function(){this.dispatchEvent("hidenewblockbtn");this.Lu.hide();var a=QC(this),b=(0,window.$)("html, body").animate({scrollTop:0},"slow").promise();1800<window.$.now()/1E3-(0,window.parseInt)(a.eq(0).data("block"),10)?window.location.reload():(this.Re="more",this.vB.show(),this.Pj(!0,null,function(a){this.vB.hide();a&&a.msg.length?(this.Zm(a.msg,"prepend"),160<QC(this).length?window.location.reload():b.then(window.$.proxy(function(){PC(this)},this))):(this.Uy=!0,b.then(function(){z.Ai({title:"\u63d0\u793a\u4fe1\u606f",
Sj:!0,content:'\x3cp\x3e\u6682\u65f6\u6ca1\u6709\u66f4\u591a\u52a8\u6001\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/topics"\x3e\u5173\u6ce8\u66f4\u591a\u8bdd\u9898\uff0c\u4e30\u5bcc\u52a8\u6001\u4e2d\u7684\u5185\u5bb9\x3c/a\x3e\x3c/p\x3e',aa:!0,buttons:["\u786e\u5b9a"]})}))}))};z.e.Xg=function(a){a&&!a.r&&(a=a.msg,a.length?(z.Q(this.cc,0<a.length),this.wB.hide(),this.Zm(a),this.Ij&&PC(this),bx(this,!1),ex(this)):(this.Ck.hide(),this.wB.show(),this.Ij&&!this.Uy&&RC(this)&&SC(this)))};
z.e.$N=function(a){var b=a.currentTarget.h.getAttribute("data-feedtype"),b=oI[b];"comment"===a.namespace&&b&&a.Oc.fill("category","feed").fill("label",b)};z.e.Yj=function(a){var b=Pz(a);this.L(b);this.o().g(b,"click!",this.$N);b.w(a);new DC(b);return b};z.e.Pj=function(a,b,c){if(this.Ij&&"live"!==this.Re&&"more"!==this.Re){z.X.oa({type:"topstory_feed_more"});var d=QC(this),d=d.eq(d.length-1),f=d.data("block");this.params.block_id=f;this.offset=d.data("offset")}NC.v.Pj.call(this,a,b,c)};
z.e.mH=function(a){if(this.Ij){var b={};"live"===a.start?(b.action="live",b.limit=a.offset):"more"===a.start?b.action="more":(b.action="next",b.block_id=a.block_id,b.offset=a.offset);a=b}return{params:a,method:"next"}};z.ca(UC);z.v(ZC,z.R);z.e=ZC.prototype;z.e.D=function(){ZC.v.D.call(this);this.K=(0,window.$)(this.h);if(this.ze=z.G("zh-main-feed-fresh-button"))this.Bk=(0,window.$)(this.ze),this.Ij?(this.o().g(this.ze,"click",this.cS),this.o().g(z.X,"topstory2",this.OE)):this.AF?(this.o().g(this.ze,"click",this.bS),this.o().g(z.X,"topstory",this.OE)):(this.o().g(this.ze,"click",this.iT),this.o().g(z.X,"homefeed",this.FN));$C(this);dD(this);cD(this)};
z.e.bS=function(){this.Bk.text("\u52a0\u8f7d\u4e2d\u2026");this.rh=0;var a=this;this.Ya.offset=0;this.Ya.Re=0;this.Ya.Pj(!0,function(){TC(a.Ya)}).done(function(){a.Bk.hide();dx(a.Ya)})};z.e.cS=function(){this.Bk.text("\u52a0\u8f7d\u4e2d\u2026");var a=this.rh;this.rh=0;var b=this;this.Ya.offset=a;this.Ya.Re="live";this.Ya.Pj(!0,null,function(a){a&&a.msg.length&&(b.Ya.Zm(a.msg,"prepend"),b.Bk.hide())});z.X.oa({type:"click_feed_fresh",data:{count:a}})};
z.e.iT=function(){var a=z.I("zm-home-question-list-devider",this.h);a&&z.S.remove(a,"zm-home-question-list-devider");var a=this.et.length,b=(0,window.$)("."+this.MD,this.h)[0];b&&5<=a&&((0,window.$)(".feed-separator-hook",this.h).next(".feed-item-hook").css("border-top","1px solid #eee").end().remove(),(0,window.$)(b).css("border-top","none").before('\x3cdiv class\x3d"feed-item-hook feed-separator-hook feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u4f60\u770b\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'));
z.x.forEach(this.et,function(a){var b=(0,window.$)("."+this.MD,this.h)[0];b?z.ac(a,b):this.h.appendChild(a)},this);this.et=[];z.Q(this.ze,!1);YC();z.X.oa({type:"ga_click_feed_fresh",data:{count:a}})};
z.e.FN=function(a){var b=(0,z.Xa)(a.Lc);a=this.et;var c=a.length;if(b&&!(500<c)){var d=z.Wb(b),f=this.my,g=function(a){return z.y.pM(f,a)},b=function(){return g(function(a){return a.na===n.na})},h=function(){return g(function(a){return a.pa===n.pa})},l=function(){return g(function(a){return a.lb===n.lb})};if(!function(){return g(function(a){return a.m().id===d.id})}()){var n=this.Ya.Yj(d);if(n.na){if(b())return}else if(n.pa){if(h())return}else if(n.lb&&l())return;aD(this,n);a.push(d);c+=1;this.ze&&
(this.ze.innerHTML=(99<c?"99+":c)+" \u6761\u65b0\u52a8\u6001",z.Q(this.ze,!0))}}};z.e.OE=function(a){this.rh=this.rh||0;this.rh+=+a.Lc;this.ze&&(this.ze.innerHTML=(99<this.rh?"99+":this.rh)+" \u6761\u65b0\u52a8\u6001",z.Q(this.ze,!0))};z.v(eD,z.R);z.e=eD.prototype;z.e.D=function(){eD.v.D.call(this);var a=z.G("zh-invite-select");a&&this.o().g(a,"change",this.ez);(a=z.I("zm-invite-list"))&&this.o().g(a,"click",this.Ba);(this.Lx=z.G("zh-invite-ignore-all-btn"))&&this.o().g(this.Lx,"click",this.rO)};
z.e.Ba=function(a){if((a=a.target)&&a.name){if("ignore"===a.name){z.S.add(a,"zg-btn-disabled");this.sO=new z.U(!1);var b="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.Me+"\x26op\x3dpass";this.sO.ajax("/question/askpeople",b,"POST");(b=a.parentNode)&&z.zk(b,!0)}"recover"!==a.name||this.yH||(this.wH=a,this.yH=!0,z.S.add(a,"zg-btn-disabled"),a.innerHTML="...",this.xH=new z.U(!1),this.o().g(this.xH,"success",this.XJ),a="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.Me+"\x26op\x3drecover",
this.xH.ajax("/question/askpeople",a,"POST"))}};z.e.ez=function(a){var b=vu(new z.Gl(window.location.href),"filter_by");(a=a.target)&&a.value&&(a=a.value,a!==b&&(window.location.href="/question/invited?filter_by\x3d"+a))};z.e.XJ=function(){this.yH=!1;this.dc(this.wH,"ignore");this.wH.name="ignore"};
z.e.dc=function(a,b){var c=a.parentNode,d=z.I("zm-invite-item-info-label",c);"ignore"===b?(z.S.remove(a,"zg-btn-disabled"),z.S.remove(a,"recover"),z.S.add(a,"ignore"),z.S.add(c,"invite"),z.S.remove(c,"ignore"),d.innerHTML="\u65b0\u9080\u8bf7",a.name="ignore",a.innerHTML="\u5ffd\u7565"):(z.S.remove(a,"zg-btn-disabled"),z.S.remove(a,"ignore"),z.S.add(a,"recover"),z.S.remove(c,"invite"),z.S.remove(c,"draft"),z.S.add(c,"ignore"),d.innerHTML="\u5df2\u5ffd\u7565",a.name="recover",a.innerHTML="\u6062\u590d")};
z.e.rO=function(){this.Mx||(this.Mx=!0,this.$E=new z.U(!1),this.o().g(this.$E,"success",this.VJ),this.$E.ajax("/question/askpeople","uid\x3d"+z.V.Me+"\x26op\x3dignore_all","POST"))};z.e.VJ=function(){this.Mx=!1;z.Q(this.Lx,void 0);this.Mx=!1;z.x.forEach(z.Lb("zm-invite-item-control"),(0,z.r)(function(a){this.dc(a,"recover")},this))};z.v(fD,z.R);fD.prototype.D=function(){fD.v.D.call(this);this.wl();this.o().g(this.h,"click",this.Ba)};fD.prototype.Ba=function(a){a=a.target;if(a.name)switch(a.name){case "fold":(0,window.$)(a).parent().hide().prev().animate({height:"show"},200);break;case "fold-follow":(0,window.$)(a).parent().hide().prev().show();break;case "unfold-item":(0,window.$)(a).parent(".author-list").hide().siblings(".hidden").show()}};
fD.prototype.wl=function(){this.Fo||(this.Fo=!0,this.Qj=new z.U(!1),this.o().g(this.Qj,"success",this.bz),this.Qj.ajax("/noti7/calendar","","GET"))};
fD.prototype.bz=function(){this.Fo=!1;var a=z.lf(this.Qj);if(a){var b=z.G("zh-noti7-list-inner");/category/.test(a)?(b.innerHTML=a,b&&(a=new $w(b,"/noti7/calendar",!0),a.Zm=function(a){var b=z.J("div","zm-item-more-wrap");b.innerHTML=a;z.ac(b,this.cc)},cx(a,function(a){this.Re=this.cc.getAttribute("data-next");return!a||a.msg[0]&&a.msg[1]}),a.init())):b.innerHTML='\x3cdiv class\x3d"empty"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e\u60a8\u6536\u5230\u7684\u6d88\u606f\u4f1a\u663e\u793a\u5728\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'}};z.v(gD,z.Nm);gD.prototype.init=function(){var a=z.G("home-suggest-block");a&&(this.h=a,a=z.G("home-suggest-close-button"),this.o().sa(a,"click",function(){(new z.U(!0)).ajax("/option","key\x3dno_show_lookup\x26value\x3d1");z.Q(this.h,!1)}),a=z.G("home-suggest-refresh-button"),this.o().g(a,"click",this.PQ),this.Ss=z.G("home-suggest-list"),jD(this))};gD.prototype.PQ=function(){hD(this);return!0};
gD.prototype.oQ=function(a){a.r||((a=a.msg)&&z.ea(a)&&a.length?(this.Jx=[],this.jD=a,hD(this)):this.Ss.innerHTML="")};z.v(kD,z.R);kD.prototype.init=function(){z.vr.L(this);this.w(window.document.body)};
kD.prototype.D=function(){kD.v.D.call(this);lD(this);var a=z.I("zm-invite-container");a&&(new eD).w(a);z.G("home-settings-page-wrap")&&(a=z.G("zh-topic-block-editor"))&&(new vv(z.hs)).w(a);(a=z.G("zh-noti7"))&&(new fD).w(a);var b=z.G("zm-home-sidebar-domain-entry-link");b&&(a=!!b.getAttribute("data-expanded"),b=new z.Bj(b,z.G("zm-home-sidebar-domain-entry-nav"),a),a&&z.me(b,"toggle",function(){z.Fi("/notifeature?feature\x3d4",null,"GET");return!0}));(0,window.$)(".zm-side-pinned-topics").on("click",
".unpin",function(){var a=(0,window.$)(this).parent();window.$.post("/pin-topic/remove",{tid:(0,window.$)(this).attr("data-tid")}).done(function(b){b.r||a.fadeOut()})});(new gD).init();nD();oD(this);mD();VC()};z.v(qD,z.di);z.ca(qD);z.e=qD.prototype;z.e.of=function(){this.o().g(window.document,"click",this.Pr)};
z.e.Pr=function(a){a=a.target;if("IMG"===a.tagName&&z.S.has(a,this.NT)){var b=a.getAttribute("data-original");if(b)if(z.yi)window.open(b);else if(!z.Gc(a,"editable")){this.Ga('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e\u67e5\u770b\u539f\u56fe\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.G(!0);z.S.add(this.m(),"zm-light-box-fullscreen-image");var b=z.Ob(),c=z.G("zm-light-box-x1"),d=z.G("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.X.oa({type:"ga_click_enlarge_image",target:a})}}};z.e.aa=z.m;z.e.focus=z.m;z.e.rN=function(){this.G(!1);z.S.remove(window.document.body,this.rC)};
z.e.ni=function(){qD.v.ni.call(this);z.S.add(window.document.body,this.rC);this.o().sa(window.document,"click",this.rN)};z.e.B=function(){qD.v.B.call(this);z.S.add(this.m(),"zm-light-box")};z.e.Fy=function(){this.Qc=this.M().B("div",this.Sc+"-bg zm-light-box-background");z.Q(this.Qc,!1)};qD.T();z.v(rD,uw);rD.prototype.Gd=function(){return this.dispatchEvent("action")};z.hj("goog-option",function(){return new rD(null)});z.v(z.sD,vw);z.ca(z.sD);z.sD.prototype.B=function(a){return a.M().B("DIV",this.Be(a).join(" ")+" goog-inline-block","\u00a0")};z.sD.prototype.w=function(a,b){b=z.sD.v.w.call(this,a,b);z.th(b,"goog-inline-block");return b};z.sD.prototype.R=function(){return"goog-toolbar-separator"};z.v(z.tD,z.Vm);z.ca(z.tD);z.tD.prototype.Sn=function(a){return"HR"==a.tagName?new z.ww(z.sD.T()):z.tD.v.Sn.call(this,a)};z.tD.prototype.R=function(){return"goog-toolbar"};z.tD.prototype.Yw=function(){return z.Ys};z.v(uD,Dw);z.ca(uD);uD.prototype.R=function(){return"goog-toolbar-button"};z.v(z.vD,z.qj);z.hj("goog-toolbar-button",function(){return new z.vD(null)});z.v(wD,Fw);z.ca(wD);wD.prototype.createCaption=function(a,b){return wD.v.createCaption.call(this,xD(a,b),b)};wD.prototype.Ha=function(a,b){a&&yD(this.W(a),b)};wD.prototype.Fe=function(a){var b=a.m();this.Ha(b,a.X());z.th(b,"goog-color-menu-button");wD.v.Fe.call(this,a)};z.v(zD,z.vn);zD.prototype.next=function(){do zD.v.next.call(this);while(-1==this.Vb);return this.node};z.v(z.AD,z.aj);z.ca(z.AD);var ED=0;z.e=z.AD.prototype;z.e.B=function(a){var b=this.Be(a);a=a.M().B("DIV",b?b.join(" "):null,BD(this,a.hb(),a.bi(),a.M()));z.kh(a,"grid");return a};z.e.Rv=function(a,b){var c=b.B("TABLE",this.R()+"-table",b.B("TBODY",this.R()+"-body",a));c.cellSpacing=0;c.cellPadding=0;return c};z.e.fc=function(){return!1};z.e.w=function(){return null};
z.e.Ga=function(a,b){if(a){var c=z.Jb("TBODY",this.R()+"-body",a)[0];if(c){var d=0;z.x.forEach(c.rows,function(a){z.x.forEach(a.cells,function(a){z.$b(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.F(a),h=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(CD(this,l,g));f.length==h&&(l=DD(this,f,g),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(CD(this,"",g));l=DD(this,f,g);c.appendChild(l)}}}z.bh(a,!0,z.A)}};z.e.R=function(){return"goog-palette"};z.v(GD,z.O);z.e=GD.prototype;z.e.kh=null;z.e.xf=null;z.e.ul=function(){return this.Fd.length};z.e.Zh=function(a){return this.Fd[a]||null};z.e.Ja=function(a){this.Qi(a,this.ul())};z.e.Qi=function(a,b){a&&(this.wm(a,!1),z.x.to(this.Fd,a,b))};z.e.removeItem=function(a){a&&z.x.remove(this.Fd,a)&&a==this.kh&&(this.kh=null,this.dispatchEvent("select"))};z.e.kf=function(){return this.kh};z.e.zb=function(){return z.x.clone(this.Fd)};
z.e.yf=function(a){a!=this.kh&&(this.wm(this.kh,!1),this.kh=a,this.wm(a,!0));this.dispatchEvent("select")};z.e.mj=function(){var a=this.kh;return a?z.x.indexOf(this.Fd,a):-1};z.e.Ap=function(a){this.yf(this.Zh(a))};z.e.clear=function(){z.x.clear(this.Fd);this.kh=null};z.e.C=function(){GD.v.C.call(this);delete this.Fd;this.kh=null};z.e.wm=function(a,b){a&&("function"==typeof this.xf?this.xf(a,b):"function"==typeof a.Am&&a.Am(b))};z.v(z.ID,z.jj);z.e=z.ID.prototype;z.e.yc=null;z.e.Sa=-1;z.e.la=null;z.e.C=function(){z.ID.v.C.call(this);this.la&&(this.la.H(),this.la=null);this.yc=null;this.zn.H()};z.e.ym=function(a){z.ID.v.ym.call(this,a);LD(this);this.la?(this.la.clear(),HD(this.la,a)):(this.la=new GD(a),a=(0,z.r)(this.wm,this),this.la.xf=a,this.o().g(this.la,"select",this.vj));this.Sa=-1};z.e.Ig=function(){return""};z.e.xm=function(){};
z.e.md=function(a){z.ID.v.md.call(this,a);var b=FD(this.O,this,a.target);b&&a.relatedTarget&&z.mc(b,a.relatedTarget)||b!=MD(this)&&ND(this,b)};z.e.ee=function(a){z.ID.v.ee.call(this,a);this.Sb()&&(a=FD(this.O,this,a.target),a!=MD(this)&&ND(this,a))};z.e.Gd=function(a){var b=MD(this);return b?(this.yf(b),z.ID.v.Gd.call(this,a)):!1};
z.e.$b=function(a){var b=this.hb(),b=b?b.length:0,c=this.yc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.Gd(a);if(36==a.keyCode)return this.Hb(0),!0;if(35==a.keyCode)return this.Hb(b-1),!0;var d=0>this.Sa?this.mj():this.Sa;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.Hb(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.Hb(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Hb(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.Hb(d+c),a.preventDefault(),!0}return!1};z.e.vj=function(){};z.e.bi=function(){return this.yc};z.e.Hb=function(a){a!=this.Sa&&(OD(this,this.Sa,!1),this.sy=this.Sa,this.Sa=a,OD(this,a,!0),this.dispatchEvent("j"))};z.e.mj=function(){return this.la?this.la.mj():-1};z.e.kf=function(){return this.la?this.la.kf():null};z.e.Ap=function(a){this.la&&this.la.Ap(a)};z.e.yf=function(a){this.la&&this.la.yf(a)};
z.e.wc=function(a){a&&-1==this.Sa?this.Hb(-1<this.sy?this.sy:0):a||this.Hb(-1);z.ID.v.wc.call(this,a)};z.e.wm=function(a,b){if(this.m()&&a){var c=a.parentNode;z.xh(c,this.O.R()+"-cell-selected",b);z.lh(c,"selected",b)}};z.v(JD,z.jj);z.v(PD,z.ID);PD.prototype.gt=null;PD.prototype.Hs=null;PD.prototype.ix=function(){var a=this.kf();return a?(a=Qv(a,"background-color"),RD(a)):null};PD.prototype.zp=function(a){a=RD(a);this.gt||(this.gt=z.x.map(this.Wq,function(a){return RD(a)}));this.Ap(a?z.x.indexOf(this.gt,a):-1)};z.v(SD,Hw);var UD={QU:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),jV:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),fV:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=SD.prototype;z.e.ix=function(){return this.X()};z.e.zp=function(a){this.Ha(a)};z.e.Ha=function(a){for(var b=0,c;c=this.Zh(b);b++)"function"==typeof c.zp&&c.zp(a);SD.v.Ha.call(this,a)};z.e.ao=function(a){"function"==typeof a.target.ix?this.Ha(a.target.ix()):"none"==a.target.X()&&this.Ha(null);SD.v.ao.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Db=function(a,b){a&&0==this.ul()&&(this.nh(TD(this.M())),this.Ha(this.X()));SD.v.Db.call(this,a,b)};
z.hj("goog-color-menu-button",function(){return new SD(null)});z.v(VD,Fw);z.ca(VD);VD.prototype.R=function(){return"goog-toolbar-menu-button"};z.v(WD,VD);z.ca(WD);WD.prototype.createCaption=function(a,b){return Gw(xD(a,b),this.R(),b)};WD.prototype.Ha=function(a,b){a&&yD(this.W(a),b)};WD.prototype.Fe=function(a){this.Ha(a.m(),a.X());z.th(a.m(),"goog-toolbar-color-menu-button");WD.v.Fe.call(this,a)};z.v(XD,SD);z.hj("goog-toolbar-color-menu-button",function(){return new XD(null)});z.v(YD,Hw);z.hj("goog-toolbar-menu-button",function(){return new YD(null)});z.v(ZD,Hw);z.e=ZD.prototype;z.e.la=null;z.e.D=function(){ZD.v.D.call(this);aE(this);dE(this)};z.e.fa=function(a){ZD.v.fa.call(this,a);(a=this.Ig())?$D(this,a):this.kf()||this.Ap(0)};z.e.C=function(){ZD.v.C.call(this);this.la&&(this.la.H(),this.la=null);this.cw=null};z.e.ao=function(a){this.yf(a.target);ZD.v.ao.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.vj=function(){var a=this.kf();ZD.v.Ha.call(this,a&&a.X());aE(this)};
z.e.nh=function(a){var b=ZD.v.nh.call(this,a);a!=b&&(this.la&&this.la.clear(),a&&(this.la?z.Vh(a,function(a){cE(a);this.la.Ja(a)},this):bE(this,a)));return b};z.e.Ja=function(a){cE(a);ZD.v.Ja.call(this,a);this.la?this.la.Ja(a):bE(this,this.ab());eE(this)};z.e.Qi=function(a,b){cE(a);ZD.v.Qi.call(this,a,b);this.la?this.la.Qi(a,b):bE(this,this.ab())};z.e.removeItem=function(a){ZD.v.removeItem.call(this,a);this.la&&this.la.removeItem(a)};
z.e.yf=function(a){if(this.la){var b=this.kf();this.la.yf(a);a!=b&&this.dispatchEvent("change")}};z.e.Ap=function(a){this.la&&this.yf(this.la.Zh(a))};z.e.Ha=function(a){if(null!=a&&this.la)for(var b=0,c;c=this.la.Zh(b);b++)if(c&&"function"==typeof c.X&&c.X()==a){this.yf(c);return}this.yf(null)};z.e.X=function(){var a=this.kf();return a?a.X():null};z.e.kf=function(){return this.la?this.la.kf():null};z.e.mj=function(){return this.la?this.la.mj():-1};
z.e.Db=function(a,b){ZD.v.Db.call(this,a,b);this.sb()?this.ab().Hb(this.mj()):eE(this)};z.hj("goog-select",function(){return new ZD(null)});z.v(gE,ZD);z.hj("goog-toolbar-select",function(){return new gE(null)});var lE=[10,10,13,16,18,24,32,48];var pI=z.u("Link");z.u("Edit Link");z.u("Text to display:");z.qI=z.u("Link to:");z.u("Web address");z.u("Link to a page or file somewhere else on the web");z.u("Test this link");
z.u("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.u("To what URL should this link go?");z.u("Email address");z.u("Link to an email address");
z.u("Invalid email address");z.u("To what email address should this link?");z.u("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.u("Open this link in a new window");z.u("Image");var rI,sI,vE,uE,tI,uI,vI,wI,kE,xI,yI,zI,AI,nE,BI,CI,DI,EI,FI,GI,HI,II,JI,KI,LI,MI,NI,OI,PI,QI,RI,SI,TI,UI,VI,WI,XI,YI,ZI,$I,aJ,bJ,cJ,dJ,fJ,gJ,hJ;
for(rI=z.u("Normal"),sI=z.u("Normal / serif"),vE=[{caption:rI,value:"arial,sans-serif"},{caption:sI,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],uE={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",
value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]},tI=z.u("Small"),uI=z.u("Normal"),vI=
z.u("Large"),wI=z.u("Huge"),kE=[{caption:tI,value:1},{caption:uI,value:2},{caption:vI,value:4},{caption:wI,value:6}],xI=z.u("Heading"),yI=z.u("Subheading"),zI=z.u("Minor heading"),AI=z.u("Normal"),nE=[{caption:xI,Ca:"H2"},{caption:yI,Ca:"H3"},{caption:zI,Ca:"H4"},{caption:AI,Ca:"P"}],BI=z.u("Format"),CI=z.u("Format"),DI=z.u("Undo"),EI=z.u("Redo"),FI=z.u("Font"),GI=z.u("Font size"),HI=z.u("Text color"),II=z.u("Bold"),JI=z.u("Italic"),KI=z.u("Underline"),LI=z.u("Text background color"),MI=z.u("Add or remove link"),
NI=z.u("Numbered list"),OI=z.u("Bullet list"),PI=z.u("Decrease indent"),QI=z.u("Increase indent"),RI=z.u("Align left"),SI=z.u("Align center"),TI=z.u("Align right"),UI=z.u("Justify"),VI=z.u("Remove formatting"),WI=z.u("Insert image"),XI=z.u("Strikethrough"),YI=z.u("Left-to-right"),ZI=z.u("Right-to-left"),$I=z.u("Quote"),aJ=z.u("Edit HTML source"),bJ=z.u("Subscript"),cJ=z.u("Superscript"),dJ=z.u("Edit HTML"),z.eJ={},fJ=[{Ca:"+undo",V:DI,Oa:"tr-icon tr-undo",factory:wE,jb:!0},{Ca:"+redo",V:EI,Oa:"tr-icon tr-redo",
factory:wE,jb:!0},{Ca:"+fontName",V:FI,Oa:"tr-fontName",factory:function(a,b,c,d,f,g){var h=rE(a,b,c,d,f,g);tE(h);$D(h,rI);z.th(h.ab().W(),"goog-menu-noaccel");h.Fi=function(a){var b=null;a&&0<a.length&&(b=z.Sh(h.ab(),hE(a)));b!=h.kf()&&h.yf(b)};return h},jb:!0},{Ca:"+fontSize",V:GI,Oa:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=rE(a,b,c,d,f,g);jE(h);$D(h,uI);z.th(h.ab().W(),"goog-menu-noaccel");h.Fi=function(a){var b;if(b=z.q(a))b=a.match($H),b="px"==(b&&b[0]||null);b&&(a=z.x.lastIndexOf(lE,
(0,window.parseInt)(a,10)));a=0<a?a:null;a!=h.X()&&h.Ha(a)};return h},jb:!0},{Ca:"+bold",V:II,Oa:"tr-icon tr-bold",jb:!0},{Ca:"+italic",V:JI,Oa:"tr-icon tr-italic",jb:!0},{Ca:"+underline",V:KI,Oa:"tr-icon tr-underline",jb:!0},{Ca:"+foreColor",V:HI,Oa:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=sE(a,b,c,d,f,g);a.zp("#000");a.Fi=z.pa(xE,a);return a},jb:!0},{Ca:"+backColor",V:LI,Oa:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=sE(a,b,c,d,f,g);a.zp("#FFF");a.Fi=z.pa(xE,a);return a},
jb:!0},{Ca:"+link",V:MI,caption:pI,Oa:"tr-link",jb:!0},{Ca:"+insertOrderedList",V:NI,Oa:"tr-icon tr-insertOrderedList",jb:!0},{Ca:"+insertUnorderedList",V:OI,Oa:"tr-icon tr-insertUnorderedList",jb:!0},{Ca:"+outdent",V:PI,Oa:"tr-icon tr-outdent",factory:z.oE},{Ca:"+indent",V:QI,Oa:"tr-icon tr-indent",factory:z.oE},{Ca:"+justifyLeft",V:RI,Oa:"tr-icon tr-justifyLeft",jb:!0},{Ca:"+justifyCenter",V:SI,Oa:"tr-icon tr-justifyCenter",jb:!0},{Ca:"+justifyRight",V:TI,Oa:"tr-icon tr-justifyRight",jb:!0},{Ca:"+justifyFull",
V:UI,Oa:"tr-icon tr-justifyFull",jb:!0},{Ca:"+removeFormat",V:VI,Oa:"tr-icon tr-removeFormat",factory:z.oE},{Ca:"image",V:WI,Oa:"tr-icon tr-image",factory:z.oE},{Ca:"+strikeThrough",V:XI,Oa:"tr-icon tr-strikeThrough",jb:!0},{Ca:"+subscript",V:bJ,Oa:"tr-icon tr-subscript",jb:!0},{Ca:"+superscript",V:cJ,Oa:"tr-icon tr-superscript",jb:!0},{Ca:"ltr",V:YI,Oa:"tr-icon tr-ltr",jb:!0},{Ca:"rtl",V:ZI,Oa:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var h=z.qE(a,b,c,d,f,g);h.Fi=function(a){a=!!a;z.xh(h.getParent().m(),
"tr-rtl-mode",a);h.$c(a)};return h},jb:!0},{Ca:"+BLOCKQUOTE",V:$I,Oa:"tr-icon tr-BLOCKQUOTE",jb:!0},{Ca:"+formatBlock",V:BI,caption:CI,Oa:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=rE(a,b,c,d,f,g);mE(h);$D(h,AI);z.th(h.ab().W(),"goog-menu-noaccel");h.Fi=function(a){a=a&&0<a.length?a:null;a!=h.X()&&h.Ha(a)};return h},jb:!0},{Ca:"editHtml",V:aJ,caption:dJ,Oa:"tr-editHtml",factory:z.oE}],gJ=0,hJ;hJ=fJ[gJ];gJ++)z.eJ[hJ.Ca]=hJ;fJ=null;var iJ={};iJ.track=z.Sk;z.v(z.yE,z.Ex);z.qa(z.yE.prototype,iJ);z.yE.prototype.defaults={tk:null,title:"Distraction Free Mode",yK:"back",DS:"publish",Sw:"zu-editing-distraction-free",vT:"sticky-goog-scrollfloater",VT:"zm-editable-toolbar-container"};z.yE.prototype.ld=z.Xc("FullScreenPlugin");z.eJ.toggleFullScreen={Ca:"toggleFullScreen",V:"\u5199\u4f5c\u6a21\u5f0f",Oa:"tr-icon tr-max",factory:z.oE};z.e=z.yE.prototype;z.e.Je=z.pa(z.y.Cg,{nV:"toggleFullScreen",JU:"enterFullScreen",KU:"exitFullScreen"});
z.e.C=function(){this.da.H();z.K(this.h);this.J=this.Rp=this.rc=this.Fb=this.h=null;z.yE.v.C.call(this)};
z.e.yv=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.yK+'" name\x3d"return"\x3e\u8fd4\u56de\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.DS+'" name\x3d"save"\x3e\u53d1\u5e03\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.da.g(z.I("back",b),"click",function(a){a.preventDefault();DE(this)});this.da.g(z.I("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&DE(this)});this.h=b;this.rc=z.I("content",b);this.Rp=z.J("div",{className:"toolbar-info"});this.J.tk||(this.J.tk=this.F.Aa)};z.e.ff=function(a){this.h||this.yv();switch(a){case "enterFullScreen":AE(this);break;case "exitFullScreen":DE(this);break;case "toggleFullScreen":this.fy()?DE(this):AE(this)}};
z.e.fy=function(){return z.S.has(window.document.body,this.J.Sw)};z.e.FG=function(){this.fy()?DE(this):"writing"===window.location.hash.slice(1)&&AE(this)};z.e.Wo=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&DE(this)};z.e.cI=function(a){z.S[a?"add":"remove"](this.Fb,this.J.vT)};z.v(EE,z.Nm);var FE="\u52a0\u8f7d\u4e2d...";z.e=EE.prototype;
z.e.show=function(){z.bc(this.h=z.J("div","zg-mt10",[z.J("h3",{style:"margin:0 0 5px;"},"\u5206\u4eab\u5230\u5fae\u535a"),z.J("div","zm-tab-content",[z.J("div",{className:"zg-section zg-clear",innerHTML:'\x3clabel\x3e\x3cinput data-bindurl\x3d"/oauth/auth/sina?next\x3d/oauth/callback" class\x3d"sina-checkbox" type\x3d"checkbox"\x3e\x3ci class\x3d"zg-ico-sina"\x3e\x3c/i\x3e \u65b0\u6d6a\u5fae\u535a\x3c/label\x3e '}),z.J("div","zg-section",z.J("div","zg-form-text-input",this.Bp=z.J("textarea",{style:"width:100%;height: 66px;"},
"\u52a0\u8f7d\u4e2d..."))),z.J("div","zm-command",[z.J("div",["zm-item-meta","zg-left"],this.XS=z.J("span")),this.xT=z.J("a",{"class":"zg-btn-blue weibo-share-button",href:"javascript:;"},"\u5206\u4eab\u5230\u5fae\u535a")])])]),z.G("zh-question-answer-form-wrap"));this.o().g(z.X,"sina_callback",function(a){this.fA(a.Lc.id,a.Lc.name)});this.ov();this.$j();z.Rm.T().refresh();var a=this;this.jA===FE?z.Fi("/answer/"+a.dg.ub+"/sharetext",function(b){(b=z.mf(b.target))&&b.sina&&(a.jA=b.sina,a.wb())},"GET"):
this.wb()};z.e.fA=function(a,b){z.ls.name=b;this.lT=z.ls.id=a;this.xc.checked=!0;this.$j()};z.e.$j=function(){var a=z.I("weibo-share-button",this.h),b=this.xc.checked;z.S.enable(a,"zg-btn-blue",b);z.S.enable(a,"zg-btn-disabled",!b)};z.e.wb=function(){this.Bp.value=this.jA;this.uA=new z.Sm(this.Bp);this.kI=new nx(this.Bp,this.XS,140,lx);this.o().g(this.xT,"click",this.Ba)};z.e.ov=function(){this.xc=z.I("sina-checkbox",this.h);this.o().g(this.xc,"change",this.iz)};
z.e.iz=function(a){a=a.target;var b=a.getAttribute("data-bindurl");a!==this.xc||this.lT?this.$j():(window.open(b),a.checked=!1)};z.e.Ba=function(a){if((a=a.target)&&z.S.has(a,"zg-btn-blue")&&this.Bp.value){a=new z.Qk(!0);a.add("content",this.Bp.value);var b=[];this.xc.checked&&b.push("sina");a.add("via",b.join(","));this.dk(a);z.Sk("share",this.gW?"answer_weibo":"question_weibo")}else z.T("\u8bf7\u60a8\u9009\u62e9\u6216\u7ed1\u5b9a\u5fae\u535a\u540e\u518d\u8fdb\u884c\u5206\u4eab\uff01")};
z.e.dk=function(a){a.add("aid",this.dg.na);this.xhr=new z.U(!0);this.o().sa(this.xhr,"complete",this.bv);this.xhr.ajax("/answer/share",a.kd())};z.e.bv=function(){var a=z.mf(this.xhr);a&&a.r?z.T(a.msg):(z.T("\u5206\u4eab\u53d1\u9001\u5b8c\u6bd5"),z.Q(this.h,!1))};z.v(GE,uw);z.hj("goog-checkbox-menuitem",function(){return new GE(null)});z.v(HE,z.Nm);z.e=HE.prototype;
z.e.init=function(){this.lm=z.G("zh-question-redirect-info");this.lm.innerHTML&&(this.Ao=!0);this.o().g(this.lm,"click",function(a){"cancel"===a.target.name&&JE(this)});var a=z.G("zh-question-side-header-wrap");if(z.Ar.vc&&!z.Ar.BF&&a){var b=z.G("zh-question-filter-wrap");b?z.ac(a,b):a.style[z.Xr]="none"}(this.eg=z.G("zh-question-operation-menu"))&&this.Bj();this.o().g(z.dl,"anon_change",function(a){var b=z.G("zh-question-side-invitation-anon");b&&z.Q(b,a.nb);(b=z.G("zh-question-side-invitation-notanon"))&&z.Q(b,
!a.nb);this.cm&&this.cm.bb(Ev(this.data.eh)||!a.nb)});(this.wk=z.G("zh-question-webshare-container"))&&this.o().g(this.wk,"click",this.qA)};
z.e.Bj=function(){this.ib=new zw;var a=this.data.$m,b=this.eg.getAttribute("data-auth"),b=b?b.split(","):[];if(null==a||0===a)this.ib.Ja(this.nt=IE("\u4f7f\u7528\u533f\u540d\u8eab\u4efd",!0)),this.nt.$c(this.data.nb),z.is&&z.x.contains(z.is,"question_op_redirect")||"close"===z.cs.status||(this.ib.Ja(this.cm=IE(this.Ao?"\u64a4\u6d88\u91cd\u5b9a\u5411":"\u95ee\u9898\u91cd\u5b9a\u5411")),this.cm.bb(Ev(this.data.eh)||!this.data.nb)),z.x.contains(b,"auth-f-manage")&&this.ib.Ja(this.lR=IE("\u66f4\u65b0\u8bdd\u9898\u9875\u663e\u793a",
!1)),this.o().g(this.ib,"action",this.uj),this.nt&&this.o().g(z.dl,"anon_change",function(a){this.nt.$c(!!a.nb)}),this.Rb&&z.x.contains(b,"auth-pu-mark")&&(this.ib.Ja(this.kz=IE("\u4f18\u8d28\u56de\u7b54",!0)),this.kz.$c(this.Rb.$O)),a=new Hw("Settings",this.ib),a.hk=!0,Jw(a),a.w(this.eg)};
z.e.uj=function(a){var b=this.nt;if(a.target===b)yu(b.He()?1:0,function(a){a||b.$c(!b.He())});else if(a.target===this.cm){if(!1===$B({jm:!0})())return!1;this.cp||(this.cp=new eB(this.pa),this.o().g(this.cp,"change",this.FP));this.ib.G(!1);this.Ao?JE(this):this.cp.show()}else a.target===this.gR?z.Fi("/question/"+this.data.ub+(this.gR.He()?"/unlock_summary":"/lock_summary"),function(){window.top!==window?window.top.location.href="/question/"+z.cs.ub:window.location.reload()},"POST"):a.target===this.lR?
window.$.post("/refresh_topic_feeds",{q:z.cs.ub}).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")}):a.target===this.kz&&window.$.post("/answer/"+this.Rb.ub+(this.kz.He()?"/good_mark":"/good_unmark")).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")})};
z.e.FP=function(){this.lm.innerHTML='\x3cdiv class\x3d"zg-wrap"\x3e\x3cdiv class\x3d"zu-global-nitify-inner"\x3e\x3cspan class\x3d"zu-global-notify-icon"\x3e\x3c/span\x3e\u6b64\u95ee\u9898\u5c06\u8df3\u8f6c\u81f3 \x3ca href\x3d"/question/'+this.cp.Lt+'"\x3e'+this.cp.qH+'\x3c/a\x3e \uff08\x3ca href\x3d"javascript:;" name\x3d"cancel"\x3e\u64a4\u6d88\u91cd\u5b9a\u5411\x3c/a\x3e\uff09\x3c/div\x3e\x3c/div\x3e';z.Q(this.lm,!0);this.Ao=!0;this.cm.xm("\u64a4\u6d88\u91cd\u5b9a\u5411")};
z.e.qA=function(a){var b=z.Pk(this.wk,a.target);b&&b.name&&z.Mm(function(){var a=(0,window.$)("#zh-question-webshare-container").data();px([a.title,a.type,a.urlToken,{answer:{aid:a.id},question:{qid:a.id}}[a.type]],"tb-webshare-"+b.name);z.X.oa({type:"ga_click_share_question_box",target:b,data:{type:b.name}})},function(){return{gd:"letter"===b.name}})()};z.v(KE,z.$o);KE.prototype.Oh=function(){KE.v.Oh.call(this);this.Vk.innerHTML="\u66f4\u65b0"};KE.prototype.fa=function(a){KE.v.fa.call(this,a);a=this.M();var b=a.B("strong",null,Cv(this.VA));a.uo(b,this.Xb)};z.v(LE,z.Nm);var NE=null;LE.prototype.ca=function(a){this.h=z.J("div","zu-bio-editor-wrap",[this.IO=z.J("div","zu-bio-editor-inner-wrap"),this.Bc=z.J("div","zm-command",[this.Vk=z.J("a",{name:"save",href:"javascript:;",className:"zg-r3px zg-btn-blue"},"\u5b8c\u6210")])]);z.x.forEach(this.al,function(a){a=new KE(a);a.ca(this.IO);this.items.push(a)},this);this.FO&&z.Q(this.Bc,!1);a.appendChild(this.h);this.o().g(this.Bc,"click",this.Ba)};
LE.prototype.Vw=function(){var a=this.items.length,b;if(!a&&this.al.length)for(b=0;b<this.al.length;b++)if(this.al[b][1])return this.al[b][1];var c=null;for(b=0;b<a;b++)if(c=this.items[b].hb())return c};LE.prototype.Ba=function(a){(a=this.hf(a.target))&&"save"===a.name&&(this.ga&&this.ga.G(!1),this.dispatchEvent("change"))};z.v(QE,z.R);z.e=QE.prototype;z.e.C=function(){UE(this);this.ad.H();QE.v.C.call(this)};
z.e.w=function(a){this.h=a;this.ps=z.I("draft-saved-info",a);z.Q(this.ps,!1);this.fF=z.I("draft-saved-time",a);this.fL=z.I("draft-clear-button",a);a=this.o().g(this.ad,z.El,this.Mt).g(this.fL,"click",this.gL).g(this.Cr,"keydown",this.lP);"oninput"in this.Cr&&!z.B?a.g(this.Cr,"input",this.KO):a.g(this.Cr,"keydown",this.LO);var b=z.as.Od&&1E3*z.as.Od[1];b&&(VE(this,b),this.PA=(0,window.setInterval)((0,z.r)(function(){VE(this,b)},this),22E3))};
z.e.lP=function(a){(a.metaKey||a.ctrlKey)&&"s"===z.rk[a.keyCode]&&(this.CP(),this.isContentEditable||a.preventDefault())};z.e.Jn=function(){(0,window.$)(window).on("beforeunload.DraftSaver",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u6210\u529f\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.cl=function(){(0,window.$)(window).off("beforeunload.DraftSaver")};z.e.KO=function(){TE(this);RE(this)};
z.e.LO=function(a){z.zh(a.keyCode)&&(TE(this),RE(this))};z.e.Ga=function(a){this.vb.Ga(a);this.vb.up()};z.e.hb=function(){return this.vb.jf()};z.e.OH=function(){if(!this.Td){var a=this.hb();if(a){SE(this,"\u4fdd\u5b58\u4e2d\u2026");var a=(new z.Ml).add("qid",this.pa).add("content",a).add("timestamp",(0,z.w)()),b=new z.U;b.ajax("/answer/draft/save",a.toString(),"POST");this.o().g(b,"success",(0,z.r)(this.Yg,this));this.KF=b}}};z.e.pU=150;z.e.Mt=z.bl(QE.prototype.pU,QE.prototype.OH);z.e.DP=350;
z.e.CP=z.bl(QE.prototype.DP,QE.prototype.OH);z.e.MO=3E3;z.e.JO=z.bl(QE.prototype.MO,function(){this.Td||(this.hb()?this.Mt():WE(this))});z.e.Yg=function(a){a=z.mf(a.target);var b="",c=!1;0===a.r?b="\u5df2\u4fdd\u5b58":(b=a.msg||"\u4fdd\u5b58\u5931\u8d25\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002",c=!0);UE(this);z.Q(this.ps,!0);SE(this,b,c);this.cl();"\u4fdd\u5b58\u6210\u529f"===a.msg&&this.dispatchEvent("saveContent");this.ad.start()};
z.e.gL=function(a){a.preventDefault();z.Ai("\u6e05\u9664\u8349\u7a3f",this.sF?"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5e76\u53d6\u6d88\u7f16\u8f91\u5417\uff1f":"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5417\uff1f",function(a){a&&(this.sF?(WE(this),this.vb.dispatchEvent("cancel_edit"),this.vb.Ai()):(this.Ga(""),WE(this),pu(this.vb)))},this)};z.v(YE,z.cp);z.e=YE.prototype;z.e.kE=function(){var a=z.Jb("h2","zm-editable-content",z.G("zh-question-title"))[0];return{title:a&&(/answer\/\d+$/.test(window.location.pathname)?z.yc(a):a.firstChild.nodeValue)||"",tk:this.cj}};z.e.Vw=function(){return this.Hq};z.e.St=function(a){this.nb=a};z.e.bb=function(a,b){this.enabled=a;this.ws?(this.Ai(),this.Pb=b,this.Xb.innerHTML=this.Pb):b&&(this.Pb=b)};z.e.fa=function(a){YE.v.fa.call(this,a);this.ws=!0;z.S.add(this.Xb,"zu-answer-form-disabled-wrap")};
z.e.C=function(){this.ss&&(z.K(this.ss),this.aJ=this.ss=null);YE.v.C.call(this)};z.e.rj=function(a){this.St(a.nb);this.vq&&(this.vq.checked=a.nb)};z.e.D=function(){YE.v.D.call(this);this.o().g(z.dl,"anon_change",this.rj)};
z.e.Eg=function(){YE.v.Eg.call(this);var a=this.M(),b=z.V.ra();this.ss=a.B("div","zh-answer-form clearfix",[b?Dv(this.ng):"",this.aJ=a.B("div",null,[a.B("div","zu-answer-form-title",[b?Bv(this.ng):"\u6211\u6765\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898",this.GK=a.B("span")])])]);ZE(this,this.Hq);a.uo(this.ss,this.cj);this.o().g(this.aJ,"click",this.Ba);z.V.ra()?z.V.active||$E(this,'\x3cdiv class\x3d"active-mask-tip-answer"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e',
'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):$E(this,'\x3cdiv class\x3d"signin-mask-tip-answer"\x3e\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u56de\u7b54\x3c/a\x3e\x3c/div\x3e')};
z.e.Nr=function(a){switch(a){case "edit_bio":a=ME();if(!this.pv){var b=z.cs.ub;a.xy=!0;a.AH=b;this.o().g(a,"change",this.Zy)}this.pv=!0;PE(a);break;case "cancel_delete":this.dispatchEvent("cancel_delete_answer");break;case "answer_my_question":aF(this)}return!0};z.e.we=function(){"editing"===this.status?this.Kb&&z.Q(this.Kb,!0):this.Kb&&z.Q(this.Kb,!1);z.Q(this.hd,!1);this.Xb&&z.Q(this.Xb,!this.enabled)};z.e.nL='\x3cdiv class\x3d"zm-command clearfix"\x3e\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3c% if (questionStatus !\x3d\x3d "normal") { %\x3e\x3cspan class\x3d"zg-gray-normal" style\x3d"margin-right:5px;"\x3e\u88ab\x3c%\x3d statusText %\x3e\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\x3c/span\x3e\x3ca class\x3d"zg-right" data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e\x3c% } %\x3e\x3cspan class\x3d"\x3c%\x3d (questionStatus !\x3d\x3d "normal" ? "hidden" : "") %\x3e"\x3e\x3clabel style\x3d"cursor:pointer"\x3e\x3cinput name\x3d"anno-checkbox" type\x3d"checkbox"\x3e\u533f\u540d\x3c/label\x3e \x3ca class\x3d"submit-button zg-btn-blue" name\x3d"save" href\x3d"javascript:;"\x3e\u53d1\u5e03\u56de\u7b54\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e';
z.e.Oh=function(){var a=(0,z.lp)(this.nL);this.Bc=z.Wb(a({questionStatus:z.cs.status,statusText:{suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"}[z.cs.status]}));this.Vk=(0,window.$)(".submit-button",this.Bc)[0];bF(this);this.Kb.appendChild(this.Bc);this.ready(function(){if(this.Na&&this.Na.on)this.Na.on("load",this.Xx,!1,this)})};
z.e.Xx=function(){var a=new QE(this);z.Id(this,a);this.o().g(a,"saveContent",function(){var a=!this.$d&&this.Na.$h("FullScreenPlugin");a&&zE(a)},!1,this);var b=qu(this);this.o().g(b,"focus",function(){a.ad.start()}).g(b,"blur",function(){TE(a);a.Mt()}).g(this,"saveSuccess",function(){TE(a);WE(a)});a.w(this.Bc);this.AD=a};z.e.Zy=function(){var a=ME().Vw();a&&ZE(this,a)};z.v(cF,z.cp);var fF=[{value:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0",label:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0"},{value:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f",label:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f"},{value:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f",label:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f"},{value:"other",label:"\u5176\u4ed6"}];z.e=cF.prototype;z.e.w=function(a){cF.v.w.call(this,a);this.o().g(z.dl,"anon_change",this.rj)};
z.e.rj=function(a){this.Ds||z.S.enable(this.h,"zm-editable-disabled",a.nb)};
z.e.Oh=function(){cF.v.Oh.call(this);this.Gz=z.J("div",{"class":"zm-editable-require-reason-wrap",style:"padding:10px 0 0 0"},[z.J("a",{"class":"zg-right zg-link-litblue",href:"http://www.zhihu.com/question/19550238/answer/12202028",target:"_blank"},"\u4e3a\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u88ab\u516c\u5171\u7f16\u8f91\uff1f"),eF(),this.hG=z.J("span"),this.ZR=z.J("div",{"class":"zg-form-text-input",style:"height:22px;margin:10px 0 0 0;display:none"},this.YR=z.J("textarea",{style:"width:100%;height:22px !important;min-height:22px !important;"}))]);
z.ac(this.Gz,this.Bc);this.jp&&gF(this," * \u5fc5\u9009","zg-gray-normal");var a=z.Jb("select",null,this.Gz)[0];this.o().g(a,"change",function(){z.Q(this.ZR,"other"===a.value);gF(this," * \u5fc5\u9009","zg-gray-normal")})};
z.e.Yg=function(a){var b=z.Jb("select",null,this.Gz)[0],c=b.value;if(this.jp){if("none"===c){gF(this,"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531");return}if("other"===b.value&&(c=z.Bk(this.YR.value),!c)){gF(this,"\u8bf7\u586b\u5199\u4fee\u6539\u7406\u7531");return}}"title"===this.ir&&-1===a.indexOf("?")&&-1===a.indexOf("\uff1f")?gF(this,"\u8fd8\u6ca1\u6709\u8f93\u5165\u95ee\u53f7"):("none"===c&&(c=""),this.params=["id\x3d"+this.pa+"\x26reason\x3d"+(0,window.encodeURIComponent)(c)+"\x26question_id\x3d"+
this.pa],this.dispatchEvent("change"),cF.v.Yg.call(this,a),gF(this,"* \u5fc5\u9009","zg-gray-normal"),this.jp=!0)};z.e.jf=function(){return this.$d&&this.sR?(0,z.Zk)(z.Aa(this.Na.value)):cF.v.jf.call(this)};z.e.ef=function(){(0,window.$)(window).on("beforeunload.EditorWithReason",(0,z.r)(function(){return"\u4f60\u5bf9\u95ee\u9898\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Of=function(){(0,window.$)(window).off("beforeunload.EditorWithReason")};
z.e.Ai=function(){cF.v.Ai.call(this);this.Of()};z.e.Af=function(){cF.v.Af.call(this);this.ef()};z.v(hF,z.kq);hF.prototype.aa=function(a,b,c,d){var f=nv(z.Hb(a)),g=this.Nh.x+f.x,f=this.Nh.y+f.y,h=z.Ul(a),g=g-h.x,f=f-h.y;z.Wl(new z.Cb(g,f),a,b,c,null,null,d)};z.v(iF,hF);iF.prototype.Co=0;iF.prototype.zm=function(a){this.Co=a};iF.prototype.aa=function(a,b,c,d){var f=z.Kg(a),f=z.Ng(f),g;g=z.F(a);g=z.Qb(g.La);g=new z.Cb(this.Nh.x+g.scrollLeft,this.Nh.y+g.scrollTop);var h=b,l=z.Wl(g,a,h,c,f,10,d);if(0!=(l&496)){if(l&16||l&32)h^=2;if(l&64||l&128)h^=1;l=z.Wl(g,a,h,c,f,10,d);0!=(l&496)&&z.Wl(g,a,b,c,f,this.Co,d)}};z.v(jF,zw);z.e=jF.prototype;z.e.ST=!1;z.e.GF=0;z.e.Nf=null;z.e.fa=function(a){jF.v.fa.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.M().m(a),1)};z.e.D=function(){jF.v.D.call(this);this.Bf.forEach(this.fC,this);var a=this.o();a.g(this,"action",this.bQ);a.g(this.M().va(),"mousedown",this.BG,!0);z.C&&a.g(this.M().va(),"contextmenu",this.BG,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.Bf.Qd(z.ja(a))||(a?(b={h:a,vI:b,LP:c,ww:d?"contextmenu":"mousedown",Gy:f},this.Bf.set(z.ja(a),b)):b=null,this.xa&&this.fC(b),a=z.pa(this.HQ,a),this.m()&&this.o().g(this.m(),"keydown",a))};z.e.HQ=function(a,b){if(27==b.keyCode)a.focus();else{var c=z.Uh(this,this.Sa).m(),d=new z.Qd(b.yb,c);d.target=c;if(32==b.keyCode||13==b.keyCode)z.Wd(c)?z.te(c,"keydown",!1,d):z.qe(c,"keydown",!1,d);32==b.keyCode&&this.hide()}};
z.e.fC=function(a){this.o().g(a.h,a.ww,this.SG);"contextmenu"!=a.ww&&this.o().g(a.h,"keydown",this.cR)};z.e.detach=function(a){if(!a||!this.Bf.Qd(z.ja(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ja(a);if(this.xa){var b=this.Bf.get(a);this.o().ta(b.h,b.ww,this.SG)}this.Bf.remove(a)};z.e.hI=function(a,b,c){b=z.ba(a.vI)?new Aw(a.h,a.vI,!0):new iF(b,c);b.zm&&b.zm(5);kF(this,b,a.LP,a.Gy,a.h)};
z.e.hide=function(){this.S()&&(this.G(!1),this.S()||(this.GF=(0,z.w)(),this.Nf=null))};z.e.jy=function(){return this.S()||150>(0,z.w)()-this.GF};z.e.bQ=function(){this.hide()};z.e.SG=function(a){lF(this,a)};z.e.cR=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||lF(this,a);40==a.keyCode&&z.eu(this)};z.e.BG=function(a){this.S()&&!this.Kf(a.target)&&this.hide()};z.e.Xc=function(a){jF.v.Xc.call(this,a);this.hide()};z.e.C=function(){jF.v.C.call(this);this.Bf&&(this.Bf.clear(),delete this.Bf)};z.v(mF,z.R);mF.prototype.L=function(a,b){mF.v.L.call(this,a,b);this.o().g(a,"beforeexpand",this.YN)};mF.prototype.YN=function(a){var b=a.target;z.Vh(this,function(a){b!==a&&a.Hc()&&a.Ta(!1)})};mF.prototype.H=function(){this.o().H();mF.v.H.call(this)};z.v(nF,z.ui);nF.prototype.D=function(){nF.v.D.call(this);z.xi(this,490);(0,window.$)(this.m()).addClass("user-guiding-dialog")};nF.prototype.Kd=function(a){(0,window.$)('[class^\x3d"view"]',this.h).hide();(0,window.$)(".view-"+a,this.h).show()};z.v(qF,z.R);z.e=qF.prototype;z.e.B=function(){this.h=z.J("div",{style:"display:none",className:"question-invite-panel"})};
z.e.D=function(){qF.v.D.call(this);var a=this.h,b=this.o();if(!this.$g){b.g(z.dl,"anon_change",this.reload);var c=z.I("cancel-anon",a);c&&b.g(c,"click",this.SM);if(!z.I("error-message")){var c=z.I("search-input",a),d=z.I("invite-title",a);this.cy=z.I("invite-status",a);b.g(this.cy,"click",this.TM);var f=z.I("suggest-persons",a);f&&(b.g(f,"click",this.yx),this.sI=f);(0,window.$)(".invite-status",a).on("mouseenter mouseleave",".invited-shortlist",function(a){(0,window.$)(".invited-hovercard",this).toggleClass("in",
"mouseenter"===a.type)});this.Ux(c,d);this.tI=(0,window.$)(this.sI).children().map(this.dH).get();this.Ol=(0,window.$)(".invited-fulllist",this.cy).children().map(this.dH).get();rF(this);z.Q(this.h,this.Xd)}}};z.e.mb=function(){qF.v.mb.call(this);this.o().H()};z.e.Xi=function(){return'\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cdiv class\x3d"spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.reload=function(){this.Hc()?this.gk():this.$g=!0};z.e.gk=function(){var a=this,b=this.AP;this.mb();z.S.add(this.h,b);this.h.innerHTML=this.Xi();return window.$.get("/node/QuestionInvitePanelV2",{params:{question_id:this.WR}}).done(function(c){a.$g=!1;z.S.remove(a.h,b);c=z.Wb((0,z.Xa)(c));var d=a.Hc();z.Q(c,d);z.dc(c,a.h);a.h=c;a.D()})};z.e.C=function(){qF.v.C.call(this);this.ea.H()};z.e.Hc=function(){return this.Xd};z.e.expand=function(){this.Ta(!0)};z.e.collapse=function(){this.Ta(!1)};
z.e.Ta=function(a){if(a!==this.Xd){this.dispatchEvent(a?"beforeexpand":"beforecollapse");var b=(0,z.r)(function(){this.dispatchEvent(a?"expand":"collapse")},this);a&&this.$g?this.gk().done(b):b();this.Xd=a;z.Q(this.h,a)}};z.e.Df=function(){this.Ta(!this.Xd)};
z.e.Ux=function(a){var b=this,c=(0,z.lp)('\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3cspan class\x3d"zu-autocomplete-row-name" title\x3d"\x3c%-fullname%\x3e"\x3e\x3c%-fullname%\x3e\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c%\x3dheadline%\x3e\x3c/span\x3e');this.ea=new z.mm(a,{ge:8,source:"/people/autocomplete?type\x3dinvite",ri:a.offsetParent,placeholder:"\u641c\u7d22\u4f60\u60f3\u9080\u8bf7\u7684\u4eba",rd:function(a,
b,g){g.innerHTML=c(a.data)},filter:function(a){return z.x.filter(a,function(a){return!sF(b,a.id)})},select:function(a){uF(b,"ask_to_answer_search");Hv(b.yt,a.id,"search").done(function(c){if(c.r)return z.T(c.msg);xF(b,a);vF(b,a.id,!0)});return""}})};z.e.SM=function(){yu(0)};
z.e.yx=function(a){var b=a.target;if("BUTTON"===b.tagName||z.S.has(b,this.SO)){this.vo&&"pending"===this.vo.state()&&this.vo.abort();a="related"===b.getAttribute("data-type")?"recommended_relative_questions":"recommended_top_answerers";uF(this,a);var c=b.getAttribute("data-uid"),d=this.oF,f=(0,z.r)(function(a){a?(tF(this,b,!0),xF(this,wF(this,c)),this.XK()):(tF(this,b,!1),zF(this,c))},this);z.S.has(b,d)?(this.vo=Gv(this.yt,c),f(!1)):(this.vo=Hv(this.yt,c,a).done(function(a){a.r&&(z.T(a.msg),f(!1))}),
f(!0))}};z.e.TM=function(a){a=a.target;"BUTTON"===a.tagName&&(a=a.getAttribute("data-uid"),Gv(this.yt,a),vF(this,a,!1),zF(this,a))};z.e.dH=function(){var a=(0,window.$)(this),b=(0,window.$)(".zm-item-link-avatar",a);return{id:String((0,window.$)("button",a).data("uid")),avatar:(0,window.$)("img",b).attr("src"),fullname:b.attr("title"),url_token:b.attr("href").split("/").slice(-1)[0]}};z.e.YS='\u4f60\u5df2\u9080\u8bf7 \x3cspan class\x3d"invited-shortlist"\x3e\x3c% helper.each(persons.slice(0, 2), function(person, i, sliced) { %\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3c%\x3d i !\x3d\x3d sliced.length - 1 ? "\u3001" : ""%\x3e\x3c% }); %\x3e\x3c%\x3dhelper.fullList()%\x3e\x3c/span\x3e\x3c% if (persons.length \x3e 2) { %\x3e \u7b49 \x3c%\x3dpersons.length%\x3e \u4eba \x3c% } %\x3e';
z.e.AM='\x3cdiv class\x3d"invited-hovercard"\x3e\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cul class\x3d"invited-fulllist"\x3e\x3c% helper.each(persons, function(person, i) { %\x3e\x3cli\x3e\x3ca title\x3d"\x3c%-person.fullname%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3dperson.url_token%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3dperson.avatar%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray" title\x3d"\x3c%-person.fullname%\x3e"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3cbutton class\x3d"cancel-button zg-link-btn zg-link-gray" data-uid\x3d"\x3c%\x3dperson.id%\x3e"\x3e\u6536\u56de\u9080\u8bf7\x3c/button\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3c/div\x3e';
z.e.XK=z.ti(function(){z.V.eh&&window.$.post("/question/popup",{action:"invite",question_token:z.cs.ub},function(a){a&&pF(new nF,a)})});z.v(AF,z.R);z.e=AF.prototype;z.e.D=function(){AF.v.D.call(this);this.o().g(this.h,"click",this.Zo);BF(this);this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("label","question")})};z.e.Cj=function(){var a=(0,window.$)("a[name\x3dreport-question]",this.m());a.length&&Rw(new Pw("question",this.data.pa),a[0])};
z.e.Zo=function(a){var b=(a=z.Pk(this.h,a.target))&&a.name;if(b)switch(b){case "addcomment":"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(a).text())?z.Mm(this.Lr,{ra:"question_add_comment_start"}).call(this,a):this.Lr(a);break;case "remove":DF(this);break;case "admin":CF(this,a);break;case "share":z.X.oa({type:"ga_click_share_question_box",target:a});this.uc();break;case "invite":this.yx()}};
z.e.Lr=function(a){this.qa.Df();this.qa.Hc()&&this.qa.Ci("view_comments",(0,window.parseInt)(z.yc(a),10)||0)};z.e.yx=function(){this.nF.Df();var a=this.nF.Hc();this.dispatchEvent(new ky("click!invitation",{category:"invitation",action:(a?"show":"hide")+"_ask_to_answer_card",label:"?",value:this.data.ue}))};z.e.uc=z.Mm(function(){px(["\u5206\u4eab\u95ee\u9898","question",this.data.ub,{qid:this.data.pa}],"tb-webshare-sina")},{ra:"question_question_share"});
z.e.tL=function(a){this.NB.X(a.msg.action);this.NB.xm(a.msg.caption)};z.v(Nz,z.R);z.e=Nz.prototype;z.e.Ua=function(){return this.Sm.data("votecount")};z.e.Jc=function(){this.dispatchEvent("change")};z.e.gk=function(){this.im&&"pending"===this.im.state()||(this.im=this.zg.qE(this.lb).done((0,z.r)(this.gp,this)))};z.e.gp=function(a){if(a=(0,z.Xa)(a))a=(0,window.$)(a),this.Sm.replaceWith(a),this.Sm=a,this.wb(),this.Jc()};
z.e.wb=function(){function a(a,d){var f=z.J("div","zm-voters");a.appendChild(f);var g=z.J("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.lb+"/voters_profile",l=new mw({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&(b.Sm.data("votecount",c.total),b.Jc()),h=c.next);return{results:a.payload,next:!!h}})}});l.w(g);l.Bd().setAttribute("hidden","true");z.Id(d,l);l.o().sa(l,"next",function(){l.zb().length?(l.Bd().removeAttribute("hidden"),
l.use("autoload",{hC:!1,viewport:f})):(l.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e\u8fd8\u6ca1\u6709\u4eba\u8d5e\u540c\x3c/div\x3e')});return l.Vs()}var b=this;(0,window.$)("a.more",this.Sm).click(function(){var c=Nv({Sj:!0,title:b.Ua()+" \u4eba\u8d5e\u540c",className:"zm-voters-dialog",SC:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.W(),c).then(function(){b.resolve(null)})})}).promise()});c.o().g(b,"change",function(){c.Za(b.Ua()+" \u4eba\u8d5e\u540c")})})};
z.e.D=function(){this.Sm=(0,window.$)(this.h);this.wb()};EF.prototype.of=function(){var a=[this.K.get(0)].concat(this.K.parents().get()),b=window.$.map(a,function(a){return(0,window.$)(a).data("navigable")})[0];this.WP=b&&window.$.grep(b.items(),function(b){return~window.$.inArray(b,a)})[0]};EF.prototype.getItem=function(){return this.WP};z.v(FF,z.cp);z.e=FF.prototype;z.e.D=function(){FF.v.D.call(this);this.ready(function(){if(this.Na&&this.Na.on)this.Na.on("load",this.Xx,!1,this)})};
z.e.Xx=function(){var a=new QE(this,!0);z.Id(this,a);this.o().g(a,"saveContent",function(){var a=!this.$d&&this.Na.$h("FullScreenPlugin");a&&zE(a);(0,window.$)(this.Pq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09")}).g(a,"clearContent",function(){(0,window.$)(this.Pq).text("\u53d6\u6d88");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539")});
var b=qu(this);this.o().g(b,"focus",function(){a.ad.start()}).g(b,"blur",function(){TE(a);this.xL!==this.jf()&&a.Mt()}).g(this,"saveSuccess",function(){delete z.as.Od;TE(a);WE(a)}).g(this,"save_unchanged",function(){delete z.as.Od;TE(a);WE(a)});a.w(this.Bc);z.as.Od&&z.as.Od[0]&&(0,window.$)(this.Pq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00")};
z.e.Oh=function(){this.Bc=z.J("div","zm-command",[(0,window.$)('\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u53d6\u6d88\u7f16\u8f91\u5e76\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e')[0],this.Pq=
z.J("a",{"class":"zm-command-cancel",name:"cancel",href:"#"},"\u53d6\u6d88"),this.Vk=z.J("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"#"},"\u53d1\u5e03")]);this.Kb.appendChild(this.Bc)};z.e.Gw=function(){var a=this;window.$.get("/draft/get",{qid:this.lp},function(b){b.r||(a.Vt(b.msg),a.xL=b.msg)})};
z.e.iE=function(){var a=[];if(!this.disabled){var b="\u4fee\u6539";z.as.Od&&z.as.Od[0]&&(b="\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09");a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+b+"\x3c/span\x3e\x3c/a\x3e")}return a.join("")};z.v(GF,pw);z.ca(GF);GF.prototype.B=function(a){var b=GF.v.B.call(this,a);z.th(b,"goog-submenu");HF(this,a,b);return b};GF.prototype.w=function(a,b){b=GF.v.w.call(this,a,b);z.th(b,"goog-submenu");HF(this,a,b);var c=z.Jb("DIV","goog-menu",b);if(c.length){var d=new zw(a.M()),c=c[0];z.Q(c,!1);a.M().va().body.appendChild(c);d.w(c);a.nh(d,!0)}return b};GF.prototype.Ga=function(a,b){var c=this.W(a),d=c&&c.lastChild;GF.v.Ga.call(this,a,b);d&&c.lastChild!=d&&z.sh(d,"goog-submenu-arrow")&&c.appendChild(d)};
GF.prototype.Fe=function(a){GF.v.Fe.call(this,a);var b=a.W(),c=a.M(),c=z.Kb(c.La,"SPAN","goog-submenu-arrow",b)[0];IF(a,c);c!=b.lastChild&&b.appendChild(c);z.lh(a.m(),"haspopup","true")};z.v(JF,uw);var bG=218;z.e=JF.prototype;z.e.Sd=null;z.e.pA=null;z.e.Ky=!1;z.e.nc=null;z.e.Ar=!1;z.e.tq=!0;z.e.bP=!1;z.e.D=function(){JF.v.D.call(this);this.o().g(this.getParent(),"hide",this.MG);this.nc&&NF(this,this.nc,!0)};z.e.mb=function(){this.o().ta(this.getParent(),"hide",this.MG);this.nc&&(NF(this,this.nc,!1),this.Ar||(this.nc.mb(),z.K(this.nc.m())));JF.v.mb.call(this)};z.e.C=function(){this.nc&&!this.Ar&&this.nc.H();this.nc=null;JF.v.C.call(this)};
z.e.wc=function(a,b){JF.v.wc.call(this,a);b&&(this.ab().sf=!0);a||(this.Sd&&z.xe(this.Sd),this.Sd=z.we(this.Fg,bG,this))};z.e.bu=function(){var a=this.getParent();a&&z.fu(a)==this&&(MF(this,!0),LF(this))};z.e.Fg=function(){var a=this.nc;a&&a.getParent()==this&&(MF(this,!1),z.Vh(a,function(a){"function"==typeof a.Fg&&a.Fg()}))};z.e.G=function(a,b){var c=JF.v.G.call(this,a,b);c&&!this.S()&&this.Fg();return c};
z.e.$b=function(a){var b=a.keyCode,c=this.Ed()?37:39,d=this.Ed()?39:37;if(!this.Ky){if(!this.isEnabled()||b!=c&&b!=this.Ny)return!1;this.bu();z.eu(this.ab());KF(this)}else if(!this.ab().$b(a))if(b==d)this.Fg();else return!1;a.preventDefault();return!0};z.e.mQ=function(){this.nc.getParent()==this&&(KF(this),this.yl().wc(this),LF(this))};z.e.MG=function(a){a.target==this.yl()&&(this.Fg(),KF(this))};z.e.md=function(a){this.isEnabled()&&(KF(this),this.pA=z.we(this.bu,bG,this));JF.v.md.call(this,a)};
z.e.Gd=function(a){KF(this);if(z.dj(this,8)||z.dj(this,16))return JF.v.Gd.call(this,a);this.bu();return!0};z.e.Ja=function(a){this.ab().L(a,!0)};z.e.Qi=function(a,b){this.ab().Fk(a,b,!0)};z.e.removeItem=function(a){(a=this.ab().removeChild(a,!0))&&a.H()};z.e.Zh=function(a){return z.Uh(this.ab(),a)};z.e.ul=function(){return z.Th(this.ab())};z.e.zb=function(){return this.ab().zb()};
z.e.ab=function(){this.nc?this.Ar&&this.nc.getParent()!=this&&z.Rh(this.nc,this):this.nh(new zw(this.M()),!0);this.nc.m()||this.nc.B();return this.nc};z.e.nh=function(a,b){var c=this.nc;a!=c&&(c&&(this.Fg(),this.xa&&NF(this,c,!1)),this.nc=a,this.Ar=!b,a&&(z.Rh(a,this),a.G(!1,!0),a.Ym=!1,a.Qe(!1),this.xa&&NF(this,a,!0)))};z.e.Kf=function(a){return this.ab().Kf(a)};z.hj("goog-submenu",function(){return new JF(null)});z.v(OF,JF);OF.prototype.$b=function(a){var b=OF.v.$b.call(this,a);a=(0,window.parseInt)(z.rk[a.keyCode],10);(0,window.isNaN)(a)||this.ab().Hb(a-1);return b};z.v(PF,z.R);var iG={all_can_comment:"\u5141\u8bb8\u4efb\u4f55\u4eba\u8bc4\u8bba",followee_can_comment:"\u5141\u8bb8\u6211\u5173\u6ce8\u7684\u4eba\u8bc4\u8bba",nobody_can_comment:"\u5173\u95ed\u8bc4\u8bba"};z.e=PF.prototype;z.e.Rn=function(){return"#answer-"+this.na};z.e.Cj=function(){var a=(0,window.$)("a[name\x3dreport]",this.Ic);if(a.length){var b=new Pw("answer",this.na);Rw(b,a[0]);z.Id(b,this)}};z.e.Hy=function(){wz("answer",this.ub,"read")};
z.e.Rj=function(){wz("answer",this.ub,/^\/question\//.test(window.location.pathname)?"read":"touch")};
z.e.D=function(){PF.v.D.call(this);RF(this);this.Hf=z.I("zm-item-answer-author-info",this.h);var a=!1;!z.V.ra()&&0<(0,window.$)(this.h).parents('div[data-fixed-summary\x3d"1"]').length&&(a=!0);SF(this,a);this.Ic=this.Ic||z.I("zm-item-meta",this.h);(this.ki=z.I("zm-meta-panel",this.Ic))&&this.o().g(this.ki,"click",this.Zo);this.Ne?(fG(this),this.Hf&&(this.YG=(this.nb=z.Qa(this.Hf.innerHTML,"\u533f\u540d\u7528\u6237"))?null:this.Hf.innerHTML.replace(/src=".+?"/g,'src\x3d"'+z.V[2]+'"'),this.o().g(this.Hf,
"click",function(a){"cancel-anon"===a.target.name&&yu(!1)}))):this.Zx();UF(this);this.Dj();(0,window.$)(this.h).on("contentchange",window.$.proxy(this.Dj,this));this.Vx();this.wb();eG(this);this.Cj();z.yi&&!z.zi&&VF(this)};z.e.hA=function(a){var b=this.Dj();b&&z.zo(b,a)};
z.e.Zx=function(){var a=z.I("zm-votebar",this.h)||z.I("zm-votebar",this.ki);if(a){var b=new Bz(this.na);b.w(a);this.qb=b;this.o().g(b,"change",this.fS).g(b,"action",function(a){a.data.state===Dz.qe?z.X.oa({type:"ga_click_vote_up",target:this}):a.data.state===Dz.ug&&z.X.oa({type:"ga_click_vote_down",target:this})});(a=z.I("votenum-mobile",this.ki))&&(new Iz(b)).w(a)}};
z.e.Dj=function(){if(this.yh)return this.yh;var a=z.I("zm-editable-content",this.h),b=this.qb&&this.qb.m();!this.Ne&&!z.yi&&b&&(0,window.$)(b).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.yh=new z.Eo(null,a),this.L(a),a.tag="votebar",a.qz=50,a.w(b))};z.e.fS=function(){this.vk&&this.vk.gk()};
z.e.wb=function(){this.Hf&&this.o().g(this.Hf,"click",this.Ba);this.Ne&&(this.sK=z.V);this.o().g(z.dl,"anon_change",function(a){this.Ne?this.St(a.nb):this.qb.ce()===Dz.qe&&this.vk.gk()});WF(this);(0,window.$)(this.h).on("focusin focusout",function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)})};z.e.hf=function(a){return z.Pk(this.h,a)};
z.e.Ba=function(a){if(a=(a=this.hf(a.target))&&a.name)if("edit"===a){a=ME();if(!this.pv){var b=z.cs.ub;a.xy=!0;a.AH=b;this.o().g(a,"change",this.Zy)}this.pv=!0;PE(a)}else"complex"===a&&(a=z.I("zm-item-answer-summary",this.h),b=z.I("zm-item-rich-text",this.h),z.Q(a,!1),z.Q(b,!0))};z.e.Zy=function(){var a=ME().Vw()||z.V[4]||"";if(a){var b=z.I("zu-question-my-bio",this.Hf);b.title=a;b.innerHTML=a}};z.e.Vx=function(){var a=z.I("zm-item-answer-author-wrap",this.h),a=z.I("zm-list-avatar",a);z.Ms.add(a)};
z.e.St=function(a){a?this.Hf.innerHTML='\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e\u533f\u540d\u7528\u6237\x3ca class\x3d"zg-link-gray cancel-anon" href\x3d"javascript:void(0);" name\x3d"cancel-anon"\x3e\u53d6\u6d88\u533f\u540d\x3c/a\x3e\x3c/h3\x3e':this.Ne&&(this.YG?this.Hf.innerHTML=this.YG.replace("\x3c/h3\x3e","").replace("\x3c/H3\x3e","")+'\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e\x3c/h3\x3e':
(a=[],a.push('\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e'),a.push(zv()),a.push(Av(z.V,"zm-item-answer-creator")),a.push("\x3c/h3\x3e"),this.Hf.innerHTML=a.join("")))};z.e.PG=function(){var a=(0,window.$)(this.h);a.hide("fast",function(){a.remove()});this.H()};
z.e.Zo=function(a){var b=this.hf(a.target),c=b&&b.name;if(c)switch(c){case "addcomment":this.rx();this.qa&&this.qa.Hc()&&this.qa.Ci("view_comments",(0,window.parseInt)(z.yc(b),10)||0);break;case "remove":this.Or();break;case "thanks":z.X.oa({type:"ga_click_thank_answer",target:b});this.Xr();break;case "comment_opt":this.Mv||hG(this);break;case "admin":YF(this);break;case "share":z.X.oa({type:"ga_click_share_answer_box",target:b});this.uc();break;case "nohelp":this.BE(a);break;case "favo":z.X.oa({type:"ga_click_collect_answer_box",
target:b}),this.sj()}};z.e.NN=function(){(new Pw("answer",this.na)).fI()};
z.e.BE=QF(function(a){a=a.target;var b=!!a.m;z.X.oa({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.fw&&"pending"===this.fw.state()&&this.fw.abort();var c,d;d=b?a.Ig():a.innerHTML;d=(c=-1<d.indexOf("\u64a4\u9500"))?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9";b?a.xm(d):a.innerHTML=d;c=c?"/answer/helpful":"/answer/not_helpful";b||z.Gk(a);this.fw=window.$.post(c,{aid:this.na})},{ra:"question_answer_not_helpful",gd:!0});
z.e.uc=QF(function(){px(["\u5206\u4eab\u56de\u7b54","answer",this.ub,{aid:this.na}],"tb-webshare-sina")},{ra:"question_answer_share"});z.e.sj=QF(function(){var a=Rz.T();Uz(a,this.na);a.show()},{ra:"question_answer_collect",gd:!0});z.e.qL=function(){this.qa||XF(this);this.qa.Df();(0,window.$)(this.ki).toggleClass("focusin",this.qa.Hc())};
z.e.rx=QF(PF.prototype.qL,function(){return{ra:"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(z.I("toggle-comment",this.h)).text())?"question_answer_add_comment_start":!1}});z.e.Lr=QF(function(a){this.qa&&this.qa.Hc()?this.qa.Aa.focus():this.rx();a.preventDefault()},{ra:"question_answer_add_comment_start"});
z.e.Xr=QF(function(){var a=(0,window.$)("a[name\x3dthanks]",this.ki)[0];a&&!z.S.has(a,"disabled")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.yk(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.na})):(z.yk(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.na})),z.Gk(a))},{ra:"question_answer_thank"});
z.e.$z=function(a){Gz.$z(this.na,a);(0,window.$)(".copyright",this.Ic).html(a?"":'\x3cspan class\x3d"zg-bull"\x3e\x26bull;\x3c/span\x3e \u7981\u6b62\u8f6c\u8f7d')};z.e.WM=function(a){var b=a.target;a=b.X();"\u7981\u6b62\u8f6c\u8f7d"===a?this.$z(!b.He()):"\u5220\u9664"===a?this.Or():a in iG&&window.$.post("/answer/comment_permission",{answer_id:this.na,permission:a}).done((0,z.r)(function(a){a&&!a.r&&z.x.forEach(this.Nv,function(a){a.$c(a===b)})},this))};
z.e.Or=function(){z.Ai("\u4f60\u786e\u5b9a\u8981\u5220\u9664\u81ea\u5df1\u7684\u7b54\u6848\u5417\uff1f","\u7b54\u6848\u5185\u5bb9\u4e0d\u4f1a\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4f60\u8fd8\u53ef\u4ee5\u64a4\u6d88\u672c\u6b21\u5220\u9664\u64cd\u4f5c\u3002",function(a){a&&(this.gi=!0,this.status=-1,jG(this))},this)};z.e.m=function(){return this.h};z.v(lG,PF);lG.prototype.w=function(a){lG.v.w.call(this,a);this.Ne&&this.St(this.IL.nb)};lG.prototype.S=function(){return(0,window.$)(this.h).is(":visible")};z.v(mG,z.R);z.e=mG.prototype;z.e.init=function(){z.vr.L(this);this.w(window.document.body)};z.e.D=function(){mG.v.D.call(this);var a=z.G("zh-question-meta-wrap");a&&(this.sH=new AF(this.data),this.L(this.sH),this.sH.w(a));this.qo();oG(this);this.Oo=new wC;this.o().g(this.Oo,"change",this.tz);this.Oo.init();this.dI();nG(this);(a=z.ms.topic_errors_info)&&z.Qm(a)};
z.e.dI=function(){this.data.ub=z.cs.ub;wG(this,!0);z.V.ra()&&(uG(this),vG(this));AG(this);(this.Kv=z.G("zg-question-suggested-topics"))&&this.o().g(this.Kv,"click",this.dQ);this.po();this.o().g(window,"hashchange",function(a){a=a.yb;a.oldURL&&"writing"===a.oldURL.split("#")[1]||sG(this)});yG(this);pG(this);z.bs&&(0,window.setTimeout)(function(){window.location.href=z.bs},5E3)};
z.e.qo=function(){wz("question",this.data.ub,"read");this.o().g(this,["click!","show!"],function(a){"comment"===a.namespace&&a.Oc.fill("category","question_answer").fill("label","question_answer");"invitation"===a.namespace&&a.Oc.fill("label","question_page")})};z.e.tz=function(){this.gO=!0;this.qk=(0,window.$)(this.Oo.YP)[0];z.bc(this.qk,z.G("zh-question-redirect-info"));z.Q(this.qk,!0);z.Ar.vc||(this.jj=new z.xo,this.jj.w(this.qk),su(this.jj));this.o().g(this.qk,"click",this.wE);sG(this)};
z.e.yO=function(a){"close"!==z.cs.status&&(a=a.target.m(),this.Ib=new cF(this.data.pa,"/question/detail","content",!0,null),dF(this.Ib,Ev(this.data.eh)),this.Ib.CV=z.Rk,z.I("zm-editable-content",a).innerHTML&&(this.Ib.jp=!0),this.Ib.w(a),this.o().g(this.Ib,"click_edit",function(){z.X.oa("ga_question_supplement_edit_start")}),this.o().g(this.Ib,"cancel_edit",function(){z.X.oa("ga_question_supplement_edit_cancel")}),this.o().g(this.Ib,"save_changed",function(){z.X.oa("ga_question_supplement_edit_save_changed")}),
this.o().g(this.Ib,"save_unchanged",function(){z.X.oa("ga_question_supplement_edit_save_unchanged")}),this.Ib.addEventListener("beforeedit",$B({jm:!0})))};
z.e.BO=function(a){a=a.target.m();var b=z.G("zh-question-answer-summary-link"),c;!a||!z.Ar.qF&&this.data.AT||(c=new z.cp(!0,"/question/summary","content"),ru(c,["id\x3d"+this.data.pa]),c.Oq=!1,c.w(a));if(b){var d=z.G("zh-question-answer-summary-wrap");this.o().g(b,"click",function(){c&&(z.Q(d,!0),c.Af())}).g(d,"click",function(a){"cancel"===a.target.name&&(a=!c.jf(),z.Q(d,!a))})}this.zT=c;this.zT.addEventListener("beforeedit",$B({jm:!0}))};
z.e.wE=function(a){if("close"===a.target.name){if(this.jj&&(z.Ao(this.jj),z.zo(this.jj,!1),window.history.replaceState)){a=new z.Gl(window.location.href);var b=a.kd();b.remove("q");b.remove("psq");window.history.replaceState({},"",a.vf+"?"+b.toString())}z.Q(this.qk,!1);z.Q(this.At,!1)}else if("A"===a.target.tagName&&"zh-question-suggest-reask"===a.target.id&&(z.Q(this.At,!1),z.ip.T().show()),b="a"===(0,window.$)(a.target).prop("tagName").toLowerCase()?a.target:this.hf(a.target,"A"))a.preventDefault(),
a.stopPropagation(),a=b.getAttribute("data-source")||b.href,b=a.indexOf("#"),sG(this,z.Ve(0>b?null:a.substr(b+1)))};z.e.EN=function(){var a=this.yg,b=a.m(),c=a.te.hb()[0];z.Q(b,!1);c=z.Wb((0,z.Xa)(c));z.ac(c,b);this.Ri[a.na]=null;this.wq=z.x.filter(this.wq,function(b){return b!==a.na},this);var d=999;this.jv=z.x.filter(this.jv,function(b){b.aid===a.na&&(d=b.vote);return b.aid!==a.na},this);z.K(b);a.H();zG(this,c,d,!1)};
z.e.Yy=function(a){a=a.target;if(a instanceof lG){var b=a.m();switch(a.Ru){case "collap":this.rn.appendChild(b);z.S.add(b,"zm-item-collapsed");this.data.ue--;tG(this);break;case "cancel_collap":this.yq.appendChild(b);z.S.remove(b,"zm-item-collapsed");DG(this,b);this.data.ue++;tG(this);break;case "set_delete":rG(this);this.data.ue--;tG(this);break;case "cancel_delete":DG(this,this.Ri[this.mi].m()),rG(this),this.data.ue++,tG(this)}}};z.e.dE=function(a){return this.Ri[a]};
z.e.DT=function(a){(a=z.Pk(this.Lh,a.target))&&a.name&&("expand"===a.name?(this.mL||CG(this),BG(this,!0)):BG(this,!1))};z.e.lQ=function(){var a=this.Ri[this.mi],b;a?(kG(a),DG(this,a.m())):(b=this.dg,a=new z.U(!0),this.o().sa(a,"success",function(){window.location.href="/question/"+z.cs.ub+"/answer/"+b.url_token}),a.ajax("/answer/unremove","aid\x3d"+b.id))};
z.e.eQ=function(){var a=this.vb.vq.checked,b={Sj:!0,title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5728\u8be5\u95ee\u9898\u4e0b\u7684\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"},c=(0,z.r)(function(){if(!this.xhr||!this.xhr.Sb()){var b=this.vb.jf();if(b){var c=new z.U(!0),g=new z.Ml,h=a?1:0;g.add("id",this.pa).add("content",b).add("anon",h);c.on("success",function(){z.cs.nb!==h&&z.dl.dispatchEvent(new ku(h));var a=z.mf(this.xhr);
a&&!a.r?(a=z.Wb((0,z.Xa)(a.msg[0])),this.yq.appendChild(a),zG(this,a,this.wq.length,!0),rG(this),TE(this.vb.AD),WE(this.vb.AD),this.vb.H(),z.cs.nb||(this.VP=new EE(this.Ri[this.mi]),this.VP.show()),this.data.ue++,tG(this)):z.Ei("\u63d0\u793a\u4fe1\u606f",a.msg)},!1,this);c.ajax("/answer/add",g.toString());this.xhr=c}}},this);z.cs.nb&&!a?z.Ai(b,function(a){a&&c()}):c()};z.e.hf=function(){};
z.e.dQ=function(a){if((a=this.hf(a.target))&&a.name){var b=a.name;"close"===b?z.Q(this.Kv,!1):"addtag"===b&&(this.Ra.Xe(a.id.split("-")[1],a.innerHTML),z.Q(a,!1))}};z.e.po=function(){this.sA=new HE(this.pa);this.sA.init()};z.v(EG,mG);z.e=EG.prototype;z.e.dI=function(){(this.mr=z.G("zh-single-answer-disable-wrap"))&&this.o().g(this.mr,"click",this.zS);this.Nl();this.po();HG();wG(this,!1);var a=(0,window.$)("#zh-question-answer-collections \x3e .zh-general-list").get(0);if(a){var b=new mw({use:["autoload","nodeSource"]});this.L(b);b.w(a)}FG(this)};z.e.qo=function(){this.o().g(this,["click!","show!"],function(a){"invitation"===a.namespace&&a.Oc.fill("label","answer_page")});EG.v.qo.call(this)};
z.e.zS=function(a){a.target&&a.target.name&&kG(this.Rb)};z.e.Nl=function(){var a=z.I("zm-item-answer",z.G("zh-question-answer-wrap"));if(a){this.Rb=new lG(this.pa);this.L(this.Rb);this.Rb.w(a);a=this.o();a.g(this.Rb,"change",this.Yy);if(this.Rb.Ne){a.g(z.dl,"anon_change",function(a){GG(this,a.nb)});var b=this.Rb.te;b&&a.g(b,"change",function(){var a=(0,z.Xa)(b.hb()[0]),a=z.Wb(a);z.dc(a,this.Rb.h);this.Rb.H();this.Nl(a)})}IG(this);XF(this.Rb,{autofocus:!1,RF:!0})}};
z.e.dE=function(a){if(this.Rb.na===a)return this.Rb};z.e.tK='\x3ch3\x3e\u5173\u4e8e\u4f5c\u8005\x3c/h3\x3e\x3c% if (author) { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"/people/\x3c%\x3d author.url_token %\x3e" tabindex\x3d"-1"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"\x3c%\x3d author.avatar_path.replace("_s.","_m.") %\x3e"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\x3ca href\x3d"/people/\x3c%\x3d author.url_token %\x3e"\x3e\x3c%\x3d author.fullname %\x3e\x3c/a\x3e\x3c/h2\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\x3c%\x3d author.headline || "" %\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"javascript:;"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"http://img.zhihu.dev:4080/66/6b/666b0abfc_m.jpg"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\u533f\u540d\u7528\u6237\x3c/h2\x3e\x3c/div\x3e\x3c% } %\x3e';
z.e.po=function(){this.sA=new HE(this.pa,this.Rb);this.sA.init();var a=z.G("js-sidebar-author-info");a&&(new XB(a)).init()};z.e.Yy=function(a){a=a.target;if(a instanceof lG)switch(a.Ru){case "collap":z.S.add(a.m(),"zm-item-collapsed");break;case "cancel_collap":z.S.remove(a.m(),"zm-item-collapsed");break;case "set_delete":case "cancel_delete":IG(this),window.location.reload()}};z.v(JG,z.R);z.e=JG.prototype;z.e.init=function(){var a=z.I("js-topic-feed-page");this.w(a)};
z.e.D=function(){JG.v.D.call(this);var a=this;this.rB=(0,window.$)(".js-topic-feed-container",this.h);this.rB.find(".js-topic-item").each(function(){var b=new MG;a.L(b);b.w(this);a.o().g(b,"unfollow",function(){NG(a)})});this.tt=new RG;this.tt.w((0,window.$)(".js-pinned-topics",this.element)[0]);(this.cc=z.G("js-load-more"))&&this.o().g(this.cc,"click",this.fz);this.o().g(this.tt,"change",function(a){(0,window.$)("#tf-"+a.FI).find(".js-pin").replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')});
this.Hu=(0,window.$)(".follow-topics-count");OG(this);this.qo()};z.e.fz=function(){KG(this.cc,!0);this.xhr=new z.U(!0);this.o().sa(this.xhr,"complete",(0,z.r)(this.Xg,this));var a=new z.Qk;a.add("page",++this.page);this.xhr.ajax(window.location.pathname,a.kd())};z.e.Xg=function(){var a=z.mf(this.xhr);a&&!a.r&&(0<a.msg.length?(LG(this,a.msg),KG(this.cc,!1)):(0,window.$)(this.cc).hide())};
z.e.qo=function(){var a=(0,window.$)(this.m());window.$.each({".zu-main-sidebar .topics-plaza a":["visit_topic_square","topic_feed_sidebar"],".hidden-topics-plaza a":["visit_topic_square","topic_feed_recommend"],".js-pager.topics-pager":["click_change_recommend_topic","topic_feed_recommend"],".js-nomore-recommend":["click_nomore_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-follow":["click_follow_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-unfollow":["click_unfollow_recommend_topic",
"topic_feed_recommend"],'.topic-recommend .topic-feed-item a[href^\x3d"/question/"]':["visit_question","topic_feed_recommend"]},function(b,c){a.on("click",b,function(){z.Y.apply(null,["topic"].concat(c))})})};z.v(MG,z.R);MG.prototype.D=function(){MG.v.D.call(this);this.o().g(this.h,"click",(0,z.r)(this.Wy,this))};
MG.prototype.Wy=function(a){var b=a.target;a=(0,window.$)(b).attr("data-action");var c=(0,window.$)(this.h).find(".topic-avatar img"),d=c.clone(),f,g=(0,window.$)(this.h).data("id");if("pin-topic"===a)f=this.getParent().tt,UG(f,g).done(function(a){if(!a.r&&a.msg){(0,window.$)(".zu-main-sidebar .side-title").show();z.Gk(b);(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"unpin-topic" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e');
a=c.offset();var g=(0,window.$)(f.h).offset();1E3<a.top-g.top?(g=(0,window.$)(".top-nav-topic-selector.current a").offset(),g={top:g.top+20,left:g.left+15,width:"25px",height:"25px",opacity:.1},d.css({position:"absolute","z-index":"999"}).css("top",a.top).css("left",a.left).appendTo("body").animate(g,300,function(){d.remove()})):d.css({position:"absolute","z-index":"999"}).appendTo("body").css("top",a.top).css("left",a.left).animate({top:g.top-63+(0,window.$)(f.h).height(),left:g.left,width:"-\x3d50px",
height:"-\x3d50px",opacity:.5},300,function(){d.remove()});(0,window.$)(".no-pin-topics").hide()}});else if("unpin-topic"===a)VG(this.getParent().tt,g,function(){var a=(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"zg-gray pin topic-hover-content" style\x3d""\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')[0];z.Gk(a)});else if("unfollow"===a){var h=this,l=(0,window.$)(h.h);(a=(0,window.$)(".topic-recommend .zg-btn-unfollow[data-id\x3d"+
b.id.match(/-(.*)/)[1]+"]").get(0))?(0,z.Ft)(a,"topic",null,["zg-btn-follow","zg-btn-unfollow"]):(0,z.Ft)(b,"topic",null,["follow","unfollow"]);l.fadeOut(function(){l.remove();h.dispatchEvent("unfollow")})}};z.v(RG,z.R);RG.prototype.qS=(0,z.lp)('\x3cdiv class\x3d"side-topic-item js-pin-item  cursor-move" data-topicid\x3d"\x3c%\x3dtopic.id%\x3e" \x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"pin-topic-avatar-link"\x3e\x3cimg src\x3d"\x3c%\x3dtopic.avatar_path%\x3e" alt\x3d"" title\x3d"\u62d6\u52a8\u4ee5\u6392\u5e8f" class\x3d"side-topic-avatar js-topic-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-content ellipsis"\x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"topic-link side-topic-title"\x3e\x3c%\x3dtopic.name%\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-meta"\x3e\x3c% if (topic.children_num \x3e 0) { %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.children_num%\x3e \u4e2a\u5b50\u8bdd\u9898\x3c/span\x3e\x3cspan class\x3d"bull"\x3e\x26bull;\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.followers_num%\x3e \u4eba\u5173\u6ce8\x3c/span\x3e\x3c/div\x3e\x3c% if (topic.feed_num \x3e 0) { %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\x3c%\x3dtopic.feed_num %\x3e \u6761\u52a8\u6001\x26nbsp;\x26raquo;\x3c/a\x3e\x3c% }else{ %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\u8fdb\u5165\u8bdd\u9898 \x26raquo;\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e\x3ca href\x3d"javascript:;" data-action\x3d"up" class\x3d"up" data-tip\x3d"s$b$\u7f6e\u9876"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:;" data-action\x3d"remove" class\x3d"delete"\x3e\x3c/a\x3e\x3c/div\x3e');
RG.prototype.D=function(){RG.v.D.call(this);this.o().g(this.h,"click",(0,z.r)(this.Wy,this));SG(this)};
RG.prototype.Wy=function(a){var b=this,c=a.target,d=(0,window.$)(c).attr("data-action");if(d){var f=(0,window.$)(c).parents(".js-pin-item");if("up"===d){a=f.position();var g=f.clone();f.before(g).css({position:"absolute","z-index":"999"}).css("top",a.top).animate({top:(0,window.$)(b.h).position().top},200,function(){g.remove();f.css({position:"relative",top:0}).prependTo(b.h);b.ju()});g.css("opacity",0)}else"remove"===d&&f.fadeOut(function(){f.remove();b.ju();b.dispatchEvent({type:"change",FI:f.attr("data-topicid")});
0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})}else a.stopPropagation()};RG.prototype.ju=function(){var a=[];(0,window.$)(this.h).find("div.js-pin-item").each(function(){a.push((0,window.$)(this).attr("data-topicid"))});return window.$.post("/pin-topic",{topic_ids:a.join(",")},function(){})};z.v(WG,z.R);z.e=WG.prototype;z.e.init=function(){z.vr.L(this);this.w(window.document.body)};
z.e.D=function(){WG.v.D.call(this);this.Gu=(0,window.$)("ul.zm-topic-cat-main").children();var a=this.ud=(0,window.$)("div.zh-general-list"),b=new mw({use:["autoload","nodeSource"]});this.L(b);b.w(a.get(0));this.o().g(b,"next",this.sq);this.MF=b;a.on("click","a.follow",function(){(0,z.Ft)(this,"topic",z.pa(z.Gk,this),null,{follow_text:"\u5173\u6ce8"})});z.N(window,"hashchange",this.GG,!1,this);this.GG()||(a.show(),this.sq())};
z.e.sq=function(){var a=this.ud.show().children();if(!a.length)return this.ud.html('\x3cp class\x3d"zg-gray-normal" style\x3d"text-align:center;line-height:4;"\x3e\u6ca1\u6709\u5b50\u8bdd\u9898\u3002\x3c/p\x3e');a.removeClass("no-border "+this.JD);a.filter(":odd").addClass(this.JD);a=a.last();a.index()%2?a.add(a.prev()).addClass("no-border"):a.addClass("no-border");a=this.Ir();a=YG(this,a.params&&a.params.topic_id);a.length&&a.addClass(this.yn).siblings().removeClass(this.yn)};z.e.Ir=function(){return this.ud.data("init")};
z.e.GG=function(){var a;a:{if(a=(0,window.decodeURIComponent)(window.location.hash.slice(1))){var b=XG(this,a);if(b.length&&this.Gu.filter("."+this.yn).text()!==a){b.addClass(this.yn).siblings().removeClass(this.yn);a={params:{topic_id:b.data("id")}};b=this.Ir();window.$.extend(!0,b,a);this.ud.attr("data-init",JSON.stringify(b));this.ud.empty();this.MF.Wi();this.MF.Vs();a=!0;break a}}a=void 0}return a};z.v(ZG,z.R);
ZG.prototype.init=function(){(0,window.$)(".report-table .report-appeal").click(function(a){a.preventDefault();var b=(0,window.$)(this).closest("tr"),c=new z.ui;z.ji(c,!0);c.Pf=!0;z.oi(c,z.ei());c.Za("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");c.Ga('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');c.G(!0);c.aa();c.o().g(c,z.rs,function(){window.$.post("/report/appeal",{report_id:b.data("id"),
reason:(0,window.$)('[name\x3d"reason"]',c.h).val()},function(){z.Ai({title:"\u7533\u8bc9\u63d0\u4ea4",Sj:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",aa:!0,buttons:["\u77e5\u9053\u5566"]})})})});(0,window.$)(".report-table .report-show-deleted").click(function(a){a.preventDefault();
(0,window.$)(this).next(".report-deleted").toggleClass("hidden")})};z.v($G,z.R);$G.prototype.init=function(){z.vr.L(this);this.w(window.document.body)};$G.prototype.D=function(){$G.v.D.call(this);aH(this,"zh-global-logs-wrap");aH(this,"zh-global-logs-questions-wrap");aH(this,"zh-question-log-list-wrap")};z.v(bH,z.R);bH.prototype.init=function(){z.vr.L(this);this.w(window.document.body)};bH.prototype.D=function(){bH.v.D.call(this);this.no("zh-question-followers-list-wrap")};bH.prototype.no=function(a){if(a=z.G(a)){var b=new mw;this.L(b);b.use("locationSource");b.w(a)}};z.v(dH,mw);dH.prototype.Lq=function(){return z.Wb('\x3cbutton class\x3d"feeds-loading"\x3e\x3cspan\x3e\u66f4\u591a\x3c/span\x3e\x3c/button\x3e')};dH.prototype.oA=function(a){this.Pd&&(z.rc(this.Pd.firstChild,a?"\u52aa\u529b\u52a0\u8f7d\u4e2d...":"\u66f4\u591a"),z.S.enable(this.Pd,"loading",a))};z.v(eH,z.R);eH.prototype.Mi=function(){jz.call(this,"answer");this.Bw="entry-expaneded";this.Ys="item-footer";this.bq="votebar"};z.v(eH.prototype.Mi,jz);z.e=eH.prototype.Mi.prototype;z.e.en=function(){eH.prototype.Mi.v.en.call(this,{".js-expand":this.Ta,".js-thank":this.Xr});this.Zx();var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new zw;b.w((0,window.$)(".menu",a)[0]);b=new Hw("operation",b);b.hk=!0;Jw(b);Iw(b);b.fc=z.Or;b.w((0,window.$)(".menubutton",a)[0])}fH(this);this.Dj()};
z.e.Dj=function(){var a=(0,z.r)(function(){if(!this.yh){var a=z.I("entry-content",this.h),c=this.qb&&this.qb.m();!z.yi&&c&&(0,window.$)(c).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.yh=new z.Eo(null,a),this.L(a),a.tag="votebar",a.w(c))}},this);this.o().g(this,["expand","collapse"],function(b){(b="expand"===b.type)&&a();this.yh&&z.zo(this.yh,b)})};
z.e.Zx=function(){var a,b,c=(0,window.$)("."+this.bq,this.m())[0];c&&(a=this.qb=new Bz(this.lb,this.entryType),this.L(a),z.Id(this,a),a.w(c),(c=(0,window.$)(".js-mobi-vote",this.m())[0])&&(new Iz(a)).w(c));if(c=(0,window.$)(".zm-item-vote-info",this.m())[0])b=new Nz(this.lb,this.entryType),this.L(b),z.Id(this,b),b.w(c);a&&b&&this.o().g(a,"change",function(){b.gk()}).g(b,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(b.Ua())})};
z.e.Xr=kz(function(a){(a=a.target)&&!z.S.has(a,"thanked")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.yk(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.lb})):(z.yk(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.lb})))},{ra:"question_answer_thank"});z.e.uc=function(){eH.prototype.Mi.v.uc.call(this,"\u5206\u4eab\u56de\u7b54","answer",this.Th,{aid:this.lb})};
z.e.sj=kz(function(){var a=Rz.T();Uz(a,this.lb);a.show()},{ra:"question_answer_collect",gd:!0});
z.e.re=function(){eH.prototype.Mi.v.re.call(this);z.xk(this.Jd.register("v",function(){this.qb&&this.qb.ru()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.xk(this.Jd.register("d",function(){this.qb&&this.qb.qu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.xk(z.xk(z.xk(z.xk(z.xk(this.Jd.register("o",this.Df,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.Qp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.uc,
this),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("s c",this.sj,this),{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("shift+c",this.wx,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};eH.prototype.IB=function(){jz.call(this,"question");this.Ys="item-footer"};z.v(eH.prototype.IB,jz);
eH.prototype.init=function(){z.vr.L(this);this.w(window.document.body);this.ro();this.ts();gH();var a=(0,window.$)(".rt-comment-box")[0];if(a){var b=new Hy(this.mp.id,"roundtable");this.L(b);b.w(a)}};eH.prototype.ro=function(){this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("label","roundtable").fill("category",this.Zg)})};
eH.prototype.ts=function(){function a(a){a=a.getAttribute("data-type");return(a={answer:eH.prototype.Mi,question:eH.prototype.IB}[a])?new a:new z.R}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new dH;c.use("childConstructor",{factory:a});null!==this.getAttribute("data-navigable")&&c.use("shortcut",{items:"\x3e.item"});b.L(c);c.w(this)})};z.v(hH,z.R);hH.prototype.init=function(){z.vr.L(this);this.w(window.document.body);this.ts();jH(this);kH(this);iH();cH("[data-highlight]",this.Vz)};
hH.prototype.ts=function(){function a(a){var b=new z.R;(0,window.$)("li.answer-item",a).each(function(){var a=new eH.prototype.Mi;a.Ys="actions";a.bq="zm-votebar";b.L(a);a.w(this)});return b}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new mw({use:["autoload","dataPagingSource"]});c.use("childConstructor",{factory:a});var d=(0,window.$)(this).data("navigable");d&&c.use("shortcut",d);b.L(c);c.w(this);dw(c,function(a){cH((0,window.$)("[data-highlight]",a),b.Vz)})})};z.v(lH,z.O);
z.qa(lH.prototype,{defaults:{source:"/topic/autocomplete",Yb:null,NL:"",Dv:!1,hU:"/topic/%s",template:'\x3cli data-id\x3d"\x3c%\x3did%\x3e"\x3e\x3ca class\x3d"tag-link" href\x3d"\x3c%\x3durl%\x3e"\x3e\x3c%\x3dname%\x3e\x3c/a\x3e\x3c/li\x3e',parse:function(a){var b=(0,window.$)(a);return{Ht:!0,id:b.data("id"),url:a.href,name:b.text()}},cT:z.Or,dM:"canedit",nw:"empty",ln:"button",gS:"remove-button"},GT:function(a){return fw(this.J.hU,a.url_token)},has:function(a){return!!z.x.find(this.th,function(b){return b.name===
a.name||b.id===a.id})},oM:function(a){return z.x.find(this.th,function(b){return b.name===a})},QV:function(a){return z.x.find(this.th,function(b){return b.id===a})},Jc:function(){var a=!!z.fc(this.Yb).length;z.S.enable(this.Yb,this.J.nw,!a);this.dispatchEvent("change")},add:function(a,b){a&&(this.has(a)||this.th.push(a),a.Ht=!1,b||this.J.cT.call(this,a))&&(this.oS(a),a.Ht=!0,this.dispatchEvent("add"),this.Jc())},remove:function(a){this.th=z.x.filter(this.th,function(b){return a!==b.id},this);this.dispatchEvent("remove");
this.Jc()},JM:function(){return z.x.filter(this.th,function(a){return!1!==a.Ht})},IM:function(){return z.x.map(this.JM(),function(a){return a.id})},oS:function(a){a=z.Wb(this.EH(a));this.Yb.appendChild(a);this.Le(a)},EH:function(a){return(0,z.lp)(this.J.template,a)},ca:function(){this.Yb.innerHTML=z.x.map(this.th,this.EH,this).join("")},ER:function(){return z.x.map(this.oE(),this.J.parse)},oE:function(){return z.fc(this.Yb)},xg:function(){var a=this,b=a.J;this.ea=mH(this.input,{source:b.source,ri:function(a){return z.Fc(a,
function(a){return"static"!==window.$.css(a,"position")})}(a.input),placeholder:this.input.getAttribute("placeholder"),select:function(c){a.add({id:c.id,name:c.id?c.label:a.input.value,url:a.GT(c),avatar:c.avatar,url_token:c.url_token});return b.NL},filter:function(c){return z.x.filter(c,function(c){return b.Dv&&!c.id?!1:!z.x.find(a.th,function(a){return a.Ht&&a.id===c.id})})}});z.x.forEach(this.oE(),this.Le,this);z.N(this.input,"keypress",function(c){var d;13!==c.keyCode||b.Dv||!(d=(0,z.Xa)(this.value))||
a.ea.sb()||a.add(a.oM(d)||{id:null,name:d,url:"/topic/"+d})});this.Jc()},removeTag:function(a){this.remove((0,window.$)(a).remove().data("id"))},FR:function(a,b){var c=z.x.find(this.zv,function(b){return b.action===a});c&&c.method&&c.method.call(this,b);this.input.focus()},Le:function(a){var b=this.J;z.S.add(a,b.dM);z.x.forEach(this.zv,function(c){var d=new z.qj(" ",z.zj.T());d.Dh([b.ln,c.Uv].join(" "));d.ca(a);d.bb(!0);d.mc(c.V);d.addEventListener("action",function(){this.FR(c.action,a)},!1,this)},
this)}});nH.prototype.init=function(){oH(this);qH(this)};sH.prototype.init=function(){(0,window.$)("a.js-obfuscate-email").each(function(){var a=(0,window.$)(this),b=a.data("email").split("").reverse().join("");a.attr("href","mailto:"+b).text(b)})};z.v(tH,z.R);tH.prototype.init=function(){z.vr.L(this);this.w(window.document.body)};tH.prototype.D=function(){tH.v.D.call(this);var a=(0,window.$)("#zh-following-question-item-list").children(".zh-general-list");if(a.length){var b=new mw;this.L(b);b.use("nodeSource");b.w(a.get(0))}};z.v(uH,z.R);uH.prototype.D=function(){this.o().g(this.h,"click",this.So)};uH.prototype.So=function(a){var b=a.target;b&&"rmdraft"===b.name&&z.Ai("\u5220\u9664\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8349\u7a3f\u5417\uff1f",function(a){a&&(z.Fi("/draft/delete",null,"POST","qid\x3d"+b.id.split("-")[1]),z.K(this.h))},this)};z.v(vH,z.R);vH.prototype.init=function(){var a=z.G("zh-draft-page-wrap");a&&this.w(a)};
vH.prototype.D=function(){z.N(z.G("zh-clear-all-draft"),"click",function(){z.Ai("\u5220\u9664\u6240\u6709\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u8349\u7a3f\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d",function(a){a&&z.Fi("/draft/clear",function(){window.location.href="/draft"},"POST")});return!1});this.no()};vH.prototype.no=function(){var a=z.G("zh-draft-item-list");if(a){var b=new mw;b.use("locationSource",{rt:!0}).use("childConstructor",{Xk:uH});b.w(a)}};var jJ=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){if(z.B)return z.D("10.0");var a=window.document.createElement("DIV"),b=z.C?"-webkit":z.A?"-moz":z.B?"-ms":z.Dg?"-o":null,c={transition:"opacity 1s linear"};b&&(c[b+"-transition"]="opacity 1s linear");z.Bb(a,Uv("div",{style:c}));return""!=Qv(a.firstChild,"transition")});z.v(yH,z.Hj);z.e=yH.prototype;z.e.play=function(){if(1==this.N)return!1;this.tf();this.sc("play");this.startTime=(0,z.w)();this.N=1;if(jJ())return z.Ag(this.h,this.EO),this.BI=z.we(this.IR,void 0,this),!0;this.EA(!1);return!1};z.e.IR=function(){z.Vg(this.h);wH(this.h,this.YT);z.Ag(this.h,this.PD);this.BI=z.we((0,z.r)(this.EA,this,!1),1E3*this.aM)};z.e.stop=function(){1==this.N&&this.EA(!0)};
z.e.EA=function(a){xH(this.h,"");z.xe(this.BI);z.Ag(this.h,this.PD);this.endTime=(0,z.w)();this.N=z.Ij;a?this.sc("stop"):this.sc("finish");this.uf()};z.e.C=function(){this.stop();yH.v.C.call(this)};z.e.pause=function(){};z.v(AH,z.R);AH.prototype.init=function(){z.vr.L(this);this.w(window.document.body)};AH.prototype.D=function(){AH.v.D.call(this);CH(this);this.Yx();EH(this);BH();this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.Oc.fill("category",this.Zg).fill("label",this.nM)})};AH.prototype.Yx=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=uC(a).done(function(a){b.html(a)}))})};z.v(DH,mw);
DH.prototype.D=function(){DH.v.D.call(this);this.use("childConstructor",{Xk:xz})};z.v(GH,z.R);GH.prototype.init=function(){z.vr.L(this);this.w(window.document.body)};GH.prototype.D=function(){GH.v.D.call(this);this.no()};GH.prototype.no=function(){var a=z.G("js-suggest-people");if(a){var b=new mw({source:HH()});this.L(b);b.w(a)}};IH.$inject=["$scope"];IH.prototype.removeTag=function(a,b){a.splice((0,z.x.indexOf)(a,b),1)};IH.prototype.moveupTag=function(a,b){var c=(0,z.x.indexOf)(a,b);0<c&&(a.splice(c,1),a.splice(c-1,0,b))};IH.prototype.onActvityUrlChange=function(){var a=this.Ot,b=a.activityUrl,c=a.roundtable.activityUrls;b&&-1===(0,z.x.indexOf)(c,b)&&(c.push(b),a.activityUrl="")};
IH.prototype.submit=function(a,b){var c="create"===b,d={roundtable:JSON.stringify(a)};if(c&&3>a.activityUrls.length)return z.T("\u8bf7\u81f3\u5c11\u6dfb\u52a0\u4e09\u6761\u52a8\u6001");window.$.post(window.location.pathname+window.location.search,d).then(function(c){c.success?"create"===b?(z.T(c.message||"\u6d3b\u52a8\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838"),(0,window.setTimeout)(function(){window.location.href="/roundtable"},3E3)):(z.T(c.message||"\u6d3b\u52a8\u4fee\u6539\u6210\u529f"),
(0,window.setTimeout)(function(){window.location.href="/roundtable/"+a.slug},3E3)):z.T(c.message||"\u63d0\u4ea4\u5931\u8d25")})};z.v(KH,z.mm);LH.$inject=["$parse","$timeout"];NH.$inject=["$interpolate"];PH.$inject=["$interpolateProvider"];z.v(QH,eH);QH.prototype.init=function(){z.vr.L(this);this.w(window.document.body);TH(this);RH(this);SH(this);gH();this.ts()};z.v(UH,z.R);UH.prototype.init=function(){var a=window.location.hash.slice(1);a&&(z.Gk((0,window.$)("."+a).get(0)),(0,window.$)(".zh-friendliness-sidenav").find('[data-section\x3d"'+a+'"]').addClass("active"));(0,window.$)(".zh-friendliness-sidenav a").click(function(b){a=(0,window.$)(b.target).data("section");z.Gk((0,window.$)("."+a).get(0));(0,window.$)(".zh-friendliness-sidenav a").removeClass("active");(0,window.$)(b.target).addClass("active")})};z.v(VH,z.R);
VH.prototype.init=function(){this.K=(0,window.$)(".friendly-quiz-container");this.kB=(0,window.$)(".view",this.K);(0,window.$)(".welcome-view",this.K);this.nK=(0,window.$)(".answering-view",this.K);this.Ip=(0,window.$)(".success-view",this.K);this.jl=(0,window.$)(".failed-view",this.K);this.Fp=(0,window.parseFloat)(this.K.data("star"));this.Ez=3;this.uJ=(0,window.$)(".item",this.K);this.bE=5;(0,window.$)(".start-btn",this.K).click(window.$.proxy(this.nI,this));(0,window.$)(".continue-btn",this.K).click(window.$.proxy(this.nI,
this));(0,window.$)(".choose-btn",this.K).click(window.$.proxy(this.YK,this))};VH.prototype.nI=function(){this.kB.hide();this.nK.show();this.fr=0;this.AB=(0,window.$)(this.uJ.splice(0,this.Ez));this.GC=[];WH(this)};
VH.prototype.YK=function(a){a=(0,window.$)(a.target).data("isfriendly");var b=this.Iu.data("id");this.GC.push({id:b,isFriendly:a});this.fr<this.Ez?WH(this):window.$.post("/community/friendly/quiz",{params:JSON.stringify(this.GC)},window.$.proxy(function(a){a.r||(a=a.msg,a.contain_errors?a.can_answer?YH(this,a.wrong_question_ids,!0):YH(this,a.wrong_question_ids,!1):(this.Fp+=.5,a.can_answer&&this.Fp!==this.bE?XH(this,!0):XH(this,!1)))},this))};z.ta("ZH.entryCommunity",function(){(new ZG).init()});z.ta("ZH.entryQuestionLog",function(){(new $G).init()});z.ta("ZH.entryQuestionFollowersPage",function(){(new bH).init()});z.ta("ZH.entrySQ",function(){(new mG).init()});z.ta("ZH.entrySA",function(){(new EG).init()});z.ta("ZH.entryL",function(){(new xC).init()});z.ta("ZH.entryT",function(){(new bC).init()});z.ta("ZH.entryTS",function(){(new WG).init()});z.ta("ZH.entryP",function(){(new nB).init()});z.ta("ZH.entrySearch",function(){(new hH).init()});
z.ta("ZH.entryPM",function(){(new Uw).init()});z.ta("ZH.entryPMDetail",function(){(new Ww).init()});z.ta("ZH.entrySettings",function(){(new OB).init()});z.ta("ZH.entryTopicFeed",function(){(new JG).init()});z.ta("ZH.entryRQ3",function(){(new nH).init()});z.ta("ZH.entryTerms",function(){(new sH).init()});z.ta("ZH.entryHome",function(){(new kD).init()});z.ta("ZH.entryQuestionFollowing",function(){(new tH).init()});z.ta("ZH.entryDraft",function(){(new vH).init()});z.ta("ZH.entryExplore",function(){(new AH).init()});
z.ta("ZH.entryLookup",function(){(new GH).init()});z.ta("ZH.entryCC",function(){(0,window.$)(function(){(0,window.$)("#js-apply-button").click(z.Mm(function(){window.$.post("/classical-chinese");var a=(0,window.$)(this),b=a.data("num");a.text("\u60a8\u5df2\u7533\u8acb\u4f7f\u7528").addClass("disabled");(0,window.$)(".apply-num").text("\u5df2\u6709 "+(b+1)+" \u4eba\u7533\u8acb")}))})});z.ta("ZH.entryRb",function(){(new eH).init()});
z.ta("ZH.entryRbEdit",function(){var a=window.angular.module("roundtableApp",[]);a.controller("RoundtableFormCtrl",IH);a.directive("uiAvatarEditor",MH);a.directive("uiSuggest",NH);a.directive("uiTimepicker",LH);a.filter("avatarUrl",OH);a.config(PH);window.angular.bootstrap(window.document.body,["roundtableApp"])});z.ta("ZH.entryRbPending",function(){(new QH).init()});z.ta("ZH.entryFriendlinessPage",function(){(new UH).init()});z.ta("ZH.entryFriendlyQuiz",function(){(new VH).init()});z.ng("app");}).call(this, __z_z__);
//@ sourceURL=module_app.js