(function(z){
z.Vs=function(a,b){this.node=a;this.offset=b};z.Ws=function(a){return a.length||a.childNodes.length};z.Xs=function(a,b,c){for(;1==a.nodeType;){var d=a.childNodes[b];if(!d&&!a.lastChild)break;d?(a=d.previousSibling,c&&a?b=z.Ws(a):(a=d,b=0)):(a=a.lastChild,b=z.Ws(a))}return new z.Vs(a,b)};
z.Ys=function(a,b){var c=a.parentNode,d=z.B.indexOf(c.childNodes,a)+(b?0:1),c=z.Xs(c,d,b);z.x&&z.w("9")&&1==c.node.nodeType&&"HR"==c.node.tagName&&(d=c.node,c.node=d.parentNode,c.offset=z.B.indexOf(c.node.childNodes,d)+(b?0:1));z.Rm(c.node,c.offset).select()};z.Zs=function(a,b){null!=a&&this.append.apply(this,arguments)};z.$s=function(a,b){if(z.Rj(a))a.selectionStart=b,a.selectionEnd=b;else if(z.x){b=z.Tj(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};
var at=function(a){this.type="anon_change";this.mb=a};var bt=function(a){return a.Si.length?a.Si.pop():a.Zm()};z.ct=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.qb(a).createElement("div");b.appendChild(a.cloneNode(!0));return b.innerHTML};z.Z=function(a,b){return z.aa[a]=b};z.dt=function(a,b){a.Fn=b||null};z.et=function(a,b){a.Ex=null==b||b instanceof z.sf?b:new z.sf(b,void 0,void 0,void 0);a.T()&&a.aa()};
var ft=function(a){a.ready(function(){var a=this.La;this.Rd?z.$s(a,a.value.length):a.va.lastChild?z.Ys(a.va.lastChild):a.Sf();this.$k&&(this.$k.scrollTop=this.$k.scrollHeight)})};var gt=function(a){return a.Rd?a.La:a.La.m()};var ht=function(a,b){a.params=b};var it=function(a){a.hx=!0;a.WB=z.bg(a.m()).height;z.Bs+=a.WB;z.B.forEach(z.Um,function(a){a&&!a.hx&&a.fl&&a.Do()})};var jt=function(a,b){a.Bv=b};var kt=function(a,b){a&&(a.tabIndex=b?0:-1)};var lt=function(a,b){return a.be.get(b)};
var mt=function(a){var b={};z.B.forEach(a.data.Gb(),function(a){b[a]=this.data.get(a)},a);return b};z.nt=function(a){a.Ib()&&a.fire()};
var ot=function(a,b,c){function d(){var b=new z.U(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.Wq.na);b.on("success",function(){var c=z.fe(b);c&&!c.r&&f.dispatchEvent(new at(a))});b.ajax(d,g)}var f=z.Aj,g={title:"\u786e\u8ba4\u4f7f\u7528\u533f\u540d\u8eab\u4efd\uff1f",content:'\x3cp\x3e\u4f7f\u7528\u533f\u540d\u8eab\u4efd\u540e\uff0c\u4f60\u5c06\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e\u4e0d\u80fd\u5728\u8be5\u95ee\u9898\u4e0b\u8bc4\u8bba\uff08\u4f60\u4e4b\u524d\u7684\u8bc4\u8bba\u5c06\u88ab\u9690\u85cf\uff09\x3c/li\x3e\x3cli\x3e\u4e0d\u80fd\u9080\u8bf7\u522b\u4eba\u56de\u7b54\u8be5\u95ee\u9898\x3c/li\x3e\x3c/ul\x3e'},h=
{title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\u3001\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"};z.ch(a?g:h,function(a){a&&d();b&&b(a)})};z.pt=function(a,b){return a.Wb&&b?z.B.indexOf(a.Wb,b):-1};var qt=function(a){return null!=a};z.rt=function(a){return!/[^\t\n\r ]/.test(a)};z.st=function(a,b,c){this.uF=a;this.OQ=!!c;a&&!b&&this.next()};
z.tt=function(a){return 1==a.nodeType||3==a.nodeType&&!z.rt(a.nodeValue)};z.ut=function(a){try{return a.next()}catch(b){return null}};var vt=function(a,b,c){z.ea(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.st.call(this,a.childNodes[c],!0,b)};var wt=function(a){return 1==a.length?"0"+a:a};var xt=function(a,b,c,d,f,g){z.Ic.call(this,a);this.event=c;this.Hq=g};var yt=function(a,b){return a>b};var zt=function(a,b){return a<b};var At=function(a){return a.left||0};
var Bt=function(a){return a.left+a.width-1};var Ct=function(a){return a.top+a.height-1};var Dt=function(a,b){var c=a.Wk;return Math.abs(b.y-(c.top+(c.height-1)/2))};var Et=function(a,b){var c=window.$.extend({all:!1},Et.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};
var Ft=function(a,b,c){var d=z.Mf(a);b instanceof z.kb&&(c=b.y,b=b.x);z.Ff(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};var Gt=function(a){var b=a.body;a=a.documentElement;return new z.kb(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};var Ht=function(a){return void 0!=a.nextElementSibling?a.nextElementSibling:z.Tb(a.nextSibling,!0)};var It=function(a,b){this.Bh=a instanceof z.kb?a:new z.kb(a,b)};z.Jt=function(a){for(var b;b=a&&1==a.nodeType?z.ut(z.W.filter(new vt(a,!1),z.tt)):null;)a=b;return a};
var Kt=function(a,b,c){z.Il.call(this,a,0,c?"\u6dfb\u52a0\u7236\u8bdd\u9898":"\u6dfb\u52a0\u5b50\u8bdd\u9898");this.lx=c;this.uf=b;this.Er="";this.yG="/topic/parent/remove"};var Lt=function(){z.J.call(this);this.Uc=[];this.Xk=[];this.pv={};this.R=new z.Kd(this);this.uN=this.vE=!1;this.Zz=!0};var Mt=function(a,b,c){b.sC=c;b.Ji=void 0;a.Uc.push(b)};var Nt=function(a,b){for(var c=0,d=a.Uc.length;c<d;c++){var f=a.Uc[c];f.Wk=z.Wf(f)}c=0;for(d=a.Xk.length;c<d;c++)f=a.Xk[c],f!=b&&(f.Wk=z.Wf(f))};
var Ot=function(a){z.Gc(a.Db);a.Cc&&z.I(a.Cc);a.Xa&&"none"==a.Xa.style.display&&(a.xs.insertBefore(a.Xa,a.ky),a.Xa.style.display="");a.av&&a.Xa?z.H.remove.apply(null,z.B.concat(a.Xa,a.av)):a.Xa&&(a.Xa.style.visibility="visible");for(var b=0,c=a.Uc.length;b<c;b++){var d=a.Uc[b];d.Ji&&z.H.remove(d,d.Ji)}};var Pt=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};
var Qt=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({RH:Et},z.Jr,b||{});if(!c.RH(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.XA?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var Rt=function(a,b){b.all=!0;return Et(a,b)};
var St=function(a,b,c,d){var f=null;d&&(c&&(c=window.$.proxy(c,d)),f&&(f=window.$.proxy(f,d)));window.$.get("/node/"+a,{params:b},function(a){a&&a.r?f&&f(a):c&&c(a)})};var Tt=function(a){var b=a.match(Ut);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var Vt=function(a){if(!Wt.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Xt,"#$1$1$2$2$3$3"));return a.toLowerCase()};
var Yt=function(a,b){It.call(this,a,b)};var Zt=function(a,b,c,d){z.Ko.call(this,a,b);this.Vn=c?5:0;this.ny=d||void 0};var $t=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};z.au=function(a){z.Rm(z.Jt(a),0).select()};z.bu=function(a,b){var c=z.jc(a);if(a.getElementsByTagName)for(var d in z.zs)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&"\u00a0"==c||z.rt(c)};z.cu=function(a){if(a=z.Vl(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(c){}};
var du=function(a){z.Il.call(this);this.Ae="\u4f8b\u5982\uff1a\u4e92\u8054\u7f51\u3001\u533b\u5b66\u3001\u6cd5\u5f8b\u3001\u6570\u5b66...";this.data=a||[]};var eu=function(a){if(a.Pf)(0,window.$)(a.Pf).on("click",".del",window.$.proxy(function(a){var c=(0,window.$)(a.target).parents(".item");c.data("active")?(z.Nb(this.Bm,c[0],0),z.cj(c[0])):z.I(c[0]);z.B.forEach(this.data,function(a,b){a+""===c.data("url-token")+""&&this.data.splice(b,1)},this);fu(this);this.dispatchEvent("remove")},a))};
var gu=function(a){if(a.Bm)(0,window.$)(a.Bm).on("click",".add",window.$.proxy(function(a){a=(0,window.$)(a.target).parents(".item");z.Nb(this.Pf,a[0],0);z.cj(a[0]);fu(this);this.dispatchEvent("add")},a))};var fu=function(a){var b=(0,window.$)(a.Pf).children().length;6<b&&z.I((0,window.$)(a.Pf).children()[6]);z.R(z.y("zh-profile-expert-empty"),0>=b);0<b&&z.R(z.y("zh-profile-expert-warning"),!1);z.R(z.y("active-topics-wrap"),(0,window.$)(a.Bm).children().length);a.Vl()};
var hu=function(a){z.Il.call(this,a,0);this.Er="";this.lB="/topic/ignore"};var iu=function(){z.Il.call(this,null,null,"\u641c\u7d22\u8bdd\u9898");this.Ae="";this.data=[z.Zq[0]]};z.ju=function(a,b,c){z.S.call(this,c);this.N=b||z.vl.S();this.Bb=a||this.N.$v()};var ku=function(a,b){var c=a.o(),d=a.kc();b?c.g(d,"focus",a.ve).g(d,"blur",a.Xc).g(a.Xq(),"key",a.Zb):c.Ia(d,"focus",a.ve).Ia(d,"blur",a.Xc).Ia(a.Xq(),"key",a.Zb)};
var lu=function(a,b){var c=b.m(),c=c.id||(c.id=b.Td());a.ug||(a.ug={});a.ug[c]=b};z.mu=function(a){return z.Dg(a,a.Hb)};var nu=function(a){ou(a,function(a,c){return(a+1)%c},z.Cg(a)-1)};var pu=function(a){ou(a,function(a,c){a--;return 0>a?c-1:a},0)};var qu=function(a){ou(a,function(a,c){return(a+1)%c},a.Hb)};var ru=function(a){ou(a,function(a,c){a--;return 0>a?c-1:a},a.Hb)};
var ou=function(a,b,c){c=0>c?z.pt(a,a.lc):c;var d=z.Cg(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.Dg(a,c);if(g&&a.sB(g)){a.Zy(c);break}f++;c=b.call(a,c,d)}};var su=function(a){if(a){var b=a.getBoundingClientRect(),c=b.bottom,b=b.top;c<z.yb().height&&0>b&&(0,window.setTimeout)(function(){var b=a.getBoundingClientRect().bottom,f=Gt(window.document);window.scrollTo(f.x,f.y+b-c)})}};
var tu=function(a){function b(a){return window.$.isNumeric(a)?a+" ":a}var c;c=c||+new Date;if(0>=c-a)return"\u521a\u521a";a=Math.floor((c-a)/1E3);c=Math.floor(a/31536E3);if(1<=c)return b(c)+"\u5e74\u524d";c=Math.floor(a/2592E3);if(1<=c)return b(c)+"\u6708\u524d";c=Math.floor(a/604800);if(1<=c)return b(c)+"\u5468\u524d";c=Math.floor(a/86400);if(1<=c)return b(c)+"\u5929\u524d";c=Math.floor(a/3600);if(1<=c)return b(c)+"\u5c0f\u65f6\u524d";c=Math.floor(a/60);if(1<=c)return b(c)+"\u5206\u949f\u524d";c=
Math.floor(a);return b(c)+"\u79d2\u524d"};var uu=function(){var a=z.V;return 1===a||0===a?"\u533f\u540d\u7528\u6237":['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'" title\x3d"'+a[0]+'" class\x3d"','zm-item-link-avatar"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+a[2]+'" /\x3e',"\x3c/a\x3e"].join("")};
var vu=function(a,b){return z.fa(a)?['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'"',b?' class\x3d"'+b+'"':"",' title\x3d"',a[0],'"\x3e',a[0],"\x3c/a\x3e"].join(""):"\u533f\u540d\u7528\u6237"};var wu=function(a){if(0===a||1===a)return"\u533f\u540d\u7528\u6237";var b=z.G("a",{href:"/people/"+a[1],title:a[0]},a[0]);b.setAttribute("data-tip","p$t$"+a[1]);return b};var xu=function(a){return z.G("a",{href:"/topic/"+a[1],title:a[0],"class":""},a[0])};
var yu=function(a){if(0===a||1===a)return z.G("span");if(z.fa(a)){var b=z.G("a",{href:"/people/"+a[1],title:a[0],"class":"zm-item-link-avatar"},z.G("img",{src:a[2],"class":"zm-list-avatar"}));b.setAttribute("data-tip","p$t$"+a[1]);return b}};var zu=function(a){return 1===a?!0:z.fa(a)?a[3]===z.V[3]:!1};var Au=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};var Bu=function(a,b){return window.$.post("/question/askpeople",{qid:a,uid:b,op:"remove"})};
var Cu=function(a,b,c){return window.$.post("/question/askpeople",{qid:a,uid:b,_source_type:c,op:"add"})};var Du=function(a,b,c,d,f){z.si.call(this,a,[b],[c],d,f)};var Eu=function(a,b,c,d,f){z.si.call(this,a,[b],[c],d,f)};var Fu=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");z.si.apply(this,arguments)};
var Gu=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Wt.test(c))return b.qr=Vt(c),b.type="hex",b;c=Tt(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=wt(d.toString(16));a=wt(a.toString(16));c=wt(c.toString(16));b.qr="#"+d+a+c;b.type="rgb";return b}if(Hu&&(c=Hu[a.toLowerCase()]))return b.qr=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var Iu=function(a){var b=window.$.extend({},{title:"\u4fe1\u606f",CR:"\u52a0\u8f7d\u4e2d",buttons:[],onload:z.p},a),c=z.G("div",{className:"modal-dialog-async-loading",innerHTML:(b.CR||"\u52a0\u8f7d\u4e2d")+'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e'}),d=z.ch(b);d.W().appendChild(c);b.MB&&b.MB.then(function(a){z.I(c);d.Kf||(a&&d.ya(a),d.aa(),b.onload(d.W(),d))});return d};
var Ju=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!z.O;default:return 166>a.keyCode||183<a.keyCode}};
var Ku=function(a){var b=z.qb(a),c=z.x&&a.currentStyle;if(c&&z.pc(z.ob(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=z.cg(a,c.width,"width","pixelWidth"),a=z.cg(a,c.height,"height","pixelHeight"),new z.mb(b,a);c=z.bg(a);b=z.eg(a);a=z.Pf(a);return new z.mb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};var Lu=function(a,b){var c=a.style[z.ab(b)];return"undefined"!==typeof c?c:a.style[z.yf(a,b)]||""};
var Mu=function(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};var Nu=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var Ou=function(a){a=z.ka(a);var b=z.Wc[a];if(b){var c=z.ea("nearbottom"),d=z.ea(void 0);return c&&d?(b=z.Tc.nearbottom,!!b&&!!b[void 0]&&a in b[void 0]):c||d?z.B.some(b,function(a){return c&&"nearbottom"==a.type||d&&void 0==a.Lk}):!0}return!1};
var Pu=function(a,b,c){return Math.min(Math.max(a,b),c)};var Qu=function(){throw Error("unimplemented abstract method");};var Ru=function(a){z.J.call(this);this.view=this.name=null;z.C.extend(this.options={},this.defaults,a||{})};var Su=function(a,b){function c(b){Ru.call(this,b);this.name=a}z.v(c,Ru);z.ra(c.prototype,b);Tu[a]=c};var Uu=function(a,b){var c=Tu[a];if(!c)throw Error("Cannot find constructor");return new c(b)};
var Vu=function(a){z.S.call(this);z.C.extend(this.J={},this.defaults,a||{});this.source=this.J.source;this.promise=window.$.Deferred().resolve();this.pd={}};var Wu=function(a,b,c){a.Da&&z.B.forEach(a.Ab(),b,c);a.o().g(a,"itemcreated",function(a){b.call(c,a.item)})};var Xu=function(a){a.Jd&&(z.I(a.Jd),a.Jd=null);a.dispatchEvent("complete")};
var Yu=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,q,D,E){if("%"==q)return"%";var M=c.shift();if("undefined"==typeof M)throw Error("[goog.string.format] Not enough arguments");arguments[0]=M;return Zu[q].apply(null,arguments)})};
var $u=function(a){z.J.call(this);this.viewport=a||window;this.size=null;z.eg(window.document.body);this.ga=new z.Kd(this);this.ep=null;this.sK=250;this.gf();(0,window.setTimeout)((0,z.t)(this.update,this))};var av=function(a,b,c){b.o().g(a,"update",function(a){Ou(b)&&c(a.target.size)&&b.dispatchEvent("nearbottom")})};var bv=function(a,b,c){var d=cv;d.ga.g(d,"update",function g(){a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.ga.Ia(this,"update",g))})};
var dv=function(a){z.C.extend(this.J={},this.defaults,a||{});this.content="";this.xc=this.Pe=this.Qe=null;this.yd=!1;this.valid=!0};var ev=function(a){Vu.call(this,a)};var fv=function(){};var gv=function(a,b,c){z.Kh.call(this,a,c||fv.S(),b);z.Nh(this,1,!1);z.Nh(this,2,!1);z.Nh(this,4,!1);z.Nh(this,32,!1);this.U=1};var hv=function(){this.Ku=[]};var iv=function(a,b){var c=a.Ku[b];if(!c){switch(b){case 0:c=a.O()+"-highlight";break;case 1:c=a.O()+"-checkbox";break;case 2:c=a.O()+"-content"}a.Ku[b]=c}return c};
var jv=function(a,b,c){a=iv(a,2);return c.B("div",a,b)};var kv=function(a,b){var c=a.W(b);if(c){var c=c.firstChild,d=iv(a,1);return!!c&&z.H.has(c,d)}return!1};var lv=function(a,b,c,d){d!=kv(a,c)&&(z.H.enable(c,"goog-option",d),c=a.W(c),d?(a=iv(a,1),c.insertBefore(b.M().B("div",a),c.firstChild||null)):c.removeChild(c.firstChild))};var mv=function(a,b,c,d){z.Kh.call(this,a,d||hv.S(),c);this.Ea(b)};var nv=function(){};var ov=function(a){z.ul.call(this,z.tl.S(),a)};
var pv=function(a,b){z.ju.call(this,z.Tr,b||nv.S(),a);this.Me(!1)};var qv=function(a,b,c,d){Zt.call(this,a,b,c||d);(c||d)&&this.em(65|(d?32:132))};var rv=function(){};var sv=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==z.Fa(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):z.Ga(f);break}}else break;c=d}};var tv=function(){};
var uv=function(a,b,c){return c.B("div","goog-inline-block "+(b+"-caption"),a)};var vv=function(a,b,c,d){z.Rh.call(this,a,c||tv.S(),d);z.Nh(this,64,!0);this.El=new qv(null,5);b&&this.fh(b);this.dF=null;this.qa=new z.jd(500);!z.Pq&&!z.bh||z.w("533.17.9")||(this.Pr=!0)};var wv=function(a){a.dF=new z.sf(7,0,7,0)};var xv=function(a){a.El.em&&a.El.em(33)};
var yv=function(a){if(a.ta.Da){var b=a.El;a.El.element=a.aQ||a.m();var c=a.ta.m();a.ta.T()||(c.style.visibility="hidden",z.R(c,!0));!a.zs&&a.El.vn&&a.El.vn()&32&&(a.zs=z.Uf(c));b.aa(c,b.Ff^1,a.dF,a.zs);a.ta.T()||(z.R(c,!1),c.style.visibility="visible")}};var zv=function(a,b,c){var d=a.o();c=c?d.g:d.Ia;c.call(d,b,"action",a.Bn);c.call(d,b,"highlight",a.zw);c.call(d,b,"unhighlight",a.Hw)};var Av=function(){z.J.call(this)};
var Bv=function(a,b,c){z.S.call(this);this.type=a;this.id=b;this.su=c||Cv[a]||"other_report"};var Dv=function(a,b){if(a.type&&a.id&&!(0,window.$)(b).hasClass("goog-menu-button")){var c=new vv("report",new pv);c.Xj=!0;c.gc=z.Dq;c.w(b);z.Ec(c,a);a.cF=c;z.Ld(a.o(),c.m(),["mouseover","focus"],z.Wg(a.ZM))}};
var Ev=function(a,b){window.$.get("/report/reported",{type:"question",id:a.id},window.$.proxy(function(a){if(a.r)z.T(a.msg);else if(a.reported)z.T(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5");else{a=new Fv(this.type,this.id);var d=(0,z.Hn)(a.UC,{each:z.B.forEach,options:b,headnote:'\x3ca href\x3d"http://www.zhihu.com/question/19806261" class\x3d"zg-link-gray"\x3e\u77e5\u4e4e\u63d0\u95ee\u89c4\u8303\x3c/a\x3e'});a.Ik("\u9700\u8981\u8fdb\u4e00\u6b65\u4fee\u6539",d);a.Vp(b)}},a))};
var Fv=function(a,b){z.J.call(this);this.type=a;this.id=b};var Gv=function(){z.J.call(this);this.kf="zm-pm-item"};var Hv=function(a){var b=new z.U(!0);b.on("success",function(){var a=z.fe(b);a.r?z.T(a.msg):window.location.reload()});b.ajax("/inbox/delete","type\x3dthread\x26token\x3d"+a)};var Iv=function(){z.J.call(this);this.kf="zm-pm-item"};var Jv=function(a){if(a.Ab().length){var b=new ev;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a.as)}};
var Kv=function(a,b){z.ch("\u5220\u9664\u79c1\u4fe1","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u5c01\u79c1\u4fe1\u5417\uff1f",function(a){a&&Lv(this,b)},a)};var Lv=function(a,b){var c=new z.U(!0);z.Ld(a.o(),c,"success",function(){var a=z.fe(c);a.r?z.T(a.msg):window.location.reload()});c.ajax("/inbox/delete","type\x3dsingle\x26token\x3d"+b)};var Mv=function(a,b,c){z.S.call(this);this.offset=this.Ne=0;this.mR=c;this.HK=a;this.url=b||window.location.href;this.Wf="zm-item";this.params={}};
var Nv=function(a,b){a.url=b};var Ov=function(a,b){b?a.wk.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\u6b63\u5728\u52a0\u8f7d').prop("disabled",!0):a.wk.html("\u66f4\u591a").prop("disabled",!1)};var Pv=function(a,b){a.nr=b};var Qv=function(a){var b=a.Ab();a.offset=a.Sx?a.Sx(b):b.length;if(a.nr)return b=a.nr(),z.R(a.bc,b),b;if(a.bc){if("-1"===a.wk.attr("data-next")||!b||10>b.length)return a.wk.hide(),!1;a.wk.removeClass("hidden").show()}return!0};
var Rv=function(a){a.dispatchEvent({data:{Qn:a.Qn,bA:a.bA},type:"afterload"})};var Sv=function(a){var b=a.Ab(),c;if(a.mR)if(a.bc&&(c=a.bc.getAttribute("data-next")),c)a.Ne=c;else if(b=z.B.Zd(b))a.Ne=a.dG(b)};var Tv=function(a,b){z.B.forEach(b,function(a){var b=this.Jj(a);this.dispatchEvent({data:{item:a,KN:b},type:"itemcreated"})},a)};
z.Uv=function(a){z.J.call(this);this.h=a;a=z.x||z.F&&!z.w("531")&&"TEXTAREA"==a.tagName;this.R=new z.Kd(this);this.R.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var Vv=function(a){null!=a.qa&&(z.md(a.qa),a.qa=null)};var Wv=function(a){a=new z.Lc(a.Yb);a.type="input";return a};var Xv=function(a,b,c,d){z.J.call(this);this.Nd=a;this.Gh=b;this.Pg=c;this.qC=d||Yv;this.oj=new z.Uv(a);z.L(this.oj,"input",this.oo,!1,this);this.Di()};var Zv=function(a,b,c,d){Xv.call(this,a,b,c,d)};
var $v=function(a,b){z.J.call(this);this.fa=null;this.rK=b;this.gR.apply(this,a);this.init()};var aw=function(a,b){bw||(bw=new $v(a,b))};
var cw=function(a){a.fa.Wa(a.qf.title);a.Ue[a.yf]||(a.xhr=new z.U(!0),z.Ld(a.o(),a.xhr,"success",a.hR),a.xhr.ajax("/"+a.qf.type+"/"+a.qf.eS+"/sharetext","","GET"));z.y("zh-webshare-sina-pm").value=a.Ue[a.yf]&&a.Ue[a.yf].sina||"\u52a0\u8f7d\u4e2d...";a.cH.Di();z.rl(a.rz);a.rz.Ft();var b=a.qk;b.$b.value=a.Ue[a.yf]&&a.Ue[a.yf].pm||"\u52a0\u8f7d\u4e2d...";b.xJ&&b.xJ.Di();z.rl(b.fG);b.fG.Ft();z.R(b.Oc,!0);z.R(b.lg,!1);if("answer"===a.qf.type||"post"===a.qf.type)(0,window.$)(a.h).find("#tb-webshare-daily").parent().removeClass("zg-hide"),
a.Ue[a.yf]&&(0,window.$)(a.h).find(".tb-webshare-daily-title").html(a.Ue[a.yf].daily)};var dw=function(a,b){ew(a,b,b+"-content");a.JQ||(a.fa.aa(),a.JQ=!0)};var ew=function(a,b,c){c=z.y(c);b=z.y(b);z.B.forEach(a.RR,function(a){z.H.remove(a.parentNode,"active")});z.B.forEach(a.QR,function(a){z.R(a,!1)});z.H.add(b.parentNode,"active");z.R(c,!0)};var fw=function(a){var b=null;try{b=a.rules||a.cssRules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var gw=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ea(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.B.extend(b,gw(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.B.extend(b,gw(a[d]));else{var g=fw(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.B.extend(b,gw(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var hw=function(){this.en="";this.dh=[]};
var iw=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.en=d.join("")};var jw=function(a){this.ry=[];this.ou={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new kw(a[c]);b.push(d)}this.ai=b}};
var kw=function(a){var b=lw[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.iE=a;this.dO=c;this.oH={};lw[a]=this};
var mw=function(a,b){var c=b.uid,d=a.oH[c];if("undefined"!=typeof d)return d;var f=a.dO,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.FJ[g]&&(h=!1);return a.oH[c]=h};var nw=function(a){var b=z.ka(a),c=ow[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ka(d);var f={};if(a.className)for(var g=z.H.get(a),h=0;h<g.length;h++)f[g[h]]=1;d.FJ=f;c.unshift(d)}while(a=a.parentNode);this.vF=c;this.uid=z.ka(this);ow[b]=this};
z.pw=function(){z.J.call(this);this.ic=this.Ep()};var qw=function(a,b,c,d,f){this.JC=a;this.uz=b;this.Xp=c;this.OC=d;this.Gv=f||{}};var rw=function(a,b){this.FS=a;this.TB=b};
var sw=function(a,b,c,d){var f=[];a.Xp&&a.uz&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.Xp&&f.push("height:",a.OC?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.TB&&f.push(c.TB);z.O&&a.uz&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.tw&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.JC,'" style\x3d"min-width:0;');z.O&&a.Xp&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.uz?"100%":"auto"),a.OC?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.P&&f.push(";outline:hidden");for(var g in a.Gv)f.push(";"+g+":"+a.Gv[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var uw=function(a,b){z.J.call(this);this.Gg=this.id=a;this.jb=null;this.pd={};this.kj={};for(var c in z.vw)this.kj[c]=[];this.Ok="";this.fk={};this.fk[ww]=1;this.fk[z.xw]=1;this.Cq=new z.ji(this.oC,yw,this);this.Aq={};for(var d in zw)this.Aq[zw[d]]=0;z.O&&(this.ne=new z.ji(this.zn,Aw,this));this.jc=new z.Kd(this);this.GS=[];this.Bj=z.Bw;this.Ml=z.ob(b||window.document);this.Lc=this.Ml.m(this.id);this.Bk=this.Ml.Sa()};
var Cw=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in Dw;return(a.ctrlKey||a.metaKey)&&a.keyCode in Ew||b};var Fw=function(a,b){a.Bj=2;a.va=b;a.jb=z.ob(b);b.setAttribute("g_editable","true")};
var Gw=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.O&&b.metaKey&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=Cw(b)?!0:!(!z.O||b.ctrlKey||b.metaKey||z.O&&!b.charCode));a.nw=c;a.nw&&a.Fh();return!0};var Hw=function(a,b,c){var d={};a=a.Ks(8,b||"",d);z.wf(c,d);c.innerHTML=a};
var Iw=function(a,b){if(!b.altKey){var c=z.Qc?b.metaKey:b.ctrlKey;if(c||Jw[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&a.Pn(5,b,String.fromCharCode(d).toLowerCase(),c)&&b.preventDefault()}}};var Kw=function(a){var b;return a.oc()&&(b=a.jb)?(a=b.Sa())&&a.frameElement:null};z.Lw=function(a){return(a=a.jb&&a.jb.Sa())&&z.Nm(a)};
z.Mw=function(a,b,c){if(!Nw(a,"selectionchange")){var d=z.Lw(a),d=d&&d.Fb();a.jf=!!d&&z.Xb(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",wU:b&&b.type});a.Pn(4,b,c)}};z.Ow=function(a,b,c){b&&(a.ne&&z.nt(a.ne),a.fk[ww]=1);c&&(z.Pw(a),a.fk[z.xw]=1)};var Qw=function(a,b,c){!b&&a.ne&&z.nt(a.ne);a.fk[ww]=0;a.fk[z.xw]=0;b&&a.zn();c&&a.oC()};var Nw=function(a,b){return!!a.fk[b]||a.Aq[b]&&500>=(0,z.Wa)()-a.Aq[b]};z.Pw=function(a){a.ne&&z.nt(a.ne);z.nt(a.Cq)};
var Rw=function(a){z.mc(a.target,"A")&&a.preventDefault()};z.Sw=function(a){var b=a.m();if(b){var c=z.Jt(b);b==c?z.Rm(b,0).select():z.Ys(c,!0);z.Mw(a)}};var Tw=function(a){if(!z.ea(a.ix)&&(a.ix=!1,z.x&&a.oc())){for(var b=a.Ml.Sa();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.ix="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.ix};z.Uw=function(a,b){uw.call(this,a,b)};
var Vw=function(a){if(a.Vo?0:a.Vo=!0){var b=Kw(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(Lu(b,"width"),10)!=h&&(f=z.eg(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.Rn()&&(0,window.parseInt)(Lu(b,"height"),10)!=g&&(f||(f=z.eg(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.Vo=!1;d&&a.dispatchEvent("ifrsz")}};var Ww=function(a){a.m()&&(Vw(a),a.Rn()||a.sz())};
var Xw=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.Rc=new Yw(b)};var Yw=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var Zw=function(){z.J.call(this)};var $w=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.T(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.T("\u64cd\u4f5c\u6210\u529f\uff01"),c&&c(a))}})};
var ax=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.LK);return window.$.post("/manage",c).then(function(a){return z.ya("\u7528\u6237\u5df2\u88ab\u8b66\u544a %s \u6b21\uff0c\u7981\u8a00 %s \u6b21",a.warn_num,a.ban_num)})};var bx=function(a){z.S.call(this);z.C.extend(this.J={},this.defaults,a||{});this.zm=new z.od;this.Bf=null};
var cx=function(a,b){var c=a.J,d=new z.cp(c.trigger,!1,null,b);d.kt=c.qR;d.sr=c.JM;d.eh(a.Im);z.L(d,"trigger",function(a){d.setPosition(new z.Ko(a.anchor,1))});z.L(d,"beforeshow",function(a){this.Bf=a.target.anchor;this.ba()},!1,a);d.className=c.tI;a.OM=d};var dx=function(a,b){var c=a.J.JN,d=z.Qb(a.Im),f=z.B.find(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.H.has(f,c))return!1;z.B.forEach(d,function(a){z.H.remove(a,c)});z.H.add(f,c);return!0};
var ex=function(a,b,c,d){a.zm.set(b,{name:b,V:c,Rm:d||z.p})};z.fx=function(a){z.S.call(this);z.C.extend(this.J={},this.defaults,a||{})};var gx=function(a){var b=a.J,c=a.h;hx(c);b=ix(c,b.QD);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};var jx=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var kx=function(a,b){return jx(a,b,function(a){return lx(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};
var lx=function(a){return"A"===a.nodeName};var hx=function(a){var b=z.cc(a,function(b){return 3===b.nodeType&&!kx(b,a)}),c,d=z.Nm(),f=d&&z.Xl(d);z.B.forEach(b,function(a){var b=a.nodeValue,d=mx(b);d!==b&&(b=z.Gb(d),f===a&&(c=b.lastChild),z.Ob(b,a))});c&&z.Ys(c)};
var ix=function(a,b){var c=z.B.filter(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.B.contains(nx,a.protocol))b=z.gc(a),z.wa(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.B.map(c,function(c){return ox(c.href).done(function(f){px(a,c,f,b)})})};
var px=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.Nm();if(d){var f=d.Z(),D=d.wa(),E=d.ha(),M=d.Ma();z.Xb(b,f)&&(f=a,D=0);z.Xb(b,E)&&(E=a,M=0);c(function(){f===a&&E===a?z.Ys(a):z.xm(f,D,E,M).select()})}else c(z.p)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",qx(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.bc(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Ob(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var qx=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" \u7684\u9875\u9762"};var mx=function(a){return a.replace(rx,function(a){z.wa(a,"http")||(a="http://"+a);return a.link(a)})};
var sx=function(a){var b=new bx({});ex(b,"link","\u94fe\u63a5",function(a){z.bc(a,a.href)});ex(b,"text","\u6587\u672c",function(a){z.bc(a,a.getAttribute("data-title"))});b.w(a);var c=b.ew();z.et(c,new z.sf(2,0,0,0));z.dt(c,new z.sf(2,0,0,0));var d=b.o();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.gc(a);c===a.href?dx(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),dx(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&lx(b))return!1});
var f;d.g(c,"show",function(a){f=a.target.anchor;z.H.add(f,"hover")}).g(c,"hide",function(){f&&(z.H.remove(f,"hover"),f=null)});return b};
var tx=function(a,b,c){z.S.call(this);this.id=a;this.type=b;this.va=null;this.yd=this.Vg=!1;this.ae="\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba\u2026";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.ae+"\x3c/p\x3e";this.wj="";this.ka=-1;this.SE=window.$.Deferred().resolve();this.xy=this.ds=null;this.DB="zm-comment-box";this.nh=null;a=ux[b];if(!a)throw Error("API not found");this.tg=window.$.extend({},ux._default_,a);this.Xm="";z.C.extend(this.J={},this.defaults,c||{})};
var vx=function(a,b){return z.kl(a,function(){return{ra:{question:"question_comment_"+b,answer:"question_answer_comment_"+b}[this.type]||!0,gd:!0}},function(){return this.Xm})};var wx=function(a,b,c){var d=z.A(a.DB,b);c&&(a.nh=c);d?a.w(d):(a.Vg=!0,a.ba(b))};var xx=function(a){z.C.forEach({SA:".load-more",Wm:".zm-comment-list",HB:".zm-comment-form",va:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var yx=function(a){a.va&&a.va.setAttribute("aria-label",a.ae);if(z.zn){var b=a.va;b.setAttribute("contentEditable",!0);var c=a.Yk={m:function(){return b},hl:function(){return z.uj(b)?"":b.innerHTML},Ed:function(a,c){b.innerHTML=c},Sf:function(){z.au(b)}};a.Hr(c);a.Ir(c)}else zx(a);a.o().g(a.va,["change","keyup"],function(a){27!==a.keyCode&&(z.bu(this.va)?this.wj="":this.wj=this.gb())});Ax(a)};
var zx=function(a){var b=z.G("textarea",{placeholder:a.ae,"class":"zm-comment-textarea"});z.Ob(b,a.va);new z.ql(b,22);a.va=b;a.Yk={m:function(){return b},hl:function(){return b.value},Ed:function(){b.value="";b.style.height=z.Hf(22,!0)},Sf:function(){b.focus()}}};
var Bx=function(a){var b=a.Yk,c=b.m();if(b.hl()!==a.placeholder){b.Ed(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Ed(!1,this.wj||"");this.va.lastChild?z.Ys(this.va.lastChild):b.Sf();z.ad(c,d,f,!1,this)};z.L(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.Xb(a.va,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.va.blur()}};var Cx=function(a){a.focus();a=z.Qm(a);a.collapse();a.select()};
var Dx=function(a){var b;(b=z.A("zm-comment-reply-hack"))?(b=z.Gb(z.ct(b)),z.H.fu(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.Mb(b,a)):(b="",z.V.ra()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.V.fL()+'"\x3e'),b=z.Gb('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"\u5199\u4e0b\u4f60\u7684\u56de\u590d"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e\u8bc4\u8bba\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var Ex=function(a){var b=window.location.hash.slice(1).split("-");if(b="comment"===b[0]&&b[1])a=Fx(a,b),z.cj(a),Qt(a)};var Fx=function(a,b){return z.B.find(Gx(a),function(a){return a.getAttribute("data-id")===b})};var Gx=function(a){return(0,window.$)(a.Wm).children(".zm-item-comment").get()};
var Hx=function(a){a.o().g(a.h,"click",a.xa).g(a.va,"keydown",a.YO).g(z.Aj,"anon_change",a.$i).g(a.Yk.m(),["click","focus"],z.qa(a.jt,!0)).g(a.Yk.m(),"focus",z.qa(a.mi,"add_comment_start"));a.ka=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.kf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.ah&&a.SA&&(a.xy=Au().then(window.$.proxy(a.RE,a)))};var Ix=function(a){0<a.Ra()?(a.wj=a.gb(),a.jt(!1),Bx(a)):a.nh?a.collapse():a.jt();a.If()};
var Jx=function(a){if(a.nh){var b=(0,window.$)(a.nh);a.$(a.$A).show().css("left",b.position().left+b.width()/2)}};var Kx=function(a){if("pending"!==a.SE.state()){a.lb();a.h.innerHTML=a.Fi();a.expand();var b=a.tg.il(a.id,a.J.PE).done((0,z.t)(a.AQ,a));return a.SE=b}};
var Ax=function(a){z.V.ra()?z.V.active||Lx(a,'\x3cdiv class\x3d"active-mask-tip-comment"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):Lx(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',
null)};var Lx=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.va).hide().after(d).after(b)):b.insertAfter(a.va);a=(0,z.t)(vx(z.p,"box"),a);b.on("click",a);d.on("click",a)};var Mx=function(a){xx(a);yx(a);Bx(a);Hx(a);Nx(a);Jx(a)};var Nx=function(a){var b=a.J,c=!a.Ra();z.H.enable(a.h,b.sv,c);c&&a.va&&b.autofocus&&a.va.focus();a.dispatchEvent("change")};
var Ox=function(a,b,c){if(!a.Ql||"pending"!==a.Ql.state()){var d;z.ja(b)&&(d=b.HQ,b=b.content);b=z.Ha(b);var f=new z.od;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.tg.add(f.At());b.done(window.$.proxy(a.oL,a)).done(c);a.Ql=b;a.wj=a.gb();a.mi("add_comment_submit")}};var Px=function(a,b){var c=z.mc(b,null,a.J.kf);(new Zw).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.t)(function(){z.I(c);--this.ka;Nx(this)},a))};
var Qx=function(a,b){var c=z.mc(b,null,a.J.kf),d=c.getAttribute("data-id"),f="\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\u540c\u65f6\u5c06\u6b64\u4eba\u5c4f\u853d\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility",
"visible")}));var h=z.ch("\u5220\u9664\u8bc4\u8bba",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),Rx(this,d,Number(a),z.qa(z.I,c)))},a)};var Sx=function(a,b,c){a.tg.remove(b).done((0,z.t)(function(){z.ia(c)&&c();--this.ka;Nx(this)},a))};var Rx=function(a,b,c,d){a.tg.bJ(b,c).done((0,z.t)(function(){z.ia(d)&&d();--this.ka;Nx(this)},a))};
var Tx=function(a){if(!a.el&&!z.bq.vc){var b=z.mc(a.h,null,"zm-item-meta");if(b){var c=z.A("zm-meta-panel",b);c&&(a.el=new z.$m(null,b),a.el.tag="comment",a.el.w(c))}}};var Ux=function(a){z.S.call(this);this.entryType=a};var Vx=function(a,b){return z.kl(a,b,function(){return this.tn()})};var Wx=function(a){a=(0,window.$)(a);var b={};(0,window.$)("meta[itemprop]",a).each(function(){var a=(0,window.$)(this);b[a.attr("itemprop")]=a.attr("content")});return b};
var Xx=function(a){var b=(0,window.$)('.js-report, a[name\x3d"report"]',a.m()),c=a.entryType,d=a.kb;b.each(function(a,b){var h=(0,window.$)(b),l=new Bv(c,d);h.hasClass("goog-menuitem")?h.click(function(){l.ZG()}):(Dv(l,b),z.Ec(l,this))})};var Yx=function(a,b){this.ao=this.Ld=1;this.Wg=b||4;this.items=a||[];this.vB=[];Zx(this)};var $x=function(a,b,c){b=(b-1)*a.Wg;return a.items.slice(b,b+c)};
var ay=function(a,b){var c=$x(a,a.Ld+1,1)[0];if(a.Dn()&&c){var d=a.remove(b);a.remove(c);a.items.splice(d,0,c);return c}};var Zx=function(a){a.ao=Math.ceil(a.items.length/a.Wg)};var by=function(a){Ux.call(this,a)};
var cy=function(a){a=(0,window.$)(a.m());var b=(0,window.$)(".js-list",a);(0,window.$)(".js-hidden-list",a);var c=(0,window.$)(".pager",a),d=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html((0,window.$)(".js-hidden-list").html()).children().add(b.children())),f=new Yx(d,4);f.Kc(function(a){c.find(".next").toggleClass("disabled",!a.Dn);c.find(".prev").toggleClass("disabled",!a.or)});(0,window.$)(".pager",a).on("click",".next:not(.disabled)",function(){f.next();b.html($x(f,f.Ld,f.Wg))}).on("click",
".prev:not(.disabled)",function(){f.prev();b.html($x(f,f.Ld,f.Wg))});a.on("click","[data-follow]",function(a){var b=(0,window.$)(a.target).closest(".item"),c=ay(f,b[0]);c&&b.fadeOut(function(){b.replaceWith(c)})})};var dy=function(a){Ux.call(this,a)};var ey=function(){Ux.call(this,"question")};var fy=function(a){bv(a.h,function(){gy("question",this.Ih,"touch")},a)};var hy=function(){Ux.call(this,"answer")};var iy=function(a){return z.A("zm-item-answer",a)||z.A("entry-body",a)};
var jy=function(a,b){(0,window.$)(".feed-question-detail-item",a.h).toggleClass("question-detail-expanded",b)};var ky=function(){Ux.call(this,"column")};var ly=function(a,b,c){z.S.call(this);this.kb=a;this.entryType=b||"answer";this.xd=null;this.J=window.$.extend({},this.defaults,c||{})};var my=function(a,b,c){var d=+a.kA.text(),f=0;(0,window.isNaN)(d)||(c===ny.ie?f=1:b===ny.ie&&(f=-1),a.kA.text(d+f))};
var oy=function(a){var b={};b[ny.ie]="vote_up";b[ny.qg]="vote_down";b[ny.BA]="vote_neutral";a.xd=("post"===a.entryType?py.hA:qy.hA)(a.kb,b[a.U]);return a.xd};
var ry=function(a){var b=a.U,c=a.J,d=b===ny.ie,b=b===ny.qg,f=d?"\u53d6\u6d88\u8d5e\u540c":"\u8d5e\u540c",g=b?"\u53d6\u6d88\u53cd\u5bf9":"\u53cd\u5bf9\uff0c\u4e0d\u4f1a\u663e\u793a\u4f60\u7684\u59d3\u540d";a.Xt.toggleClass(c.Gs,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.St.toggleClass(c.Gs,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};
var sy=function(a){z.S.call(this);this.up="votebar-mobile";this.lv="votebar-mobile-dialog";this.iA=a;this.TH=z.G("span","_votebar-holder")};var ty=function(a){var b=a.iA;z.Ob(a.TH,b.m());z.H.add(b.m(),a.up);a.o().g(b,"action",function(){this.ub&&(0,window.setTimeout)((0,z.t)(function(){this.ub.G(!1)},this),150)})};var uy=function(){Ux.call(this,"post")};
var vy=function(a){var b=a.rt=new dv;a.L(b);z.Ec(a,b);a.o().g(b,"expand",function(){this.Qa(!0)});b.w(a.h);b.Ec()&&z.Ld(a.o(),b,"expand",a.Fx);bv(a.h,a.Dj,a)};var wy=function(a){var b=z.A("zm-item-vote-info",a.h);if(b){var c=new xy(a.kb,a.entryType);z.Ec(a,c);c.w(b);a.pb&&a.o().g(a.pb,"change",function(){c.Vj()}).g(c,"change",function(){var a=z.A("zm-item-vote-count",this.h),b=(0,window.$)(".zm-votebar .count",this.h)[0];a&&z.Vi(a,c.Ra());b&&z.Vi(b,c.Ra())})}};var yy=function(){Ux.call(this,"roundtable")};
var zy=function(a){var b=a.getAttribute("data-type");return(b={ac:by,p:uy,a:hy,q:ey,r:yy,c:ky}[b])?new b:iy(a)?new hy:new z.S};var Ay=function(a,b,c){Mv.call(this,a,b,c)};var By=function(){z.J.call(this);this.fa=null;this.la=0;this.yx=[];this.$r=[];this.Oz="\u6700\u591a\u8f93\u5165 20 \u5b57";this.jv="\u6700\u591a\u8f93\u5165 256 \u5b57"};var Cy=function(a,b,c){a.fa||(a.fa=new z.Xg(null,!1),z.Sg(a.fa,null),a.fa.Wa(b||""),c&&(a.fa.W().innerHTML=c),a.o().g(a.fa,"afterhide",a.If))};
var Dy=function(a,b,c){var d=z.y("zh-fav-list-item-place-holder");d&&z.R(d,!1);a.yy=b[5]?"":z.G("span","zm-fav-list-item-lock",[z.G("i","icon icon-lock")]);d=z.G("span","zm-favo-list-item-title");z.bc(d,b[1]);d=z.G("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.yy,d,z.G("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e \u6761\u7b54\u6848 \x3cspan class\x3d"zg-bull"\x3e\u2022\x3c/span\x3e '+b[4]+" \u4eba\u5173\u6ce8"})]);a.yy&&a.yy.setAttribute("data-tip",
"s$t$\u79c1\u5bc6\u6536\u85cf\u5939");d.setAttribute("data-lid",b[0]);z.B.contains(a.$r,b[0])&&z.H.add(d,"zm-favo-list-item-link-active");b=z.A("zm-favo-list-item-link",a.Mg);c&&b?z.Lb(d,b):a.Mg.appendChild(d)};var Ey=function(a,b){if(a.la!==b&&a.Mg){var c=z.vb("zm-favo-list-item-link",a.Mg);z.B.forEach(c,function(a){z.H.remove(a,"zm-favo-list-item-link-active")},a)}a.la=b};
var Fy=function(a,b,c,d){var f=z.y("zh-fav-head-title"),g=z.y("zh-fav-head-description-source");b=b||(f?z.gc(f):"");c=c||(g?z.gc(g):"");a.XB=d||z.$q;Gy(a);a.tb();Hy(a,1);z.R(a.zz,!1);a.jq.innerHTML="\u53d6\u6d88";a.LA.innerHTML="\u4fdd\u5b58";a.fa.Wa("\u7f16\u8f91\u6536\u85cf\u5939");a.yj.value=z.Pa(b);a.Bl.value=z.Pa(c);a.XB[1]?(z.R(a.kQ,!1),z.R(a.gQ,!1),z.R(a.MN,!1)):a.CN.setAttribute("checked",!0);a.cN=Iy(a);a.fa.G(!0);a.Or=!0};
var Jy=function(a){var b=z.vb("zm-favo-list-item-link",a.Mg);z.B.forEach(b,function(a){var b=a.getAttribute("data-lid");z.H.remove(a,"zm-favo-list-item-link-active");z.B.contains(this.$r,+b)&&z.H.add(a,"zm-favo-list-item-link-active")},a)};var Gy=function(a){a.zK?Jy(a):a.B()};
var Hy=function(a,b){var c=!!b;a.fa.Wa(0===b?"\u6dfb\u52a0\u5230\u6536\u85cf\u5939":"\u521b\u5efa\u65b0\u6536\u85cf\u5939");z.R(a.RN,!c);z.R(a.Uv,c);new z.Ek(a.yj,a.Oz);new z.Ek(a.Bl,a.jv);if(1===b)(0,window.$)(a.Uv).on("change.FavoDiag","input, textarea, select",function(){a.Ye()});else(0,window.$)(a.Uv).off("change.FavoDiag"),a.If()};
var Iy=function(a){var b=new z.mj,c=z.Yi(a.yj.value),d=z.Ia(a.Bl.value===a.jv?"":a.Bl.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.DN.checked?1:0);return b};var Ky=function(a){a.fa.G(!1);a.dispatchEvent(Ly);z.X.ma({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.Mg).length}})};
var My=function(a){var b=a.type;if(!z.ea(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:null;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return z.ea(a.value)?a.value:null}};var Ny=function(a,b){var c=a.elements[b];if(c.type)return My(c);for(var d=0;d<c.length;d++){var f=My(c[d]);if(f)return f}return null};
var Oy=function(a,b,c){var d=new z.U(!0);d.addEventListener("complete",function(){var a;try{a=z.fe(this)}catch(d){}a&&!a.r&&z.ia(b)?b.call(this,a):z.ia(c)&&c.call(this,a.msg)});d.ajax("/people/edit","data\x3d"+(0,window.encodeURIComponent)(z.wc(a)))};var Py=function(a){z.J.call(this);this.h=a;a=z.Vb(this.h)?this.h:this.h?this.h.body:null;this.FN=!!a&&z.Nf(a);this.ME=z.L(this.h,z.O?"DOMMouseScroll":"mousewheel",this)};var Qy=function(a,b){return z.F&&(z.Qc||z.iq)&&0!=a%b?a:a/b};
var Ry=function(a,b,c,d){b&&this.init(b,void 0);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var Sy=function(){z.J.call(this)};var Ty=function(a,b){return null==a.ek?b:a.fo+Math.round((b-a.fo)/a.ek)*a.ek};var Uy=function(a){z.S.call(this,a);this.PA=null;this.Va=new Sy;z.L(this.Va,"change",this.CD,!1,this)};
var Vy=function(a,b){b?(a.o().g(a.de,"beforedrag",a.ar).g(a.Qf,"beforedrag",a.ar).g(a.de,["start","end"],a.lr).g(a.Qf,["start","end"],a.lr).g(a.qb,"key",a.ef).g(a.m(),"mousedown",a.bj),a.uE&&Wy(a,!0)):(a.o().Ia(a.de,"beforedrag",a.ar).Ia(a.Qf,"beforedrag",a.ar).Ia(a.de,["start","end"],a.lr).Ia(a.Qf,["start","end"],a.lr).Ia(a.qb,"key",a.ef).Ia(a.m(),"mousedown",a.bj),a.uE&&Wy(a,!1))};var Xy=function(a,b){var c=z.Qf(b,a.m());return"vertical"==a.Bb?c.y:a.Qd&&a.Cd()?a.m().clientWidth-c.x:c.x};
var Yy=function(a,b){var c=a.Fc(),d=a.Wc();if("vertical"==a.Bb){var f=a.$a.offsetHeight,g=a.m().clientHeight-f,f=Xy(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.$a.offsetWidth;g=a.m().clientWidth-f;f=Xy(a,b)-f/2;return(d-c)*f/g+c};var Zy=function(a,b){if(b==a.$a)return a.Va.X();if(b==a.zd)return a.Va.X()+a.Va.Mh();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};var $y=function(a,b){var c=Zy(a,a.$a)+b,d=Zy(a,a.zd)+b,c=Pu(c,a.Fc(),a.Wc()-a.eo),d=Pu(d,a.Fc()+a.eo,a.Wc());az(a,c,d-c)};
var bz=function(a,b,c){var d=null;b==a.zd&&c<=a.Va.Wc()&&c>=a.Va.X()+a.eo&&(d=c-a.Va.X());var f=d||a.Va.Mh();b==a.$a&&c>=a.Fc()&&c<=a.Va.X()+f-a.eo&&(b=f-(c-a.Va.X()),Ty(a.Va,c)+Ty(a.Va,b)==Ty(a.Va,c+b)&&(az(a,c,b),d=null));null!=d&&a.Va.No(d)};var az=function(a,b,c){a.Fc()<=b&&b<=a.Wc()-c&&a.eo<=c&&c<=a.Wc()-b&&(b!=a.X()||c!=a.Mh())&&(a.Va.ms=!0,a.Va.No(0),a.Va.Ea(b),a.Va.No(c),a.Va.ms=!1,a.CD())};var cz=function(a,b){return b<=a.Va.X()+a.Va.Mh()/2?a.$a:a.zd};
var dz=function(a){if(a.$a&&!a.Lr){var b=ez(a,Zy(a,a.$a)),c=ez(a,Zy(a,a.zd));if("vertical"==a.Bb)a.$a.style.top=b.y+"px",a.zd.style.top=c.y+"px",a.Pb&&(b=fz(c.y,b.y,a.$a.offsetHeight),a.Pb.style.top=b.offset+"px",a.Pb.style.height=b.size+"px");else{var d=a.Qd&&a.Cd()?"right":"left";a.$a.style[d]=b.x+"px";a.zd.style[d]=c.x+"px";a.Pb&&(b=fz(b.x,c.x,a.$a.offsetWidth),a.Pb.style[d]=b.offset+"px",a.Pb.style.width=b.size+"px")}}};
var fz=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var ez=function(a,b){var c=new z.kb;if(a.$a){var d=a.Fc(),f=a.Wc(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Bb?(d=a.m().clientHeight-a.$a.offsetHeight,f=Math.round(f*d),c.x=gz(a,a.$a),c.y=d-f):(d=Math.round(f*(a.m().clientWidth-a.$a.offsetWidth)),c.x=d,c.y=a.$a.offsetTop)}return c};
var hz=function(a,b){b=Pu(b,a.Fc(),a.Wc());a.Lr&&a.vq.stop(!0);var c=new z.Eo,d,f=cz(a,b),g=a.X(),h=a.Mh(),l=Zy(a,f),n=ez(a,l);d=a.lw();Math.abs(b-l)<d&&(b=Pu(l+(b>l?d:-d),a.Fc(),a.Wc()));bz(a,f,b);l=ez(a,Zy(a,f));d="vertical"==a.Bb?[gz(a,f),l.y]:[l.x,f.offsetTop];n=new Fu(f,[n.x,n.y],d,100);n.Mf(a.Qd);c.add(n);a.Pb&&iz(a,f,g,h,l,c);a.PA&&(f=a.PA.RT(g,b,100),z.B.forEach(f,function(a){c.add(a)}));a.vq=c;a.o().g(c,"end",a.JK);a.Lr=!0;c.play(!1)};
var iz=function(a,b,c,d,f,g){var h=ez(a,c),l=ez(a,c+d);c=h;d=l;b==a.$a?c=f:d=f;"vertical"==a.Bb?(b=fz(l.y,h.y,a.$a.offsetHeight),h=fz(d.y,c.y,a.$a.offsetHeight),f=new Fu(a.Pb,[gz(a,a.Pb),b.offset],[gz(a,a.Pb),h.offset],100),b=new Du(a.Pb,b.size,h.size,100)):(b=fz(h.x,l.x,a.$a.offsetWidth),h=fz(c.x,d.x,a.$a.offsetWidth),f=new Fu(a.Pb,[b.offset,a.Pb.offsetTop],[h.offset,a.Pb.offsetTop],100),b=new Eu(a.Pb,b.size,h.size,100));f.Mf(a.Qd);b.Mf(a.Qd);g.add(f);g.add(b)};
var jz=function(a){var b=a.m();if(b){var c=a.Fc();z.sc(b,"valuemin",c);c=a.Wc();z.sc(b,"valuemax",c);a=a.X();z.sc(b,"valuenow",a)}};var Wy=function(a,b){b?(a.Gj||(a.Gj=new Py(a.m())),a.o().g(a.Gj,"mousewheel",a.xD)):a.o().Ia(a.Gj,"mousewheel",a.xD)};var gz=function(a,b){return a.Qd?z.lg(b):b.offsetLeft};var kz=function(a){Uy.call(this,a);this.Va.No(0)};var lz=function(a){this.options=window.$.extend({},this.defaults,a)};var mz=function(a,b){a.zoom=b;nz(a,a.De.vp/2+a.De.x,a.De.wn/2+a.De.y)};
var nz=function(a,b,c){var d=a.zoom;a.De={vp:a.options.ng/d,wn:a.options.mg/d,x:b-a.options.ng/d/2,y:c-a.options.mg/d/2};oz(a)};var oz=function(a){var b=a.zoom,c=Pu(a.options.tm-a.De.x*b,a.options.ng+a.options.tm-a.wr*b,a.options.tm),d=Pu(a.options.um-a.De.y*b,a.options.mg+a.options.um-a.vr*b,a.options.um),f={width:b*a.wr,height:b*a.vr,left:c,top:d};a.wm.css(f);a.Tt.css(f);a.De.x=(a.options.tm-c)/b;a.De.y=(a.options.um-d)/b};
var pz=function(a,b,c){z.S.call(this);this.Pp=a||qz;this.BC=b;this.GG=c||"l"};var rz=function(){return!!window.FileReader};
var sz=function(a){a.xl=a.Qw=a.hj="";if(a.Ba)a.Ba.aa();else{a.Ba=new z.Xg(null,!1);a.Ba.Wa("\u4fee\u6539\u56fe\u7247");var b=new z.Vg;b.set(z.fh,"\u53d6\u6d88",!1,!0).set("yes","\u786e\u5b9a",!0);z.Sg(a.Ba,b);a.o().g(a.Ba,z.Ug,function(a){if("yes"===a.key){if(rz()){var b=this.Zu;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.ng);a.attr("height",b.options.mg);var f=a[0];(0,window.$)(window.document.body).append(f);var g=a[0].getContext("2d"),h=b.De;g.drawImage(b.xr,h.x,h.y,
h.vp,h.wn,0,0,b.options.ng,b.options.mg);b=f.toDataURL("image/png");a.remove();a=b}else a=this.Zu.De;this.hj=a;tz(this);this.Ba.G(!1);return!1}})}uz(a.Ba.W());a.Ba.G(!0);z.H.add(a.Ba.h,"avatar-edit-dialog")};var vz=function(a){var b=a.input.cloneNode();z.Ob(b,a.input);a.input=b;a.o().g(a.input,"change",a.Kc)};
var tz=function(a){if(a.hj&&(rz()||a.Qw)){a.dispatchEvent("beforepost");var b={type:a.Pp,dest_id:a.Pp===qz?z.V[3]:a.BC,return_size:a.GG};if(rz()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",wz(a.hj.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.$z,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.SB,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.hj.x),y:Math.round(a.hj.y),height:Math.round(a.hj.wn),width:Math.round(a.hj.vp),hashval:a.Qw}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.$z+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var uz=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\u6b63\u5728\u4e0a\u4f20...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var wz=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),l=0;l<g.length;l++)h[l]=g.charCodeAt(l);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
var xz=function(){z.S.call(this)};var yz=function(a){z.R(z.y("zh-setting-page-bind-sina-binded-wrap"),!!a);z.R(z.y("zh-setting-page-bind-sina-tobind-wrap"),!a)};var zz=function(a){z.R(z.y("zh-setting-page-bind-qqconn-binded-wrap"),!!a);z.R(z.y("zh-setting-page-bind-qqconn-tobind-wrap"),!a)};var Az=function(a){z.S.call(this);this.UP=a};var Bz=function(a){return z.B.every(a.he,function(a){return!!a.value})};var Cz=function(a){z.B.forEach(a.he,function(a){a.value=""});a.he[0].focus()};
var Dz=function(a,b,c,d,f){this.Fe=a=new z.qk(a,!f);c=new z.vk(c);d=new z.Uj(null,null,!!d,300);z.Hj.call(this,a,c,d);d.ca=this;d.Ck(b);(d=b.getAttribute("placeholder"))&&new z.Ek(b,d)};var Ez=function(){z.S.call(this)};
var Fz=function(a){var b=z.A("profile-edit-avatar-btn");if(b){a.tu=new pz(qz);var c=a.tu;c.w(b);a.o().g(a.tu,"beforepost",function(){(0,window.$)(".zm-avatar-editor-preview").parent().append((0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e"))});a.o().g(a.tu,"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:c.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),
z.T("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),(0,window.$)("img.zm-avatar-editor-preview").attr("src",c.getData().url))})})}};var Gz=function(){this.ry={}};var Hz=function(){this.Li="editing";z.S.call(this)};var Iz=function(a,b,c){z.bq.vc&&null==window.navigator.userAgent.match(/iPad/i)||(a=(0,window.$)(".item",a.K).index(b),b.siblings().eq(a-a%2).height(c?"auto":b.height()))};var Jz=function(){z.S.call(this)};var Kz=function(){z.S.call(this)};
var Lz=function(){z.J.call(this);this.Wf="zm-item";this.UQ=!0};var Mz=function(a,b){a.o().g(b,"next",a.refresh)};var Nz=function(){this.Rv=["zg-btn-follow","zg-btn-unfollow"];this.Sv="people"};var Oz=function(a,b,c,d){z.J.call(this);this.Nd=a;this.Gh=b;this.Pg=c;this.qC=d||Pz;a.maxLength=c;this.oj=new z.Uv(a);z.L(this.oj,"input",this.oo,!1,this);this.Di()};var Qz=function(a){z.J.call(this);this.fa=null;this.na=a;this.Ws=0;this.mG=""};
var Rz=function(a,b){var c=z.vb("zm-menu-item-link",a.WF);z.B.forEach(c,function(a,c){z.R(a,!z.B.contains(b,c))},a)};var Sz=function(){z.J.call(this)};
var Tz=function(a){a.o().g(a.dl,"change",function(){var a=this.dl.value;this.Cy.value="no"===a?"":Uz.Zt[+a][1]}).g(a.Vm,"click",function(a){"cancel"===a.target.name?this.fa.G(!1):this.Cy.value&&"no"!==this.dl.value&&(this.Nv=new z.U(!0),this.o().g(this.Nv,"complete",function(){var a=z.fe(this.Nv);a&&!a.r?(this.yi.innerHTML="\u5df2\u7ecf\u6807\u8bb0",this.fa.G(!1)):z.T(a.msg)}),a=z.Yi(this.Cy.value),this.Nv.ajax("/answer/flag","answer_id\x3d"+this.sI+"\x26flag\x3d"+this.dl.value+"\x26reason\x3d"+(0,window.encodeURIComponent)(a)))})};
var Vz=function(a){function b(){var b;Wz||(Wz=new Sz,Wz.init());b=Wz;b.yi=a;b.sI=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;Xz||(Xz=new Qz,Xz.init());c=Xz;c.yi=a;c.na=a.id.split("-")[1];"redirect"===b?c.show():(z.hh("/question/unredirect",null,"POST","qid\x3d"+c.na+"\x26rqid\x3d"+c.Ws),c.yi.innerHTML="\u91cd\u5b9a\u5411\u5df2\u64a4\u9500",c.yi.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=
(new z.jk).add("revision",g).add("reason",f),D=new z.U(!0);D.on("success",function(){var a=z.fe(D);a.r?z.T(a.msg):(c.G(!1),a.msg?window.location.href=a.msg:window.location.reload())});D.ajax("/revert",f.toString())}var c=z.ch("\u64a4\u9500",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0" placeholder\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),
!1}),d=z.A("content",c.W());new z.Ek(d);new z.ql(d,48);new Oz(d,null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};var Yz=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){Vz(this)})};var Zz=function(){z.S.call(this)};
var $z=function(a){var b=z.y("zh-profile-ask-list");if(b){var c=new ev({use:["autoload","locationSource"],hh:!1});a.L(c);c.w(b);if(a=z.A("zm-profile-section-list"))b=new Lz,b.gi("zm-profile-section-item"),Mz(b,c),b.init(a)}};var aA=function(a){var b=(0,window.$)("#zh-profile-log-list").get(0);if(b){var c=new ev;c.use("locationSource",{As:!0});a.L(c);c.w(b);Yz(b);(0,window.$)(b).on("click",'a[name\x3d"report"]',function(){(new Bv("activity",(0,window.$)(this).data("id"))).submit();return!1})}};
var bA=function(a){var b=(0,window.$)("#zh-profile-fav-list \x3e .zh-general-list").get(0);if(b){var c=new ev({use:["autoload","nodeSource"],hh:!1});a.L(c);c.w(b)}};
var cA=function(a){var b=z.y("zh-profile-topic-list");if(b){var c=new ev({use:["autoload","locationSource"]});a.L(c);a.o().g(c,"itemcreated",function(a){a=a.item;var b=a.getAttribute("data-tid").split("-")[1];if(z.V.Ge===z.Vn[3]){var c=new z.vn(!0,"/topic/bio/update","bio");c.Ht=!0;c.params=["tid\x3d"+b];c.Lb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u4f60\u5728\u8be5\u8bdd\u9898\u7684\u7ecf\u9a8c\x3c/a\x3e';c.w(a)}});c.w(b);if(a=z.A("zm-profile-section-list"))b=new Lz,b.gi("zm-profile-section-item"),
Mz(b,c),b.init(a)}};var dA=function(a){var b=(0,window.$)("#zh-profile-column-list \x3e .zh-general-list").get(0);if(b){var c=new ev({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var eA=function(a){var b=(0,window.$)("#zh-profile-follows-list \x3e .zh-general-list").get(0);if(b){var c=new ev({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var fA=function(a){var b=(0,window.$)("#zh-profile-follows-list-old").get(0);if(b){var c=new ev({use:["autoload","locationSource"]});a.L(c);c.w(b)}};
var gA=function(a){var b=(0,window.$)("#zh-profile-answer-list \x3e .zh-general-list").get(0)||(0,window.$)("#zh-profile-answer-list").get(0);if(b){var c=new ev({hh:!1});a.L(c);c.use("childConstructor",{Pk:hy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("category","profile").fill("label","profile_answers_list")});if(a=z.A("zm-profile-section-list"))b=new Lz,Mz(b,c),b.init(a)}};
var hA=function(a){var b=z.y("zh-profile-page-force-to-rename");(a.Tv=b)&&a.o().g(b,"click",a.dS)};var iA=function(a){var b=z.y("zh-profile-activity-wrap");b&&a.o().g(b,"click",function(a){if((a=a.target)&&"focus"===a.name){var b=a.getAttribute("data-type");(0,z.Fs)(a,b,null,["zm-profile-follow-link-gray","zm-profile-unfollow-link-gray"])}})};
var jA=function(a){var b=z.y("zh-profile-activity-page-list");if(b){var c=new ev({use:["expandLimit"],hh:!0});c.use("locationSource",{url:"/people/"+z.Vn[1]+"/activities",Yr:10,param:function(a){return{start:z.B.Zd(a).getAttribute("data-time")}}});c.use("childConstructor",{factory:zy});a.L(c);c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("category","profile").fill("label","profile_feed")})}};
var kA=function(){var a=z.A("zm-profile-header-operation");a&&(new Nz).w(a);(a=z.A("zm-profile-header"))&&(new Jz).w(a)};
var lA=function(a){var b=z.A("zm-profile-answer-sort");b&&(a.uh=new pv,a.uh.Ja(a.TI=new mv("\u6309\u65f6\u95f4\u6392\u5e8f")),a.uh.Ja(a.UI=new mv("\u6309\u6295\u7968\u6392\u5e8f")),a.uh.Ja(a.SI=new mv("\u95ee"+z.V[0]+"\u7684\u95ee\u9898")),a.uh.ba(b),a.uh.G(!1),a.o().g(b,"click",function(a){this.uh.G(!0);a.stopPropagation();z.Ld(this.o(),window.document,"click",function(){this.uh.G(!1)})}),a.o().g(a.uh,"action",a.qM))};
var mA=function(a,b){var c=new z.U(!0);z.Ld(a.o(),c,"complete",function(){window.location.reload()});c.ajax("/people/"+z.Vn[1]+"/block","action\x3d"+(b?"add":"cancel"))};var nA=function(){var a=z.y("zm-profile-details-editform");a&&(new Ez).w(a)};var oA=function(a){var b=z.A("zm-profile-fav-wrap");b&&a.o().g(b,"click",a.OK)};
var pA=function(a){a.Sy=z.y("zh-profile-search-form");if(a.Sy){qA(a);a.Zj=a.Sy.getAttribute("data_type");a.o().g(a.Sy,"submit",a.search);z.L(window,"popstate",function(a){a=a.state;var b;a&&a.q&&(b=z.y("zh-profile-search-query"),b.value=(0,window.decodeURIComponent)(a.q),rA(this,a.type),this.search(void 0,!1),b.focus())},!1,a);var b=(new z.dk(window.location)).kd().get("pq"),c=(new z.dk(window.location)).kd().get("type");c||(c="all");if(b&&c){var d=z.y("zh-profile-search-info");d&&z.R(d,!0);rA(a,
c);z.y("zh-profile-search-query").value=b;a.search(void 0,void 0,!1)}}};var qA=function(a){var b=z.y("zh-profile-search-type");b&&a.o().g(b,"click",a.kP)};var rA=function(a,b){var c=z.vb("zm-profile-search-type-item");if(c)for(var d=0;d<c.length;d++)z.H.remove(c[d],"current"),c[d].name===b&&z.H.add(c[d],"current");a.Zj=b};var sA=function(){var a=z.y("zh-profile-edit-expert");a&&(new tA).w(a)};
var uA=function(a){var b=z.A("profile-expert-tip");b&&a.o().g(b,"click",function(a){var d=a.target;"enable"!==d.name&&"close"!==d.name||window.$.post("/node/ProfileExpertTopicsV2",{method:d.name},function(a){a&&a.r||("enable"===d.name?window.location.href="/people/edit/expert":z.Wi(b,!0))})});(0,window.$)(".zm-profile-section-wrap.skilled-topics").each(function(){(new Hz).w(this)});(0,window.$)(".zm-profile-module.skilled-topics").each(function(){(new Hz).w(this)});(0,window.$)(".zm-profile-module.active-topics").each(function(){(new Hz).w(this)})};
var tA=function(){z.S.call(this)};var vA=function(){z.S.call(this)};var wA=function(a){var b=window.$.Deferred();z.ch("\u53d6\u6d88\u5c4f\u853d",a,function(a){a?b.resolve():b.reject()});return b.promise()};
var xA=function(a){var b=(0,window.$)(".blocked-users",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);wA("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\uff1a\u5173\u6ce8\u4f60\u3001\u7ed9\u4f60\u53d1\u79c1\u4fe1\u3001\u5411\u4f60\u63d0\u95ee\u3001\u8bc4\u8bba\u4f60\u7684\u7b54\u6848\u3001\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002").then(function(){return window.$.post("/settings/unblockuser",{uid:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});
b.children().length||window.location.reload()})})};
var yA=function(a){var b=(0,window.$)(".blocked-columns",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);wA("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u4f60\u5c06\u53ef\u4ee5\u770b\u5230\u6765\u81ea\u8be5\u4e13\u680f\u7684\u6587\u7ae0\u3002").then(function(){return window.$.post("/settings/unblockcolumn",{id:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});b.children().length||window.location.reload()})})};
var zA=function(){z.S.call(this)};
var AA=function(){function a(a,c){var d={method:"save",params:{settings:a}};window.$.extend(d.params,z.fr.settings_unsubscribe_formdata);window.$.post("/node/NotiEmailSettingsV2",d,function(a){var b;a.r?b="error":(c&&c(),b="success");var d=(0,window.$)(".settings-msg-"+b);d.length?d.show():(d=(0,window.$)('\x3cdiv class\x3d"settings-msg-'+b+'"\x3e'+a.msg+"\x3c/div\x3e"),d.appendTo((0,window.$)("body")));d.delay(1E3).fadeOut()})}(0,window.$)('.settings-receive input[type\x3d"radio"]').on("change",function(){if(this.checked){var b=
(0,window.$)(this),c={type:b.closest(".settings-item").data("type"),noti:b.val()};"no"===c.noti?a(c,function(){b.closest(".settings-receive").next(".settings-mail").addClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!0)}):a(c,function(){b.closest(".settings-receive").next(".settings-mail").removeClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!1)})}});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),
mail:this.checked};a(b)});(0,window.$)("#settings-fast-answer").on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),fast:this.checked};a(b)});(0,window.$)(".settings-msg-disappear").delay(3E3).fadeOut()};
var BA=function(){var a=(0,window.$)(".js-ajax-form");a.submit(function(b){var d=(0,window.$)(b.target);b=d.attr("action")||window.location.href;window.$.post(b,d.serialize()).done(function(b){z.cq(z.C.Oa(b),5E3);d.hasClass("unsubscribe")&&(a.remove(),(0,window.$)(".settings-section").remove())});return!1});(0,window.$)(".js-unsubscribe-other-reason").on("change",function(a){(0,window.$)(a.target).parent().siblings().find(".zg-form-text-input").toggle()});var b=(0,window.$)(".feedback-form");b.submit(function(){var a=
b.attr("action");window.$.post(a,b.serialize()).done(function(){b.before('\x3cdiv style\x3d"font-size:13px;color:black;margin-bottom:20px"\x3e\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01\x3c/div\x3e\x3ca href\x3d"/"\x3e\x26laquo; \u8fd4\u56de\u77e5\u4e4e\x3c/a\x3e');b.remove()});return!1})};
var CA=function(){var a=(0,window.$)("#js-form-account-password");a.length&&((0,window.$)("input[placeholder]",a).each(function(){new z.Ek(this)}),a.validate({messages:{np:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65b0\u5bc6\u7801\u672a\u586b\u5199'},op:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65e7\u5bc6\u7801\u672a\u586b\u5199'},rp:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u786e\u8ba4\u5bc6\u7801\u672a\u586b\u5199'}},errorClass:"validate-error"}))};
var DA=function(){(0,window.$)("#weibopageenable").on("change",function(a){window.$.post("/node/SettingsWeiboPageV2",{method:a.target.checked?"enable":"disable"}).done(function(a){a.r?z.T(a.msg):z.cq([!1,"\u4fdd\u5b58\u6210\u529f"])});return!1})};var EA=function(){var a=z.y("zh-setting-page-black-list-wrap");a&&(new vA).w(a)};
var FA=function(){var a=(0,window.$)("#js-settings-account-form");if(a.length){var b=z.Wg(function(){new z.Ek(z.y("password"))}),c=(0,window.$)("#url_token"),d=(0,window.$)("#js-url-preview .token");c.on("input change keyup",function(){d.text(window.$.trim(this.value))});var f=(0,window.$)("#email"),g=function(){(0,window.$)("#js-email-confirm").removeClass("hidden");f.off("focus",g);b()};f.one("focus",g);(0,window.$)(function(){window.document.activeElement===f.get(0)&&g()});(0,window.$)(".resend-mail",
a).click(function(){var a=(0,window.$)(this);z.Aj.dispatchEvent("/activation/resend-email");window.$.post("/settings/resend_reset_email",function(b){b.r?z.T(b.msg):a.replaceWith("\u5df2\u53d1\u9001")});return!1});GA(a);var c=new z.Ap,h=(0,window.$)(".rename-tab",a);c.w(h.get(0));var l=function(){(0,window.$)("input[placeholder]:visible",h).placeholder()};c.on("select",l);var n=(0,window.$)(".rename-button",a),a=function(){n.remove();h.removeClass("hidden");l()};n.one("click",a);"#rename-section"===
window.location.hash&&a()}};var GA=function(a){(0,window.$)(".zg-form-text-input",a).each(function(){function a(){this.value!==this.defaultValue&&(d.hide(),c.off("change input keyup",a))}var c=(0,window.$)(this),d=c.next(".validate-error");if(d.length)c.on("change input keyup",a)})};var HA=function(a,b,c,d,f){Mv.call(this,a,b,f);this.Pv=c||"people";this.VK=d||["zg-follow","zg-unfollow"]};
var IA=function(a,b,c,d){z.J.call(this);this.h=a;this.Pv=b||"people";this.UK=c||["zg-btn-follow","zg-btn-unfollow"];this.text=d||["\u5173\u6ce8","\u53d6\u6d88\u5173\u6ce8"]};var JA=function(a){z.J.call(this);this.url=a||"/topic"};
var KA=function(a,b,c){var d=c[0],f="";"topic"!==d[0]&&d[3]&&(f='data-parent\x3d"'+d[3]+'"');b.html('\x3ca href\x3d"'+("topic"===d[0]?"/topic/"+d[2]+"/organize/entire":"javascript:;")+'" data-token\x3d"'+d[2]+'" '+f+' name\x3d"'+d[0]+'"\x3e'+d[1]+"\x3c/a\x3e\x3cul class\x3d'zm-topic-organize-list'\x3e\x3c/ul\x3e");"topic"!==c[0][0]&&b.addClass("zm-topic-organize-loadmore");b=(0,window.$)("ul",(0,window.$)(b));if(1<c.length)for(c=c[1],d=0;d<c.length;d++){var f=c[d],g=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");
b.append(g);KA(a,g,f)}};
var LA=function(a){var b={kp:!1,zU:!1};return function(c){if(!1===c)return!1;c={};z.C.extend(c,b,a||{});if(c.kp&&!z.V.pr)return z.gh("\u63d0\u793a\u4fe1\u606f",'\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'),!1;if(c.Rl&&!z.Wq.EK)return z.gh("\u63d0\u793a\u4fe1\u606f",'\x3cp\x3e\u521b\u5efa\u8f83\u4e45\u6216\u5df2\u6709\u8f83\u591a\u8ba8\u8bba\u7684\u95ee\u9898\u9650\u5236\u516c\u5171\u7f16\u8f91\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u95ee\u9898\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e\x3c/p\x3e'),!1}};
var MA=function(a,b,c){z.vn.call(this,a,b,c)};var NA=function(){z.S.call(this);var a=z.Zq;this.uf=a[0][3];this.Qz=a[0];this.Wp=a[4];this.jx=a[5];this.Ug="topic"};var OA=function(){var a=z.y("zh-topic-log-list");a&&((new HA(a,null,null,null,!0)).init(),(0,window.$)(a).on("click",'a[name\x3d"revert"]',z.Se(function(a){!1!==a&&Vz(this)},LA({kp:!0}))).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new Bv("activity",(0,window.$)(this).data("id"))).submit();return!1}))};
var PA=function(a){if(z.y("zh-topic-admin-page-wrap")){var b=z.y("zh-topic-del-btn");b&&a.o().g(b,"click",a.KO)}};var QA=function(a,b){var c=z.tb("li",null,a.lu);z.B.forEach(c,function(a){a.getAttribute("data-token")===b[1]&&z.R(a,!1)})};var RA=function(a){var b=z.y("zh-topic-followers-list-wrap");b&&(a=["/topic",(0,window.encodeURI)(a.Qz[1]),"followers"].join("/"),b=new HA(b,a,null,["zg-btn-follow","zg-btn-unfollow"],!0),b.gi("zm-person-item"),b.init())};
var SA=function(a){var b=z.y("zh-topic-side-head");if(b){var c=z.A("zu-entry-focus-button",b);c&&a.o().g(c,"click",function(){(0,z.Fs)(c,"topic","",["zg-btn-green","zg-btn-white"])});a.$f=z.y("zh-topic-operation-menu");a.$f&&a.o().g(a.$f,"click",a.kz)}if(b=z.y("zh-current-topic-bio")){var d=new z.vn(!0,"/topic/bio/update","bio");ht(d,["tid\x3d"+a.uf]);d.Lb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u4f60\u5728 '+a.Qz[0]+" \u8bdd\u9898\u4e2d\u7684\u7ecf\u9a8c\x3c/a\x3e";d.kC=!0;d.w(b)}};
var TA=function(a){z.Jb(a,z.Gb('\x3ca href\x3d"/question/23261456" class\x3d"zg-link-gray-normal"\x3e\x3ci class\x3d"icon-info" style\x3d"vertical-align: -3px; margin-right: 6px"\x3e\x3c/i\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'))};
var UA=function(a){if(z.y("zh-topic-organize-page-wrap")){var b=z.y("zh-topic-organize-parent-editor");if(b)if(z.V.pr){var c=new Kt(null,a.uf,!0);c.ps=!0;c.w(b);c.addEventListener("remove_tag",function(a){(a=a.data&&a.data.id)&&(0,window.$)("#wedge-"+a).remove()})}else TA(b);if(b=z.y("zh-topic-organize-child-editor"))z.V.pr?(c=new Kt(null,a.uf,!1),c.ps=!0,c.w(b),(0,window.$)("a.entire-link").insertAfter(c.jn).show()):TA(b);(0,window.$)("#zm-topic-manage-relation").on("change",'[type\x3d"checkbox"]',
function(){var a=(0,window.$)(this).closest("li").attr("id").split("-")[1];window.$.post("/topic/update",{action:"set_topic_edge",parent_topic_id:a,topic_id:z.Zq[0][3],edge:this.checked^0}).done(function(a){a&&a.msg&&z.T(a.msg)})});a.ku=z.y("zh-topic-alias-input");new z.Ek(a.ku,"\u8f93\u5165\u8bdd\u9898\u522b\u540d");a.lu=z.y("zh-topic-alias-list");a.o().g(z.y("zh-topic-alias-container"),"click",a.xP);if(b=z.y("zh-topic-merge"))a.Pa=new iu,a.Pa.w(b);(b=z.y("zh-topic-merge-btn"))&&a.o().g(b,"click",
a.bP)}};var VA=function(){var a=z.y("zh-topic-organize-page-children");a&&(new JA("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+"/organize/entire")).w(a)};var WA=function(a){var b=z.y("zh-topic-side-related-topics");b&&(a.uQ=b,a.Gy=new z.U(!1),a.o().g(a.Gy,"complete",a.jP),a.Gy.ajax("/topic/related?tid\x3d"+a.uf))};
var XA=function(a){if(z.Np)(0,window.$)("div.topic-avatar").addClass("disabled");else{var b=z.A("zm-entry-head-avatar-edit-button");if(b){var c=new pz(2,z.Zq[0][3]);c.w(b);var d=z.A("zm-avatar-editor-preview");z.L(c,"beforepost",function(){(0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading topic'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e").appendTo(d.parentNode)});z.L(c,"success",function(){window.$.post("/topic/"+z.Zq[0][1]+"/avatar",{avatar_path:c.getData().id}).then(function(){d&&(d.src=
c.getData().url)}).always(function(){(0,window.$)(".avatar-edit-preview-loading").remove()})});a.o().g(c,"beforeopen",z.Se(LA({kp:!0}),z.kl(z.p,!0)))}}};var YA=function(a){ZA(a);$A(a);a.Ua&&a.o().g(a.Ua,"afterload",function(b){z.X.ma({type:"ga_click_topic_more",data:b.data,target:a.Ua.bc})})};
var ZA=function(a){var b=z.y("zh-topic-feed-list");if(b){var c=new ev;a.L(c);c.use("locationSource",{Yr:0,offset:function(a){return z.B.Zd(a).getAttribute("data-score")}});c.use("childConstructor",{factory:zy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("category",this.Ug).fill("label","topic_activity")})}};
var $A=function(a){var b=z.y("zh-topic-top-page-list");if(b){var c=new ev({hh:!1});a.L(c);c.use("childConstructor",{factory:zy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("category",this.Ug).fill("label","topic_activity")})}};
var aB=function(a){function b(a){a&&a.msg&&z.T(a.msg)}a.Dr=z.y("zh-topic-info-add");a.Dr&&a.o().g(a.Dr,"submit",a.XO);a.cE=z.A("zm-topic-info-content-main",a.h);a.cE&&a.o().g(a.cE,"click",a.VO);(0,window.$)("#zh-topic-manage-info-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/"+z.Zq[0][1]+"/information/manage",{info:(0,window.$)(this).val(),action:"change"}).done(b)});(0,window.$)("#zh-topic-manage-relation-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/update",
{action:"set_topic_weaknode",topic_id:z.Zq[0][3],weak:(0,window.$)(this).val()}).done(b)});(0,window.$)("#zh-topic-manage-lock-form").on("change",'[type\x3d"checkbox"]',function(){window.$.post("/topic/lock",{url_token:z.Zq[0][1],lock_type:this.name,lock_value:(0,window.$)(this).is(":checked")?1:0}).done(b)})};var bB=function(a){z.S.call(this,a)};var cB=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"day"})})};
var dB=function(a){return window.$.get("/node/ExploreHotFavlistsInnerV2",{params:JSON.stringify({offset:a})})};var eB=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"month"})})};var fB=function(){z.J.call(this)};var gB=function(){z.S.call(this);var a=z.$q||[0,0];this.Xr=a[0];this.visible=!!a[1];this.Ug="collection"};
var hB=function(a){var b=z.y("zh-list-answer-wrap");if(b){(0,window.$)(b).on("click","a[name\x3dunfavo]",window.$.proxy(a.BM,a));var c=new ev({hh:!1});a.L(c);c.use("childConstructor",{Pk:hy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("category",this.Ug).fill("label","collection_answer")})}};
var iB=function(a){var b=z.y("zh-list-side-head");if(b){var c=z.A("zu-entry-focus-button",b);c&&a.o().g(c,"click",function(){(0,z.Fs)(c,"favlist","",["zg-btn-green","zg-btn-white"])});a.$f=z.y("zh-list-operation-menu");a.$f&&a.o().g(a.$f,"click",a.kz)}(b=z.y("zh-single-answer-author-info"))&&(new IA(b)).init();(b=z.y("zh-list-create-new-list"))&&a.o().g(b,"click",a.pR);(b=z.y("zh-fav-list-side-bar-creator"))&&(new IA(b)).init();(b=z.y("zh-fav-list-side-bar-report"))&&Dv(new Bv("favlist",a.Xr),b);
a.pk=z.y("zh-favlist-webshare-container");a.pk&&a.o().g(a.pk,"click",a.nz)};var jB=function(a){z.ch("\u5220\u9664\u6536\u85cf\u5939","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u6536\u85cf\u5939\u5417\uff1f",function(a){a&&(a=new z.mj,a.add("favlist_id",this.Xr),a.add("_xsrf",(new z.pf(window.document)).get("_xsrf")),(new bB).post(mt(a),"/collection/delete"))},a)};
var kB=function(a){a.pa||(a.pa=new tx(a.Xr,"favlist"),a.L(a.pa),a.o().g(a.pa,"click!",function(a){"comment"===a.namespace&&(a.Rc.fill("category",this.Ug).fill("label","collection"),a.Rc.action=a.Rc.action.replace("favlist","collection"))}),wx(a.pa,a.Jc,(0,window.$)(".toggle-comment",a.Jc)[0]))};var lB=function(a){a.JH=new z.U(!0);a.o().g(a.JH,"complete",function(){window.location.reload()});a.JH.ajax("/collection/update","favlist_id\x3d"+a.Xr+"\x26is_public\x3d1")};
var mB=function(a){nB||(this.pn=a,this.qh=(0,window.$)(this.pn.m()),(0,window.setTimeout)((0,z.t)(this.gf,this)))};var oB=function(a){(0,window.setTimeout)(function(){window.$.ajax({type:"POST",url:"/zreactor/deliver",data:JSON.stringify(a),contentType:"application/json",processData:!1})},50)};
var pB=function(a){var b=qB[a.qh.data("type")];bv(a.qh[0],function(){rB(a,"display")},a.pn);a.pn.o().g(a.pn,"expand",function(c){c.target instanceof Ux&&rB(a,"expand_"+b)}).g(a.pn,"collapse",function(c){c.target instanceof Ux&&rB(a,"collapse_"+b)});a.qh.on("click",'a[name\x3d"nohelp"]',function(){var b=!!(0,window.$)(this).data("revert");rB(a,b?"unhelpful":"revert_unhelpful");(0,window.$)(this).data("revert",!b)});window.$.each({".actioncard-body .more":"view_all",".actioncard-body .next:not(.disabled)":"next_page",
".actioncard-body .prev:not(.disabled)":"prev_page",".actioncard-body .items a":"open_topic",'.zg-follow[data-follow^\x3d"t:"], .zg-btn-follow[data-follow^\x3d"t:"]':"follow_topic",'.zg-unfollow[data-follow^\x3d"t:"], .zg-btn-unfollow[data-follow^\x3d"t:"]':"unfollow_topic",'a.zg-follow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"follow_"+sB[b],'a.zg-unfollow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"unfollow_"+sB[b],"a.toggle-comment":"expand_comments",'a[name\x3d"addnew"]':"comment",
".content h2 a":"open_"+tB[b],"a.ignore:not(.close)":"uninterest","a.revert":"revert_uninterest","a.ignore.close":"confirm_uninterest","button.up.pressed":"vote_up_"+b,"button.down.pressed":"vote_down_"+b,"button.up:not(.pressed)":"revert_vote_up_"+b,"button.down:not(.pressed)":"revert_vote_down_"+b,'a[name\x3d"favo"]':"collect_answer",'a[name\x3d"thanks"]':"thanks",'a[name\x3d"share"]':"share",'a[name\x3d"report"], .js-report':"report","a.answer-date-link":"open_answer"},function(b,d){a.qh.on("click",
b,function(){rB(a,d)})})};var rB=function(a,b){var c=window.$.extend({},uB(a),{action_type:b,time:(0,z.Wa)()});c.object_id&&("display"===b?a.bQ(c):oB(c))};var uB=function(a){var b=a.pA,c=window.$.extend({},b.data("meta"),{create:a.qh.find(".source .time").data("timestamp"),offset:(0,window.$)(".feed-item").index(a.qh)+1});return{mid:z.fr.ga_vars.user_hash,object_type:qB[a.qh.data("type")],object_id:b.data("id"),object_meta:c,context:vB,others:""}};
var wB=function(a,b,c){Mv.call(this,a,b,c);this.Rx=!1;this.tj=!!(0,window.$)("#is-topstory2").length;this.rA=(0,window.$)("#zh-topstory2-nomore");this.lA=xB(this);this.Ut=(0,window.$)("#zh-topstory2-newblock");this.qA=(0,window.$)("#zh-topstory2-loading-newblock")};var yB=function(a){var b=zB(a);b.each(function(c){var d=(0,window.$)(this);c=b.eq(c+1);if(c.length&&d.data("block")!==c.data("block"))return xB(a).insertBefore(c),!1})};var zB=function(a){return(0,window.$)(a.Ab()).filter("[data-block]")};
var xB=function(a){var b;a.lA?(b=a.lA.detach(),!a.Rx&&AB(a)&&bv(b[0],function(){BB(this)},a)):b=(0,window.$)('\x3cdiv class\x3d"feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u8bfb\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e');return b};var AB=function(a){var b=zB(a).eq(0).data("block");return 0<(0,window.$)("."+a.Wf+"[data-block\x3d"+b+"]").length};var BB=function(a){a.dispatchEvent("shownewblockbtn");a.Ut.show()};var CB=function(a){z.Eg(a,function(a){(0,window.$)(a.m()).remove()})};
var DB=function(){this.interval=3E4};var EB=function(){var a=DB.S();FB(a)};var FB=function(a,b){if(!a.bd||b)b&&(0,window.clearInterval)(a.bd),a.bd=(0,window.setInterval)((0,z.t)(function(){GB(this)},a),a.interval)};var HB=function(){var a=DB.S();GB(a,!0)};var GB=function(a,b){(0,window.$)(".feed-item-hook .time").each(function(){(0,window.$)(this).text(tu((0,window.$)(this).data("timestamp")))});b&&FB(a,b)};
var IB=function(){z.S.call(this);this.mx={};this.os=[];this.xN="old"===(0,window.$)("#feed-ver").val();this.zE=!!(0,window.$)("#is-topstory").length;this.tj=!!(0,window.$)("#is-topstory2").length;this.IC=this.xN?"zm-item":"feed-item-hook";window._gaq=window._gaq||[];this.zE?window._gaq.push(["_setCustomVar",5,"is_topstory",!0,3]):window._gaq.push(["_setCustomVar",5,"is_topstory",!1,3])};
var JB=function(a){a.Ua=new wB(a.h,null,!0);a.getParent()&&a.getParent().L(a.Ua);Nv(a.Ua,"/node/"+(0,window.$)(a.h).data("init").nodename);a.Ua.gi("feed-item-hook");a.o().g(a.Ua,"itemcreated",function(a){KB(this,a.data.KN)}).g(a.Ua,"afterload",function(a){z.X.ma({type:"ga_click_feed_more",data:a.data})}).g(a.Ua,"ignore",function(a){LB(this,a.key,a.value)}).g(a.Ua,"shownewblockbtn",function(){this.vk.addClass("force-hide")}).g(a.Ua,"hidenewblockbtn",function(){this.vk.removeClass("force-hide").hide();
this.ih=0});a.Ua.init()};var MB=function(a){a.K.on("click",".js-change-some",function(){z.oj("feed","intrests-change");var b=(0,window.$)(this),c=(0,window.$)(this).parent().parent();window.$.post("/node/HomeExtraFeedList",{method:"next",params:{}}).done(function(d){!d.r&&d.msg&&(0<d.msg.length?(c.find(".feed-item-hook").remove(),c.append(d.msg).find(".feed-item-hook").each(function(){a.Ua.Jj(this)})):b.replaceWith('\x3cspan class\x3d"zg-right zg-gray"\x3e\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\x3c/span\x3e'))})})};
var NB=function(a){a.K.on("click",".js-more-similar",function(){(0,window.$)(this).parent().slideUp("fast").nextUntil(":not(.hidden)").slideDown("fast")})};var KB=function(a,b){var c=z.wg(z.vg.S());a.mx[c]=b;(0,window.$)(b.h).attr("data-fid",c)};var LB=function(a,b,c){z.C.forEach(a.mx,function(a){a.Mq[b]===c&&(0,window.$)(a.h).fadeOut(150)})};var OB=function(){};var PB=function(){z.S.call(this)};var QB=function(){z.J.call(this);this.Lw=[];this.eC=[]};
var RB=function(a){for(var b=[],c=0;3>c;c++){var d=a.eC.shift();d&&b.push(d)}3===b.length?(a.bs.innerHTML=b.join(""),SB(a)):TB(a)};var SB=function(a){var b=z.vb("suggest-item",a.bs);z.B.forEach(b,function(a){this.Lw.push(a.id.split("-")[1])},a)};var TB=function(a){a.bs.innerHTML='\x3cimg class\x3d"bubble-loading" src\x3d"http://static.zhihu.com/static/img/noti-loading.gif"\x3e';window.$.post("/lookup/suggest_member",{ids:a.Lw.join(",")}).done((0,z.t)(a.IO,a))};var UB=function(){z.S.call(this)};
var VB=function(a){var b=z.y("js-home-feed-list");if(b){var c=new IB;a.L(c);c.w(b)}};var WB=function(){var a=(0,window.$)("#js-global-notify");if(a.length){var b=new z.Tm;b.w(a[0]);it(b);(0,window.$)(".zu-global-notify-close",a).click(function(){var c=(0,window.$)(this).data("id");window.$.post("/notice/read",{nid:c});b.H();a.remove()})}};
var XB=function(){var a=z.V[1],b=z.y("zu-welcome-once");b&&("welcome"===window.location.hash.slice(1)?(z.R(b,!0),z.gi.set("reg_noti_",a,86400)):a===z.gi.get("reg_noti_")&&z.R(b,!0),z.L(z.A("x-m",b),"click",function(){window.location.hash="";z.I(b);z.gi.remove("reg_noti_")}))};
var YB=function(a){var b=(0,window.$)(".user-guiding-box");if(0!==b.length){var c=(0,window.$)(".view-avatar",b),d=(0,window.$)(".view-headline",b),f=(0,window.$)(".view-email",b),g=[];d.length&&g.push(d);c.length&&g.push(c);f.length&&g.push(f);var h=function(){var a=g.shift();if(0===g.length)z.gj()?z.hj(b,"fadeOut",function(){b.remove()}):b.remove();else{var c=g[0];z.gj()?z.hj(a,"fadeOutRight10",function(){a.remove();c.show();z.hj(c,"fadeInLeft10")}):(a.remove(),c.show())}};(0,window.$)(".js-noavatar",
b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"avatar"}});h();ZB("close_avatar")});(0,window.$)(".js-noheadline",b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"headline"}});h();ZB("close_headline")});var l=new pz(qz);l.w((0,window.$)(".js-uploadavatar",b));l.on("success",function(a){a.src&&(window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:l.getData().id}}},function(a){a&&
!a.r&&(0,window.$)(".avatar-edit-preview-loading").remove()}),(0,window.$)(".zu-top-nav-userinfo img.avatar").attr({src:a.src.url}),h(),ZB("upload_avatar"))},!1,a);var n=(0,window.$)("form",d);n.validate({submitHandler:function(b){window.$.post("/node/HomeGuideV2",{method:"add_headline",params:{headline:(0,window.$)('input[name\x3d"headline"]',b).val()}},function(b){b&&b.r?263===b.errcode?a.showErrors({headline:"\u4ecb\u7ecd\u8fc7\u957f"}):a.showErrors({headline:"\u4fdd\u5b58\u5931\u8d25"}):(h(),
ZB("add_headline"))})},messages:{headline:{required:"\u4e0d\u80fd\u4e3a\u7a7a",maxlength:"\u4ecb\u7ecd\u8fc7\u957f"}},rules:{headline:{maxlength:40}},errorPlacement:function(a){a.appendTo((0,window.$)(".button-wrapper",n))},focusCleanup:!0,focusInvalid:!1})}};var ZB=function(a){z.Ok({t:"event",tid:"zhihu.web.register",action:a})};var $B=function(){z.Kg.call(this,null,!1);this.mB="zh-lightbox-showing";this.YR="zh-lightbox-thumb";this.gf()};var aC=function(a,b,c){mv.call(this,a,b,c);this.ji(!0)};
z.bC=function(){};z.cC=function(){};var dC=function(){};z.eC=function(a,b,c){z.Rh.call(this,a,b||dC.S(),c)};var fC=function(){};var gC=function(a,b){return b.B("div","goog-color-menu-button-indicator",a)};var hC=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(Wt.test("#"==b.charAt(0)?b:"#"+b)||Tt(b).length||Hu&&Hu[b.toLowerCase()]);c=c?Gu(b).qr:null;a.firstChild.style.borderBottomColor=c||(z.x?"":"transparent")}};z.iC=function(){};
var jC=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var l=[],n=0;n<c.width;n++){var q=b&&b[h++];l.push(kC(a,q,d))}f.push(d.B("tr",a.O()+"-row",l))}return a.Xu(f,d)};var kC=function(a,b,c){a=c.B("td",{"class":a.O()+"-cell",id:a.O()+"-cell-"+lC++},b);z.rc(a,"gridcell");return a};var mC=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.H.has(c,a.O()+"-cell"))return c.firstChild;c=c.parentNode}return null};
var nC=function(a,b,c,d){c&&(c=c.parentNode,z.H.enable(c,a.O()+"-cell-hover",d),z.sc(b.m().firstChild,"activedescendent",c.id))};var oC=function(a){z.J.call(this);this.Dd=[];pC(this,a)};var pC=function(a,b){b&&(z.B.forEach(b,function(a){this.am(a,!1)},a),z.B.extend(a.Dd,b))};z.qC=function(a,b,c){z.Kh.call(this,a,b||z.iC.S(),c);this.Bi&=-89};z.rC=function(a,b){if(a.m())throw Error("Component already rendered");a.mc=z.ha(b)?new z.mb(b,void 0):b;sC(a)};var tC=function(a){var b=a.gb();return b&&b[a.Hb]};
var uC=function(a,b){var c=a.gb();a.Rb(c?z.B.indexOf(c,b):-1)};var vC=function(a,b,c){if(a.m()){var d=a.gb();d&&0<=b&&b<d.length&&nC(a.N,a,d[b],c)}};var sC=function(a){var b=a.gb();if(b)if(a.mc&&a.mc.width){if(b=Math.ceil(b.length/a.mc.width),!z.ha(a.mc.height)||a.mc.height<b)a.mc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.mc=new z.mb(b,b);else a.mc=new z.mb(0,0)};var wC=function(a,b,c){this.mq=a||[];z.qC.call(this,null,b||z.iC.S(),c);this.mq=this.mq;this.qs=null;this.ya(xC(this))};
var xC=function(a){return z.B.map(a.mq,function(a){var c=this.M().B("div",{"class":this.N.O()+"-colorswatch",style:"background-color:"+a});"#"==a.charAt(0)&&(a=Vt(a),a="RGB ("+[(0,window.parseInt)(a.substr(1,2),16),(0,window.parseInt)(a.substr(3,2),16),(0,window.parseInt)(a.substr(5,2),16)].join(", ")+")");c.title=a;return c},a)};var yC=function(a){if(a)try{return Gu(a).qr}catch(b){}return null};var zC=function(a,b,c,d){vv.call(this,a,b,c||fC.S(),d)};
var AC=function(a){var b=new pv(a);z.C.forEach(BC,function(c){c=new wC(c,null,a);z.rC(c,8);b.L(c,!0)});return b};var CC=function(){};var DC=function(){};var EC=function(a,b,c,d){zC.call(this,a,b,c||DC.S(),d)};var FC=function(a,b,c,d){vv.call(this,a,b,c||CC.S(),d)};var GC=function(a,b,c,d){vv.call(this,a,b,c,d);HC(this,a);this.Qo("listbox")};var HC=function(a,b){a.hv=b;IC(a)};var JC=function(a,b){a.oa=new oC;b&&z.Eg(b,function(a){KC(a);this.oa.Ja(a)},a);LC(a)};
var LC=function(a){a.oa&&a.o().g(a.oa,"select",a.ej)};var IC=function(a){var b=a.Eg();a.ya(b?b.Cg():a.hv)};var KC=function(a){a.Qo(a instanceof mv?"option":"separator")};var MC=function(a,b,c,d){GC.call(this,a,b,c||CC.S(),d)};var NC=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};
var OC=function(a,b){z.B.forEach(b,function(b){var d=b.caption;b=b.value;var f=NC(b),d=new aC(d,b,a.M());z.zg(d,f);a.Ja(d);d.W().style.fontFamily=b})};var PC=function(a){z.B.forEach(QC,function(b){var c=b.value;b=new aC(b.caption,c,a.M());a.Ja(b);b=b.W();b.style.fontSize=(RC[c]||10)+"px";b.firstChild.style.height="1.1em"})};var SC=function(a){z.B.forEach(TC,function(b){var c=b.caption;b=b.Aa;var d=a.M(),c=new aC(d.B("DIV",null,c),b,d);z.zg(c,b);a.Ja(c)})};
z.UC=function(a,b,c,d,f,g){c=new z.eC(VC(c,d,g),f,g);z.zg(c,a);c.Pc(b);return c};z.WC=function(a,b,c,d,f,g){a=z.UC(a,b,c,d,f,g);z.Nh(a,16,!0);return a};var XC=function(a,b,c,d,f,g){f=new MC(null,null,f,g);d&&z.B.forEach(d.split(/\s+/),f.th,f);f.th("goog-toolbar-select");HC(f,c);z.zg(f,a);f.Pc(b);return f};var YC=function(a,b,c,d,f,g){c=new EC(VC(c,d,g),null,f,g);z.zg(c,a);c.Pc(b);return c};
var VC=function(a,b,c){a&&""!=a||!z.O||z.w("1.9a")||(a="\u00a0");return(c||z.ob()).B("DIV",b?{"class":b}:null,a)};var ZC=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in $C&&(c=$C[b]);c.length&&OC(a,c);OC(a,aD)};var bD=function(a,b,c,d,f,g){var h=z.UC(a,b,c,d,f,g);h.pi=function(a){h.cb(a)};return h};var cD=function(a,b){var c=b;try{if(z.x)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.X()&&a.Ea(c)}catch(g){}};
z.dD=function(a){z.pw.call(this);this.ga=new z.Kd(this);this.VD=z.G("div",{style:"display:none"});this.h=this.qc=null;this.J={};z.C.extend(this.J,this.defaults,a||{})};var eD=function(a){if(a.ip){var b=(0,window.$)(a.ip);b.stop().text("\u8349\u7a3f\u5df2\u7ecf\u4fdd\u5b58").fadeTo(600,.5).delay(3E3).fadeOut(600,function(){b.text("")})}};
var fD=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.AC||(a.MM=window.history.length),a.AC=!0,gD(a,"writing"),a.XH=z.qc(z.ob((z.m||window).document)),z.Ob(a.VD,a.J.kk),a.qc.appendChild(a.J.kk),z.H.add(window.document.body,a.J.Vv),a.yb=z.A(a.J.fS,a.h),a.yb.appendChild(a.ip),hD(a),z.Fa(z.gc(a.F.va))||a.F.Sf(),a.dispatchEvent("enterFullScreen"))};
var iD=function(a){!z.bh&&a.AC&&a.MM!==window.history.length?window.history.back():gD(a,"");a.yb.removeChild(a.ip);a.WG(!1);a.h.onscroll=null;a.ga.Ia(window.document,"keydown",a.so,!1,a);z.Ob(a.J.kk,a.VD);z.H.remove(window.document.body,a.J.Vv);window.scrollTo(a.XH.x,a.XH.y);a.dispatchEvent("exitFullScreen")};var gD=function(a,b){z.ad(window,"hashchange",a.EF,!1,a);window.location.hash=b||"";(0,window.setTimeout)((0,z.t)(function(){this.ga.g(window,"hashchange",this.EF,!1,this)},a))};
var hD=function(a){var b=a.h;b.scrollTop=0;var c=a.yb.getBoundingClientRect().top;b.onscroll=z.Se((0,z.t)(a.WG,a),function(){return b.scrollTop>c});a.ga.g(window.document,"keydown",a.so,!1,a)};var jD=function(a,b){z.J.call(this);this.Zf=a;this.gz=b||kD;a.rb||(this.show=z.p)};var lD=function(a,b,c){mv.call(this,a,b,c);this.Mo(!0)};var mD=function(a,b){z.J.call(this);this.na=a;this.Mb=b;this.data=z.Wq};var nD=function(a,b){return a?b?new lD(a):new mv(a):new ov};
var oD=function(a){a.Tl.innerHTML="";z.R(a.Tl,!1);a.Tn=!1;a.Ll.cm("\u95ee\u9898\u91cd\u5b9a\u5411");z.hh("/question/unredirect",null,"POST","qid\x3d"+a.na+"\x26rqid\x3d"+a.Ws)};var pD=function(a){z.vn.call(this,!0,"/topic/bio/update","bio");this.Rz=a[0];this.params=["tid\x3d"+this.Rz[3]];this.content=a[1];this.Lb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u63cf\u8ff0\u4f60\u5173\u4e8e '+this.Rz[0]+" \u7684\u7ecf\u9a8c\x3c/a\x3e";this.Ht=!0};
var qD=function(a,b){z.J.call(this);this.eN=b;this.Tk=a;this.items=[];this.wx=!1};var rD=function(){sD||(sD=new qD(z.Yq,!1));return sD};var tD=function(a){a.locked=!0;var b=new z.U(!0);a.o().g(b,"success",function(a){this.iO=!0;this.locked=!1;a=z.fe(a.target);a.r||(this.Tk=a.msg,uD(this))});b.ajax("/question/"+a.wG+"/bios",null,"GET")};
var uD=function(a){if(!a.locked)if(!a.iO&&a.wx)tD(a);else{if(!a.fa){a.fa=new z.Xg;a.fa.Wa("\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c");z.Sg(a.fa,null);z.Pg(a.fa,!1);var b=a.fa.W();b.innerHTML='\x3cdiv class\x3d"zg-section-title"\x3e\u4fee\u6539\u6bcf\u4e2a\u8bdd\u9898\u65c1\u8fb9\u9760\u8fd1\u4f60\u540d\u5b57\u7684\u7b80\u4ecb\uff1a\x3c/div\x3e';a.ba(b)}a.fa.G(!0)}};
var vD=function(a,b){z.S.call(this);this.sb=a;this.Sq=gt(this.sb);this.isContentEditable=this.sb.isContentEditable();this.$R=30;this.bd=new z.jd(1E3*this.$R);this.na=z.Wq?z.Wq.na:0;this.rE=b||!1};var wD=function(a){xD(a,"\u4fdd\u5b58\u4e2d\u2026");a.ln();a.iN()};var yD=function(a){a.bd.stop()};var zD=function(a){a.Mz&&((0,window.clearInterval)(a.Mz),a.Mz=null)};var AD=function(a,b){var c=tu(b||(0,z.Wa)());/^\d/.test(c)&&(c=" "+c);xD(a,"\u5df2\u5b58\u4e8e"+c)};
var xD=function(a,b,c){var d=(0,window.$)(a.eE);c?d.addClass("warning"):d.removeClass("warning");z.R(a.Cr,!0);z.bc(a.eE,b)};var BD=function(a){CD(a);var b={qid:a.na,timestamp:(0,z.Wa)()};(0,window.setTimeout)(function(){window.$.post("/draft/delete",b)},500)};var CD=function(a){a.IE&&(a.IE.abort(),a.Vk());zD(a);z.R(a.Cr,!1);a.dispatchEvent("clearContent")};
var DD=function(a,b,c){z.yn.call(this,!1);this.mb=!!a;this.kg=b;this.Lb="\x26nbsp;";this.Wp=c;this.Gt=this.tv=this.TC=this.enabled=!0;if(z.V.active||!z.V.ra())this.Bx='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e\u5199\u56de\u7b54\u2026\x3c/span\x3e'};var ED=function(a,b){a.Wp=b?b:z.V[4];if(a.Jr&&window.$.trim(b)){var c=b;20<c.length&&(c=c.substring(0,17)+"...");a.nJ.innerHTML="\uff0c"+z.Ia(c)+'\x3ca name\x3d"edit_bio" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e'}};
var FD=function(a,b,c){b=(0,window.$)(b).css("top",0).css("z-index",9);(0,window.$)(a.Ac).hide();c=(0,window.$)(c);(0,window.$)(a.Mi).append(b).after(c);a=z.kl(z.p,{ra:"question_answer_add_start",gd:!0},"#draft");b.on("click",a);c.on("click",a)};
var GD=function(a){a.tk?a.tk.show():(a.tk=(0,window.$)('\x3cdiv class\x3d"question-tip-box-bottom"\x3e\u786e\u5b9a\u60f3\u8981\u56de\u7b54\u4f60\u81ea\u5df1\u63d0\u51fa\u7684\u95ee\u9898\u5417\uff1f\x3cbr\x3e\u5982\u679c\u9700\u8981\u5bf9\u95ee\u9898\u505a\u51fa\u66f4\u591a\u7684\u89e3\u91ca\u548c\u8bf4\u660e\uff0c\u8bf7\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0\u3002 \u5982\u679c\u9700\u8981\u5bf9\u5176\u4ed6\u56de\u7b54\u505a\u51fa\u56de\u5e94\uff0c\u8bf7\u5728\u76f8\u5e94\u56de\u7b54\u4e0b\u901a\u8fc7\u8bc4\u8bba\u53d1\u5e03\u3002\x3cbr\x3e\x3cdiv class\x3d"zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-btn zg-btn-blue" name\x3d"confirm"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-link-gray " name\x3d"cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),a.tk.on("click",
'[name\x3d"cancel"]',function(){a.tk.hide()}).on("click",'[name\x3d"confirm"]',function(){a.tk.hide();(0,window.$)(a.Ub).hide();a.cb(!0);a.rf()}),(0,window.$)(a.Ub).after(a.tk))};var HD=function(a){var b=(0,window.$)("input[name\x3danno-checkbox]",a.Ac)[0],c=(0,window.$)("label",a.Ac)[0];a.Kp=b;z.Wq.mb&&(a.Kp.checked=!0);z.$f(c,!0)};var ID=function(a,b,c,d,f){z.yn.call(this,d,b,c);this.na=a;this.Qr=this.Eo=!1;this.LP=f};var JD=function(a,b){a.Qr=b};
var KD=function(){var a=z.G("select",{style:"1px solid #999 "}),b=z.G("option",{value:"none"},"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531...");a.appendChild(b);z.B.forEach(LD,function(b,d){var f=z.G("option",{value:b.value},d+1+". "+b.label);a.appendChild(f)});return a};var MD=function(a,b){pv.call(this,a,b);this.Cm=!0;this.Me(!0);this.G(!1,!0);this.tf=new z.od};
var ND=function(a,b,c,d,f){var g=a.T();a.kx()&&a.cS?a.hide():(a.Hf=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.R(a.m(),!0),b.aa(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Rb(-1),a.G(!0)))};var OD=function(){z.S.call(this)};var PD=function(){z.Xg.call(this);this.Jf=!0;this.G(!0)};
var QD=function(a,b){a.Wa("\u63d0\u95ee\u65e0\u4eba\u95ee\u6d25\uff1f");a.ya(b);a.aa();(0,window.$)(".js-gonext",a.h).on("click",function(){var b=(0,window.$)(this).parents('[class^\x3d"view"]').attr("class");"view-starting"===b?(a.Wa("\u7b2c\u4e00\u6761"),a.Fd("firsttip")):"view-firsttip"===b?(a.Wa("\u7b2c\u4e8c\u6761"),a.Fd("secondtip")):"view-secondtip"===b?(a.Wa("\u7b2c\u4e09\u6761"),a.Fd("thirdtip")):"view-thirdtip"===b&&a.G(!1)})};
var RD=function(a,b){a.Wa("\u9080\u8bf7\u56de\u7b54\u5c0f\u7a8d\u95e8");a.ya(b);a.aa();(0,window.$)(".js-close",a.h).on("click",function(){a.G(!1)})};var SD=function(a,b){z.S.call(this);this.lQ=a;this.Hs=b;this.ca=null;this.$e=!1;this.On=null;this.zl=[];this.jH=[];this.Vg=!0;this.XN="loading";this.nE="zg-btn-white";this.rN="invite-button"};
var TD=function(a){function b(a){0>a||a>d-1||(h.find("li").hide().slice(4*a,4*(a+1)).show(),0===a?f.addClass("link-disabled"):f.removeClass("link-disabled"),a===d-1?g.addClass("link-disabled"):g.removeClass("link-disabled"),c=a)}a=a.h;var c=0,d,f,g,h;h=(0,window.$)(".suggest-persons",a);d=h.find("li").length/4;f=(0,window.$)(".js-prev",a).on("click",function(){b(c-1)});g=(0,window.$)(".js-next",a).on("click",function(){b(c+1)});b(0)};
var UD=function(a,b){return!!z.B.find(a.zl,function(a){return a.id===b})};var VD=function(a,b,c){a=a.nE;c?(z.H.add(b,a),z.bc(b,"\u6536\u56de\u9080\u8bf7")):(z.H.remove(b,a),z.bc(b,"\u9080\u8bf7\u56de\u7b54"))};var WD=function(a,b){var c=z.Wq;a.dispatchEvent(new Xw("click!invitation",{category:"invitation",action:"ask_to_answer",label:b,value:c.wE?null:c.me}))};
var XD=function(a,b,c){var d=(0,window.$)(".invite-button",a.iH).filter(function(){return this.getAttribute("data-uid")===b}).get(0);d&&VD(a,d,c)};var YD=function(a,b){return z.B.find(a.jH,function(a){return a.id===b})};var ZD=function(a,b){a.zl.unshift(b);$D(a);(0,window.$)(".ignore-invite-hint").css("display","none")};var aE=function(a,b){a.zl&&z.B.yQ(a.zl,function(a){return a.id===b})&&($D(a),(0,window.$)(".ignore-invite-hint").css("display","none"))};
var $D=function(a){var b=a.zl,c={each:z.B.forEach,fullList:function(){return(0,z.Hn)(a.bL,{persons:b,helper:c})}};a.cx.innerHTML=b.length?(0,z.Hn)(a.jR,{persons:b,helper:c}):""};var bE=function(a){this.data=a;this.pa=null};
var cE=function(a){var b=z.A("panel-container",a.h);b&&(a.Fl=new OD,a.L(a.Fl),a.Fl.w(b),a.pa=new tx(a.data.na,"question"),a.Fl.L(a.pa),wx(a.pa,a.Fl.m(),(0,window.$)(".toggle-comment",a.h)[0]),a.mj(),"normal"===z.Wq.status&&(b=new SD(a.data.na,a.data.rb),b.ba(a.Fl.m()),a.Fl.L(b),z.Wq.sR&&(b.expand(),a.dispatchEvent(new Xw("show!invitation",{category:"invitation",action:"ask_to_answer_card",label:""}))),a.mE=b))};
var dE=function(a,b){var c=a.xI;c||(c=new MD,c.w(z.y("zh-question-admin-menu")),z.Eg(c,function(a){a.Ea(a.m().getAttribute("data-action"))}),a.o().g(c,"action",function(a){a=this.JA=a.target;(new Zw).open(a.m(),{id:this.data.na,type:"question"},(0,z.t)(this.YJ,this))}),a.xI=c);c.T()?c.G(!1):ND(c,new Zt(b,1,!0),0,new z.sf(5,0,5,0))};
var eE=function(a){z.ch("\u5220\u9664\u95ee\u9898","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u95ee\u9898\u5417\uff1f\u76f8\u5173\u7684\u8bc4\u8bba\u4e5f\u5c06\u88ab\u5220\u9664\u3002",function(a){if(a){var c=new z.U(!0);z.L(c,"complete",function(){var a=z.fe(c);a&&!a.r?window.location.href="/":z.T(a.msg)});c.ajax("/question/delete/"+this.data.na)}},a)};var xy=function(a,b){this.kb=a;this.entryType=b;this.Ql=null;this.tg="post"===b?py:qy};var fE=function(a){this.K=(0,window.$)(a);this.gf()};
var gE=function(a,b,c){z.yn.call(this,a,b,c)};var hE=function(){this.Ku=[]};var iE=function(a,b,c){var d=b.M().B("span");d.className="goog-submenu-arrow";jE(b,d);a.W(c).appendChild(d)};var jE=function(a,b){a.Cd()?(z.H.add(b,"goog-submenu-arrow-rtl"),z.bc(b,a.Ip?"\u25c4":"\u25ba")):(z.H.remove(b,"goog-submenu-arrow-rtl"),z.bc(b,a.Ip?"\u25ba":"\u25c4"))};var kE=function(a,b,c,d){mv.call(this,a,b,c,d||hE.S())};var lE=function(a){a.Md&&z.md(a.Md);a.mz&&z.md(a.mz)};
var mE=function(a){z.Eg(a.getParent(),function(a){a!=this&&"function"==typeof a.zg&&(a.zg(),lE(a))},a)};var nE=function(a,b){a.dispatchEvent(z.yg(64,b));var c=a.Ya();if(b!=c.T()&&(b&&(c.Da||c.ba(),c.Rb(-1)),a.SD=b,z.H.enable(a.m(),"goog-submenu-open",b),c.G(b),b)){var c=new Zt(a.m(),a.Ip?6:4,a.BN),d=a.Ya(),f=d.m();d.T()||(f.style.visibility="hidden",z.R(f,!0));c.aa(f,a.Ip?4:6);d.T()||(z.R(f,!1),f.style.visibility="visible")}};var oE=function(a,b,c){var d=a.o();(c?d.g:d.Ia).call(d,b,"highlight",a.GO)};
var pE=function(a,b,c,d){kE.call(this,a,b,c,d)};var qE=function(a,b,c){z.S.call(this);this.na=a;this.la=c;this.kK=b||z.Wq;this.Su=null};var rE=function(a,b){return z.kl(a,b,function(){return this.tn()})};
var sE=function(a){var b=z.A("zm-item-answer",a.h)||a.h;a.la=b.getAttribute("data-aid");a.He="1"===b.getAttribute("data-isowner");a.rb=b.getAttribute("data-atoken");a.Th="1"===b.getAttribute("data-deleted");a.Yu=+b.getAttribute("data-created");a.IM=+b.getAttribute("data-helpful");a.zN="1"===b.getAttribute("data-good");a.qj="1"===b.getAttribute("data-collapsed");a.mb=null};var tE=function(a,b){var c={};c.Uq=!!b;c=a.rt=new dv(c);a.L(c);c.w(a.h);c.Ec()&&z.Ld(a.o(),c,"expand",a.Fx);bv(a.h,a.Dj,a)};
var uE=function(a,b){a.Jc=b};var vE=function(a){var b=z.A("zm-item-vote-info",a.h);if(b){a.mk=new xy(a.la);a.L(a.mk);a.mk.w(b);b=(0,window.$)(".zm-item-vote-count",a.h);b[0]||(b=(0,window.$)(".zm-item-vote-count",a.Jc));var c=[b[0],(0,window.$)(".zm-votebar .count",a.h)[0]];if(c.length){var d=a.mk;a.mk.on("change",function(){z.B.forEach(c,function(a){z.Vi(a,d.Ra())})})}}};
var wE=function(a){var b=z.A("more-actions",a.Jc);if(b){var c={share:{label:"\u5206\u4eab",action:a.uc},fav:{label:"\u6536\u85cf",action:a.aj},report:{label:"\u4e3e\u62a5",action:a.nM},nohelp:{label:a.IM?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9",action:a.yD}},d=new pv,f=function(a){z.Cg(d)&&d.Ja(new ov);var b=new mv(c[a].label);b.Ea(a);d.Ja(b)};f("share");f("fav");a.He||(f("nohelp"),z.V.ra()&&f("report"));f=new vv("operation",d);f.Xj=!0;xv(f);wv(f);f.Kl=function(){};f.gc=z.Dq;
f.w(b);z.H.add(d.m(),"zh-answer-more-actions");a.o().g(d,"action",function(a){var b=a.target.X();(b=c[b])&&b.action&&b.action.call(this,a)})}};
var xE=function(a){if(!a.le&&a.He&&z.Wq&&a.la){a.le=new gE(!1,"/answer/content","content");z.Ec(a,a.le);a.le.Gt=!0;a.le.tv=!0;a.le.gD=DD.prototype.gD;var b=z.A("zm-item-rich-text",a.h);ht(a.le,["id\x3d"+a.na]);a.le.w(b);a.o().g(a.le,"shouldUpdateContent",function(a){if(z.fa(a.data))return!1});a.o().g(a.h,"click",function(a){"suggest_edit"===a.target.name&&(this.le.rf(),(0,window.$)(".zh-question-censor-tip",this.h).hide());return!0})}};
var yE=function(a,b){if(!a.pa){a.pa=new tx(a.la,"answer",b);a.L(a.pa);wx(a.pa,a.Jc,(0,window.$)(".toggle-comment",a.Jc)[0]);Tx(a.pa);a.pa.ct(a.tn());var c=window.location.hash.slice(1).split("-"),d=window.location.pathname.split("/"),d="answer"===d[3]&&d[4];"comment"===c[0]&&c[1]&&d===a.rb&&(a.pa.Qa(!0),a.o().g(a.pa,"expand",function(){Ex(this.pa)}))}};var zE=function(a){if(a.Gp)a.Gp.G(!0);else{var b=AE(a);b&&(ND(b,new Zt(a.yI,1,!0),0,new z.sf(5,0,5,0)),BE(a,b),CE(a,b),a.Gp=b)}};
var AE=function(a){var b=(0,window.$)("a[name\x3dadmin]",a.Xh)[0];if(b){a.yI=b;DE=0;var c=new MD;a.L(c);c.attach(b,5);var d=a.qj?new mv("\u53d6\u6d88\u6298\u53e0"):new pE("\u6298\u53e0");d.Ea("collapse");var f=function(a,b){var c=new mv(b+1+" "+a.label);c.Ea(a.value);d.Ja(c)};a.qj||EE("answer","collapse").then(function(a){z.B.forEach(a,f);z.H.add(d.Ya().m(),"manage-menu")});b=new mv("\u5220\u9664");b.Ea("delete");c.Ja(d);c.Ja(b);c.ba(a.h);z.H.add(c.m(),"manage-menu");return c}};
var BE=function(a,b){a.o().g(b,"action",function(a){var b=a.target;a=b.X();var b=b.m(),f=new z.jk;"collapse"===a?(f.add("answer_id",this.la).add("action","collapse2").add("collapse",this.qj?"cancel":"done"),b.setAttribute("data-op",this.qj?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),FE(this,b)):"delete"===a?(f.add("answer_id",this.la).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
FE(this,b)):z.ha(a)&&(b=new z.jk,b.add("answer_id",this.la).add("action","collapse2").add("collapse",this.qj?"cancel":"done").add("reason",a),$w("/manage",b.toString(),(0,z.t)(this.OF,this)))})};var FE=function(a,b){(new Zw).open(b,{id:a.la,type:"answer"},(0,z.t)(a.OF,a))};
var GE=function(a){function b(){c();var b=a.Gp.Nh(0);b.Ya&&b.Ya()&&(b.lt(),b.Ya().Rb(0))}function c(){zE(a);a.Gp.Rb(0)}var d=new fE(a.h),d=z.Ir.YH(d.getItem()||a.h);z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(d.register("v",function(){this.pb&&this.pb.Ct()},a),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"}).register("d",function(){this.pb&&this.pb.Bt()},a),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"}).register("f x",a.uc,a),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("s c",a.aj,a),{group:"\u64cd\u4f5c",
name:"\u6536\u85cf"}).register("t",a.kr,a),{group:"\u64cd\u4f5c",name:"\u611f\u8c22"}).register("c",a.tw,a),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",a.$q,a),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"});var f=z.Qc?"\u2318":"ctrl";z.bq.pE&&(0,window.$)("a[name\x3dadmin]",a.Xh)[0]&&z.Ui(z.Ui(d.register("meta+.",c),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u83dc\u5355",key:f+"+."}).register("meta+k",b),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u6298\u53e0\u5b50\u83dc\u5355 (Kill)",
key:f+"+k"})};var CE=function(a,b){a.o().g(b,"show",function(){z.H.add(this.Jc,"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.H.remove(this.Jc,"zm-item-meta-has-menu")})};
var HE=function(a){var b=(0,window.$)('[name\x3d"comment_opt"]',a.Jc);if(b.length){var c=b.data(),d=new pv,f=new lD("\u7981\u6b62\u8f6c\u8f7d");f.ad(!c.copyable);d.Ja(f);d.Ja(new ov);IE(a,d);d.Ja(new ov);d.Ja(new mv("\u5220\u9664"));a.o().g(d,"action",a.xL);CE(a,d);z.H.add(d.m(),"zg-gray-normal");a=new vv("comment",d);a.Xj=!0;xv(a);wv(a);a.gc=z.Dq;a.w(b[0])}};
var JE=function(a){if(!a.EB||!a.EB.Ib()){var b=new z.U(!0);z.Ld(a.o(),b,"success",function(a){if((a=z.fe(a.target))&&!a.r){var b=a.msg;z.B.forEach(this.Tu,function(a){a.X()===b&&a.ad(!0)});this.Su=b}else z.T(a.msg)});b.ajax("/answer/comment_permission?answer_id\x3d"+a.la,null,"GET");a.EB=b}};var IE=function(a,b){a.Tu=[];z.C.forEach(KE,function(a,d){var f=new lD(a);f.Ea(d);f.ad(d===this.Su);this.Tu.push(f);b.Ja(f)},a)};
var LE=function(a){var b=new z.U(!0);z.Ld(a.o(),b,"success",function(){z.R(this.h,!this.Th);this.Th?this.$t="set_delete":(xE(this),this.$t="cancel_delete");this.dispatchEvent("change");(0,window.$)(this.h).parent(".zm-item").hide()});b.ajax("/answer/"+(a.Th?"remove":"unremove"),"aid\x3d"+a.la)};var ME=function(a){a.Th=!1;a.status=0;LE(a)};var NE=function(a,b,c){qE.call(this,a,b,c)};
var OE=function(){z.S.call(this);this.data=z.Wq||{};this.na=this.data.na;this.Tn=!1;this.Ai={};this.ru=[];this.Lp=[];this.Zh=0;this.Zf=z.Xq&&z.Xq.url_token?z.Xq:null};var PE=function(a){z.V.Yg&&window.$.post("/question/popup",{action:"no_answer",question_token:a.data.rb},function(a){a&&QD(new PD,a)})};var QE=function(a){(0,window.$)(".js-ignore-invite").click(function(){(0,window.$)(".question-invited-by").hide();window.$.post("/question/askpeople",{qid:a.data.rb,uid:z.V.Ge,op:"pass"})})};
var RE=function(a){SE(a);TE(a);UE(a,null);VE(a);a.o().g(z.Aj,"anon_change",function(a){this.data.mb=a.mb})};var WE=function(a){"close"!==z.Wq.status&&(a.Pa=new z.Il(a.data.Sz,a.data.na),a.Pa.gs=5,a.Pa.ks=1,a.Pa.MA=!0,a.Pa.ps=!0,a.Pa.w(z.A("zm-tag-editor",a.h)),a.o().g(a.Pa,["remove_tag","add_tag"],function(){z.X.ma("ga_edit_question_topic_changed")}),a.o().g(a.Pa,"start_editing",function(){z.X.ma("ga_question_topic_edit_finish_changed")}),a.Pa.addEventListener("beforeedit",LA({Rl:!0})))};
var XE=function(a){"close"===z.Wq.status&&(0,window.$)('.question-status [name\x3d"appeal"]').click(window.$.proxy(function(){var a=this.na,b=new z.Xg;z.Pg(b,!0);b.Jf=!0;z.Sg(b,z.jr);b.Wa("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");b.ya('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');b.G(!0);b.aa();b.o().g(b,z.ir,function(){window.$.post("/question/appeal",
{qid:a,reason:(0,window.$)('[name\x3d"reason"]',b.h).val()},function(){z.ch({title:"\u7533\u8bc9\u63d0\u4ea4",Ej:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",aa:!0,buttons:["\u77e5\u9053\u5566"]})})})},a));var b=z.y("zh-question-title");
"false"!==b.getAttribute("data-editable")&&(a.cd=new ID(a.data.na,"/question/title","content",!1,!0),a.cd.kC=!0,a.cd.Rd=!0,a.cd.Eo=!0,JD(a.cd,zu(a.data.Yg)),a.cd.w(b),a.o().g(a.cd,"change",function(){z.Aj.dispatchEvent("question_title_change");window.document.title=this.cd.gb()+" - \u77e5\u4e4e"}),a.o().g(a.cd,"click_edit",function(){z.X.ma("ga_question_title_edit_start")}),a.o().g(a.cd,"cancel_edit",function(){z.X.ma("ga_question_title_edit_cancel")}),a.o().g(a.cd,"save_changed",function(){z.X.ma("ga_question_title_edit_save_changed")}),
a.o().g(a.cd,"save_unchanged",function(){z.X.ma("ga_question_title_edit_save_unchanged")}),a.cd.addEventListener("beforeedit",LA({Rl:!0})))};var YE=function(a,b){z.V.ra()&&b?(ZE(a,"zh-question-detail",a.YM),ZE(a,"zh-question-answer-summary",a.aN)):(ZE(a,"zh-question-detail",z.p),ZE(a,"zh-question-answer-summary",z.p))};var ZE=function(a,b,c){if(b=z.y(b)){var d=new dv;a.o().g(d,"expand",c).g(d,"invalid",c);d.w(b)}};
var VE=function(a){a.data.kq=+a.QJ.innerHTML;z.V.ra()||(a.data.kq=0);z.R(a.zh,0<a.data.kq);a.Mp&&z.bc(a.Mp,a.data.me?a.data.me+" \u4e2a\u56de\u7b54":"\u8fd8\u6ca1\u6709\u56de\u7b54");a.om&&z.R(a.om,1<a.data.me);z.R(a.zh,0<a.data.kq)};
var $E=function(a){var b=z.y("zh-question-answer-wrap");if(b){var c=new ev({use:["expandLimit","nodeSource"],hh:a.data.me>a.data.RP&&!z.A("question-page-pager")});a.L(c);a.o().g(c,"itemcreated",function(a){c.L(aF(this,a.item));(0,window.$)("img.lazy",a.item).lazyload({data_attribute:"actualsrc",threshold:400})});c.w(b)}};
var aF=function(a,b,c,d){d=new NE(a.na,null,d);d.w(b);a.Ai[d.la]=d;a.Lp.push(d.la);a.o().g(d,"change",a.Vx);d.He&&(a.Zh=d.la,d.$I=z.V,a.o().g(d.le,"change",a.eM),a.sg=d);d.qj?d.He&&a.Um.appendChild(d.m()):a.ru.push({added_time:d.Yu,vote:c,aid:d.la});d.Th&&z.R(d.m(),!1);return d};
var TE=function(a){var b=null,c=null,d,f={suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"};z.Uq.Id||"normal"===z.Wq.status||(c="\u88ab"+f[z.Wq.status]+'\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\u3002\x3ca data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e');a.Zh?
(d=a.Ai[a.Zh],b="#answer-"+d.la,d=d.Th):a.Zf&&(b="/question/"+z.Wq.rb+"/answer/"+a.Zf.url_token,d=a.Zf.is_delete);b&&(c=d?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':'\u4e00\u4e2a\u95ee\u9898\u4f60\u53ea\u80fd\u56de\u7b54\u4e00\u6b21\uff0c\u4f46\u4f60\u53ef\u4ee5\u5bf9 \x3ca href\x3d"'+b+'"\x3e\u73b0\u6709\u7684\u56de\u7b54\x3c/a\x3e \u8fdb\u884c\u4fee\u6539');
!z.V.Yg||a.Zh||a.Zf||(c='\u6dfb\u52a0\u56de\u7b54\uff1a\x3ca href\x3d"javascript:;" name\x3d"answer_my_question"\x3e\u56de\u7b54\u81ea\u5df1\u7684\u63d0\u95ee\x3c/a\x3e');a.data.jx&&(c='\u8be5\u95ee\u9898\u76ee\u524d\u5df2\u7ecf\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u6dfb\u52a0\u65b0\u7b54\u6848\u3002\x3ca href\x3d"http://www.zhihu.com/question/19604313" target\x3d"_blank"\x3e\u95ee\u9898\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u9501\u5b9a\uff1f\x3c/a\x3e');c&&a.sb.cb(!1,c)};
var bF=function(a){a.Mp=z.y("zh-question-answer-num");a.Np=z.y("zh-question-answer-wrap");a.zh=z.y("zh-question-collapsed-link");a.Um=z.y("zh-question-collapsed-wrap");a.QJ=z.y("zh-question-collapsed-num");a.RI=z.y("zh-question-answer-form-wrap");a.hk=z.y("zh-question-notification-summary");a.om=z.y("zh-answers-filter");a.Js=z.y("zh-add-question-sug");a.Mp&&(a.data.me=+a.Mp.getAttribute("data-num"));a.Np&&(a.data.RP=+a.Np.getAttribute("data-pagesize"));a.zh&&a.o().g(a.zh,"click",a.PR);a.Js&&a.o().g(a.Js,
"click",a.sD);a.om&&z.Sq&&a.o().g(a.om,"click",function(a){a.stopPropagation();z.H.add(this.om,"activated");z.Ld(this.o(),window.document,"click",function(){z.H.remove(this.om,"activated")})})};var cF=function(a,b){var c=z.y("zh-question-collapsed-switcher");b?(c.name="collap",a.FB=!0,z.R(a.Um,!0),z.H.add(a.zh,"zu-question-collap-title-active")):(a.FB=!1,c.name="expand",z.R(a.Um,!1),z.H.remove(a.zh,"zu-question-collap-title-active"))};
var dF=function(a){a.SJ=!0;var b=a.Um,c=window.$.get("/node/QuestionCollapsedAnswerListV2",{params:{question_id:a.data.na}});c.done(function(c){c=z.Gb(c);cF(a,!0);z.H.remove(b,"zm-question-collapsed-list-loading");b.appendChild(c);z.B.forEach(z.Qb(b),function(b){b!==d&&aF(a,b,99999)});(0,window.$)("img.lazy",b).lazyload({data_attribute:"actualsrc",threshold:400})});var d=z.Qb(b)[0];d&&(z.R(d,!1),c.done(function(){z.R(d,!0)}));z.R(b,!0);z.H.add(b,"zm-question-collapsed-list-loading")};
var SE=function(a){var b=z.V[4];z.Yq&&z.Yq.length&&(b=z.Yq[0][1]);a.sb=new DD(a.data.mb,z.V,b);a.L(a.sb);a.sb.w(a.RI);z.Uq.Id&&z.Uq.Id.length?a.sb.ya(z.Uq.Id[0]):!z.bq.vc&&z.O&&a.sb.ya("\x3cp\x3e\x3c/p\x3e");if(!(a.data.jx||a.Zh||a.Zf&&a.Zf.url_token))if(a.data.Em&&a.data.Em.length&&a.data.Em[3]!==z.V.Ge)a.sb.cb(!1,"\u53ea\u6709 "+vu(a.data.Em)+" \u80fd\u56de\u7b54\u6b64\u95ee\u9898");else if("normal"===z.Wq.status||z.Uq.Id)z.V.Yg||a.sb.rf();a.o().g(a.sb,"change",a.yO);a.o().g(a.sb,"cancel_delete_answer",
a.FO);a.sb.ready(function(){var a=this.bw();a&&"writing"===window.location.hash.slice(1)&&a.execCommand("toggleFullScreen")})};var UE=function(a,b){if(b=b||window.location.hash.slice(1)){var c=b.split("-"),d=c[1];"answer"===c[0]&&(c=a.ZC(d))&&(c.qj&&!a.FB?eF(a,a.zh):eF(a,c.m()))}};var eF=function(a,b){if(b){var c=z.eg(window.document.body).top,d=a.GM?z.Uf(a.hk).height:0,c={paddingTop:c+d};"number"===window.$.type(c)&&(c={offsetTop:c});c.RH=Rt;Qt(b,c);z.cj(b);a.Ti&&a.Ti.pp()}};
var fF=function(){OE.call(this);this.data=z.Wq;this.na=this.data.na};var gF=function(a){var b=(0,window.$)(".awesome-answer-list").get(0);if(b){var c=new ev({use:["expandLimit"],hh:!1});a.L(c);a.o().g(c,"itemcreated",function(a){var b=new hy;b.w(a.item);c.L(b)});c.w(b)}};
var hF=function(a,b){var c=(0,window.$)("#js-sidebar-author-info");if(!(0,window.$)("a[name\x3dfocus]",c).length){var d={0:"fullname",1:"url_token",2:"avatar_path",3:"hash",4:"headline"},f=z.B.reduce(z.V,function(a,b,c){a[d[c]]=b;return a},{}),f=(0,z.Hn)(a.aJ,{author:!b&&f});c.html(f)}};var iF=function(){var a=(0,window.$)("#zh-question-answer-collestions");a.length&&(0,window.$)("a[name\x3dfocus]",a).click(function(){(0,z.Fs)(this,"favlist")})};
var jF=function(a){a.Mb?a.Mb.Th?(a.Eq.innerHTML=a.Mb.He?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':"\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664",z.R(a.Mb.m(),!1)):z.R(a.Mb.m(),!0):a.Eq.innerHTML="\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664"};
var kF=function(){z.S.call(this);this.page=1};var lF=function(a,b){z.bc(a,b?"\u52a0\u8f7d\u4e2d...":"\u66f4\u591a")};var mF=function(a,b){window.$.each(b,function(b,d){var f=new nF;a.L(f);f.w((0,window.$)(d)[0]);a.mA.append(f.m());a.o().g(f,"unfollow",function(){oF(a)})})};
var pF=function(a){function b(a){g.hasClass("disabled")||(h.random(a)||(g.addClass("disabled"),(0,window.$)(".hidden-topics-plaza").show(),z.Y("topic","show_hidden_enter_topics_square","topic_feed_recommend")),d.html($x(h,h.Ld,h.Wg)))}var c=(0,window.$)(a.m()),d=(0,window.$)(".js-list",c),f=(0,window.$)(".js-hidden-list",c),g=(0,window.$)(".js-pager",c),f=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html(f.html()).children().add(d.children())),h=new Yx(f,3);g.on("click",function(){b(d.find(".zg-btn-follow").length)});
d.on("click","[data-follow]",function(c){var f=(0,window.$)(c.target),q=f.data("id"),D=(0,window.$)(".new-follow-topics span"),E=D.data("ids");if(f.hasClass("zg-btn-follow"))c=(0,window.$)(c.target).closest(".topic-item"),h.remove(c[0]),D.length?(E.push(q),D.data("ids",E),D.text(E.length)):(0,window.$)('\x3ca href\x3d"#" class\x3d"new-follow-topics"\x3e\u65b0\u5173\u6ce8 \x3cspan data-ids\x3d"['+q+']"\x3e1\x3c/span\x3e \u4e2a\u8bdd\u9898\uff0c\u70b9\u51fb\u67e5\u770b\x3c/a\x3e').insertBefore((0,window.$)(".topic-recommend")),
1===(0,window.$)(".zg-btn-follow",d).length&&(g.hasClass("disabled")?(0,window.$)(".topic-recommend").fadeOut():(0,window.setTimeout)(function(){b(0)})),qF(a);else if(f.hasClass("zg-btn-unfollow")){var M=(0,window.$)(".js-topic-item[data-id\x3d"+q+"]");M.length?M.fadeOut(function(){M.remove();oF(a)}):E&&(1<E.length?(E.splice(E.indexOf(q),1),D.data("ids",E),D.text(E.length)):D.parent().remove(),oF(a))}});c.on("click",".new-follow-topics",function(b){b.preventDefault();var c=(0,window.$)(b.target);
window.$.get("/topic/newest-feeds",{ids:JSON.stringify((0,window.$)("span",c).data("ids"))},function(b){b&&!b.r&&(mF(a,b.msg),c.remove())})}).on("click",".js-nomore-recommend",function(){window.$.post("/topic/suggest-topics/close",function(a){a&&!a.r&&(0,window.$)(".topic-recommend").fadeOut()})})};var qF=function(a){var b=(0,window.parseInt)(a.Qt.text());rF(a,b+1)};var oF=function(a){var b=(0,window.parseInt)(a.Qt.text());rF(a,b-1)};
var rF=function(a,b){a.Qt.text(b);(0,window.$)(".no-topics").toggle(0===b)};var nF=function(){z.S.call(this)};var sF=function(){z.S.call(this)};var tF=function(a){a.Lf&&a.Lf.H();var b=new Lt;b.Iq="pin-topic-moving";Mt(b,a.h,0);b.init();a.o().g(b,"dragend",(0,z.t)(a.tt,a));a.Lf=b;(0,window.$)("a",a.h).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})})};var uF=function(a,b){return(0,window.$)(a.h).find("[data-topicid\x3d"+b+"]")};
var vF=function(a,b){return window.$.post("/pin-topic/add",{tid:b},window.$.proxy(function(a){!a.r&&a.msg?((0,window.$)(this.h).append((0,window.$)(this.GQ({topic:a.msg})).hide().fadeIn()),tF(this)):z.T(a.msg,2E3)},a))};var wF=function(a,b,c){var d=uF(a,b);d.fadeOut(function(){d.remove();a.tt().done(function(a){c&&c(a)});a.dispatchEvent({type:"change",vH:d.attr("data-topicid")});0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})};
var xF=function(){z.S.call(this);this.CC="even";this.an="current"};var yF=function(a,b){return a.Pt.filter(function(){return(0,window.$)(this).text()===b})};var zF=function(a,b){return a.Pt.filter(function(){return(0,window.$)(this).attr("data-id")===String(b)})};var AF=function(){z.S.call(this)};var BF=function(){z.S.call(this)};
var CF=function(a,b){var c=z.y(b);if(c){var d=new ev;a.L(d);d.use("locationSource",{As:!0});d.w(c);(0,window.$)(c).on("click",'a[name\x3d"revert"]',function(){if(!1===LA({Rl:!0})())return!1;Vz(this);return!1}).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new Bv("activity",(0,window.$)(this).data("id"))).submit();return!1})}};var DF=function(){z.S.call(this)};
var EF=function(a,b){var c;if(a&&b){c=c||"text-highlight";var d=new RegExp(b,"i");(0,window.$)(a).find("*").andSelf().contents().each(function(){if(3===this.nodeType){var a=this,g=a.parentNode;if(!z.H.has(g,c))for(var h,l;-1!==(h=a.data.search(d));)h=0<h?a.splitText(h):a,a=h.splitText(b.length),l=window.document.createElement("em"),l.className=c,l.appendChild(h.cloneNode()),g.replaceChild(l,h)}})}};var FF=function(){Vu.call(this,{use:["autoload","dataPagingSource"]})};
var GF=function(){z.S.call(this);this.Ug="roundtable";this.Ho=z.fr.roundtable};var HF=function(a){var b=new dv({Uu:"content",nH:"script.content"});a.L(b);b.w(a.m());a.o().g(a,["expand","collapse"],function(a){a.target===this&&b.Qa("expand"===a.type,!0)}).g(b,["expand","collapse"],function(a){this.Qa("expand"===a.type)})};
var IF=function(){var a=(0,window.$)(".roundtable-profile");(0,window.$)(".share",a).click(z.kl(function(){var a=(0,window.$)(this).data();aw(["\u5206\u4eab\u6d3b\u52a8","roundtable",a.token,{roundtable_id:a.id}],"tb-webshare-sina");z.X.ma({type:"ga_click_share_roundtable_box",target:this,data:{type:"sina"}})}));(0,window.$)(".follow",a).click(z.kl(function(){var b=this;(0,z.Fs)(b,"roundtable",function(c){(0,window.$)(".label",b).text(c?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8");var d=(0,window.$)(".followers .count",
a);c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text(c).data("count",c))},["button-success","button-cancel"])}))};var JF=function(){z.S.call(this);this.Ty=z.fr.searchKeyword};var KF=function(){var a=(0,window.$)("#js-search-question-form");a.length&&a.submit(function(b){b.preventDefault();b=z.En.S();b.show();z.Fn(b,(0,window.$)(".title-input",a).val())})};
var LF=function(a){var b=(0,window.encodeURIComponent)(a.Ty);(0,window.$)("ul.list[data-paging]").on("click",".item a[href!\x3d#]",function(a){a=a.currentTarget;a.host&&(a=(0,window.$)(a).closest(".item").index()+1,z.gi.set("s-q",b),z.gi.set("s-i",a),z.gi.set("sid",(0,z.Kr)()))})};
var MF=function(a){function b(a,b){var f=(0,window.$)(a);window.$.each(b(),function(a,b){f.on("click",a,function(a){d.apply(null,c(b,a))})})}function c(a,b){return f(a,function(a){return z.ia(a)?a(b):a})}var d=z.qa(z.Y,"search"),f=z.B.map;b(".related-topics",function(){return{"a.avatar-link":["visit_topic","search_result_card_topic_avatar"],"a.name-link":["visit_topic","search_result_card_topic"],"a[href$\x3dquestions]":["visit_topic_questions","search_result_card_topic"],"a[href$\x3dtop-answers]":["visit_topic_topanswers",
"search_result_card_topic"],"a[href$\x3dfollowers]":["visit_topic_followers","search_result_card_topic"],"button.zg-btn-follow":["click_follow_topic","search_result_card_topic"],"button.zg-btn-unfollow":["click_unfollow_topic","search_result_card_topic"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_topic"]}});b(".related-users",function(){return{"a.avatar-link":["visit_people_profile","search_result_card_people_avatar"],"a.name-link":["visit_people_profile","search_result_card_people"],
"a[href$\x3danswers]":["visit_people_answers","search_result_card_people"],"a[href$\x3dfollowers]":["visit_people_followers","search_result_card_people"],"a[href$\x3dposts]":["visit_people_posts","search_result_card_people"],"button.zg-btn-follow":["click_follow_people","search_result_card_people"],"button.zg-btn-unfollow":["click_unfollow_people","search_result_card_people"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_people"]}});b(window.document.body,function(){var a=
z.qa(z.ya,"search_result_%s_more_button");return{"ul.list.questions + .zu-button-more":["click_search_result_more",a("all")],"ul.list.users + .zu-button-more":["click_search_result_more",a("user")],"ul.list.topics + .zu-button-more":["click_search_result_more",a("topic")]}});b(".search-tabs",function(){var a=z.qa(z.ya,"search_result_tab_%s");return{'a[href^\x3d"/search?type\x3dquestion"]':["click_search_result_tab",a("all")],'a[href^\x3d"/search?type\x3dpeople"]':["click_search_result_tab",a("user")],
'a[href^\x3d"/search?type\x3dtopic"]':["click_search_result_tab",a("topic")]}});b(".range-selector",function(){var a=z.qa(z.ya,"search_result_range_%s");return{'a[href*\x3d"range\x3d1d"]':["click_search_result_range",a("1d")],'a[href*\x3d"range\x3d1w"]':["click_search_result_range",a("1w")],'a[href*\x3d"range\x3d3m"]':["click_search_result_range",a("3m")]}});b("ul.list.questions",function(){function a(){return function(a){return"search_result_all_list_"+((0,window.$)(a.target).closest(".item").index()+
1)+""}}return{"a.question-link":["visit_question",a()],".js-expand, .summary":["click_expand",a()],'a[name\x3d"collapse"]':["click_collapse_answer",a()],"a.zg-follow":["click_follow_question",a()],"a.zg-unfollow":["click_unfollow_question",a()]}});b("ul.list.users",function(){function a(b){return function(a){return"search_result_user_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_people_profile",a("_avatar")],"a.name-link":["visit_people_profile",
a()],"a[href$\x3danswers]":["visit_people_answers",a()],"a[href$\x3dfollowers]":["visit_people_followers",a()],"a[href$\x3dposts]":["visit_people_posts",a()],"button.zg-btn-follow":["click_follow_people",a()],"button.zg-btn-unfollow":["click_unfollow_people",a()]}});b("ul.list.topics",function(){function a(b){return function(a){return"search_result_topic_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_topic",a("_avatar")],"a.name-link":["visit_topic",
a()],"a[href$\x3dquestions]":["visit_topic_questions",a()],"a[href$\x3dfollowers]":["visit_topic_followers",a()],"button.zg-btn-follow":["click_follow_topic",a()],"button.zg-btn-unfollow":["click_unfollow_topic",a()]}});a.o().g(a,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("category","search").fill("label","search_result_answer")})};
var NF=function(a,b){var c=this.J={};z.C.extend(c,this.defaults,b||{});this.input=a;this.Xb=c.Xb;this.kh=this.WP();this.Fu=[];this.Fu.push({action:"remove",method:this.removeTag,$u:c.wQ,V:"\u5220\u9664"});(0,window.setTimeout)((0,z.t)(this.rg,this))};
var OF=function(a,b){var c={qd:function(a,b,c){c.innerHTML=f(a.data)}};z.C.extend(c,b||{});var d=new z.Lk(a,c);z.L(d,"show",function(){1<d.bb.length&&!d.bb[0].id&&z.Mj(d)});var f=(0,z.Hn)('\x3c% if (data.avatar) { %\x3e\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3c% } %\x3e\x3c% if(data.type \x3d\x3d\x3d "search_link" || !data.id){ %\x3e\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e\x3c%\x3ddata.type \x3d\x3d\x3d "search_link"?("\u6dfb\u52a0 "+label+" \u8bdd\u9898"):label%\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"zu-autocomplete-row-name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c% if (data.alias \x26\x26 data.followers) { %\x3e\x3c% if ( data.alias ) { %\x3e\u53c8\u79f0 \x3c%\x3dalias%\x3e\x3c% } %\x3e\x3c% if ( data.alias \x26\x26 data.followers ){ %\x3e\uff0c\x3c% } %\x3e\x3c% if ( data.followers ){ %\x3e\x3c%\x3dfollowers%\x3e \u4eba\u5173\u6ce8\x3c% } %\x3e\x3c% }else{ %\x3e\x26nbsp;\x3c% } %\x3e\x3c/span\x3e');return d};
var PF=function(){this.oA=this.sA=null};
var QF=function(a){function b(){var a=window.$.grep(f.get(0).options,function(a){return a.selected});window.$.map(a,function(a){return a.value})}function c(){g=n.jL();q.val(g.join(","))}var d=(0,window.$)("#rq-settings-ui"),f=(0,window.$)("select.select",d);(0,window.$)(".topics-num",d);(0,window.$)(".actions-num",d);var g=[];a.oA=(0,window.$)("#rq-info-block");d.on("click",".beginedit-button",function(a){a.preventDefault();d.addClass("expanded-view")}).on("click",".exitedit-button",function(a){a.preventDefault();
d.removeClass("expanded-view")}).on("click",".endedit-button",function(a){a.preventDefault();d.get(0).submit()});a=(0,window.$)(".topic-editor",d);var h=(0,window.$)("input.topic-input",a).get(0),l=(0,window.$)("ul.tag-list",a).get(0),n=new NF(h,{Ju:!0,Xb:l}),q=(0,window.$)('input[name\x3d"topics"]',a);n.on("change",c);f.on("change",b);c();b();RF(f.get(0))};
var RF=function(a){function b(a,b){var c=z.G("li"),f=z.G("span","item-label",a);c.appendChild(f);var h=new z.Rh("",z.$h.S());h.th("zm-profile-tag-btn zm-profile-tag-btn-del");h.cb(!0);h.Pc("\u79fb\u9664\u52a8\u4f5c");h.Ea(b);h.addEventListener("action",function(){var a=h.X();g(a,!1);z.I(c);l.Os(!0);d()});h.ba(c);q.appendChild(c)}function c(){n.G(l.ll()!==f().length)}function d(){z.B.forEach(h,function(a){a.selected||(a=new aC(a.text,a.value),l.Ja(a))});c()}function f(){return z.B.filter(l.Ab(),function(a){return!!(a.U&
8)})}function g(a,b){var c=z.B.find(h,function(b){return b.value===a});c&&(c.selected=b)}z.R(a,!1);var h=a.options,l=new pv;l.on("action",function(a){a=a.target;b(a.Cg(),a.X());g(a.X(),!0);l.removeItem(a);c()});var n=new vv("\u6dfb\u52a0\u52a8\u4f5c",l);n.th("menu-button");n.ba(a.parentNode);n.Xj=!0;xv(n);var q=z.G("ul","display-list");d();(function(){z.B.forEach(h,function(a){a.selected&&b(a.text,a.value)})})();a.parentNode.insertBefore(q,n.m())};
var SF=function(a){function b(){var b=f.text()||0;0<b&&f.text(b-1);TF(a)}var c=(0,window.$)("#rq3-item-list"),d={WR:function(a){return window.$.post("/watch/thank",{id:a,rq_type:"thank"})},mQ:function(a){return window.$.post("/watch/seen",{id:a,rq_type:"seen"})}};c.on("click",".read-button",function(){var a=(0,window.$)(this).closest(".rq-item"),c=a.data("id");d.mQ(c);b();a.slideUp(function(){a.remove()})}).on("click",".thank-button",function(a){a.preventDefault();a=(0,window.$)(this);var b=a.closest(".rq-item").data("id");
a.hasClass("thanked")||(d.WR(b),a.addClass("thanked").text("\u5df2\u611f\u8c22"))});Yz(c);c=new Mv(c.get(0),window.location.href,!0);c.dG=function(a){return a.getAttribute("data-id")};c.gi("rq-item");c.init();var c=(0,window.$)("#rq3-sidenav-link"),f=(0,window.$)(".zg-num",c);a.sA=f};var TF=function(a){var b=a.oA,c=Number(a.sA.text());(0,window.setTimeout)(function(){b.toggleClass("hidden",!!c)},210)};var UF=function(){};var VF=function(){};var WF=function(){z.S.call(this)};var XF=function(){};
var YF=function(a,b){z.fa(b)||(b=[b]);var c=z.B.map(b,function(a){return z.r(a)?a:a.jQ+" "+a.duration+"s "+a.timing+" "+a.delay+"s"});ZF(a,c.join(","))};var ZF=function(a,b){a.style.WebkitTransition=b;a.style.MozTransition=b;a.style.pT=b;a.style.mI=b;a.style.transition=b};var $F=function(a,b,c,d,f){z.hi.call(this);this.h=a;this.CK=b;this.dN=c;this.LC=d;this.iS=z.fa(f)?f:[f]};var aG=function(a,b,c,d){return new $F(a,.15,{opacity:c},{opacity:d},{jQ:"opacity",duration:.15,timing:b,delay:0})};
var bG=function(){this.Ug="explore";this.PK="explore_feed"};
var cG=function(){var a=(0,window.$)("ul.hot-roundtables"),b=(0,window.$)(".hot-roundtables-feature-popup");if(a.children().length&&b.length&&!(300>a.offset().left)){var c=a.children().first(),d=new z.Mo(b[0]);d.bm(!1);d.ht(aG(b[0],"ease-out",0,1),aG(b[0],"ease-in",1,0));b.on("click",".dismiss",function(){window.$.post("/notifeature",{feature:"explore_roundtable"});d.G(!1)});(0,window.setTimeout)(function(){d.G(!1);z.No(d,2);z.et(d,new z.sf(-25,10,0,0));d.setPosition(new Zt(c[0],0));d.G(!0)},200)}};
var dG=function(a){var b=(0,window.$)("#js-explore-tab");if(b.length){var c=(0,window.$)(".tab-panel",b),d=(0,window.$)(".tab-nav",b),f=null;d.children().click(function(){f=z.zb(window.document)});b=function(){var b={"daily-hot":0,"monthly-hot":1}[window.location.hash.slice(1)]||0;d.removeClass("active").eq(b).addClass("active");b=c.hide().eq(b).show().children("[data-type]");if(!b.data("inited")){b.data("inited",!0);var h={daily:cB,monthly:eB}[b.data("type")],h=new eG(h);h.use("expandLimit");a.L(h);
h.w(b[0])}f&&window.scrollTo(f.x,f.y)};a.o().g(window,"hashchange",b);b()}};var fG=function(a){var b=(0,window.$)("#zh-recommend-list-full\x3e.zh-general-list")[0];if(b){var c=new ev;c.use("nodeSource");Wu(c,function(a){var b=zy(a);b&&(c.L(b),b.w(a))});a.L(c);c.w(b)}};var eG=function(a){Vu.call(this,{source:gG(a),use:["autoload"]})};var gG=function(a){return function(){return a((0,window.$)(this.Ab()).last().data("offset")).then(function(a){return{results:a}})}};var hG=function(){z.S.call(this)};
var iG=function(){var a=0;return function(){return window.$.get("",{start:a+20,limit:20}).then(function(b){if(!b.r)return b=b.msg,b.hasmore&&(a+=20),{results:b.htmls,next:Boolean(b.hasmore)}})}};var jG=function(a){this.Zs=a;a.activityUrl="";kG(this)};
var kG=function(a){function b(a,b){var c;c=c||"slug";return{source:a,filter:function(a){return a.filter(function(a){return b.every(function(b){return b[c]!==a[c]})})},select:function(a){b.push(a);return""}}}a=a.Zs;var c=a.roundtable;a.topicsSuggestOpitons=b("/r/ac/topics",c.topics);a.organizationsSuggestOpitons=b("/r/ac/topics",c.organizations);a.presentersSuggestOpitons=b("/r/ac/users",c.presenters);a.guestsSuggestOpitons=b("/r/ac/users",c.guests)};
var lG=function(a,b){var c={Yd:5,className:"ui-suggest",ah:"row",HC:200};z.C.extend(c,b||{});var d=c.ba;d&&(c.qd=z.p,c.ba=function(a,b){!1!==d.apply(this,arguments)&&(a.dg=z.vb(a.ah,b))});z.Lk.call(this,a,c);var f=this.N;f.className=c.className;f.ah=c.ah;f.co=c.HC};
var mG=function(a,b){return function(c,d,f){(0,window.$)(d).datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"});b(function(){(0,window.$)(d).datetimepicker("update",new Date(a(f.ngModel)(c)))})}};var nG=function(){return{scope:{id:"@id",avatar:"\x3davatar"},link:function(a,b){var c=new pz(4,a.id,"xl");c.w(b);c.addEventListener("success",function(){a.$apply(function(){a.avatar.id=c.getData().id})})}}};
var oG=function(a){return{scope:{options:"\x3dsuggestOptions"},link:function(b,c,d){var f,g;d={SQ:'\x3cdiv class\x3d"row"\x3e\x3cimg class\x3d"avatar" src\x3d"[[avatar | avatarUrl]]"\x3e\x3cspan class\x3d"name"\x3e[[name]]\x3c/span\x3e\x3c/div\x3e',HC:100,source:d.source,ci:c.parent()[0],ba:function(a,b,c){b.innerHTML=c.map(function(a){return g(a.data)}).join("")}};g=a(d.SQ);window.angular.extend(d,b.options);d.select&&(d.select=function(a){return function(c){return b.$apply(function(){return a(c)})}}(d.select));
f=new lG(c[0],d);return b.$on("destroy",function(){return f.H()})}}};var pG=function(){return function(a,b){return"string"===typeof a?a:a.template.replace("{id}",a.id).replace("{size}",b||"xs")}};var qG=function(a){a.startSymbol("[[").endSymbol("]]")};var rG=function(){GF.call(this);this.Ho=z.fr.roundtable};
var sG=function(a){var b=a.Ho;(0,window.$)(".feeds.pending-questions").on("click",".add",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"approve_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})}).on("click",".remove",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,
{action:"ignore_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var tG=function(a){var b=a.Ho;(0,window.$)(".feeds.pending-activities").on("click",".remove",function(){var a=(0,window.$)(this).data(),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"remove_pending_activity",type:a.type,url_token:a.token}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var uG=function(a){var b=(0,window.$)(".add-pending-activities-form");if(b.length){var c=(0,window.$)(".url",b),d=(0,window.$)(".time",b);d.datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"}).datetimepicker("update",new Date);var f=a.Ho;b.submit(function(a){function b(a){a.success?(z.T("\u6dfb\u52a0\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},3E3)):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")}a.preventDefault();
if(!c.val())return z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u5fc5\u987b\u586b\u5199");if(!d.val())return z.T("\u53d1\u5e03\u65f6\u95f4\u5fc5\u987b\u586b\u5199");a=(a=c.val().match(/\/question\/\d+\/answer\/(\d+)/))&&a[1];var l=c.val().match(/\/question\/(\d+)/),l=l&&l[1];a?window.$.post("/roundtable/"+f.slug,{action:"add_pending_activity",publish_time:d.val(),type:"answer",url_token:a},b):l?window.$.post("/roundtable/"+f.slug,{action:"add_pending_activity",publish_time:d.val(),type:"question",
url_token:l},b):z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u4e0d\u6b63\u786e")})}};var vG=function(){z.S.call(this)};var wG=function(){z.S.call(this)};var xG=function(a){a.Rt&&a.Rt.hide();a.Rt=(0,window.$)(a.vA[a.xq]).show();(0,window.$)(".question-progress").html(a.xq+1+"/"+a.By);a.xq++};
var yG=function(a,b){a.gA.hide();a.$o.show();b?((0,window.$)(".success-view-back-btn",a.$o).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.$o).css("display","inline-block")):((0,window.$)(".success-view-back-btn",a.$o).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.$o).hide());a.Yo===a.XC&&(0,window.$)(".success-describe",a.K).html("\u4f60\u7684\u53cb\u5584\u5ea6\u5df2\u7ecf\u662f\u6700\u9ad8\u503c");var c=(0,window.$)(".blue-stars",a.K).css("width","0"),d=a.Yo;(0,window.setTimeout)(function(){c.animate({width:20*
d+"%"},1E3)},200)};var zG=function(a,b,c){var d=(0,window.$)(".failed-view-wrong-answers",a.bl);a.gA.hide();a.bl.show();c?((0,window.$)(".failed-view-back-btn",a.bl).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.bl).css("display","inline-block")):((0,window.$)(".failed-view-back-btn",a.bl).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.bl).hide());d.html("");a.vA.each(function(){var a=(0,window.$)(this),c=a.data("id");z.B.contains(b,c)&&a.appendTo(d).show()})};z.e=z.Zs.prototype;
z.e.vh="";z.e.set=function(a){this.vh=""+a};z.e.append=function(a,b,c){this.vh+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.vh+=arguments[d];return this};z.e.clear=function(){this.vh=""};z.e.Yq=z.k(33);z.e.toString=function(){return this.vh};z.v(at,z.Ic);z.vn.prototype.bw=z.Z(54,function(){return this.La});z.hn.prototype.Je=z.Z(53,function(a){this.ca.ft(a)});z.em.prototype.Gc=z.Z(43,function(){return this.P.toString()});z.jm.prototype.Gc=z.Z(42,function(){return this.P.text});
z.vm.prototype.Gc=z.Z(41,function(){return z.zm(this).Gc()});z.Cm.prototype.Gc=z.Z(40,function(){return""});z.Im.prototype.Gc=z.Z(39,function(){return z.B.map(z.Wl(this),function(a){return a.Gc()}).join("")});z.Oo.prototype.Gc=z.Z(38,function(){return z.gc(this.m())});z.Zs.prototype.Yq=z.Z(33,function(){return this.vh.length});z.Ul.prototype.Fb=z.Z(19,function(){var a=this.tc();return 1==a.nodeType?a:a.parentNode});z.vl.prototype.$v=z.Z(16,function(){return z.Tr});z.Kh.prototype.cm=z.Z(15,function(a){this.ya(a)});
z.Kg.prototype.Qo=z.Z(12,function(a){this.Rj=a});z.Kh.prototype.Qo=z.Z(11,function(a){this.Rj=a});z.Fg.prototype.kx=z.Z(10,function(){return this.uj||150>(0,z.Wa)()-this.rx});z.Fg.prototype.ht=z.Z(9,function(a,b){this.mm=a;this.ul=b});z.Hg.prototype.ht=z.Z(8,function(a,b,c,d){this.Pj=a;this.Oj=b;this.Fk=c;this.Ek=d});z.Fg.prototype.bm=z.Z(7,function(a){z.Gg(this);this.Dk=a});z.Xg.prototype.bm=z.Z(6,function(a){this.Dk=a;this.Da&&z.Zg(this)});
z.mg.prototype.$y=z.Z(5,function(a){this.Jw=Math.pow(a,2)});z.mg.prototype.Mf=z.Z(4,function(a){this.ri=a});z.pi.prototype.Mf=z.Z(3,function(a){this.ri=a});
z.Je.prototype.Fp=z.Z(2,function(a,b,c){var d=(0,z.Wa)(),f=c?c:d,g=bt(this.Nq);g.Pq=2;g.Oq=f;g.type=b;g.GB=a;a=(a=this.$T)&&a.isTracing()?a.totalVarAlloc:-1;g.wH=a;this.Ru++;if(c){c=this.Of.length;for(a=0;a<c;a++)if(this.Of[a].Oq>f){z.B.Mn(this.Of,g,a);break}a==c&&this.Of.push(g)}else this.Of.push(g);if(f=g.type)g=this.dk.get(f),g||(g=bt(this.yz),g.type=f,this.dk.set(f,g)),g.count++;this.Et+=(0,z.Wa)()-d});z.Ad.prototype.hi=z.Z(1,function(a){this.nF=a});
z.pb.prototype.Xu=z.Z(0,function(a,b,c){var d=this.Ka,f=!!c;c=["\x3ctr\x3e"];for(var g=0;g<b;g++)c.push(f?"\x3ctd\x3e\x26nbsp;\x3c/td\x3e":"\x3ctd\x3e\x3c/td\x3e");c.push("\x3c/tr\x3e");c=c.join("");b=["\x3ctable\x3e"];for(g=0;g<a;g++)b.push(c);b.push("\x3c/table\x3e");a=d.createElement("DIV");a.innerHTML=b.join("");return a.removeChild(a.firstChild)});z.v(z.st,z.nd);z.st.prototype.next=function(){var a=this.uF;if(!a)throw z.W.eb;this.uF=this.OQ?a.previousSibling:a.nextSibling;return a};z.v(vt,z.st);
var Wt=/^#(?:[0-9a-f]{3}){1,2}$/i;z.v(xt,z.Ic);Et.defaults={paddingTop:0};var Ut=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Xt=/#(.)(.)(.)/;z.v(It,z.Jo);It.prototype.aa=function(a,b,c,d){var f=Gt(z.qb(a)),g=this.Bh.x+f.x,f=this.Bh.y+f.y,h=z.sk(a),g=g-h.x,f=f-h.y;z.uk(new z.kb(g,f),a,b,c,null,null,d)};z.v(Kt,z.Il);z.e=Kt.prototype;z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))Kt.v.w.call(this,a),this.Ee(!0),z.R(this.NC,!1)};
z.e.Ig=function(a){var b;this.lx&&(b="/topic/autocomplete?no_create\x3dtrue");Kt.v.Ig.call(this,a,b);this.Y.Fe.KC=!1};z.e.Xl=function(){return(0,z.t)(function(a,b){return z.B.filter(a,function(a){return 3>=a.length?!1:z.B.every(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"\u5df2\u5728\u73b0\u6709\u5217\u8868\u4e2d',!0):!1:!0})},this)},this)};
z.e.Re=function(a,b){this.Ng||(this.Ng=!0,this.xhr=new z.U(!0),z.Ld(this.o(),this.xhr,"complete",this.hu),a||(a=-1),this.lx?this.xhr.ajax("/topic/add","tid\x3d"+this.uf+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.uf+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.WC=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.wo=function(a){if(!this.ia||!this.ia.Ib()){var b=new z.U(!0);this.o().g(b,"success",function(){var c=z.fe(b);c.r?z.T(c.msg):(z.Ll(this),this.Ke(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.lx?b.ajax(this.yG,"cid\x3d"+this.uf+"\x26pid\x3d"+a):b.ajax(this.yG,"pid\x3d"+this.uf+"\x26cid\x3d"+a);this.ia=b}};z.v(Lt,z.N);z.e=Lt.prototype;z.e.WD=0;z.e.$y=function(a){this.WD=a};
z.e.init=function(){if(!this.vE){for(var a=0,b=this.Uc.length;a<b;a++)for(var c=z.Qb(this.Uc[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,l=z.ka(h);this.pv[l]=g;this.vC&&(this.R.g(g,"mouseover",this.IL),this.R.g(g,"mouseout",this.HL));this.uC&&(this.R.g(h,"mouseover",this.GL),this.R.g(h,"mouseout",this.FL));this.Xk.push(g);this.R.g(h,["mousedown","touchstart"],this.lM)}this.vE=!0}};
z.e.C=function(){this.R.H();for(var a=0,b=this.Uc.length;a<b;a++){var c=this.Uc[a];c.sC=void 0;c.Ji=void 0}this.Uc.length=0;this.Xk.length=0;this.pv=null;Ot(this);Lt.v.C.call(this)};
z.e.lM=function(a){var b=z.ka(a.currentTarget);this.Xa=this.pv[b];a:{var b=this.Xa,c=b.cloneNode(!0);switch(b.tagName.toLowerCase()){case "tr":b=z.G("table",null,z.G("tbody",null,c));break a;case "td":case "th":b=z.G("table",null,z.G("tbody",null,z.G("tr",null,c)));break a;default:b=c}}this.Cc=b;this.Iq&&z.H.add(this.Cc,this.Iq);this.Cc.style.margin="0";this.Cc.style.position="absolute";this.Cc.style.visibility="hidden";z.qb(this.Xa).body.appendChild(this.Cc);b=z.Mf(this.Xa);Ft(this.Cc,b);this.Db=
new z.mg(this.Cc);this.Db.$y(this.WD);z.L(this.Db,"start",this.uw,!1,this);z.L(this.Db,"end",this.DL,!1,this);z.L(this.Db,"earlycancel",this.Lu,!1,this);this.Db.qm(a)};
z.e.uw=function(a){if(this.dispatchEvent(new xt("beforedragstart",0,a.oB,0,0,null))){this.xs=this.Xa.parentNode;this.UB=this.ky=Ht(this.Xa);this.bv=this.xs;this.av?z.H.add.apply(null,z.B.concat(this.Xa,this.av)):this.Xa.style.visibility="hidden";var b=z.Uf(this.Cc);this.Cc.nL=b.width/2;this.Cc.mL=b.height/2;this.Cc.style.visibility="";this.Zz&&(this.Xa.style.display="none");Nt(this,this.Xa);this.Xa.style.display="";z.L(this.Db,"drag",this.JL,!1,this);this.dispatchEvent(new xt("dragstart",0,a.oB,0,
0,this.Db))}else a.preventDefault(),this.Lu()};
z.e.JL=function(a){var b=z.Mf(this.Cc),b=new z.kb(b.x+this.Cc.nL,b.y+this.Cc.mL),c;a:{c=null;if("none"!=this.Xa.style.display){c=this.Xa.parentNode;var d=z.Wf(c);if(Pt(b,d))break a}for(var d=0,f=this.Uc.length;d<f;d++){var g=this.Uc[d];if(g!=c&&Pt(b,g.Wk)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var l,n,d=!1,f=void 0;switch(c.sC){case 0:h=b.y;l=Ct;n=zt;break;case 4:d=!0;case 2:h=b.x;l=Bt;n=zt;break;case 5:d=!0;case 3:h=b.x,l=At,n=yt}for(var g=
null,q,D=z.Qb(c),E=0,M=D.length;E<M;E++){var K=D[E];if(K!=this.Xa){var Q=l(K.Wk);if(d){var oa=Dt(K,b);z.ea(f)||(f=oa);n(h,Q)&&(void 0==q||oa<f||oa==f&&(n(Q,q)||Q==q))&&(g=K,q=Q);oa<f&&(f=oa)}else n(h,Q)&&(void 0==q||n(Q,q))&&(g=K,q=Q)}}h=null!==g&&Dt(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new xt("beforedragmove",0,a,0,0,this.Db)))return!1;if(c)this.Zz?this.Xa.parentNode==c&&Ht(this.Xa)==h||c.insertBefore(this.Xa,h):h&&(this.UB=h),this.Xa.style.display="",c.Ji&&z.H.add(c,c.Ji);else for(this.uN||
(this.Xa.style.display="none"),h=0,l=this.Uc.length;h<l;h++)n=this.Uc[h],n.Ji&&z.H.remove(n,n.Ji);c!=this.bv&&(this.bv=c,Nt(this,this.Xa));this.dispatchEvent(new xt("dragmove",0,a,0,0,this.Db));return!1};z.e.Lu=function(){Ot(this);this.Db=this.Cc=this.ky=this.xs=this.bv=this.Xa=null;for(var a=0,b=this.Uc.length;a<b;a++)this.Uc[a].Wk=null;a=0;for(b=this.Xk.length;a<b;a++)this.Xk[a].Wk=null};
z.e.DL=function(a){if(!this.dispatchEvent(new xt("beforedragend",0,a,0,0,this.Db)))return!1;this.Zz||this.xs.insertBefore(this.Xa,this.UB);Ot(this);this.dispatchEvent(new xt("dragend",0,a,0,0,this.Db));this.Lu();return!0};z.e.IL=function(a){z.H.add.apply(null,z.B.concat(a.currentTarget,this.vC))};z.e.HL=function(a){z.H.remove.apply(null,z.B.concat(a.currentTarget,this.vC))};z.e.GL=function(a){z.H.add.apply(null,z.B.concat(a.currentTarget,this.uC))};
z.e.FL=function(a){z.H.remove.apply(null,z.B.concat(a.currentTarget,this.uC))};
var Hu={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},AG=/[^\d]+$/;z.v(Yt,It);Yt.prototype.Vn=0;Yt.prototype.em=function(a){this.Vn=a};
Yt.prototype.aa=function(a,b,c,d){var f=z.If(a),f=z.Lf(f),g;g=z.ob(a);g=z.Ab(g.Ka);g=new z.kb(this.Bh.x+g.scrollLeft,this.Bh.y+g.scrollTop);var h=b,l=z.uk(g,a,h,c,f,10,d);if(0!=(l&496)){if(l&16||l&32)h^=2;if(l&64||l&128)h^=1;l=z.uk(g,a,h,c,f,10,d);0!=(l&496)&&z.uk(g,a,b,c,f,this.Vn,d)}};z.v(Zt,z.Ko);Zt.prototype.vn=function(){return this.Vn};Zt.prototype.em=function(a){this.Vn=a};
Zt.prototype.aa=function(a,b,c,d){var f=z.rk(this.element,this.Ff,a,b,null,c,10,d,this.ny);if(f&496){var g=$t(f,this.Ff);b=$t(f,b);f=z.rk(this.element,g,a,b,null,c,10,d,this.ny);f&496&&(g=$t(f,g),b=$t(f,b),z.rk(this.element,g,a,b,null,c,this.vn(),d,this.ny))}};z.tw=!0;z.v(du,z.Il);z.e=du.prototype;
z.e.w=function(a){this.h=a;this.gg=z.A("zm-tag-editor-labels",this.h);this.Ee(!0);this.oe();this.tb();this.Pf=z.y("zh-expert-topics");this.Bm=z.y("zh-active-topics");eu(this);gu(this);this.data=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get();this.Vl()};
z.e.mn=function(){this.Vc||(this.Vc=z.G("div","zm-tag-editor-editor",[this.Xe=z.G("div","zg-section zm-tag-editor-command-buttons-wrap",[this.nb=z.y("profile-expert-edit-input")])]),this.Ae&&(this.qx=new z.Al(this.Ae),this.qx.w(this.nb),this.nb.title=this.Ae),z.Mb(this.Vc,this.gg),this.Ig(this.Xe))};
z.e.Ig=function(a){this.Y=new z.Hl("/topic/autocomplete",this.nb,null,null,a,!0);this.Y.gh(!0);this.Y.Cl=this.Yd;this.Y.Ro(this.Xl());jt(this.Y,[this.Ae]);this.o().g(this.Y,"select",this.mo);this.o().g(this.Y,"suggestionsupdate",this.gu);this.o().g(this.Y,"suggestionsupdate",this.du);this.o().g(this.Y,z.Lj,function(){(0,window.$)(this.Y.N.h).hide()})};
z.e.du=function(){if(0===this.Y.bb.length){var a=z.G("div",{className:"zu-autocomplete-empty"},"\u6ca1\u6709\u540d\u5b57\u4e3a "+(0,window.$)(this.nb).val()+" \u7684\u8bdd\u9898");(0,window.$)(this.Y.N.h).html(a).show()}};z.e.mo=function(){var a=this.Y.Wi().slice(1);a&&3<a.length&&(this.$B=a,this.Re(a))};
z.e.Re=function(a){this.data.push(a[1]);var b=(0,window.$)(this.Pf).find("[data-url-token\x3d'"+a[1]+"']")[0];b?z.cj(b):(St("TopicMediumV2",{member_url_token:z.V[1],topic_url_token:a[1]},this.tq,this),(0,window.$)(this.Bm).find("[data-url-token\x3d'"+a[1]+"']").remove(),this.dispatchEvent("add"))};z.e.tq=function(a){a=(0,window.$)(a)[0];z.Nb(this.Pf,a,0);z.cj(a);fu(this)};z.e.Ke=function(){};
z.e.Vl=function(){if(!z.bq.vc){var a=this;this.Lf&&this.Lf.H();var b=new Lt;b.Iq="expert-item-moving";Mt(b,this.Pf,4);b.init();this.Lf=b;this.o().g(this.Lf,"dragend",function(){this.dispatchEvent("sort")});(0,window.$)("a, input, .del, .add",this.Pf).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})});this.o().g(this.Lf,"beforedragstart",function(){return z.A("editing",this.Pf)?!1:!0})}};
z.e.Xl=function(){return(0,z.t)(function(a){return z.B.filter(a,function(a){return z.B.every(this.data,function(c){return c+""!==a[2]+""&&3<a.length})},this)},this)};z.v(hu,Kt);hu.prototype.Re=function(a){this.Ng||(this.Ng=!0,this.xhr=new z.U(!0),z.Ld(this.o(),this.xhr,"complete",this.hu),this.xhr.ajax(this.lB,"tid\x3d"+a+"\x26method\x3dadd"))};
hu.prototype.wo=function(a){this.Ng||(this.Ng=!0,this.xhr=new z.U(!0),this.o().g(this.xhr,"complete",function(){z.Ll(this);this.Ke();this.Ng=!1}),this.xhr.ajax(this.lB,"tid\x3d"+a+"\x26method\x3ddel"))};z.v(iu,z.Il);z.e=iu.prototype;z.e.w=function(a){this.h=a;this.gg=z.A("zm-tag-editor-labels",this.h);this.Ee(!0);this.oe();this.tb()};
z.e.mn=function(){this.Vc||(this.Vc=z.G("div","zm-tag-editor-editor",[this.jn=z.G("div","zg-section zg-clear"),this.Xe=z.G("div","zg-section zm-tag-editor-command-buttons-wrap",[this.nb=z.y("zh-topic-merge-input"),z.G("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"\u6dfb\u52a0"),this.NC=z.y("zh-topic-merge-btn")])]),z.Mb(this.Vc,this.gg),this.Ig(this.Xe))};
z.e.Ig=function(a){this.Y=new z.Hl("/topic/autocomplete",this.nb,null,null,a,!0);this.Y.gh(!0);this.Y.Cl=this.Yd;this.Y.Ro(this.Xl());this.Y.Bv=[this.Ae];this.o().g(this.Y,"select",this.mo);this.o().g(this.Y,"suggestionsupdate",this.gu)};z.e.Xl=function(){return(0,z.t)(function(a){return z.B.filter(a,function(a){return z.B.every(this.data,function(c){return c[1]!==a[1]&&3<a.length})},this)},this)};z.e.mo=function(){var a=this.Y.Wi().slice(1);a&&3<a.length&&(this.$B=a,this.Re(a[3],a[0]))};
z.e.Re=function(a,b){var c=this;(0,window.setTimeout)(function(){c.nb.value=b})};z.e.Ke=function(){};z.v(z.ju,z.S);z.e=z.ju.prototype;z.e.ox=null;z.e.qb=null;z.e.N=null;z.e.Bb=null;z.e.ob=!0;z.e.ic=!0;z.e.Qv=!0;z.e.Hb=-1;z.e.lc=null;z.e.Yf=!1;z.e.KI=!1;z.e.HP=!0;z.e.ug=null;z.e.kc=function(){return this.ox||this.N.kc(this)};z.e.Xq=function(){return this.qb||(this.qb=new z.Gh(this.kc()))};z.e.B=function(){this.h=this.N.B(this)};z.e.W=function(){return this.N.W(this.m())};z.e.gc=function(a){return this.N.gc(a)};
z.e.da=function(a){this.h=this.N.w(this,a);"none"==a.style.display&&(this.ob=!1)};z.e.D=function(){z.ju.v.D.call(this);z.Eg(this,function(a){a.Da&&lu(this,a)},this);var a=this.m();this.N.ze(this);this.G(this.ob,!0);this.o().g(this,"enter",this.vw).g(this,"highlight",this.zw).g(this,"unhighlight",this.Hw).g(this,"open",this.iM).g(this,"close",this.wL).g(a,"mousedown",this.we).g(z.qb(a),"mouseup",this.CL).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.uL);this.Uh()&&ku(this,!0)};
z.e.lb=function(){this.Rb(-1);this.lc&&this.lc.xb(!1);this.Yf=!1;z.ju.v.lb.call(this)};z.e.C=function(){z.ju.v.C.call(this);this.qb&&(this.qb.H(),this.qb=null);this.N=this.lc=this.ug=this.ox=null};z.e.vw=function(){return!0};z.e.zw=function(a){var b=z.pt(this,a.target);if(-1<b&&b!=this.Hb){var c=z.mu(this);c&&c.sd(!1);this.Hb=b;c=z.mu(this);this.Yf&&c.setActive(!0);this.HP&&this.lc&&c!=this.lc&&(c.Sb&64?c.xb(!0):this.lc.xb(!1))}z.sc(this.m(),"activedescendant",a.target.m().id)};
z.e.Hw=function(a){a.target==z.mu(this)&&(this.Hb=-1);z.sc(this.m(),"activedescendant","")};z.e.iM=function(a){(a=a.target)&&a!=this.lc&&a.getParent()==this&&(this.lc&&this.lc.xb(!1),this.lc=a)};z.e.wL=function(a){a.target==this.lc&&(this.lc=null)};z.e.we=function(a){this.ic&&(this.Yf=!0);var b=this.kc();b&&z.ec(b)?b.focus():a.preventDefault()};z.e.CL=function(){this.Yf=!1};
z.e.uL=function(a){var b;a:{b=a.target;if(this.ug)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.ug){b=this.ug[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.we(a);break;case "mouseup":b.Uf(a);break;case "mouseover":b.md(a);break;case "mouseout":b.Qh(a);break;case "contextmenu":b.An(a)}};z.e.ve=function(){};z.e.Xc=function(){this.Rb(-1);this.Yf=!1;this.lc&&this.lc.xb(!1)};
z.e.Zb=function(a){return this.isEnabled()&&this.T()&&(0!=z.Cg(this)||this.ox)&&this.ff(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.ff=function(a){var b=z.mu(this);if(b&&"function"==typeof b.Zb&&b.Zb(a)||this.lc&&this.lc!=b&&"function"==typeof this.lc.Zb&&this.lc.Zb(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Uh())this.kc().blur();else return!1;break;case 36:nu(this);break;case 35:pu(this);break;case 38:if(this.Bb==z.Tr)ru(this);else return!1;break;case 37:if(this.Bb==z.Sr)this.Cd()?qu(this):ru(this);else return!1;break;case 40:if(this.Bb==z.Tr)qu(this);else return!1;
break;case 39:if(this.Bb==z.Sr)this.Cd()?ru(this):qu(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.ju.v.L.call(this,a,b)};z.e.zk=function(a,b,c){a.ck|=2;a.ck|=64;!this.Uh()&&this.KI||z.Nh(a,32,!1);a.Po(!1);z.ju.v.zk.call(this,a,b,c);a.Da&&this.Da&&lu(this,a);b<=this.Hb&&this.Hb++};
z.e.removeChild=function(a,b){if(a=z.r(a)?z.Bg(this,a):a){var c=z.pt(this,a);-1!=c&&(c==this.Hb?a.sd(!1):c<this.Hb&&this.Hb--);(c=a.m())&&c.id&&this.ug&&z.C.remove(this.ug,c.id)}a=z.ju.v.removeChild.call(this,a,b);a.Po(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Bb=a};z.e.T=function(){return this.ob};
z.e.G=function(a,b){if(b||this.ob!=a&&this.dispatchEvent(a?"show":"hide")){this.ob=a;var c=this.m();c&&(z.R(c,a),this.Uh()&&kt(this.kc(),this.ic&&this.ob),b||this.dispatchEvent(this.ob?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.ic};
z.e.cb=function(a){this.ic!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.ic=!0,z.Eg(this,function(a){a.VH?delete a.VH:a.cb(!0)})):(z.Eg(this,function(a){a.isEnabled()?a.cb(!1):a.VH=!0}),this.Yf=this.ic=!1),this.Uh()&&kt(this.kc(),a&&this.ob))};z.e.Uh=function(){return this.Qv};z.e.Me=function(a){a!=this.Qv&&this.Da&&ku(this,a);this.Qv=a;this.ic&&this.ob&&kt(this.kc(),a)};z.e.Rb=function(a){(a=z.Dg(this,a))?a.sd(!0):-1<this.Hb&&z.mu(this).sd(!1)};z.e.sd=function(a){this.Rb(z.pt(this,a))};
z.e.sB=function(a){return a.T()&&a.isEnabled()&&!!(a.Sb&2)};z.e.Zy=function(a){this.Rb(a)};
var qy={mD:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},hA:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.gh("\u63d0\u793a\u4fe1\u606f","\x3cp\x3e"+a.msg+'\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24752645" target\x3d"_blank"\x3e\u4e3a\u4ec0\u4e48\u56de\u7b54\u4f1a\u88ab\u5efa\u8bae\u4fee\u6539\uff1f\x3c/a\x3e\x3c/p\x3e')})},Xy:function(a,b){return window.$.post("/node/AnswerMetaV2",
{method:"set_copyright",params:{answer_id:a,is_copyable:Number(b)}})}};z.v(Du,z.si);Du.prototype.oh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.v(Eu,z.si);Eu.prototype.oh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.v(Fu,z.si);Fu.prototype.oh=function(){var a=this.ri&&this.Cd()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.v(Ru,z.N);var Tu={};
Ru.prototype.defaults={};Ru.prototype.o=function(){return this.Fg||(this.Fg=new z.Kd(this))};Ru.prototype.init=function(){};Ru.prototype.C=function(){Ru.v.C.call(this);this.view&&(z.C.remove(this.view.pd,this.name),this.view=null);this.Fg&&(this.Fg.H(),this.Fg=null)};z.v(Vu,z.S);z.e=Vu.prototype;z.e.defaults={source:null,use:["autoload","shortcut"],hh:!0,Om:"zg-btn-white zu-button-more"};z.e.use=function(a,b){var c=Uu(a,b);c.view=this;this.Da?c.init(this):this.o().g(this,"initialized",function(){c.init(this)});this.pd[a]=c;return this};z.e.Ei=function(){!this.Jd&&this.J.hh&&(this.Jd=this.$p(),z.Mb(this.Jd,this.h),this.o().g(this.Jd,"click",this.es))};
z.e.D=function(){Vu.v.D.call(this);this.Ei();z.B.forEach(this.Ab(),this.tq,this);z.B.forEach(this.J.use,this.use,this);this.dispatchEvent("initialized")};z.e.C=function(){z.C.forEach(this.pd,function(a){a.H()});this.pd=null;Vu.v.C.call(this)};z.e.Ab=function(){return z.Qb(this.h)};z.e.tq=function(a,b){this.Jj(a,b);this.dispatchEvent({type:"itemcreated",item:a,index:b})};z.e.Jj=z.p;z.e.$O=function(a){if(a){var b=a.results,c=!b||!b.length;c||this.ba(b);this.dispatchEvent("next");(c||!1===a.next)&&Xu(this)}};
z.e.ba=function(a,b){a=window.$.isArray(a)?a.join(""):a;var c=z.Gb(a+" ");z.B.forEach(window.$.makeArray(z.Qb(c)),this.tq,this);z.Nb(this.h,c,b)};z.e.es=function(){if(!1!==this.dispatchEvent("beforeloadnext")&&"pending"!==this.promise.state())return this.lz(!0),this.promise=this.source().done((0,z.t)(this.$O,this)).always((0,z.t)(z.qa(this.lz,!1),this))};z.e.Ec=function(){return this.Jd};z.e.$p=function(){return z.G("a",{"aria-role":"button","class":this.J.Om},"\u66f4\u591a")};
z.e.lz=function(a){this.Jd&&(this.Jd.innerHTML=a?'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e \u52a0\u8f7d\u4e2d':"\u66f4\u591a",z.H.enable(this.Jd,"loading",a))};var Zu={s:function(a,b,c){return(0,window.isNaN)(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,f){d=a.toString();(0,window.isNaN)(f)||""==f||(d=a.toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if((0,window.isNaN)(c)||d.length>=c)return d;d=(0,window.isNaN)(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;0<=b.indexOf("-",0)?d=g+d+Array(a+1).join(" "):
(b=0<=b.indexOf("0",0)?"0":" ",d=g+Array(a+1).join(b)+d);return d},d:function(a,b,c,d,f,g,h,l){return Zu.f((0,window.parseInt)(a,10),b,c,d,0,g,h,l)}};Zu.i=Zu.d;Zu.u=Zu.d;Su("activeSource",{defaults:{tJ:"%d \u6761\u65b0\u52a8\u6001",Om:"zu-main-feed-fresh-button",GU:z.p},init:function(a){this.data=[];this.button=this.$p();z.Lb(this.button,a.m());this.o().g(this.button,"click",function(){a.ba(this.data,0);this.setData([])});var b=this,c=this.options.source(function(a){a&&a.length&&b.setData(a.concat(b.data))},function(){return b.data});if(!c||!z.ia(c.H))throw Error("Source must return a disposable object.");this.yK=c},setData:function(a){this.data=a;this.JO()},JO:function(){var a=
this.data.length;z.bc(this.button,Yu(this.options.tJ,a));z.R(this.button,!!a)},$p:function(){return z.G("a",{href:"javascript:;",style:"display:none","class":this.options.Om})},H:function(){Ru.prototype.H.call(this);z.Gc(this.yK);this.options=null;this.button&&(z.I(this.button),this.button=null)}});z.v($u,z.N);$u.prototype.gf=function(){var a=this.ep=new z.zl(this.update,this.sK,this);this.ga.g(this.viewport,"scroll",a.fire,!1,a).g(this.viewport,"resize",a.fire,!1,a)};$u.prototype.o=function(){return this.ga};$u.prototype.C=function(){$u.v.C.call(this);this.ga.H();this.ga=null;this.ep.H();this.ep=null};$u.prototype.update=function(){this.size=(z.Wb(this.viewport)?z.yb:z.Uf)(this.viewport);this.dispatchEvent("update")};var cv=new $u;(0,window.$)(function(){cv.update()});Su("autoload",{defaults:{dB:!0,viewport:window,DU:function(){return!0}},init:function(a){if(a.Ec()&&(!this.options.dB||z.V.ra())){var b=this.options.viewport,c=new $u(b);z.Ec(this,c);av(c,this,function(c){return z.Yf(a.Ec())?400>=(z.Wb(b)?a.Ec().getBoundingClientRect().top-c.height:b.scrollHeight-b.scrollTop-c.height):!1});this.o().g(a,"complete",this.H).g(a,"next",function(){this.enable()});this.enable()}},enable:function(){z.Ld(this.o(),this,"nearbottom",function(){this.view.es()})}});Su("childConstructor",{defaults:{Pk:null,factory:null},init:function(a){z.ia(this.options.Pk)&&Wu(a,this.ZJ,this);z.ia(this.options.factory)&&Wu(a,this.iQ,this)},ZJ:function(a){var b=new this.options.Pk;this.view.L(b);b.w(a)},iQ:function(a){var b=this.options.factory(a);this.view.L(b);b.w(a)}});Su("dataPagingSource",{defaults:{xB:!0},init:function(a){var b=(0,window.$)(a.m()).data("paging").next;b||Xu(a);a.source=function(){return window.$.get(b).then(function(a){b=a.paging.next;return{results:a.htmls,next:!!b}})}}});z.v(dv,z.S);z.e=dv.prototype;z.e.defaults={nH:"textarea.content",qB:".toggle-expand",OR:".summary",Uu:"zm-editable-content",Uq:!1};
z.e.D=function(){dv.v.D.call(this);var a=this.h,b=this.J;b.Uq?(this.Qe=(0,window.$)("."+b.Uu,a),this.content=this.Qe.val(),this.xc=(0,window.$)(b.qB,a)):(this.Ap=(0,window.$)(b.nH,a),this.content=this.Ap.is(":input")?this.Ap.val():this.Ap.html(),this.Qe=(0,window.$)(b.OR,a),this.xc=(0,window.$)(b.qB,this.Qe));if(this.Qe.length){if(this.xc.length)this.xc.click(!1).on("click",window.$.proxy(this.expand,this));this.Qe.on("click",window.$.proxy(this.rM,this))}else this.valid=!1,this.expand=this.collapse=
z.p,this.dispatchEvent("invalid")};z.e.Ec=function(){return this.xc.get(0)};z.e.gb=function(){return this.content};z.e.Qa=function(a,b){a?this.expand(b):this.collapse(b)};z.e.rM=function(a){var b=z.Nm();b&&b.Gc()||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),this.expand()))};
z.e.expand=function(a){this.yd||!1===this.dispatchEvent("beforeexpand")||(this.yd=!0,this.J.Uq?(this.Qe.removeClass("fixed-summary"),this.xc.remove()):(this.Pe?this.Pe.show():this.Qe.length&&(this.Pe=(0,window.$)("\x3cdiv\x3e",{html:this.content,"class":this.J.Uu}).insertBefore(this.Ap)),this.Qe.hide()),!0!==a&&this.dispatchEvent("expand"))};z.e.collapse=function(a){this.yd&&(this.yd=!1,this.Pe&&this.Pe.hide(),this.J.Uq?this.Qe.addClass("fixed-summary"):this.Qe.show(),!0!==a&&this.dispatchEvent("collapse"))};Su("expandLimit",{defaults:{KU:3},init:function(a){var b=z.yr.create("ExpandLimit");b.get("expandCount")||b.ce("expandCount","0");z.V.ra()||this.o().g(a,"beforeloadnext",function(){z.jl("expand");return!1})}});Su("locationSource",{defaults:{Yr:20,param:null,As:!1,offset:function(a){return a.length}},init:function(a){function b(a){return{start:c.As?z.B.Zd(a).id.split("-")[1]:0,offset:c.offset(a)}}var c=this.options,d=c.url||window.location.href,f=a.Ab().length;(!f||f<c.Yr)&&Xu(a);a.source=function(){return window.$.post(d,(c.param||b)(a.Ab())).then(function(b){if(!b.r){b=b.msg;var d=b[0];z.ha(d)&&d<c.Yr&&Xu(a);return{results:b[1]}}})}}});Su("nodeSource",{defaults:{xB:!0},init:function(a){var b=(0,window.$)(a.m()).data("init"),c="/node/"+b.nodename,d=b.params,f=d.offset||0,b=d.limit,g=d.pagesize;this.options.xB&&b&&a.Ab().length<b&&Xu(a);a.source=function(){return window.$.post(c,{method:"next",params:window.$.extend(d,{offset:f+a.Ab().length})}).then(function(a){var b=!0;g&&!a.r&&a.msg.length<g&&(b=!1);return!a.r&&{results:a.msg,next:b}})}}});Su("shortcut",{defaults:{items:"\x3ediv"},init:function(a){a.Ab().length&&(this.jo=new z.Ao(this.options),this.jo.w(a.m()),this.o().g(this.jo,"action",function(b){b.data.index>=b.data.size&&a.Ec()&&z.Yf(a.Ec())&&a.Ec().click()}))},H:function(){Ru.prototype.H.call(this);this.jo&&(this.jo.H(),this.jo=null)}});z.v(ev,Vu);z.v(fv,z.Bh);z.ca(fv);fv.prototype.O=function(){return"goog-menuheader"};z.v(gv,z.Kh);z.Ih("goog-menuheader",function(){return new gv(null)});z.v(hv,z.Bh);z.ca(hv);z.e=hv.prototype;z.e.sc=function(){return"menuitem"};z.e.B=function(a){var b=a.M().B("div",this.cf(a).join(" "),jv(this,a.gb(),a.M()));lv(this,a,b,!!(a.Sb&8)||!!(a.Sb&16));z.Ch(this,a,b);return b};z.e.W=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.Sb(b),d=iv(this,2);c&&z.H.has(c,d)||b.appendChild(jv(this,b.childNodes,a.M()));z.H.has(b,"goog-option")&&(a.Mo(!0),this.Mo(a,b,!0));return hv.v.w.call(this,a,b)};
z.e.ya=function(a,b){var c=this.W(a),d=kv(this,a)?c.firstChild:null;hv.v.ya.call(this,a,b);d&&!kv(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.ji=function(a,b,c){b&&(z.rc(b,c?"menuitemradio":this.sc()),lv(this,a,b,c))};z.e.Mo=function(a,b,c){b&&(z.rc(b,c?"menuitemcheckbox":this.sc()),lv(this,a,b,c))};z.e.sn=function(a){switch(a){case 2:return iv(this,0);case 16:case 8:return"goog-option-selected";default:return hv.v.sn.call(this,a)}};
z.e.kw=function(a){var b=iv(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return hv.v.kw.call(this,a)}};z.e.O=function(){return"goog-menuitem"};z.v(mv,z.Kh);z.e=mv.prototype;z.e.X=function(){var a=this.Lx;return null!=a?a:this.Cg()};z.e.Ea=function(a){this.Lx=a};z.e.ji=function(a){z.Nh(this,8,a);this.Be()&&!a&&this.ad(!1);var b=this.m();b&&this.N.ji(this,b,a)};z.e.Mo=function(a){z.Nh(this,16,a);var b=this.m();b&&this.N.Mo(this,b,a)};
z.e.Cg=function(){var a=this.gb();return z.fa(a)?(a=z.B.map(a,function(a){var c=z.H.get(a);return z.B.contains(c,"goog-menuitem-accel")||z.B.contains(c,"goog-menuitem-mnemonic-separator")?"":z.jc(a)}).join(""),z.Ea(a)):mv.v.Cg.call(this)};z.e.Uf=function(a){var b=this.getParent();if(b){var c=b.VF;b.VF=null;if(b=c&&z.ha(a.clientX))b=new z.kb(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}mv.v.Uf.call(this,a)};
z.e.ff=function(a){return a.keyCode==this.Kx&&this.$d(a)?!0:mv.v.ff.call(this,a)};z.e.hL=function(){return this.Kx};z.Ih("goog-menuitem",function(){return new mv(null)});z.v(nv,z.vl);z.ca(nv);z.e=nv.prototype;z.e.sc=function(){return"menu"};z.e.gc=function(a){return"UL"==a.tagName||nv.v.gc.call(this,a)};z.e.un=function(a){return"HR"==a.tagName?new z.ul:nv.v.un.call(this,a)};z.e.Ef=function(a,b){return z.Xb(a.m(),b)};z.e.O=function(){return"goog-menu"};z.e.ze=function(a){nv.v.ze.call(this,a);z.sc(a.m(),"haspopup","true")};z.v(ov,z.ul);z.Ih("goog-menuseparator",function(){return new z.ul});z.v(pv,z.ju);z.e=pv.prototype;z.e.Cm=!0;z.e.LI=!1;z.e.O=function(){return this.N.O()};z.e.Ef=function(a){if(this.N.Ef(this,a))return!0;for(var b=0,c=z.Cg(this);b<c;b++){var d=z.Dg(this,b);if("function"==typeof d.Ef&&d.Ef(a))return!0}return!1};z.e.Ja=function(a){this.L(a,!0)};z.e.zi=function(a,b){this.zk(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.Nh=function(a){return z.Dg(this,a)};z.e.ll=function(){return z.Cg(this)};
z.e.Ab=function(){var a=[];z.Eg(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.T();c||z.R(this.m(),!0);Ft(this.m(),a,b);c||z.R(this.m(),!1)};z.e.G=function(a,b,c){(b=pv.v.G.call(this,a,b))&&a&&this.Da&&this.Cm&&this.kc().focus();this.VF=a&&c&&z.ha(c.clientX)?new z.kb(c.clientX,c.clientY):null;return b};z.e.vw=function(a){this.Cm&&this.kc().focus();return pv.v.vw.call(this,a)};z.e.sB=function(a){return(this.LI||a.isEnabled())&&a.T()&&!!(a.Sb&2)};
z.e.da=function(a){var b=this.N,c;c=this.M();c=z.ub(c.Ka,"div",b.O()+"-content",a);for(var d=c.length,f=0;f<d;f++)z.wl(b,this,c[f]);pv.v.da.call(this,a)};z.e.ff=function(a){var b=pv.v.ff.call(this,a);b||z.Eg(this,function(c){!b&&c.hL&&c.Kx==a.keyCode&&(this.isEnabled()&&this.sd(c),b=c.Zb(a))},this);return b};z.e.Rb=function(a){pv.v.Rb.call(this,a);(a=z.Dg(this,a))&&z.Of(a.m(),this.m())};z.v(qv,Zt);z.v(rv,z.Fh);z.ca(rv);z.e=rv.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.cf(a).join(" "),title:a.Tf()||""},b=a.M().B("div",b,this.Ei(a.gb(),a.M()));z.Ch(this,a,b);return b};z.e.sc=function(){return"button"};z.e.W=function(a){return a&&a.firstChild.firstChild};z.e.Ei=function(a,b){return b.B("div","goog-inline-block "+(this.O()+"-outer-box"),b.B("div","goog-inline-block "+(this.O()+"-inner-box"),a))};z.e.gc=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){sv(b,!0);sv(b,!1);var c;a:{c=a.M().fD(b);var d=this.O()+"-outer-box";if(c&&z.H.has(c,d)&&(c=a.M().fD(c),d=this.O()+"-inner-box",c&&z.H.has(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Ei(b.childNodes,a.M()));z.H.add(b,"goog-inline-block",this.O());return rv.v.w.call(this,a,b)};z.e.O=function(){return"goog-custom-button"};z.v(tv,rv);z.ca(tv);z.O&&(tv.prototype.ya=function(a,b){var c=tv.v.W.call(this,a&&a.firstChild);c&&z.Ob(this.createCaption(b,z.ob(a)),c)});z.e=tv.prototype;z.e.W=function(a){a=tv.v.W.call(this,a&&a.firstChild);z.O&&a&&a.__goog_wrapper_div&&(a=a.firstChild);return a};z.e.w=function(a,b){var c=z.tb("*","goog-menu",b)[0];if(c){z.R(c,!1);z.qb(c).body.appendChild(c);var d=new pv;d.w(c);a.fh(d)}return tv.v.w.call(this,a,b)};
z.e.Ei=function(a,b){return tv.v.Ei.call(this,[this.createCaption(a,b),b.B("div","goog-inline-block "+(this.O()+"-dropdown"),"\u00a0")],b)};z.e.createCaption=function(a,b){return uv(a,this.O(),b)};z.e.O=function(){return"goog-menu-button"};z.v(vv,z.Rh);z.e=vv.prototype;z.e.Pr=!1;z.e.Xj=!1;z.e.D=function(){vv.v.D.call(this);this.ta&&zv(this,this.ta,!0);z.sc(this.m(),"haspopup","true")};z.e.lb=function(){vv.v.lb.call(this);if(this.ta){this.xb(!1);this.ta.lb();zv(this,this.ta,!1);var a=this.ta.m();a&&z.I(a)}};z.e.C=function(){vv.v.C.call(this);this.ta&&(this.ta.H(),delete this.ta);delete this.aQ;this.qa.H()};z.e.we=function(a){vv.v.we.call(this,a);this.Ib()&&(this.xb(!this.vb(),a),this.ta&&(a=this.vb(),this.ta.Yf=a))};
z.e.Uf=function(a){vv.v.Uf.call(this,a);this.ta&&!this.Ib()&&(this.ta.Yf=!1)};z.e.$d=function(){this.setActive(!1);return!0};z.e.BL=function(a){this.ta&&this.ta.T()&&!this.Ef(a.target)&&this.xb(!1)};z.e.Ef=function(a){return a&&z.Xb(this.m(),a)||this.ta&&this.ta.Ef(a)||!1};
z.e.ff=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ta&&this.ta.T()){var b=this.ta.Zb(a);return 27==a.keyCode?(this.xb(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.xb(!0),!0):!1};z.e.Bn=function(){this.xb(!1)};z.e.bM=function(){this.Ib()||this.xb(!1)};z.e.Xc=function(a){this.Pr||this.xb(!1);vv.v.Xc.call(this,a)};z.e.Ya=function(){this.ta||this.fh(new pv(this.M()));return this.ta||null};
z.e.fh=function(a){var b=this.ta;if(a!=b&&(b&&(this.xb(!1),this.Da&&zv(this,b,!1),delete this.ta),a)){this.ta=a;z.Ag(a,this);a.G(!1);var c=this.Pr;(a.Cm=c)&&a.Me(!0);this.Da&&zv(this,a,!0)}return b};z.e.Ja=function(a){this.Ya().L(a,!0)};z.e.zi=function(a,b){this.Ya().zk(a,b,!0)};z.e.removeItem=function(a){(a=this.Ya().removeChild(a,!0))&&a.H()};z.e.Nh=function(a){return this.ta?z.Dg(this.ta,a):null};z.e.ll=function(){return this.ta?z.Cg(this.ta):0};
z.e.G=function(a,b){var c=vv.v.G.call(this,a,b);c&&!this.T()&&this.xb(!1);return c};z.e.cb=function(a){vv.v.cb.call(this,a);this.isEnabled()||this.xb(!1)};z.e.aH=function(){this.xb(!0)};
z.e.xb=function(a,b){vv.v.xb.call(this,a);if(this.ta&&!!(this.U&64)==a){if(a)this.ta.Da||(this.Xj?this.ta.ba(this.m().parentNode):this.ta.ba()),this.SH=z.Lf(this.m()),this.pB=z.Wf(this.m()),yv(this),this.ta.Rb(-1);else if(this.setActive(!1),this.ta.Yf=!1,this.m()&&z.sc(this.m(),"activedescendant",""),null!=this.zs){this.zs=void 0;var c=this.ta.m();c&&z.Tf(c,"","")}this.ta.G(a,!1,b);if(!this.Kf){var c=this.o(),d=a?c.g:c.Ia;d.call(c,this.M().Ga(),"mousedown",this.BL,!0);this.Pr&&d.call(c,this.ta,"blur",
this.bM);d.call(c,this.qa,z.bk,this.Kl);a?this.qa.start():this.qa.stop()}}};z.e.Kl=function(){var a=z.Wf(this.m()),b=z.Lf(this.m()),c=this.pB;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.SH,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.pB=a,this.SH=b,yv(this))};z.e.zw=function(a){z.sc(this.m(),"activedescendant",a.target.m().id)};z.e.Hw=function(){z.mu(this.ta)||z.sc(this.m(),"activedescendant","")};
z.Ih("goog-menu-button",function(){return new vv(null)});z.v(Av,z.N);Av.prototype.FA={question:"\u95ee\u9898",comment:"\u8bc4\u8bba",answer:"\u56de\u7b54",favlist:"\u6536\u85cf",member:"\u7528\u6237",message:"\u79c1\u4fe1",image:"\u56fe\u7247",video:"\u89c6\u9891",post:"\u6587\u7ae0"};Av.prototype.$u="report-dialog";Av.prototype.UE="loading";Av.prototype.UC='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"\u8bf7\u586b\u5199\u539f\u56e0" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
Av.prototype.submit=Qu;z.e=Av.prototype;z.e.aw=function(){return this.hn};z.e.Ik=function(a,b){var c=new z.Xg;z.Pg(c,!0);c.Jf=!0;z.Sg(c,z.jr);c.addEventListener(z.Ug,this.AL,!1,this);z.Ec(c,this);a&&c.Wa(a);b&&c.ya(b);c.G(!0);c.aa();z.H.add(c.m(),this.$u);return this.hn=c};z.e.AL=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.hn.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.Ik(this.cD(a),this.Du());z.H.add(d.m(),this.UE);this.jD(a).then((0,z.t)(function(f){d.ya((0,z.Hn)(this.UC,{each:z.B.forEach,options:f,headnote:c}));z.H.remove(d.m(),this.UE);d.aa();z.$g(d,450);this.LK={type:a,id:b};this.Vp(f)},this))};z.e.zD=function(){};
z.e.Vp=function(a){var b=this,c=(0,window.$)(this.hn.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,l=z.B.find(a,function(a){return h===String(a.value)});b.zD(l);l="0"===h;f.toggle(l);l&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"\u8bf7\u9009\u62e9\u7406\u7531",detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.Du=function(){return'\x3cdiv class\x3d"loading"\x3e\u7406\u7531\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.v(Bv,z.S);var Cv={question:"question_report",answer:"question_answer_report",post:"article_report",member:"member_report",comment:"comment_report",favlist:"favlist_report",message:"message_report"},BG=(0,z.t)(z.Qs(function(a){return window.$.getJSON(z.ya("/report/%s/options",a))}),z.m);
Bv.submit=function(a,b,c){b=window.$.extend({type:a,id:b},c);z.X.ma({type:"ga_click_report",data:{type:a}});window.$.post("/report",b).done(function(a){if(a.r)"duplicate_report"===a.errtype?z.T(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5"):z.T(a.msg);else if(a.noti){var b=z.ch({title:"\u4e3e\u62a5\u6210\u529f\uff01",Ej:!0,content:'\x3cp\x3e\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u300c\u79c1\u4fe1\u300d\u901a\u77e5\u60a8\x3c/p\x3e\x3cp\x3e\u60a8\u4e5f\u53ef\u4ee5\u8fdb\u5165 \x3ca href\x3d"/community/report"\x3e\u793e\u533a\u670d\u52a1\u4e2d\u5fc3\x3c/a\x3e \u67e5\u770b\u5b9e\u65f6\u5904\u7406\u8fdb\u5ea6\x3c/p\x3e\x3clabel class\x3d"modal-dialog-cancelNoti"\x3e\x3cinput type\x3d"checkbox" name\x3d"cancelNoti" /\x3e\u4e0d\u518d\u63d0\u9192\x3c/label\x3e',
className:"report-success-dialog",aa:!0,buttons:["\u77e5\u9053\u5566"]});b.o().g(b,z.ir,function(){(0,window.$)(z.Ng(b)).find("input[name\x3dcancelNoti]")[0].checked&&window.$.post("/community/report/noti",{cancel:!0});return!0})}else z.T("\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210",2E3,"\u4e3e\u62a5\u6210\u529f\uff01")})};
Bv.prototype.submit=z.kl(function(a){Bv.submit(this.type,this.id,a)},function(){return{ra:this.su,gd:!0}});Bv.prototype.ZG=z.kl(function(){(new Fv(this.type,this.id)).open(this.type,this.id);z.X.ma({type:"ga_click_report_box",data:{type:this.type}})},function(){return{ra:this.su,gd:!0}});
Bv.prototype.ZM=function(){var a=this.cF,b=this.cF.Ya();BG(this.type).then(function(c){window.$.each(c,function(a,c){var g=new mv(c.label,{value:c.value,options:c.options});b.Ja(g)});yv(a);(0,window.$)(b.m()).addClass("report-menu")});this.o().g(b,"show",z.kl(function(){z.X.ma({type:"ga_click_report_box",data:{type:this.type}})},{ra:this.su,gd:!0})).g(b,"action",this.ow)};
Bv.prototype.ow=function(a){var b=a.target.X().value;a=a.target.X().options;var c=this.type;0===b?(b=new Fv(this.type,this.id),b.Ik("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",'\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3ctextarea class\x3d"textarea" name\x3d"detail"\x3e\x3c/textarea\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"0" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e'),b=(0,window.$)(b.aw().m()),b=(0,window.$)("form",b),b.validate({rules:{detail:{rangelength:[2,
100],required:!0}},messages:{detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",b)})):"member"===c&&10018!==b?(b='\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3cinput placeholder\x3d"\u586b\u5199\u8fdd\u89c4\u5185\u5bb9\u94fe\u63a5\u4f1a\u66f4\u5feb\u88ab\u7ba1\u7406\u5458\u5904\u7406" type\x3d"text" name\x3d"link" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"'+b+'" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e',
(new Fv(this.type,this.id)).Ik("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",b)):"question"===c&&a?Ev(this,a):Bv.submit(c,this.id,{reason:b})};z.v(Fv,Av);Fv.prototype.jD=BG;Fv.prototype.submit=function(){var a=(0,window.$)((0,window.$)("form",this.hn.m())[0]).serializeArray(),a=z.B.reduce(a,function(a,c){c.value&&(a[c.name]=c.value);return a},{});Bv.submit(this.type,this.id,a)};Fv.prototype.cD=function(a){return z.ya("\u4e3a\u4ec0\u4e48\u4e3e\u62a5\u8fd9\u4e2a%s\uff1f",this.FA[a]||"\u6761\u76ee")};z.v(Gv,z.ll);
Gv.prototype.init=function(){var a=z.y("zh-create-pm");a&&this.o().g(a,"click",this.HO);var a=z.y("zh-pm-item-wrap"),b=new ev;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a);this.o().g(a,"click",this.xa);(0,window.$)(function(){(0,window.$)("#zh-change-pm-admin").change(function(){var a=(0,window.$)(this).find("option:selected").attr("data-token");window.location.href="self"===a?"/admin_feedback":"/admin_feedback/"+a})});(0,window.$)('a[name\x3d"report"]').each(function(a,b){var f=
(0,window.$)(b).closest(".zm-pm-item").data("report-token");Dv(new Bv("message",f),b)})};Gv.prototype.HO=z.kl(function(){var a;this.Hn();this.Qb.show();z.mp(this.Qb,-1);(a=z.Qa(window.location.pathname,"admin_inbox")?"admin":(0,window.$)("#zh-change-pm-admin option:selected").attr("data-token"))&&this.Qb.ft(a)},!0);Gv.prototype.Hn=function(){this.Qb||(this.Qb=new z.kp({Ns:!0}))};
Gv.prototype.xa=function(a){if(a=z.lj(this.xU,a.target)){var b=a.name,c=z.mc(a,null,this.kf);if(!c||!a.name)return!0;var d=(0,window.$)(c).data(),f=d.member,g=d.name;switch(b){case "reply":z.kl((0,z.t)(function(){this.Hn();this.Qb.show();var a=this.Qb,b=d.type;a.cp=d.token;a.Kz=b;z.mp(this.Qb,f,g,!1);this.Qb.$b.focus()},this),!0)();break;case "delete":var h=c.getAttribute("data-token");z.ch("\u5220\u9664\u79c1\u4fe1\u4f1a\u8bdd","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u4e0e "+g+"\u7684\u6240\u6709\u4f1a\u8bdd\u5417\uff1f",
function(a){a&&Hv(h)},this);break;case "edit":z.aj(this.Oc,this.lg),this.li=-1}}};z.v(Iv,z.ll);
Iv.prototype.init=function(){this.as=z.y("zh-pm-detail-item-wrap");this.o().g(this.as,"click",this.xa);var a=z.y("zh-pm-editor-form");if(a){this.Qb=new z.kp({Ns:!0});this.Qb.qp=!1;this.Qb.eh(a);this.Qb.show();if(a=this.Ab()[0]){var a=(0,window.$)(a).data(),b=this.Qb,c=a.type;b.cp=a.token;b.Kz=c;z.mp(this.Qb,a.member,a.name)}else a=z.Vn,z.mp(this.Qb,a.id,a.Wv);this.Qb.focus()}else this.Qb=new z.kp({Ns:!0});Jv(this);this.mj()};
Iv.prototype.mj=function(){(0,window.$)('a[name\x3d"report"]').each(function(a,b){var c=(0,window.$)(b).closest(".zm-pm-item").data("token");Dv(new Bv("message",c),b)})};Iv.prototype.Ab=function(){return z.Qb(this.as)};
Iv.prototype.xa=function(a){var b=z.lj(this.as,a.target);if(b&&(a=b.name,b=z.mc(b,null,this.kf))){var b=(0,window.$)(b).data(),c=b.token;switch(a){case "reply":this.Qb.show();a=this.Qb;var d=b.type;a.cp=c;a.Kz=d;z.mp(this.Qb,b.member,b.name,!1);this.Qb.focus();break;case "delete":Kv(this,c)}}};z.v(Mv,z.S);z.e=Mv.prototype;z.e.cA=!z.ah;z.e.bA=!z.ah;z.e.gi=function(a){this.Wf=a};z.e.init=function(){this.bc=z.y("zh-load-more");this.w(this.HK)};
z.e.D=function(){Mv.v.D.call(this);this.Gm=1;Sv(this);this.wk=(0,window.$)(this.bc);this.bc&&Qv(this)&&(this.o().g(this.bc,"click",function(){this.Qn=!0;this.rh&&"pending"===this.rh.state()&&1===this.Gm?(this.rh.done((0,z.t)(this.Rg,this)),this.jz=!0,Ov(this,!0)):this.dy()}),this.cA&&(this.Lz=new z.zl(this.ay,100,this),this.o().g(window,"scroll",function(){this.Lz.fire()})));Tv(this,this.Ab())};
z.e.ay=function(){var a=this.bc;a&&z.Yf(a)&&1E3>=a.getBoundingClientRect().top-z.yb().height&&!(this.Fs||this.rh&&"pending"===this.rh.state())&&(this.bA&&(3===this.Gm?(this.Gm=1,this.jz=!1):(this.Qn=!1,this.Gm++,this.jz=!0)),this.Aj())};z.e.dy=function(){this.cA&&this.Fs?(this.Rg(this.Fs),this.Fs=null):(Ov(this,!0),this.Aj())};
z.e.Aj=function(a,b,c){b=b||z.p;if(!this.rh||"pending"!==this.rh.state()){var d=this.kG(window.$.extend(this.params,{offset:this.offset,start:this.Ne}));this.rh=window.$.post(this.url,d).done(b).done(window.$.proxy(function(b){if(c)return c.call(this,b);this.cA&&!a?this.jz?this.Rg(b):(this.Fs=b,Ov(this,!1)):this.Rg(b)},this));1!==this.Gm&&Ov(this,!0);return this.rh}};z.e.kG=function(a){return a};
z.e.Rg=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.bc.setAttribute("data-next",f));0<c&&(this.Dm(d),this.offset=this.Sx?this.Sx(this.Ab()):this.offset+c);b=!0;b=this.nr?this.nr(a):!(-1===f||10>c);z.R(this.bc,b);Ov(this,!1);Rv(this)}};z.e.Ab=function(){return z.vb(this.Wf,this.h)};z.e.dG=function(a){return a.id.split("-")[1]};
z.e.Dm=function(a,b){var c=z.fa(a)?a.join(""):a,c=z.Gb(c+" "),d=z.vb(this.Wf,c);Tv(this,d);"prepend"===b?z.Lb(c,this.h.firstChild):this.h.appendChild(c);Sv(this)};z.e.Jj=z.p;z.v(z.Uv,z.N);z.Uv.prototype.qa=null;z.Uv.prototype.handleEvent=function(a){if("input"==a.type)Vv(this),z.P&&this.h!=z.qb(this.h).activeElement||this.dispatchEvent(Wv(a));else if("keydown"!=a.type||Ju(a)){var b="keydown"==a.type?this.h.value:null;z.x&&229==a.keyCode&&(b=null);var c=Wv(a);Vv(this);this.qa=z.ld(function(){this.qa=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.Uv.prototype.C=function(){z.Uv.v.C.call(this);this.R.H();Vv(this);delete this.h};z.v(Xv,z.N);var Yv=0;z.e=Xv.prototype;z.e.oo=function(){this.Di()};z.e.Di=function(){var a=this.Yq();this.Gh&&(0>this.Pg-a?(z.bc(this.Gh,"\u5df2\u8d85\u51fa "+(a-this.Pg)+" \u5b57"),z.H.add(this.Gh,"zg-text-error")):(z.bc(this.Gh,"\u8fd8\u53ef\u4ee5\u8f93\u5165 "+(this.Pg-a)+" \u5b57"),z.H.remove(this.Gh,"zg-text-error")))};z.e.C=function(){Xv.v.C.call(this);delete this.Nd;this.oj.H();this.oj=null};z.e.isValid=function(){return 0<=this.Pg-this.Nd.value.length};z.e.Yq=function(){return this.Nd.value.length};
z.v(Zv,Xv);Zv.prototype.Yq=function(){return Math.ceil(z.Fa(this.Nd.value).replace(/(http|https):\/\/[a-zA-Z0-9]+(\.[a-zA-Z0-9]+)+([-A-Z0-9a-z_\$\.\+\!\*\(\)\/\,\:;@&=\?~#%]*)*/gi,"length-20-string----").replace(/[^\x00-\xff]/g,"--").length/2)};var bw;z.v($v,z.ll);$v.prototype.Ue={};var CG=z.Qs(function(){return window.$.get("/node/WebShareDialogV2")});z.e=$v.prototype;z.e.init=function(){this.o().g(z.Aj,"question_title_change",function(){this.Ue[this.yf]=null});CG().then((0,z.t)(function(a){a=z.Gb(z.Fa(a));this.B(a);this.tb();this.show();dw(this,this.rK)},this))};z.e.show=function(){cw(this);this.wc&&(this.wc.checked=!1,this.Lj());z.pl.S().refresh();this.fa.G(!0)};z.e.hide=function(){this.fa.G(!1)};
z.e.gR=function(a,b,c,d){this.qf={title:a,type:b,eS:c,params:d};this.yf=b+":"+c};z.e.hR=function(){var a=z.fe(this.xhr);a&&a.r?z.T(a.msg):(this.Ue[this.yf]=a,cw(this))};z.e.B=function(a){this.h=a;this.fa=new z.Xg(null,!1);z.Sg(this.fa,null);this.fa.Jf=!0;this.fa.W().appendChild(this.h);z.L(this.fa,z.ir,function(){bw=null});this.qk=new z.kp({eG:"share"});this.qk.ub=this.fa;this.qk.eh(z.y("tb-webshare-letter-content"));this.qk.Kk=!1;this.qk.init()};z.e.cz=function(){this.wc.checked=!0;this.Lj()};
z.e.tb=function(){var a=z.A("tab-navs",this.h);this.o().g(a,"click",this.vP);this.RR=(0,window.$)(".tab-nav \x3e a",this.h);this.QR=z.vb("zm-tab-content",this.h);(0,window.$)(".zm-command",this.h).on("click",window.$.proxy(this.xa,this));this.uy=z.y("zh-webshare-sina-pm");this.rz=new z.ql(this.uy);this.cH=new Zv(this.uy,z.y("zg-webshare-sina-counter"),140,Yv);this.o().g(z.X,"sina_callback",function(a){this.cz(a.Mc.id,a.Mc.name)});this.vu();a=z.A("zg-btn-blue",this.qk.m());z.V.active||z.H.kH(a,"zg-btn-blue",
"zg-btn-disabled");this.o().g(a,"click",this.xa)};z.e.vu=function(){this.wc=z.A("sina-checkbox",this.h);this.o().g(this.wc,"change",this.gy)};z.e.Lj=function(){var a=z.A("weibo-share-button",this.h),b=this.wc.checked;z.H.enable(a,"zg-btn-blue",b);z.H.enable(a,"zg-btn-disabled",!b)};z.e.gy=function(a){a=a.target;var b=a.getAttribute("data-bindurl");a!==this.wc||z.er.id?a=void 0:(window.open(b),a.checked=!1,a=!0);a||this.Lj()};z.e.vP=function(a){(a=this.bf(a.target))&&dw(this,a.id)};
z.e.xa=function(a){var b=this.bf(a.target);if(b)switch(b.name){case "send_sina":if(!z.H.has(b,"zg-btn-disabled")){var c=this.uy.value;c&&this.yf in this.Ue&&(b=new z.mj(!0),b.add("content",c),c=[],this.wc.checked&&c.push("sina"),b.add("via",c.join(",")),this.Qj(b),this.qf&&z.X.ma({type:"ga_click_share_"+this.qf.type+"_weibo",data:{QH:c}}))}break;case "send":if(!z.H.has(b,"zg-btn-disabled"))if(b=this.qk,"-1"===String(b.li))z.np(b,"\u8bf7\u586b\u5199\u6536\u4fe1\u4eba\u3002");else if(c=b.$b.value,this.yf in
this.Ue)if(z.Fa(c)){var d=new z.mj(!0);d.add("talker_id",b.li);d.add("content",c);d.add("via","pm");this.Qj(d);this.qf&&z.X.ma("ga_click_share_"+this.qf.type+"_message")}else z.np(b,"\u8bf7\u586b\u5199\u79c1\u4fe1\u5185\u5bb9\u3002");break;case "send_daily":b=new z.mj(!0);b.add("content",(0,window.$)(".tb-webshare-daily-form [name\x3drecommend-reason]").val());b.add("via","daily");this.Qj(b);break;case "cancel":this.hide()}a.stopPropagation();a.preventDefault()};
z.e.Qj=function(a){z.C.forEach(this.qf.params,function(b,c){a.add(c,b)});this.xhr=new z.U(!0);z.Ld(this.o(),this.xhr,"complete",this.ju);this.xhr.ajax("/"+this.qf.type+"/share",a.kd())};z.e.ju=function(){var a=z.fe(this.xhr);this.fa.G(!1);a&&a.r?z.T(a.msg):z.T(a.msg||"\u5206\u4eab\u53d1\u9001\u5b8c\u6bd5")};z.e.T=function(){return this.fa.T()};var gy=function(a,b){var c=[],d=[].slice,f=z.yj(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.V.ra()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});var DG=/a(:(link|visited|active|hover))?/;hw.prototype.clone=function(){var a=new hw;a.dh=this.dh.concat();a.en=this.en;return a};var EG=/(^|;|{)\s*color:([^;]+);/g,lw={},ow={},FG={},GG="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),HG="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var IG;z.v(z.pw,z.N);z.e=z.pw.prototype;z.e.F=null;z.e.cJ=!0;z.e.Ob=z.Gd("goog.editor.Plugin");z.e.HH=function(){this.F&&(this.disable(this.F),this.F=null)};z.e.enable=function(a){this.F==a?this.ic=!0:this.Ob.log(z.be,"Trying to enable an unregistered field with this plugin.",void 0)};z.e.disable=function(a){this.F==a?this.ic=!1:this.Ob.log(z.be,"Trying to disable an unregistered field with this plugin.",void 0)};z.e.isEnabled=function(a){return this.F==a?this.ic:!1};z.e.Ep=z.Cq;z.e.GN=z.Cq;
z.e.C=function(){this.F&&this.HH(this.F);z.pw.v.C.call(this)};z.vw=z.C.rm({Bw:1,VL:2,ir:3,ej:4,jr:5,execCommand:6,queryCommandValue:7,jG:8,HJ:10,GJ:11});IG=z.C.Dh(8,10,11);z.pw.prototype.execCommand=function(a,b){var c=this.GN(a);c||(z.O&&z.Ow(this.F,!0,!0),this.F.Fh());try{var d=this.Ze.apply(this,arguments)}finally{c||(this.F.We(),z.Mw(this.F))}return d};z.pw.prototype.Ce=function(){return!1};var ww,zw;z.v(uw,z.N);uw.prototype.va=null;uw.prototype.Lc=null;uw.prototype.Ob=z.Gd("goog.editor.Field");ww="change";z.xw="delayedchange";zw={TS:"cvc",lT:"load",FT:"unload",MS:"beforechange",RS:ww,US:z.xw,NS:"beforefocus",XS:"focus",PS:"blur",OS:"beforetab",dT:"ifrsz",uT:"selectionchange"};z.Bw=0;z.JG=null;z.e=uw.prototype;z.e.Hg=!1;z.e.NH=!1;z.e.Kt=!1;z.e.m=function(){return this.va};z.e.addListener=function(a,b,c,d){var f=this.m();z.is&&f&&this.oc()&&(f=f.ownerDocument);this.jc.g(f,a,b,c,d)};
z.e.Oh=function(a){return this.pd[a]};var Aw=15,yw=250;uw.prototype.oc=z.Dq;uw.prototype.Rn=z.Dq;uw.prototype.YG=z.Cq;var Dw={46:!0,8:!0};z.x||(Dw[9]=!0);var Ew={86:!0,88:!0};z.x&&(Dw[229]=!0);
uw.prototype.Nu=function(){this.jc&&this.jc.removeAll();if((z.Pq||z.bh)&&this.oc()&&this.YG()){try{var a=this.jb.Sa();a.removeEventListener("keydown",this.Lm,!1);a.removeEventListener("touchend",this.Lm,!1)}catch(b){}delete this.Lm}if(z.P&&this.oc()){try{a=this.jb.Sa(),a.removeEventListener("focus",this.zu,!1),a.removeEventListener("blur",this.yu,!1)}catch(c){}delete this.zu;delete this.yu}this.ne&&this.ne.stop();this.Cq.stop()};
uw.prototype.C=function(){(1==this.Bj||this.Wd())&&this.Ob.nk("Disposing a field that is in use.");this.Lc&&this.execCommand("clearlorem");this.Bj=z.Bw;for(var a in this.pd){var b=this.pd[a];b.Ep()||b.disable(this)}this.jb=this.va=null;this.Nu();this.cl&&(z.cd(this.cl),this.cl=null);this.Ml=null;this.jc&&(this.jc.H(),this.jc=null);for(;a=this.GS.pop();)a.H();z.JG==this.id&&(z.JG=null);for(var c in this.pd)a=this.pd[c],a.cJ&&a.H();delete this.pd;uw.v.C.call(this)};
var KG=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];uw.prototype.fz=function(){if(z.fs||!this.oc())this.jc.g(this.m(),"DOMSubtreeModified",this.Cw);else{var a=this.jb.Ga();this.jc.g(a,KG,this.Cw,!0);this.jc.g(a,"DOMAttrModified",(0,z.t)(this.qD,this,this.Cw),!0)}};var LG={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},MG={65:!0,86:!0,88:!0},Jw={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=uw.prototype;
z.e.Pn=function(a,b){for(var c=this.kj[a],d=z.B.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||IG[a])&&g[z.vw[a]].apply(g,d))return!0}return!1};z.e.sN=function(a,b){for(var c=this.kj[a],d=z.B.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||IG[a])&&g[z.vw[a]].apply(g,d)}};z.e.Ks=function(a,b,c){for(var d=this.kj[a],f=z.B.slice(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||IG[a])f[0]=h[z.vw[a]].apply(h,f)}return f[0]};
z.e.ef=function(a){(z.O||Gw(this,a))&&!this.Pn(1,a)&&z.ps&&Iw(this,a)};z.e.WL=function(a){if(z.O){if(!Gw(this,a))return}else this.nw=!0,this.Fh();this.Pn(2,a)||z.ps||Iw(this,a)};z.e.XL=function(a){z.O||!this.nw&&!Cw(a)||this.zn();this.Pn(3,a);Nw(this,"selectionchange")||(LG[a.keyCode]||(a.ctrlKey||a.metaKey)&&MG[a.keyCode])&&this.PG.start()};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.kj[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.Ce(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Wd()&&this.jf;if(z.r(a))return this.Is(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.Is(a[d],b);return c};z.e.Is=function(a,b){for(var c=this.kj[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.Ce(a)&&(b||f.Ep()))return f.queryCommandValue(a)}return b?null:!1};z.e.qD=function(a,b){if(!Nw(this,ww)){var c=b.Yb;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Cw=function(a){Nw(this,ww)||(a=a.$C?a.Yb:a,a.target.firebugIgnore||this.ne.start())};z.e.fr=function(){z.x&&this.execCommand("clearlorem",!0);z.O&&this.nv();this.We()};z.e.pM=function(){var a=this.OG;this.OG=null;z.Mw(this,void 0,a)};z.e.Fh=function(){Nw(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.We=function(a){Qw(this,!0,a)};z.e.zn=function(){Nw(this,ww)||(this.ne&&this.ne.stop(),Nw(this,z.xw)||this.Cq.start())};z.e.oC=function(){Nw(this,z.xw)||(this.Cq.stop(),this.dispatchEvent(z.xw))};
z.e.nv=function(){this.nC();this.pC()};z.e.nC=function(){Nw(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.pC=function(){if(!Nw(this,"focus")){z.JG=this.id;this.jf=!0;this.dispatchEvent("focus");if(z.O){var a=this.m(),b=z.Lw(this);if(b){var c=z.Zl(b);0!=z.$l(b)||c&&c!=a&&"BODY"!=c.tagName||z.au(a)}}!z.gs&&this.oc()&&this.jb.Sa().parent.getSelection().removeAllRanges()}};z.e.Fq=function(){Nw(this,"blur")||(z.JG==this.id&&(z.JG=null),this.jf=!1,this.dispatchEvent("blur"))};
z.e.bj=function(a){z.JG=this.id;if(z.x){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.Ml.Sa().open(b.href)}this.Kt=!0};z.e.uw=function(){this.Kt=!1};z.e.wD=function(a){if(!this.NH||this.Kt)this.Kt=!1,z.Mw(this,a),z.x&&(this.OG=a.target,this.PG.start())};z.e.cM=function(a){z.Mw(this,a)};
z.e.hl=function(){if(this.queryCommandValue("usinglorem"))return"\u00a0";if(!this.Wd()){var a=this.Lc;a||this.Ob.log(z.xq,"Couldn't get the field element to read the contents",void 0);return a.innerHTML}var b=this.m(),a=b.cloneNode(!1),b=b.innerHTML;z.x&&b.match(/^\s*<script/i)&&(b="\u00a0"+b);a.innerHTML=b;this.sN(11,a);return this.Ks(10,a.innerHTML)};
z.e.Ed=function(a,b,c,d){if(1==this.Bj)this.Ob.log(z.be,"Can't set html while loading Trogedit",void 0);else{d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.Ow(this,!1,!0);a=b;if(b=this.m()){if(this.oc()&&z.F)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Lc;b&&Hw(this,a,b);d&&this.execCommand("updatelorem");this.Wd()&&(c?(z.O&&z.nt(this.ne),Qw(this)):this.We())}};
z.e.Uz=function(){var a=this.jb.Ga();a.designMode="on";z.ls&&a.execCommand("styleWithCSS",!1,!1)};z.e.kE=function(){this.Ok&&Tw(this)&&z.Zf(this.Ok,this.m())};z.e.Wd=function(){return 2==this.Bj};z.e.focus=function(){if(!z.tw&&this.oc())this.jb.Sa().focus();else{if(z.P)var a=this.Bk.pageXOffset,b=this.Bk.pageYOffset;this.m().focus();z.P&&this.Bk.scrollTo(a,b)}};z.e.Sf=function(){(z.ds||z.F)&&z.Sw(this);this.focus()};
z.e.Ee=function(a){this.Bj=1;var b=this.Lc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;b.className+=" editable";this.Cx(a)};z.e.Cx=function(a){var b=this.Lc;if(b){var b=b.innerHTML,c={},b=this.Ks(8,b,c),d=this.Ml.B("IFRAME",this.hD());if(Tw(this)){var f=(0,z.t)(this.YD,this,d,b,c);this.cl=z.L(d,"load",f,!0);a&&(d.src=a)}this.cB(d);Tw(this)||this.YD(d,b,c)}};
z.e.gr=function(){z.x&&z.cu(this.jb.Sa());z.JG!=this.id&&this.execCommand("updatelorem");if((z.Pq||z.bh)&&this.oc()&&this.YG()){var a=this.jb.Sa();this.Lm=(0,z.t)(a.focus,a);a.addEventListener("keydown",this.Lm,!1);a.addEventListener("touchend",this.Lm,!1)}z.P&&this.oc()?(this.zu=(0,z.t)(this.nv,this),this.yu=(0,z.t)(this.Fq,this),a=this.jb.Sa(),a.addEventListener("focus",this.zu,!1),a.addEventListener("blur",this.yu,!1)):(z.os?(this.addListener("focus",this.pC),this.addListener(z.uq,this.nC)):this.addListener("focus",
this.nv),this.addListener("blur",this.Fq,z.O));z.O?this.fz():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.Fh),this.addListener(["cut","paste"],Nu(this.We)),this.addListener("drop",this.fr));this.addListener(z.F?"dragend":"dragdrop",this.fr);this.addListener("keydown",this.ef);this.addListener("keypress",this.WL);this.addListener("keyup",this.XL);this.PG=new z.ji(this.pM,250,this);z.ms&&this.addListener("click",Rw);this.addListener("mousedown",this.bj);this.NH?(this.jc.g(this.jb.Ga(),
"mouseup",this.wD),this.addListener("dragstart",this.uw)):this.addListener("mouseup",this.wD);this.addListener("mouseover",this.cM);this.kE();Qw(this);this.Ob.info("Dispatching load "+this.id);this.dispatchEvent("load");for(var b in this.pd)this.pd[b].enable(this)};z.e.cB=function(a){var b=this.Lc;a.className=b.className;a.id=b.id;z.Ob(a,b)};z.e.cw=function(a){var b=z.pc(z.ob(this.Lc));return new qw(this.id,b,!1,!1,a)};
z.e.aI=function(a,b,c){c=this.cw(c);Tw(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.tw&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.JC,z.wf(a,c.Gv),a.innerHTML=b):sw(c,b,new rw(this.m(),this.Ok),a)};z.e.YD=function(a,b,c){this.cl&&(z.cd(this.cl),this.cl=null);a.allowTransparency="true";this.aI(a,b,c);Fw(this,(a.contentDocument||a.contentWindow.document).body);!z.tw&&this.oc()&&this.Uz();this.gr()};
z.e.hD=function(){var a="padding:0;"+this.Lc.style.cssText;z.xa(a,";")||(a+=";");a+="background-color:white;";z.x&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var NG;z.v(z.Uw,uw);z.e=z.Uw.prototype;z.e.Ob=z.Gd("goog.editor.SeamlessField");z.e.sE=!1;z.e.yN=!1;z.e.Rn=function(){return this.sE};z.e.AD=function(){Nw(this,ww)||Vw(this)};
z.e.sz=function(){if(this.Vo?0:this.Vo=!0){var a=!1,b=Kw(this);if(b){var c,d=Kw(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(Lu(d,"height"),10)&&z.wf(d,"height","1px");z.pc(z.ob(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=NG||(NG=z.hg())));c=d;this.jO&&(c=Math.max(c,this.jO));(0,window.parseInt)(Lu(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.Vo=!1;a&&this.dispatchEvent("ifrsz")}};z.e.Mw="";var OG=!1;z.e=z.Uw.prototype;z.e.oc=function(){return!z.tw};
z.e.fz=function(){z.Uw.v.fz.call(this);if(this.oc()){var a=Kw(this).ownerDocument;this.jc.g(a,KG,this.AD,!0);this.SN=z.$c(this.jb.Sa(),"load",this.sz,!0,this);this.jc.g(a,"DOMAttrModified",(0,z.t)(this.qD,this,this.AD),!0)}};z.e.zn=function(){Nw(this,ww)||(z.Uw.v.zn.call(this),this.oc()&&this.sz())};
z.e.Fq=function(){if(!Nw(this,"blur")&&(z.Uw.v.Fq.call(this),!z.tw&&!z.gs)){var a=this.jb.Sa(),b=!1;z.cd(this.LE);this.LE=z.$c(a.document.body,"dragover",function(){b=!0});z.m.setTimeout((0,z.t)(function(){if(!b&&this.jb){var a=z.Lw(this),d=this.jb.Sa();z.cu(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.Uz=function(){z.Uw.v.Uz.call(this);var a=this.jb.Ga();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.kE=function(){this.oc()||OG||(this.Ok&&z.Zf(this.Ok,this.m()),OG=!0)};z.e.Cx=function(a){if(this.oc())z.Uw.v.Cx.call(this,a);else if(a=this.Lc)Fw(this,a),a.contentEditable=!0,Hw(this,a.innerHTML,a),this.gr()};z.e.gr=function(){if(this.oc()){var a=this;z.m.setTimeout(function(){Ww(a)},0)}z.Uw.v.gr.call(this)};z.e.hD=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.cB=function(a){if(!this.yN){var b=this.Lc;b&&(this.sE="auto"==z.Bf(b,"overflowY"))}var b=this.Lc,c=z.ob(b),d=b.style.width,f=b.style.height;z.wf(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);var g=Ku(b),c=g.width,g=g.height,h="";this.Rn()&&(h="\x26nbsp;",z.wf(b,"position","relative"),z.wf(b,"overflow","visible"),z.wf(a,"position","absolute"),z.wf(a,"top","0"),z.wf(a,"left","0"));z.Tf(b,
c,g);z.pc(z.ob(b))&&z.wf(b,"lineHeight","0");b.innerHTML=h;z.Tf(a,c,g);z.Tf(b,d,f);z.wf(b,"visibility","");b.appendChild(a);Tw(this)||(b=a.contentWindow.document,z.pc(z.ob(a.ownerDocument))&&(b.open(),b.write("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e"),b.close()))};z.e.cw=function(a){var b=this.Lc;if(b)return new qw(this.id,z.pc(z.ob(b)),!0,this.Rn(),a);throw Error("no field");};
z.e.aI=function(a,b,c){z.wf(a,"visibility","hidden");c=this.cw(c);var d=this.Lc,f=this.Ok;if(!this.Mw){var g=this.Lc;if(g){var h=g.ownerDocument,l=z.ka(h);if(!FG[l]){for(var n=z.ka(h),q=[],h=gw(h.styleSheets),D=0,E;E=h[D];D++)if((E=fw(E))&&E.length)for(var M=0,K=E.length;M<K;M++){var Q=new hw,oa;oa=Q;var sb=E[M],fb=sb.style;if(fb){var La=void 0,Da=void 0;fb&&(La=sb.selectorText)&&(Da=fb.cssText)?z.x&&(Da+="/* */"):sb.cssText&&(Da=/([^\{]+)\{/,La=Da.exec(sb.cssText)[1],Da=sb.cssText.replace(Da,"").replace(/\}[^\}]*$/g,
""));if(La){sb=oa;sb.dh=[];La=La.split(/,\s*/gm);for(fb=0;fb<La.length;fb++){var Cf=La[fb];0<Cf.length&&sb.dh.push(new jw(Cf))}oa.en=Da;oa=!0}else oa=!1}else oa=!1;oa&&q.push(Q)}FG[n]=q}n=FG[l];l=[];for(q=0;q<n.length;q++)l.push(n[q].clone());h=new nw(g);D=new kw("body");for(n=0;n<l.length;n++)for(E=l[n].dh,q=E.length,M=0;M<q;M++){K=E[M];Q=K;oa=h.uid;if(Q.ou[oa])oa=Q.ou[oa];else{for(var Da=0,fb=La=sb=null,Cf=h.vF,mo=Cf.length,Df=0;Df<=Q.ai.length;Df++){for(La=Q.ai[Df];Da<mo;){var re=Cf[Da];if(La&&
mw(La,re)){sb={xC:Da,QG:Df};Da++;break}else fb&&mw(fb,re)&&(sb={xC:Da,QG:Df-1});Da++}fb=La}oa=Q.ou[oa]=sb}oa&&(Q=oa.QG,K=K.ai,Da=K.length-1,oa.xC==h.vF.length-1||Q<Da?(K=K.concat(),K.splice(0,Q+1,D),Q=new jw,Q.ai=K,E.push(Q)):0<Q&&Q==Da&&(Q=new jw,Q.ai=[D,K[Da]],E.push(Q)))}h=new hw;g=g.currentStyle||z.qb(g).defaultView.getComputedStyle(g,"")||{};n=new jw;n.ai=[new kw("html")];h.dh=[n];D={};for(n=0;q=GG[n];n++)D[q]=g[z.ab(q)];iw(h,D);l.push(h);h=new hw;D=new jw;D.ai=[new kw("body")];E={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(n=0;q=HG[n];n++)E[q]=g[z.ab(q)];iw(h,E,!0);h.dh=[D];l.push(h);g=[];q=l.length;for(n=0;n<q;n++){E=l[n];h=g;M=E.dh.length;D=!1;for(K=0;K<M;K++){Q=E.dh[K].ai;oa=Q.length;for(Da=0;Da<oa;Da++)h.push(Q[Da].iE," ");K<M-1&&h.push(",");z.O&&!z.w("1.9a")&&(D=D||DG.test(Q[oa-1].iE))}E=E.en;D&&(E=E.replace(EG,"$1 color: $2 ! important; "));h.push("{",E,"}\n")}this.Mw=g.join("")}}d=new rw(d,f+this.Mw);c.Xp&&(f=z.eg(d.FS),(f.top||f.left||f.right||
f.bottom)&&z.wf(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));sw(c,b,d,a);Ww(this);z.wf(a,"visibility","visible")};z.e.Nu=function(){z.cd(this.LE);z.cd(this.SN);z.Uw.v.Nu.call(this)};var ux={};ux._default_={gw:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},il:Qu,jl:Qu,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},xx:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
ux.answer={il:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},jl:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},bJ:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
ux.question={il:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},jl:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
ux.favlist={il:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},jl:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
ux.post={gw:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},il:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},jl:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},xx:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
ux.roundtable={gw:function(a){return window.$.get("/roundtable/comments/"+a)},il:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},jl:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},xx:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};z.v(Xw,z.Ic);Yw.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.v(Zw,Av);var EE=function(a){return function(b,c){return a(z.ya("/manage/%s/options?action\x3d%s",b,c))}}(z.Qs(window.$.getJSON));z.e=Zw.prototype;z.e.zA={remove:"\u5220\u9664",lock:"\u9501\u5b9a",unlock:"\u89e3\u9664\u9501\u5b9a",collapse:"\u6298\u53e0",uncollapse:"\u89e3\u9664\u6298\u53e0",mute:"\u9694\u79bb",unmute:"\u89e3\u9664\u9694\u79bb"};z.e.jD=function(a){return EE(a,this.gl())};z.e.Ik=function(a,b){var c=Zw.v.Ik.call(this,a,b);c.pc.set("ok",this.zA[this.gl()]);return c};z.e.gl=function(){return(0,window.$)(this.Cu).data("op").split("-")[0]};
z.e.cD=function(a){return z.ya("\u786e\u5b9a\u8981%s\u8be5%s\uff1f",this.zA[this.gl()],this.FA[a]||"\u6761\u76ee")};z.e.TG=function(a){(0,window.$)(".footnote",this.aw().m()).text(a)};z.e.zD=function(a){a&&(a.trackable?ax(this,a).then((0,z.t)(this.TG,this)):this.TG(""))};Zw.prototype.submit=function(){var a=(0,window.$)(this.Cu).data(),b=a.action,a=a.content,c=(0,window.$)((0,window.$)("form",this.hn.m())[0]).serialize();a&&(c+="\x26"+a);$w(b,c,this.Jk)};
Zw.prototype.C=function(){this.Jk=this.Cu=null;Zw.v.C.call(this)};Zw.prototype.open=function(a,b,c){this.Cu=a;this.Jk=c||z.Xd.sU;Zw.v.open.call(this,b.type,b.id,"")};z.v(bx,z.S);z.e=bx.prototype;z.e.defaults={trigger:{A:"data-editable"},tI:"hc-actionbar",JN:"checked",qR:100,JM:100};z.e.D=function(){bx.v.D.call(this);this.Im=z.G("div");window.document.body.appendChild(this.Im);cx(this,this.h)};z.e.ew=function(){return this.OM};
z.e.sJ=function(a,b,c){b=z.G("div",{title:a.V,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.G("i","icon icon-actionbar-"+a.name)]);z.$f(b,!0);this.o().g(b,"click",function(){dx(this,a.name)&&a.Rm(this.Bf)});return b};z.e.ba=function(){this.Im.innerHTML="";z.Jb(this.Im,z.B.map(z.C.Oa(this.zm.At()),this.sJ,this))};z.v(z.fx,z.S);z.fx.prototype.defaults={QD:{},ZI:!0};z.fx.prototype.D=function(){z.fx.v.D.call(this);var a=this,b=this.h;this.J.ZI&&(this.Cp=sx(b));this.o().g(b,"paste",function(){(0,window.setTimeout)(function(){gx(a)})}).g(b,"keydown",this.EM)};
z.fx.prototype.EM=function(a){var b=z.jg(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.Nm(),d=b.Z(),f=b.ha(),g=this.h,h,l=jx(d,g,lx)||f!==d&&(h||(h=jx(f,g,lx)));if(l){var n=z.gc(l),q=b.wa(),D=b.Ma();if(l.getAttribute("data-editable")&&n===l.href){var E=!1;h=h||jx(f,g,lx)||l;var g=l.contains(d),M=h.contains(f);if(c)g&&(d=l,q=0,E=!0),M&&(f=h,D=z.Ws(h),E=!0),E&&z.xm(d,q,f,D).select();else if(g&&M&&h===l){if(!b.isCollapsed()||0!==q&&n.length!==q)a.preventDefault(),z.Ys(l)}else g&&
(d=l.nextSibling,q=0,E=!0),M&&(f=h.previousSibling,D=z.Ws(f),E=!0),E&&z.xm(d,q,f,D).select()}}}};var rx=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,nx=["http:","https:"],ox=z.Qs(function(a){return window.$.post("/scraper",{url:a})});z.v(tx,z.S);z.e=tx.prototype;z.e.defaults={PE:!1,autofocus:!0,sv:"empty",kf:"zm-item-comment"};z.e.da=function(a){tx.v.da.call(this,a);Mx(this);Ex(this);this.yd=!0;z.B.forEach(Gx(this),this.us,this)};z.e.XI="zm-comment-bubble";z.e.$A="."+tx.prototype.XI;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.G("div",{"class":this.DB,style:"display:none"});this.Ye()};z.e.Fi=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.C=function(){tx.v.C.call(this);this.va=this.HB=this.Wm=this.SA=this.nh=this.xy=this.QE=null};z.e.Ir=function(a){(a=a.m&&a.m())&&(new z.fx({QD:{image:z.p}})).w(a)};z.e.Hr=function(a,b){if(a.m){var c=(new z.jk).add("type",this.type+"_comment").add("resource_id",this.id),d=a.m(),c=new z.kn(d,{ym:{source:"/people/autocomplete?"+c.toString()},Nj:z.A("zu-main")||window.document.body});new z.cn(d,{Ky:z.un});z.ia(b)&&b(c)}};
z.e.vR=vx(function(a){var b=z.A("zm-comment-content-wrap",a),c=z.A("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.A("zm-comment-editable",c);if(z.Yf(c)){if(Et(c))return z.R(c,!1)}else z.R(c,!0);Cx(g)}else{c=Dx(b);g=z.A("zm-comment-editable",c);var h=new z.Uw(g);h.Ed(!1,"");h.Ee();this.Hr(h,function(){Cx(g)});this.Ir(h);a=z.A("zm-comment-close",c);b=z.A("zm-comment-submit",c);b.name="";var l=function(){var a=z.Fa(h.hl()),b=z.Fa(z.gc(g));a&&b?Ox(f,{content:a,HQ:d},function(a){a.r||
(z.R(c,!1),h.Ed(!1,""),(a=z.B.Zd(Gx(f)))&&Qt(a,{offsetTop:100,XA:!0}))}):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),g.focus())};z.L(a,"click",function(){z.R(c,!1)});z.L(b,"click",l);z.L(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(l(),a.preventDefault())})}Qt(c,100)},"reply");z.e.jt=function(a){z.H.enable(this.HB,"expanded",a)};z.e.mi=function(a,b){this.dispatchEvent(new Xw("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.ha(b)?b:this.Ra()}))};
z.e.$i=function(){this.yd?Kx(this):this.Vg=!0};z.e.YO=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.Fp(),(0,window.$)(this.va).blur(),a.preventDefault());27===a.keyCode&&Ix(this)};
z.e.xa=function(a){var b=z.lj(this.h,a.target,"BUTTON")||z.lj(this.h,a.target);if(b&&b.name){var c=z.mc(b,null,this.J.kf);a.preventDefault();switch(b.name){case "reply_comment":this.vR(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");ot(0,null,a);break;case "delcomment":this.dr(b);break;case "like_comment":this.ZL(b);break;case "author_delcomment":Qx(this,b);break;case "admin_delcomment":Px(this,b);break;case "closeform":Ix(this);break;case "addnew":this.Fp();
break;case "load-more":this.mi("comments_all"),this.QE(b)}}};
z.e.QE=function(a){this.ds&&"pending"===this.ds.state()||(a&&z.H.add(a,"loading"),this.ds=this.xy||this.RE(),this.ds.done((0,z.t)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=Gx(this);c.length&&(b=z.B.filter(b,function(a){return!z.B.find(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.B.concat(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.B.forEach(b,this.us,this),a&&z.I(a));z.Jb(this.Wm,
b)}},this)))};z.e.ZL=vx(function(a){var b=(0,window.$)(a),c=z.mc(a,null,this.J.kf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");(c=!b.hasClass("liked"))&&this.mi("like_comment");this.tg.xx(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tip","s$r$"+f+" \u4eba\u89c9\u5f97\u8fd9\u4e2a\u5f88\u8d5e");d.text(f);b.toggleClass("liked",c);z.Vi(b[0],c?"\u53d6\u6d88\u8d5e":"\u8d5e")},"like");z.e.expand=function(){this.Qa(!0)};
z.e.collapse=function(){this.Qa(!1)};z.e.Ic=function(){return this.yd};
z.e.Qa=function(a){if(a!==this.yd){a&&(this.$(this.$A).hide(),this.Ye());this.yd=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.R(this.h,this.yd);var b=(0,z.t)(function(){a&&Jx(this);this.dispatchEvent(a?"expand":"collapse");this.el&&!a&&(z.Wm(this.el),Qt(this.el.h))},this),c;a&&this.Vg?(c=Kx(this))&&c.done(b):(0,window.setTimeout)(b);this.nh&&(a?(this.PP=z.gc(this.nh),z.Vi(this.nh,"\u6536\u8d77\u8bc4\u8bba")):z.Vi(this.nh,0>this.ka?this.PP:this.ka?this.ka+" \u6761\u8bc4\u8bba":"\u6dfb\u52a0\u8bc4\u8bba"))}};
z.e.xf=function(){this.Qa(!this.yd)};z.e.RE=function(){return this.tg.jl(this.id)};z.e.ct=function(a){this.Xm=a};z.e.AQ=function(a){a=z.Gb(z.Fa(a));z.R(a,this.yd);z.B.forEach((0,window.$)("."+this.J.kf,a).get(),this.us,this);this.Vg=!1;this.lb();z.Ob(a,this.h);this.h=a;Mx(this)};z.e.gb=function(){var a=z.Fa(this.Yk.hl());return a===this.placeholder?"":a};
z.e.Fp=function(){var a=this.gb(),b=z.Fa(z.gc(this.va));a&&"TEXTAREA"===this.va.tagName&&b||a?Ox(this,a):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),this.va.focus())};z.e.Ra=function(){return this.ka};z.e.oL=function(a){if(a.r)return z.gh("\u63d0\u793a\u4fe1\u606f",a.msg);this.tg.gw(a.msg).done(window.$.proxy(this.BQ,this));this.Yk.Ed("");Bx(this);this.jt(!1)};
z.e.us=function(a){if(z.dr("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e\u5220\u9664',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.mj(a)};
z.e.mj=function(a){var b=(0,window.$)("a[name\x3dreport]",a);b.length&&(a=a.getAttribute("data-id"),a=new Bv("comment",a,{post:"article_comment_report",question:"question_comment_report",answer:"question_answer_comment_report"}[this.type]),Dv(a,b[0]),z.Ec(a,this))};z.e.BQ=function(a){this.wj="";a=z.Gb(a);this.Wm.appendChild(a);this.us(a);this.ka+=1;Nx(this)};
z.e.dr=function(a){var b=z.mc(a,null,this.J.kf),c=b.getAttribute("data-id");z.ch("\u5220\u9664\u8bc4\u8bba","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",function(a){a&&Sx(this,c,z.qa(z.I,b))},this)};z.e.Ye=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.t)(function(){if(this.wj)return"\u4f60\u7684\u8bc4\u8bba\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.If=function(){(0,window.$)(window).off("beforeunload.CommentForm")};z.v(Ux,z.S);z.e=Ux.prototype;z.e.Ev="zm-item-expanded";z.e.js="zm-item-meta";z.e.xj=null;z.e.D=function(){Ux.v.D.call(this);var a=Wx(this.h);this.kb=a[this.entryType+"-id"];this.Ih=a[this.entryType+"-url-token"];this.Mq=a;this.Jm();this.ke();Xx(this)};z.e.tn=function(){var a=this.entryType+"-"+this.kb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.Jm=function(a){var b={'a[name\x3d"expand"]':function(a){this.Qa(!0);this.Qr&&(a.currentTarget.name="toggleExpanded")},'a[name\x3d"collapse"]':function(){this.Qa(!1)},'a[name\x3d"toggleExpanded"]':this.xf,'a[name\x3d"ignore"]':this.hr,".js-close":this.ED,".js-collect":this.aj,".js-hiderelated":this.DD,".js-share":this.uc,".js-toggle-commentbox":this.JD,".js-unhide":this.ND,'a[name\x3d"dislike"]':this.pD};z.C.extend(b,a||{});z.C.forEach(b,function(a,b){if(z.ia(a))(0,window.$)(this.h).on("click",
b,window.$.proxy(a,this))},this);var c=(0,window.$)(".zm-meta-panel",this.h);z.C.forEach({'a[name\x3d"toggle-comment"]':function(a){this.JD(a);c.toggleClass("focusin",this.pa.Ic())},'a[name\x3d"share"]':this.uc},function(a,b){c.on("click",b,window.$.proxy(a,this))},this)};z.e.JD=function(a){this.hp();this.pa.Ic()&&(a=(0,window.parseInt)(z.gc(a.currentTarget),10)||0,this.pa.mi("view_comments",a))};z.e.Fx=function(){gy(this.entryType,this.Ih,"read")};z.e.Dj=function(){gy(this.entryType,this.Ih,"touch")};
z.e.Ic=function(){return z.H.has(this.h,this.Ev)};z.e.xf=function(){this.Qa(!this.Ic())};z.e.Qa=function(a){if(a===this.Ic())return!1;a&&Ku(this.h).height<z.yb().height&&1<(0,window.$)("a.collapse",this.h).length&&(0,window.$)("a.collapse",this.h).eq(0).remove();z.H.enable(this.h,this.Ev,a);this.dispatchEvent(a?"expand":"collapse");return!0};z.e.GP=function(){window.open(z.A(this.xj,this.h).href)};z.e.ED=function(){(0,window.$)(this.h).fadeOut(150,function(){(0,window.$)(this).remove()})};
z.e.aj=z.p;z.e.hr=z.p;z.e.ND=z.p;z.e.DD=z.p;z.e.uc=Vx(function(){aw(arguments,"tb-webshare-sina")},{ra:"question_answer_share"});
z.e.pD=function(){var a=(0,window.$)(this.h),b=(0,window.$)(".feed-item-inner",a),c=(0,window.$)(".undo-dislike-options",a),d={block_id:a.data("block"),offset:a.data("offset")};c.off().one("click",".revert",function(){b.slideDown();c.slideUp();window.$.post("/topstory/item/uninterest/revert",d)}).one("click",".close",function(){a.slideUp(function(){a.remove()})});window.$.post("/topstory/item/uninterest",d).done(function(){b.slideUp();c.slideDown()})};
z.e.hp=function(){if(!this.pa){var a=(0,window.$)(".toggle-comment",this.h)[0];this.pa=new tx(this.kb,this.entryType);this.L(this.pa);wx(this.pa,z.A(this.js,this.h),a);Tx(this.pa);this.pa.ct(this.tn())}this.pa.xf()};z.e.yw=function(){this.pa?this.pa.va.focus():this.hp()};
z.e.ke=function(){this.eg=z.Ir.YH(this.h);z.Ui(this.eg.register("shift+o",this.GP,this),{group:"\u64cd\u4f5c",name:"\u65b0\u7a97\u53e3\u6253\u5f00\u6761\u76ee"});var a=(0,window.$)('a[name\x3d"dislike"], a[name\x3d"ignore"]',this.h);a.length&&z.Ui(this.eg.register("i g",function(){a.click()}),{group:"\u64cd\u4f5c",name:"\u4e0d\u611f\u5174\u8da3"})};Yx.prototype={Kc:function(a){if(a)this.vB.push(a);else{var b={current:this.Ld,Dn:this.Dn(),or:this.or()};z.B.forEach(this.vB,function(a){(0,window.setTimeout)(function(){a.call(null,b)})})}},remove:function(a){a=this.items.indexOf(a);-1!==a&&(this.items.splice(a,1),Zx(this),this.Kc());return a},Dn:function(){return this.Ld<this.ao},or:function(){return 1!==this.Ld},next:function(){this.Dn()&&(this.Ld+=1,this.Kc())},prev:function(){this.or()&&(--this.Ld,this.Kc())},random:function(a){if(this.ao>=2*
this.Wg){for(var b=[],c=1;c<this.ao+1;c++)b.push(c);0!==a&&z.B.remove(b,this.Ld);0!==this.items.length%this.Wg&&z.B.remove(b,this.ao);a=b.length;a=Math.floor(Math.random()*a);this.Ld=b[a]}else a===this.Wg&&this.items.reverse(),this.Ld=1;this.Kc();return this.items.length>this.Wg}};z.v(by,Ux);by.prototype.D=function(){by.v.D.call(this);cy(this)};by.prototype.pD=function(){var a=this,b=(0,window.$)(this.h);window.$.post("/actioncard/uninterest",{type:"suggest_topics"},function(){b.slideUp(function(){a.H();b.remove()})})};z.v(dy,Ux);dy.prototype.xj="question_link";dy.prototype.hr=function(){var a=this.Mq["question-id"];this.dispatchEvent({type:"ignore",key:"question-id",value:a});window.$.post("/question/uninterest",{qid:a})};z.v(ey,dy);ey.prototype.D=function(){ey.v.D.call(this);fy(this)};ey.prototype.uc=function(){ey.v.uc.call(this,"\u5206\u4eab\u95ee\u9898","question",this.Ih,{qid:this.kb})};
ey.prototype.ke=function(){ey.v.ke.call(this);z.Ui(z.Ui(z.Ui(this.eg.register("c",this.hp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.uc,this),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("shift+c",this.yw,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(hy,dy);z.e=hy.prototype;z.e.D=function(){hy.v.D.call(this);this.YA=iy(this.h);this.Qr=this.YA.getAttribute("data-isowner");this.Ww();this.yl()};z.e.uc=z.p;
z.e.Qa=function(a){hy.v.Qa.call(this,a)&&(a||(su(this.sg.m()),jy(this,!1)),a&&this.yl(),this.sg.ez(a),this.sg.rt.Qa(a))};z.e.Ww=function(){var a=z.A("zm-item-answer-author-wrap",this.h);a&&(a=z.A("zm-list-avatar",a),z.Gr.add(a))};z.e.yl=function(){this.sg=new qE(this.Mq["question-id"],{rb:this.Mq["question-url-token"]},this.kb);uE(this.sg,z.A("zm-item-meta",this.h));this.L(this.sg);this.sg.w(this.YA);var a=this.sg.rt;this.o().g(a,"expand",function(){this.Qa(!0)});this.yl=z.p};
z.e.ke=function(){hy.v.ke.call(this);z.Ui(this.eg.register("o",this.xf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"})};z.e.Jm=function(){hy.v.Jm.call(this,{"a[name\x3dexpandQuestionDetail]":function(){jy(this,!0)}})};z.v(ky,Ux);ky.prototype.D=function(){ky.v.D.call(this);var a=z.A("column",this.h);bv(a,this.Dj,this)};ky.prototype.Dj=function(){gy("column",this.Ih,"touch")};var py={hA:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},mD:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.v(ly,z.S);var ny={ie:1,qg:-1,BA:0};ly.prototype.defaults={pS:"up",AK:"down",bK:"count",Gs:"pressed"};z.C.extend(ly.prototype,ny);z.e=ly.prototype;z.e.U=ny.BA;
z.e.w=function(a){ly.v.w.call(this,a);var b=this.J;a=this.K=(0,window.$)(a);this.Xt=(0,window.$)("."+b.pS,a);this.St=(0,window.$)("."+b.AK,a);this.kA=(0,window.$)("."+b.bK,a);b=this.Xt.hasClass(this.J.Gs);a=this.St.hasClass(this.J.Gs);b?this.U=ny.ie:a&&(this.U=ny.qg);ry(this);this.Xt.click(window.$.proxy(this.Ct,this));this.St.click(window.$.proxy(this.Bt,this));return this};z.e.Ud=function(){return this.U};
z.e.cc=z.kl(function(a){a!==this.U&&z.C.wg(ny,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.xd&&"pending"===this.xd.state()&&this.xd.abort(),my(this,this.U,a),this.U=a,ry(this),oy(this).done((0,z.t)(function(a){a.r||this.Kc()},this)))},function(a){var b={};b[ny.ie]="question_answer_vote_up";b[ny.qg]="question_answer_vote_down";return{ra:b[a],gd:!0}});z.e.track=function(a){a===ny.ie?z.oj("vote","voteup","side_vote"):a===ny.qg&&z.oj("vote","votedown","side_vote")};
z.e.Ct=function(){this.cc(this.U===ny.qg?ny.ie:this.U^ny.ie)};z.e.Bt=function(){this.cc(this.U===ny.ie?ny.qg:this.U^ny.qg)};z.e.Kc=function(){this.dispatchEvent("change")};z.v(sy,z.S);sy.prototype.da=function(a){sy.v.da.call(this,a);this.o().g(a,"click",this.JP)};sy.prototype.uK=function(){var a=this.iA;z.Ob(a.m(),this.TH);z.H.remove(a.m(),this.up)};sy.prototype.ON='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e\u8d5e\u540c\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e\u53cd\u5bf9\x3c/label\x3e\x3c/div\x3e';
sy.prototype.JP=z.kl(function(){this.ub&&this.ub.H();var a=new z.Xg(null,!1);a.Jf=!0;a.bm(!0);a.SC=!0;ty(this);z.Ld(this.o(),a,"hide",this.uK);var b=a.W();b.appendChild(this.iA.m());b.appendChild(z.Gb(this.ON));z.H.add(a.m(),this.lv);a.G(!0);this.ub=a;z.Ec(this,a)},!0);z.v(uy,Ux);z.e=uy.prototype;z.e.xj="post-link";z.e.D=function(){uy.v.D.call(this);vy(this);var a=z.A("zm-votebar",this.h);a&&(this.pb=new ly(this.kb,this.entryType),z.Ec(this,this.pb),this.pb.w(a),(a=z.A("votenum-mobile",this.h))&&(new sy(this.pb)).w(a));wy(this)};z.e.uc=function(){uy.v.uc.call(this,"\u5206\u4eab\u6587\u7ae0","post",this.kb,{post_id:this.kb})};z.e.Qa=function(a){uy.v.Qa.call(this,a)&&(a||su((0,window.$)(".entry-body",this.h)[0]),this.rt.Qa(a),this.ez(a))};
z.e.ez=function(a){var b=this.nj();b&&z.Vm(b,a)};z.e.nj=function(){if(this.ph)return this.ph;var a=!z.ah,b=z.A("zm-editable-content",this.h),c=this.pb&&this.pb.m();a&&c&&(0,window.$)(c).is(":visible")&&b&&230<(0,window.$)(b).height()&&(a=this.ph=new z.$m(null,b),this.L(a),a.tag="votebar",a.oy=50,a.w(c))};z.e.hr=function(){(0,window.$)(".feed-hide-options",this.h).show().siblings().hide();window.$.post(Yu("/post/uninterest"),{id:this.kb})};
z.e.ND=function(){(0,window.$)(".feed-hide-options",this.h).hide().siblings().show();window.$.post(Yu("/post/undo_uninterest"),{id:this.kb})};z.e.DD=function(a){a=(0,window.$)(a.currentTarget);var b=a.data();z.ch(a.attr("title"),Yu("\u786e\u5b9a%s\u5417\uff1f",a.text()),function(a){a&&(this.ED(),window.$.post(Yu("/%s/uninterest",b.type),{id:b.id}))},this)};
z.e.ke=function(){uy.v.ke.call(this);z.Ui(this.eg.register("v",function(){this.pb&&this.pb.Ct()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Ui(this.eg.register("d",function(){this.pb&&this.pb.Bt()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Ui(z.Ui(z.Ui(z.Ui(this.eg.register("o",this.xf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.hp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.uc,this),{group:"\u64cd\u4f5c",
name:"\u5206\u4eab"}).register("shift+c",this.yw,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(yy,Ux);z.e=yy.prototype;z.e.D=function(){yy.v.D.call(this);this.Ln()};z.e.xj="roundtable_link";z.e.hr=function(){window.$.post("/roundtable/"+this.Ih,{action:"mute"});this.dispatchEvent({type:"ignore",key:"roundtable-id",value:this.kb})};z.e.Ln=function(){bv(this.h,this.Dj,this)};z.e.Dj=function(){gy("roundtable",this.Ih,"touch")};z.v(Ay,Mv);Ay.prototype.Jj=function(a){var b=zy(a);this.L(b);b.w(a);b instanceof hy&&b.Qa(!1)};z.v(By,z.ll);z.ca(By);z.e=By.prototype;
z.e.B=function(){this.zK=!0;this.h=z.G("div",null,[this.RN=z.G("div",null,[this.Mg=z.G("div","zm-favo-list-content"),this.NA=z.G("div","zh-favo-add-new-wrap zm-command",this.GR=z.G("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ \u521b\u5efa\u6536\u85cf\u5939"),this.Ou=z.G("a",{href:"javascript:;","class":"zg-btn-blue"},"\u5173\u95ed")),this.eu=z.G("div","zh-favo-add-new-wrap zm-command",this.NJ=z.G("a",{href:"javascript:;","class":""},"\u53d6\u6d88"),this.HR=z.G("a",{"class":"zm-favo-dialog-create zg-btn-blue",
href:"javascript:;"},"\u521b\u5efa\u6536\u85cf\u5939"))]),this.Uv=z.G("div",{style:"display:none"},[z.G("div",null,["\u6807\u9898",this.Nz=z.G("span",{"class":"zh-favo-add-title-error"},"\u8bf7\u586b\u5199\u6807\u9898")]),z.G("div","zg-section",this.yj=z.G("input",{"class":"zg-form-text-input",style:"width:97%;font-size:13px"})),z.G("div",null,"\u63cf\u8ff0\uff08\u53ef\u9009\uff09"),z.G("div","zg-section zg-editor-simple-wrap zg-form-text-input",this.Bl=z.G("textarea",{"class":"zg-editor-input",style:"height:66px"})),
this.kQ=z.G("label",null,[this.DN=z.G("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),z.G("strong",null," \u516c\u5f00 "),z.G("span","zg-gray-normal","\u516c\u5f00\u540e\u4e0d\u80fd\u8bbe\u7f6e\u4e3a\u79c1\u5bc6")]),this.MN=z.G("br"),this.gQ=z.G("label",null,[this.CN=z.G("input",{type:"radio",value:"private",name:"mode"}),z.G("strong",null," \u79c1\u5bc6 "),z.G("span","zg-gray-normal","\u53ea\u6709\u4f60\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u6536\u85cf\u5939")]),z.G("div","zm-command",
[this.zz=z.G("a",{href:"javascript:;","class":"zg-mr10"},"\u53d6\u6d88"),this.jq=z.G("a",{href:"javascript:;","class":"zg-mr10"},"\u5b8c\u6210"),this.LA=z.G("a",{"class":"zg-btn-blue"},"\u786e\u8ba4\u521b\u5efa")])])]);z.R(this.Nz,!1);z.R(this.eu,!1);(new z.Al(this.Oz)).w(this.yj);(new z.Al(this.jv)).w(this.Bl);z.B.forEach(this.yx,function(a){Dy(this,a)},this);this.yx.length||(this.Mg.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6536\u85cf\u5939\uff0c\u5c06\u7b54\u6848\u5206\u7c7b\u6536\u85cf\x3c/div\x3e ',
z.R(this.eu,!0),z.R(this.NA,!1));Cy(this);this.fa.W().innerHTML="";this.fa.W().appendChild(this.h);this.fa.aa()};
z.e.tb=function(){this.pJ||(this.pJ=!0,this.o().g(this.zz,"click",function(){this.la?Hy(this,0):Ky(this)}).g(this.GR,"click",function(){z.X.ma({type:"ga_click_add_collection"});Hy(this,1)}).g(this.Ou,"click",function(){Ky(this)}).g(this.HR,"click",function(){z.X.ma({type:"ga_click_add_collection"});Hy(this,1)}).g(this.NJ,"click",function(){Ky(this)}).g(this.jq,"click",function(){Ky(this)}).g(this.LA,"click",this.Tg).g(this.Mg,"click",this.mP).g(this.yj,"change",function(){z.R(this.Nz,!1)}))};
z.e.mP=function(a){var b=z.mc(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.H.has(b,"zm-favo-list-item-link-active")?(c=!0,this.YB=a):this.VB=a;b=new z.mj;b.add("answer_id",this.la);b.add("favlist_id",a);this.Vy=new z.U(!0);this.locked=!0;z.Ld(this.o(),this.Vy,"complete",this.HI);this.Vy.ajax(c?"/collection/remove":"/collection/add",b.kd())}};
z.e.HI=function(){this.locked=!1;this.Ou.innerHTML="\u5173\u95ed";var a=z.fe(this.Vy);a&&!a.r?(a=z.vb("zm-favo-list-item-link",this.Mg),z.B.forEach(a,function(a){var c=a.getAttribute("data-lid"),d=z.A("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.YB?(d.innerHTML=f-1+"",z.H.remove(a,"zm-favo-list-item-link-active")):c===this.VB&&(d.innerHTML=f+1+"",z.H.add(a,"zm-favo-list-item-link-active"))},this),this.VB=this.YB=null,z.oj("Favorite","add_favorite")):z.T("\u6dfb\u52a0\u5931\u8d25: "+a.msg)};
z.e.Kj=function(){this.tb();this.Ou.innerHTML="\u5173\u95ed";this.la?(z.R(this.jq,!1),Hy(this,0)):(Hy(this,1),z.R(this.zz,!1),this.jq.innerHTML="\u53d6\u6d88")};z.e.show=function(a){a?(Gy(this),this.fa.G(!0),this.Kj()):(Cy(this,"\u6dfb\u52a0\u5230\u6536\u85cf\u5939",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e\u6536\u85cf\u5939\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.fa.G(!0),this.Zq())};
z.e.Zq=function(){this.la&&window.$.get("/collections/json",{answer_id:this.la}).done((0,z.t)(this.cP,this))};z.e.cP=function(a){a&&!a.r&&(this.yx=a.msg[0],this.$r=a.msg[1],Gy(this),this.Kj())};
z.e.Tg=function(){if(!this.xhr||!this.xhr.Ib()){var a=z.Yi(this.yj.value);if(a&&a!==this.Oz){a=Iy(this);this.la&&a.add("answer_id",this.la);if(this.Or){if(this.cN.kd()===a.kd()){Ky(this);return}a.add("favlist_id",this.XB[0])}this.xhr=new z.U(!0);z.Ld(this.o(),this.xhr,"complete",this.zI);this.xhr.ajax(this.Or?"/collection/update":"/collection/create",a.kd())}else z.R(this.Nz,!0)}};
z.e.zI=function(){var a=z.fe(this.xhr);a&&!a.r?this.Or?(Ky(this),z.T("\u7f16\u8f91\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Or=!1):this.la?(z.R(this.eu,!1),z.R(this.NA,!0),Hy(this,0),this.$r.push(a.msg[0]),Dy(this,a.msg,!0),this.yj.value="",this.Bl.value=""):(Ky(this),z.T("\u521b\u5efa\u6210\u529f"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):z.T(a.msg)};z.e.T=function(){return this.fa.T()};var Ly="close";
By.prototype.Ye=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.t)(function(){return"\u4f60\u5bf9\u6536\u85cf\u5939\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};By.prototype.If=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.v(Py,z.N);Py.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.Yb;if("mousewheel"==a.type){c=1;if(z.x||z.F&&(z.Li||z.w("532.0")))c=40;d=Qy(-a.wheelDelta,c);z.ea(a.wheelDeltaX)?(b=Qy(-a.wheelDeltaX,c),c=Qy(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ea(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.ha(this.$E)&&(b=Pu(b,-this.$E,this.$E));z.ha(this.aF)&&(c=Pu(c,-this.aF,this.aF));this.FN&&(b=-b);b=new Ry(d,a,b,c);this.dispatchEvent(b)};
Py.prototype.C=function(){Py.v.C.call(this);z.cd(this.ME);delete this.ME};z.v(Ry,z.Lc);z.v(Sy,z.N);z.e=Sy.prototype;z.e.ee=0;z.e.fo=0;z.e.bo=100;z.e.nn=0;z.e.ek=1;z.e.qE=!1;z.e.ms=!1;z.e.Ea=function(a){a=Ty(this,a);this.ee!=a&&(this.ee=a+this.nn>this.bo?this.bo-this.nn:a<this.fo?this.fo:a,this.qE||this.ms||this.dispatchEvent("change"))};z.e.X=function(){return Ty(this,this.ee)};z.e.No=function(a){a=Ty(this,a);this.nn!=a&&(this.nn=0>a?0:this.ee+a>this.bo?this.bo-this.ee:a,this.qE||this.ms||this.dispatchEvent("change"))};
z.e.Mh=function(){var a=this.nn;return null==this.ek?a:Math.round(a/this.ek)*this.ek};z.e.Fc=function(){return Ty(this,this.fo)};z.e.Wc=function(){return Ty(this,this.bo)};z.e.lw=function(){return this.ek};z.v(Uy,z.S);var PG=z.hd("dragvaluestart"),QG=z.hd("dragvalueend"),RG=z.hd("dragextentstart"),SG=z.hd("dragextentend"),TG=z.hd("dragstart"),UG=z.hd("dragend");z.e=Uy.prototype;z.e.Bb="horizontal";z.e.Lr=!1;z.e.nO=!1;z.e.Df=10;z.e.eo=0;z.e.uE=!0;z.e.ic=!0;z.e.Qd=!1;z.e.B=function(){Uy.v.B.call(this);var a=this.M().B("div",this.O(this.Bb));this.da(a)};
z.e.da=function(a){Uy.v.da.call(this,a);z.H.add(a,this.O(this.Bb));a=this.m();var b=z.tb(null,"goog-slider-thumb",a)[0];b||(b=this.M().B("div","goog-slider-thumb"),z.rc(b,"button"),a.appendChild(b));this.$a=this.zd=b;z.rc(this.m(),"slider");jz(this)};z.e.D=function(){Uy.v.D.call(this);this.de=new z.mg(this.$a);this.Qf=new z.mg(this.zd);this.de.Mf(this.Qd);this.Qf.Mf(this.Qd);this.de.gv=this.Qf.gv=z.p;this.qb=new z.Gh(this.m());Vy(this,!0);this.m().tabIndex=0;dz(this)};
z.e.lb=function(){Uy.v.lb.call(this);z.Hc(this.de,this.Qf,this.qb,this.Gj)};z.e.ar=function(a){var b=a.Hq==this.de?this.$a:this.zd,c;"vertical"==this.Bb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Wc()-this.Fc())+this.Fc()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.Wc()-this.Fc())+this.Fc();c=a.Hq==this.de?Math.min(Math.max(c,this.Fc()),this.X()+this.Mh()):Math.min(Math.max(c,this.X()),this.Wc());bz(this,b,c)};
z.e.lr=function(a){var b="start"==a.type;z.H.enable(this.m(),"goog-slider-dragging",b);z.H.enable(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Hq==this.de;b?(this.dispatchEvent(TG),this.dispatchEvent(a?PG:RG)):(this.dispatchEvent(UG),this.dispatchEvent(a?QG:SG))};
z.e.ef=function(a){var b=!0;switch(a.keyCode){case 36:hz(this,this.Fc());break;case 35:hz(this,this.Wc());break;case 33:$y(this,this.Df);break;case 34:$y(this,-this.Df);break;case 37:var c=this.Qd&&this.Cd()?1:-1;$y(this,a.shiftKey?c*this.Df:c*this.mp);break;case 40:$y(this,a.shiftKey?-this.Df:-this.mp);break;case 39:c=this.Qd&&this.Cd()?-1:1;$y(this,a.shiftKey?c*this.Df:c*this.mp);break;case 38:$y(this,a.shiftKey?this.Df:this.mp);break;default:b=!1}b&&a.preventDefault()};
z.e.bj=function(a){this.m().focus&&this.m().focus();var b=a.target;z.Xb(this.$a,b)||z.Xb(this.zd,b)||(this.nO?hz(this,Yy(this,a)):(this.Dz(a),this.Oe=cz(this,Yy(this,a)),this.bE="vertical"==this.Bb?this.Ur<this.Oe.offsetTop:this.Ur>gz(this,this.Oe)+this.Oe.offsetWidth,a=z.qb(this.m()),this.o().g(a,"mouseup",this.Az,!0).g(this.m(),"mousemove",this.Dz),this.Sh||(this.Sh=new z.jd(200),this.o().g(this.Sh,z.bk,this.ID)),this.ID(),this.Sh.start()))};
z.e.xD=function(a){$y(this,(0<a.detail?-1:1)*this.mp);a.preventDefault()};z.e.ID=function(){var a;if("vertical"==this.Bb){var b=this.Ur,c=this.Oe.offsetTop;this.bE?b<c&&(a=Zy(this,this.Oe)+this.Df):b>c+this.Oe.offsetHeight&&(a=Zy(this,this.Oe)-this.Df)}else b=this.Ur,c=gz(this,this.Oe),this.bE?b>c+this.Oe.offsetWidth&&(a=Zy(this,this.Oe)+this.Df):b<c&&(a=Zy(this,this.Oe)-this.Df);z.ea(a)&&bz(this,this.Oe,a)};
z.e.Az=function(){this.Sh&&this.Sh.stop();var a=z.qb(this.m());this.o().Ia(a,"mouseup",this.Az,!0).Ia(this.m(),"mousemove",this.Dz)};z.e.Dz=function(a){this.Ur=Xy(this,a)};z.e.Fc=function(){return this.Va.Fc()};z.e.Wc=function(){return this.Va.Wc()};z.e.CD=function(){dz(this);jz(this);this.dispatchEvent("change")};z.e.JK=function(){this.Lr=!1};
z.e.setOrientation=function(a){if(this.Bb!=a){var b=this.O(this.Bb),c=this.O(a);this.Bb=a;this.m()&&(z.H.kH(this.m(),b,c),a=this.Qd&&this.Cd()?"right":"left",this.$a.style[a]=this.$a.style.top="",this.zd.style[a]=this.zd.style.top="",this.Pb&&(this.Pb.style[a]=this.Pb.style.top="",this.Pb.style.width=this.Pb.style.height=""),dz(this))}};
z.e.C=function(){Uy.v.C.call(this);this.Sh&&this.Sh.H();delete this.Sh;this.vq&&this.vq.H();delete this.vq;delete this.$a;delete this.zd;this.Pb&&delete this.Pb;this.Va.H();delete this.Va;this.qb&&(this.qb.H(),delete this.qb);this.Gj&&(this.Gj.H(),delete this.Gj);this.de&&(this.de.H(),delete this.de);this.Qf&&(this.Qf.H(),delete this.Qf)};z.e.mp=1;z.e.lw=function(){return this.Va.lw()};z.e.X=function(){return this.Va.X()};z.e.Ea=function(a){bz(this,this.$a,a)};z.e.Mh=function(){return this.Va.Mh()};
z.e.No=function(a){bz(this,this.zd,this.Va.X()+a)};z.e.G=function(a){z.R(this.m(),a);a&&dz(this)};z.e.cb=function(a){this.ic!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.ic=a,Vy(this,a),a||this.Az(),z.H.enable(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.ic};z.v(kz,Uy);kz.prototype.O=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.v(lz,z.S);z.e=lz.prototype;z.e.defaults={JB:310,KB:310,mg:250,ng:250,fO:2,opacity:.25,MU:"#eee"};z.e.da=function(a){lz.v.da.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.um=(this.options.JB-this.options.mg)/2;this.options.tm=(this.options.KB-this.options.ng)/2;this.sq()};
z.e.sq=function(){var a=this.options;this.jA=(0,window.$)((0,z.Hn)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"\u62d6\u52a8\u76f8\u7247"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.KB,
containerHeight:a.JB,windowHeight:a.mg,windowWidth:a.ng,windowMarginTop:a.um,windowMarginLeft:a.tm,src:a.src,opacity:a.opacity}));this.Xb=this.jA[0];this.jA.insertBefore(this.h);z.R(this.h,!1);this.$J=z.A("avatar-editor-container-inner",this.Xb);this.xr=z.A("outer",this.Xb);this.Rw=z.A("inner",this.Xb);this.wm=(0,window.$)(this.xr);this.Tt=(0,window.$)(this.Rw);this.$D=0;this.wm.load((0,z.t)(this.EH,this));this.Tt.load((0,z.t)(this.EH,this));this.Rw.src=this.xr.src=this.options.src;this.yR=z.A("goog-slider",
this.Xb)};
z.e.D=function(){this.tz=new kz;this.tz.w(this.yR);this.o().g(this.$J,["mousedown","touchstart"],function(a){var b=new z.mg(this.Xb);b.addEventListener("drag",(0,z.t)(function(a){var b=this.zoom;this.De={vp:this.options.ng/b,wn:this.options.mg/b,x:(this.options.tm-(this.hE.left+(a.clientX-this.mt)))/b,y:(this.options.um-(this.hE.top+(a.clientY-this.nt)))/b};oz(this)},this));b.addEventListener("end",(0,z.t)(function(){b.H()},this));b.qm(a);this.qm(a)});this.o().g(this.Xb,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.o().g(this.tz,"change",function(){var a=this.tz.X(),b=this.dI;mz(this,(this.KS-b)*a/100+b)})};z.e.EH=function(){this.bN||(this.Rw.complete&&this.xr.complete?this.init():(this.$D++,2<=this.$D&&this.init()))};z.e.init=function(){this.wr=this.wm.width();this.vr=this.wm.height();var a=this.options.ng/this.wr,b=this.options.mg/this.vr;this.dI=a=b>a?b:a;this.KS=this.dI*this.options.fO;this.De={wn:this.options.ng/a,vp:this.options.mg/a,x:0,y:0};mz(this,a);nz(this,this.wr/2,this.vr/2);this.bN=!0};
z.e.qm=function(a){this.mt=a.clientX;this.nt=a.clientY;this.hE=this.Tt.position();this.wm.position()};z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.v(pz,z.S);var qz=1;z.e=pz.prototype;z.e.da=function(a){this.h=a;this.B()};
z.e.B=function(){this.$z="http://upload."+z.bq.Wl+"/upload_avatar";this.uk=(0,window.$)((0,z.Hn)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.$z,
type:this.Pp,dest_id:this.Pp===qz?z.V[3]:this.BC,return_size:this.GG}));this.gI=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.gI.appendTo(window.document.body);this.input=this.uk.find("input[type\x3dfile]")[0];z.x?(this.uk.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.uk),this.uk.addClass("avatar-editor-form-ie")):(this.uk.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.o().g(this.input,"change",this.Kc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.o().g(z.X,"iframe_data",function(a){(a=a.Mc)&&!a.r?"upload"===a.handle_mode?(this.xl=a.url,this.Qw=a.id,rz()||this.uo()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.SB(a)):z.T(a.msg)})};
z.e.Kc=function(a){sz(this);a=this.input=a.target;if(rz()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.t)(function(a){this.xl=a.target.result;this.uo()},this);b.readAsDataURL(a)}}else this.uk[0].submit();vz(this)};z.e.uo=function(){var a=this.Ba.W();this.Pw=new window.Image;this.Pw.src=this.xl;a=(0,window.$)(a);a.html("");a.append(this.Pw);this.Zu=new lz;this.Zu.w(this.Pw)};
z.e.SB=function(a){a&&!a.r?this.data=a:z.T(a.msg);this.dispatchEvent({type:"success",src:this.data});this.Ba.G(!1)};z.e.getData=function(){return this.data||null};z.v(xz,z.S);xz.prototype.da=function(a){xz.v.da.call(this,a);this.o().g(z.X,"sina_callback",this.ss);this.o().g(z.X,"qqconn_callback",this.ss);this.o().g(z.y("zh-setting-page-bind-sina-unbindbtn"),"click",this.TF);this.o().g(z.y("zh-setting-page-bind-qqconn-unbindbtn"),"click",this.TF)};
xz.prototype.ss=function(a){if("sina_callback"===a.type){var b=z.er.name=a.Mc.name;a=z.er.id=a.Mc.id;z.y("zh-setting-page-bind-sinaname").innerHTML='\x3ca href\x3d"http://weibo.com/'+a+'" target\x3d"_blank"\x3e@'+b+"\x3c/a\x3e";yz(!0)}else"qqconn_callback"===a.type&&(z.y("zh-setting-page-bind-qqconnname").innerHTML=a.Mc.name,zz(!0))};
xz.prototype.TF=function(a){var b=a.target.getAttribute("data-weibotype");if(window.confirm("\u4f60\u786e\u5b9a\u8981\u89e3\u9664\u4e0e"+{sina:"\u65b0\u6d6a\u5fae\u535a",qqconn:" QQ "}[b]+"\u7684\u7ed1\u5b9a\u5417\uff1f")){var c=new z.U(!0);z.Ld(this.o(),c,"success",function(){var a=z.fe(c);a&&!a.r?"sina"===b?yz():"qqconn"===b&&zz():z.T(a.msg)});c.ajax("/oauth/unbind/"+b)}};z.v(Az,z.S);z.e=Az.prototype;z.e.da=function(a){Az.v.da.call(this,a);this.he=(0,window.$)("input",a);this.ud=(0,window.$)(".zm-profile-details-items",this.h);this.Bp=[];var b=this;b.Bp=this.he.map(function(){var a=new Dz("/topic/autocomplete",this,b.UP||(0,window.$)(this).parents(".topic-input-wrap")[0]);a.Fm=!1;var d=(0,z.t)(b.filter,b);a.filter=d;return a});this.Vl()};
z.e.D=function(){this.o().g(z.A("add",this.h),"click",this.add);var a=this;this.he.each(function(){a.o().g(this,"keydown",function(a){this.keydown(a)})});z.B.forEach(this.Bp,function(b){a.o().g(b.N,z.Jj,a.select)});this.ud.on("click","[name\x3d'del']",window.$.proxy(this.remove,this));this.Vl()};
z.e.Vl=function(){if(!z.bq.vc){var a=this;this.Lf&&this.Lf.H();var b=new Lt;b.Iq="profile-edit-item-moving";Mt(b,this.ud[0],0);b.init();this.Lf=b;(0,window.$)('a, input, [role\x3d"button"]',this.ud).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})})}};z.e.keydown=function(a){13===a.keyCode&&(0,window.setTimeout)((0,z.t)(function(){Bz(this)&&this.add();this.he[0].value&&this.he[1]&&!this.he[1].value&&this.he[1].focus()},this));return!0};z.e.select=function(){Bz(this)&&this.add()};
z.e.add=function(){var a=z.Fa(this.he[0].value),b={title:a,member_url_token:z.Vn["1"]};if(this.he[1]){var c=z.Fa(this.he[1].value);if(!a&&!c)return;b.sub_title=c}St("ProfileEditItemV2",b,this.wO,this)};
z.e.wO=function(a){a=(0,window.$)(a);var b;if(a.data("title")){if(b=this.ud.find("[data-title\x3d'"+a.data("title")+"']")[0]){z.cj(b);Cz(this);return}}else if(a.data("sub-title")&&(b=this.ud.find("[data-sub-title\x3d'"+a.data("sub-title")+"']")[0])){z.cj(b);Cz(this);return}this.ud.append(a);this.Vl();Cz(this);this.dispatchEvent("add")};z.e.remove=function(a){(0,window.$)(a.target).parents("li").remove();this.dispatchEvent("remove")};
Az.prototype.filter=function(a){return z.B.filter(a,function(a){return!this.ud.find("[data-title\x3d'"+a+"']")[0]},this)};z.v(Dz,z.Dk);Dz.prototype.Ul=function(a,b){a=a[0].slice(1);a=z.B.filter(a,function(a){return 3<a.length});a=z.B.map(a,function(a){return a[1]});this.filter&&(a=this.filter(a));Dz.v.Ul.call(this,a,b)};z.v(Ez,z.S);z.e=Ez.prototype;z.e.da=function(a){Ez.v.da.call(this,a);Fz(this);this.Y=[];var b=this;(0,window.$)(".editable-group",this.h).each(function(){var a=new Az;b.Y.push(a);a.w(this)});a=z.y("zm-profile-edit-submit");this.o().g(a,"click",this.ey);(new xz).w(this.h);(0,window.$)(this.h).on("change","input, textarea, select",function(){b.Ye()})};
z.e.D=function(){Ez.v.D.call(this);z.kl(z.p,!0)();var a=z.y("zm-profile-progress-anim"),b=new Gz;b.addEventListener("update",function(){var c=100*b.X()|0;10>c&&(c=10);a.style.width=a.innerHTML=c+"%"});z.B.forEach(this.Y,function(a,c){b.watch({name:"name"+c,target:a,Jh:["add","remove"],Ah:function(){return!!a.ud.children().length}})},this);var c=this.h,d=z.y("zm-profile-edit-male"),f=z.y("zm-profile-edit-female"),g=z.y("zm-profile-edit-description"),h=(0,window.$)(".business-selection select")[0],
l=z.y("zm-profile-edit-expert-disable");b.watch({name:"expert_progress",target:z.y("zm-profile-edit-expert-enable"),Jh:["change"],Ah:function(){return null!==Ny(c,"enable_expert")}}).watch({name:"expert_progress",target:l,Jh:["change"],Ah:function(){return null!==Ny(c,"enable_expert")}}).watch({name:"gender_progress",target:d,Jh:["change"],Ah:function(){return null!==Ny(c,"gender")}}).watch({name:"gender_progress",target:f,Jh:["change"],Ah:function(){return null!==Ny(c,"gender")}}).watch({name:"desc_progress",
target:g,Jh:["blur"],Ah:function(){return!!z.Fa(g.value)}}).watch({name:"business_progress",target:g,Jh:["blur"],Ah:function(){return!!z.Fa(g.value)}}).watch({name:"headline_progress",target:h,Jh:["blur"],Ah:function(){return!!z.Fa(h.value)}})};z.e.Ye=function(){(0,window.$)(window).on("beforeunload.profileedit",(0,z.t)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.If=function(){(0,window.$)(window).off("beforeunload.profileedit")};
z.e.ey=z.kl(function(){var a=(0,window.$)("#zm-profile-edit-male").is(":checked")?1:0,b=(0,window.$)("#zm-profile-edit-headline").val(),c=(0,window.$)("#zm-profile-edit-description").val(),d=(0,window.$)(".business-selection select").val(),f=[];(0,window.$)("#zm-profile-edit-loc-container").children().each(function(){f.push((0,window.$)(this).data("title"))});var g=[];(0,window.$)("#zm-profile-edit-co-container").children().each(function(){var a=(0,window.$)(this);g.push([a.data("title"),a.data("sub-title")||
""])});var h=[];(0,window.$)("#zm-profile-edit-edu-container").children().each(function(){var a=(0,window.$)(this);h.push([a.data("title"),a.data("sub-title")||""])});var l=(0,window.$)("#zm-profile-edit-weibo-enable").is(":checked")?1:0,n=(0,window.$)("#zm-profile-edit-expert-enable").is(":checked")?1:0,a=z.C.filter({gender:a,headline:b,description:c,location:f,business:d,employment:g,education:h,enable_weibo:l,enable_expert:n},qt);Oy(a,(0,z.t)(function(){this.If();window.location.href="/people/"+
z.V[1]+"/about"},this),function(a){z.T(z.fa(a)?a[0][1]:a)})},!0);z.v(Gz,z.N);Gz.prototype.update=function(a,b){this.ry[a]=b;this.dispatchEvent({type:"update"});return this};Gz.prototype.watch=function(a){var b=(0,z.t)(function(){this.update(a.name,a.Ah())},this);z.L(a.target,a.Jh,b);b();return this};Gz.prototype.X=function(){var a=z.C.Oa(this.ry);return a.length&&z.B.filter(a,Boolean).length/a.length};z.v(Hz,z.S);Hz.prototype.da=function(a){Hz.v.da.call(this,a);this.K=(0,window.$)(a);this.K.on("click",'a[href^\x3d"javascript"]',window.$.proxy(this.xa,this));this.K.on("click",'a[href^\x3d"javascript"], input',!1);this.K.on("click",".item",window.$.proxy(this.IP,this))};Hz.prototype.IP=function(a){var b=(0,window.$)(a.currentTarget),c=b.data("href"),b=c&&!b.hasClass(this.Li);a=a.metaKey||a.ctrlKey;b&&(a?window.open(c):window.location.href=c)};
Hz.prototype.xa=function(a){var b=(0,window.$)(a.currentTarget),c=b.closest(".item");a=b.attr("name");if("edit"===a)b.closest(".description").hide().siblings(".description-edit").show().find("input").focus().closest(".item").addClass(this.Li).closest(".skilled-topics").addClass(this.Li),Iz(this,c);else if("cancel"===a)b.closest(".description-edit").hide().siblings(".description").show().closest(".item").removeClass(this.Li).closest(".skilled-topics").removeClass(this.Li),Iz(this,c,!0);else if("save"===
a){var d=new z.U(!0);this.o().g(d,"success",function(){var a=z.fe(d);a.r?z.T(a.msg):(b.closest(".description-edit").hide().siblings(".description").show().children(".des").text(a.msg).siblings(".edit").addClass("zu-edit-button").children(".edit-msg").html("\u4fee\u6539").closest(".item").removeClass(this.Li).closest(".skilled-topics").removeClass(this.Li),Iz(this,c,!0))});d.ajax("/topic/bio/update","tid\x3d"+b.closest(".item").data("id")+"\x26bio\x3d"+b.parent().siblings("input").val(),"POST")}};z.v(Jz,z.S);
Jz.prototype.da=function(a){Jz.v.da.call(this);if(a&&(this.K=(0,window.$)(a),(0,window.$)(".editable-group",this.K).each(function(){(new Kz).w(this)}),(a=z.y("profile-header-description-input"))&&new z.ql(a),(a=z.A("zm-profile-header-avatar-container"))&&z.H.has(a,"self"))){var b=new pz(qz);b.w(a);this.o().g(b,"beforepost",function(){(0,window.$)(".zm-avatar-editor-preview").parent().append((0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e"))});this.o().g(b,
"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:b.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),z.T("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),z.A("zm-avatar-editor-preview").src=b.getData().url)})})}};z.v(Kz,z.S);
Kz.prototype.da=function(a){Kz.v.da.call(this);this.K=(0,window.$)(a);this.ge=(0,window.$)(".info-wrap",this.K);this.Hd=(0,window.$)(".edit-wrap",this.K);(0,window.$)(".title",this.ge);(0,window.$)("input",this.Hd)};
Kz.prototype.D=function(){Kz.v.D.call(this);this.K.on("click","[name\x3d'edit']",z.kl(window.$.proxy(function(){this.K.addClass("editing");var a=this.Hd.find("input").get(0);a?a.focus():(a=this.Hd.find("textarea").get(0))&&a.focus()},this),!0));var a=this;this.Bp=[];(0,window.$)("input[type\x3dtext]",this.K).each(function(){var b=new Dz("/topic/autocomplete",this,(0,window.$)(this).parents(".topic-input-wrap")[0]);a.Bp.push(b)});this.Hd.on("keydown","input",function(a){13===a.keyCode&&(0,window.setTimeout)(function(){var b=
(0,window.$)(a.target),f=b.parents(".edit-wrap").children().index(b.parent()),g=b.parents(".edit-wrap").find("input, select").get(f+1),f=b.parents(".edit-wrap").find("input, select").get(f-1);b.val()&&(g?g.focus():f&&!(0,window.$)(f).val()&&f.focus())})});this.Hd.on("click","[name\x3d'cancel'], [name\x3d'save']",window.$.proxy(function(a){a=a.target.name;"cancel"===a?this.cancel():"save"===a&&this.save()},this));var b=(0,window.$)(".fold-wrap");b.click(function(a){"fold"===a.target.name?b.addClass("fold"):
"unfold"===a.target.name&&b.removeClass("fold")})};
Kz.prototype.save=function(){var a=this,b=this.K.data("name");if("location"===b){var b=this.Hd.find("input.location"),c=this.Hd.find("select"),d=this.Hd.find("input.male").is(":checked")?1:0;window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{location:[b.val()],business:c.val(),gender:d}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.location[0].html||(b.location[0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5c45\u4f4f\u5730\x3c/a\x3e"),b.business.html||
(b.business.html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u884c\u4e1a\x3c/a\x3e"),a.ge.find("span.location").attr("title",b.location[0].text).html(b.location[0].html),a.ge.find("span.business").attr("title",b.business.text).html(b.business.html),b=1===(0,window.parseInt)(b.gender,10)?"male":"female",a.ge.find("span.gender i").removeClass("icon-profile-female icon-profile-male").addClass("icon-profile-"+b),a.cancel())})}else"employment"===b?(c=
this.Hd.find("input.employment"),b=this.Hd.find("input.position"),c=c.val(),b=b.val(),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{employment:[[c,b]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.employment[0][0].text||b.employment[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.employment[0][0].html||(b.employment[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u516c\u53f8\u4fe1\u606f\x3c/a\x3e"),b.employment[0][1].html||
(b.employment[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u804c\u4f4d\x3c/a\x3e"),a.ge.find(".employment").attr("title",b.employment[0][0].text).html(b.employment[0][0].html),a.ge.find(".position").attr("title",b.employment[0][1].text).html(b.employment[0][1].html),a.cancel())})):"education"===b?(c=[this.Hd.find("input.education"),this.Hd.find("input.education-extra")],b=c[0].val(),c=c[1].val(),window.$.post("/node/ProfileHeaderV2",{method:"save",
params:{data:{education:[[b,c]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.education[0][0].text||b.education[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.education[0][0].html||(b.education[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5b66\u6821\u4fe1\u606f\x3c/a\x3e"),b.education[0][1].html||(b.education[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e13\u4e1a\x3c/a\x3e"),
a.ge.find(".education").attr("title",b.education[0][0].text).html(b.education[0][0].html),a.ge.find(".education-extra").attr("title",b.education[0][1].text).html(b.education[0][1].html),a.cancel())})):"description"===b&&(b=this.Hd.find("textarea.description"),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{description:b.val()}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.description.text?a.K.removeClass("empty"):(b.description.fold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",
b.description.unfold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",a.K.addClass("empty")),a.ge.find(".fold-item .content").empty().html(b.description.fold_html),a.ge.find(".unfold-item .content").html(b.description.unfold_html),b.description.shortened?a.ge.removeClass("disable-fold"):a.ge.addClass("disable-fold"),a.cancel())}))};Kz.prototype.cancel=function(){this.K.removeClass("editing")};z.v(Lz,z.ll);z.e=Lz.prototype;z.e.init=function(a){this.Xb=a;this.o().g(a,"click",this.xa);this.refresh()};z.e.gi=function(a){this.Wf=a};
z.e.xa=function(a){if(a.target){var b=z.lj(this.Xb,a.target);b&&(this.type=b.getAttribute("data-type"),this.id=b.getAttribute("data-id"),this.action=b.name,this.item=z.mc(a.target,null,this.Wf),this.type&&this.id&&this.action&&this.item&&!this.cI&&(this.cI=!0,this.xhr=new z.U(!0),this.o().g(this.xhr,"complete",this.Rg),this.xhr.ajax("/people/"+("top"===this.action?"pin":"unpin")+"_"+this.type,this.type+"_id\x3d"+this.id,"POST")))}};
z.e.Rg=function(){if("cancel-top"===this.action)z.Wi(this.item,!0);else if("top"===this.action){var a=z.vb(this.Wf,this.Xb);z.Mf(this.item);a&&2<=a.length&&z.Lb(z.I(this.item),z.A(this.Wf,this.Xb));this.scroll();z.cj(this.item);z.R(z.A("zm-item-top-btn-top",this.item),!1);z.R(z.A("zm-item-top-btn-cancel",this.item),!0);this.refresh()}this.cI=!1};z.e.scroll=function(){if(this.UQ){var a=z.A("zm-profile-section-wrap"),b=z.qc(z.ob((z.m||window).document)).y;a&&0>z.Mf(a).y-b&&a.scrollIntoView()}};
z.e.refresh=function(){var a=z.vb(this.Wf,this.Xb);a&&0<a.length&&z.B.forEach(a,function(a,c){if(0!==c){var d=z.A("zm-item-top-btn-top",a);d&&z.R(d,!0)}},this)};z.v(Nz,z.S);Nz.prototype.D=function(){this.o().g(this.h,"click",this.xa)};Nz.prototype.xa=function(a){var b=z.lj(this.h,a.target);this.Tm&&this.Tm(b);b&&b.name&&"focus"===b.name&&(0,z.Fs)(b,this.Sv,function(){b.getAttribute("data-followme")&&(z.H.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$\u5bf9\u65b9\u5df2\u5173\u6ce8\u4f60"):b.setAttribute("data-tip","s$b$\u5df2\u4e92\u76f8\u5173\u6ce8"))},this.Rv,{ZT:"question"===this.Sv?"\u5173\u6ce8\u95ee\u9898":null})};
Nz.prototype.SG=function(a){this.Tm=a};z.v(Oz,z.N);var Pz=0;Oz.prototype.oo=function(){this.Di()};Oz.prototype.Di=function(){var a=this.Nd.value.length;if(a>this.Pg){var b=this.Nd.scrollTop,c=this.Nd.scrollLeft;this.Nd.value=this.Nd.value.substring(0,this.Pg);a=this.Pg;this.Nd.scrollTop=b;this.Nd.scrollLeft=c}this.Gh&&z.bc(this.Gh,1==this.qC?a:this.Pg-a)};Oz.prototype.C=function(){Oz.v.C.call(this);delete this.Nd;this.oj.H();this.oj=null};var Xz;z.v(Qz,z.ll);z.e=Qz.prototype;z.e.init=function(){this.Jr||(this.Jr=!0,this.B(),this.tb())};z.e.tb=function(){z.x||(new z.Al("\u641c\u7d22\u95ee\u9898")).w(this.Oc);this.Y=new z.Hl("/redirect-question/autocomplete",this.Oc,null,null,z.y("zh-question-redirect-diag-content"),!1);this.Y.Fm=!1;this.Y.gh(!0);this.o().g(this.Y,"suggestionsupdate",z.xj);this.o().g(this.Y,"select",this.oP).g(this.rJ,"click",function(){this.fa.G(!1)})};
z.e.oP=function(){var a=this.Y.Wi();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.Oc.value="";var b=a[3],a=a[1];this.fa.G(!1);this.Oc.value="";this.xhr=new z.U(!0);z.Ld(this.o(),this.xhr,"complete",this.II);this.xhr.ajax("/question/redirect","qid\x3d"+this.na+"\x26rqid\x3d"+b);this.Ws=b;this.mG=a}};
z.e.II=function(){var a=z.fe(this.xhr);a&&(a.r?z.T(a.msg):this.yi?(this.yi.innerHTML="\u5df2\u7ecf\u91cd\u5b9a\u5411",this.yi.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.G("div",{id:"zh-question-redirect-diag"},["\u5c06\u95ee\u9898\u8df3\u8f6c\u81f3",z.G("div",{id:"zh-question-redirect-diag-content"},this.Oc=z.G("input",{type:"text","class":"zg-form-text-input"})),z.G("div","zm-command",this.rJ=z.G("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"\u653e\u5f03\u64cd\u4f5c"))]);this.fa=new z.Xg(null,!1);this.fa.Wa("\u95ee\u9898\u91cd\u5b9a\u5411");z.Sg(this.fa,null);this.fa.W().appendChild(this.h)};
z.e.show=function(){this.init();this.fa.G(!0)};var Uz={},Uz=function(){z.J.call(this)};z.v(Uz,z.ll);
Uz.Zt=[["\u9700\u8981\u8be6\u7ec6\u9610\u8ff0","\u7b54\u6848\u8fc7\u4e8e\u7b80\u77ed\u6216\u8868\u8ff0\u4e0d\u6e05\u6670\uff0c\u8bf7\u5b8c\u5584\u7b54\u6848\u3002"],["\u7b54\u975e\u6240\u95ee","\u6ca1\u6709\u6b63\u9762\u6216\u76f4\u63a5\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5e94\u4f5c\u4e3a\u95ee\u9898\u7684\u8bc4\u8bba","\u8be5\u5185\u5bb9\u662f\u5bf9\u95ee\u9898\u672c\u8eab\u7684\u8bc4\u8bba\u800c\u4e0d\u662f\u56de\u7b54\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5e94\u4f5c\u4e3a\u7b54\u6848\u7684\u8bc4\u8bba",
"\u8be5\u5185\u5bb9\u662f\u5bf9\u53e6\u5916\u4e00\u4e2a\u7b54\u6848\u7684\u8bc4\u8bba\u6216\u56de\u5e94\uff0c\u800c\u4e0d\u662f\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5185\u5bb9\u91cd\u590d","\u4e0e\u5df2\u6709\u7b54\u6848\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5185\u5bb9\u5df2\u8fc7\u671f","\u7b54\u6848\u7684\u65f6\u6548\u6027\u5df2\u8fc7\uff0c\u8bf7\u66f4\u65b0\u7b54\u6848\u3002"],["\u9700\u8981\u6ce8\u660e\u5173\u8054\u5229\u76ca",
"\u6709\u5e7f\u544a\u3001\u63a8\u9500\u5acc\u7591\uff0c\u8bf7\u6ce8\u660e\u4f5c\u8005\u4e0e\u5229\u76ca\u65b9\u7684\u5173\u7cfb\u3002"]];Uz.pj=null;Uz.S=function(){Uz.pj||(Uz.pj=new Uz,Uz.pj.init());return Uz.pj};z.e=Uz.prototype;z.e.init=function(){if(!this.h){this.B();this.tb();var a=new z.Mo(this.h);z.Gg(a);a.TD=!0;a.bm(!0);a.G(!1);z.No(a,0);z.et(a,new z.sf(13,0,0,-22));this.wy=a}};z.e.tb=function(){this.o().g(this.h,"click",this.lP)};
z.e.lP=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.iK.YT(a),this.wy.G(!1))};
z.e.B=function(){var a=z.G("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.G("div","zg-r5px zu-hovercard-inner",[z.G("div",{id:"zh-answer-flag-popup-header"},[z.G("a",{"class":"zg-right",href:"http://www.zhihu.com/question/19867017",target:"_blank"},"\u8fd9\u662f\u4ec0\u4e48\uff1f"),"\u9009\u62e9\u4e00\u4e2a\u7406\u7531\uff1a"]),this.WF=z.G("div",{id:"zh-answer-flog-options-wrap"})]),z.G("div","zu-hovercard-spin-top")]);z.B.forEach(Uz.Zt,function(a,c){var d=z.G("a",{href:"javascript:;",
"class":"zm-menu-item-link"},a[0]);d.setAttribute("data-index",c);this.WF.appendChild(d)},this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.wy.setPosition(new z.Ko(a,1));Rz(this,b.cU());this.wy.G(!0);this.iK=b};var Wz;z.v(Sz,z.ll);Sz.prototype.init=function(){this.B();Tz(this)};
Sz.prototype.B=function(){this.h=z.G("div",null,[z.G("div","zg-section",[z.G("div",null,"\u6807\u8bb0\uff1a"),this.dl=z.G("select")]),z.G("div",null,[z.G("div",null,"\u539f\u56e0"),this.Cy=z.G("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.Vm=z.G("div","zm-command",[z.G("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"\u53d6\u6d88"),z.G("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"\u786e\u5b9a")])]);this.dl.appendChild(z.G("option",
{value:"no"},"\u9009\u62e9\u6807\u8bb0\u539f\u56e0"));z.B.forEach(Uz.Zt,function(a,b){this.dl.appendChild(z.G("option",{value:b},a[0]))},this);this.fa=new z.Xg(null,!1);this.fa.Wa("\u6807\u8bb0\u7b54\u6848");z.Sg(this.fa,null);this.fa.W().appendChild(this.h)};Sz.prototype.show=function(){this.fa.G(!0)};z.v(Zz,z.S);z.e=Zz.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){Zz.v.D.call(this);kA();iA(this);hA(this);pA(this);jA(this);oA(this);nA();lA(this);sA();uA(this);$z(this);gA(this);aA(this);cA(this);dA(this);eA(this);fA(this);bA(this);this.Jn();-1<window.location.search.indexOf("clean-followers-noti\x3d1")&&(new z.U(!0)).ajax("/notification/clear","no_refresh_content\x3dtrue\x26type\x3dfollow");(0,window.$)("#__signin").click(function(){z.jl("privacy_sign_in_button","singin")});(0,window.$)(".zm-profile-header-user-edit").click(z.kl(z.p,!0))};
z.e.dS=function(){z.ch("\u786e\u5b9a","\u786e\u5b9a\u8981\u5f3a\u5236\u6b64\u7528\u6237\u6539\u540d\u5417\uff1f",function(a){a&&(z.y("realname_form").submit(),this.Tv.innerHTML="\u5df2\u53d1\u9001",z.H.add(this.Tv,"zg-gray"),z.ed(this.Tv))},this)};
z.e.Jn=function(){this.lj();var a=z.y("zm-profile-header-pm-btn");a&&z.L(a,"click",Mu(function(a){a.preventDefault()},z.kl(function(){var b=new z.kp;b.show();z.mp(b,z.Vn[3],z.Vn[0]);z.lp(b,a.href);b.$b.focus()},{ra:"people_message_button",gd:!0})));var b=z.y("zh-profile-cancel-block");b&&this.o().g(b,"click",this.zF);(0,window.$)("#zh-report-people, #profile-side-op a[name\x3dreport]").each(function(a,b){Dv(new Bv("member",z.Vn[3]),b)});(b=z.y("zh-profile-search-query-mirro"))&&new z.Ek(b,b.getAttribute("placeholder"))};
z.e.zF=function(){z.ch("\u786e\u5b9a\u53d6\u6d88\u5c4f\u853d\uff1f","\u53d6\u6d88\u5c4f\u853d\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002",function(a){a&&mA(this,!1)},this)};z.e.Gk=function(){z.Ld(this.o(),window.document,"click",function(){this.hb.G(!1)})};
z.e.lj=function(){var a=z.y("profile-side-op");a&&this.o().g(a,"click",this.dj)};z.e.qM=function(a){var b="";a.target===this.TI?b="time":a.target===this.UI?b="vote":a.target===this.SI&&(b="ask");window.location.href="/people/"+z.V[1]+"/answers?sort\x3d"+b};
z.e.dj=function(a){a=a.target.name;"block"===a?z.ch("\u786e\u5b9a\u8981\u5c4f\u853d\u8be5\u7528\u6237\uff1f","\u5c4f\u853d\u7528\u6237\u540e\uff0c\u5bf9\u65b9\u5c06\u4e0d\u80fd\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u5b9e\u540d\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\u4f60\u7684\u516c\u5f00\u4fe1\u606f\u3002",function(a){a&&mA(this,!0)},
this):"cancel-block"===a&&this.zF()};z.e.OK=function(a){if(a&&a.target&&(a=z.lj(this.h,a.target))){var b=z.A("zm-profile-fav-item-title",a),c=z.A("zm-profile-fav-item-des",a);b&&c&&"fav-edit"===a.name&&(b=b.innerHTML,c=c.innerHTML||"",a=[Number(a.getAttribute("data-id")),Number(a.getAttribute("data-public"))],Fy(By.S(),b,c,a))}};z.e.kP=function(a){(a=a.target)&&a.name&&(rA(this,a.name),this.search())};
z.e.search=function(a,b,c){this.Je=z.y("zh-profile-search-query").value;this.Zl="/people/"+z.y("zh-profile-search-form").getAttribute("data_url")+"/search";if(this.Je){void 0===b&&(b=!0);void 0===c&&(c=!0);if(window.history.pushState){if(this.Uy)return;a&&a.preventDefault();this.$l=new z.U(!0);this.Uy=!0;this.o().g(this.$l,"complete",this.bI);b&&window.history.pushState({q:(0,window.encodeURIComponent)(this.Je),type:this.Zj},"","?pq\x3d"+(0,window.encodeURIComponent)(this.Je)+"\x26type\x3d"+this.Zj);
this.$l.ajax(this.Zl,"type\x3d"+this.Zj+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Je),"","POST")}else a||(c?(this.Je=z.y("zh-profile-search-query").value,this.Zl="/people/"+z.y("zh-profile-search-form").getAttribute("data_url")+"/search",window.location.href=this.Zl+"?type\x3d"+this.Zj+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Je)):(this.$l=new z.U(!0),this.Uy=!0,this.o().g(this.$l,"success",this.bI),this.Je=z.y("zh-profile-search-query").value,this.Zl="/people/"+z.y("zh-profile-search-form").getAttribute("data_url")+
"/search",this.$l.ajax(this.Zl,"type\x3d"+this.Zj+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Je),"","POST")));(a=z.y("zh-profile-search-info"))&&z.R(a,!0)}else a&&a.preventDefault()};
z.e.bI=function(){this.Uy=!1;z.bc(z.y("zh-profile-search-word"),this.Je);var a=z.fe(this.$l);if(a&&!a.r){var b=z.y("zh-profile-search-list");if(b)if(0===a.msg[0])z.y("zh-profile-list-container").innerHTML='\x3cdiv id\x3d"'+b.id+'"\x3e\x3cdiv style\x3d"margin: 20px;color: #999;text-align: center;"\x3e\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u4efb\u4f55\u7ed3\u679c\x3c/div\x3e\x3c/div\x3e';else{var c;c=""+('\x3cdiv id\x3d"'+b.id+'"\x3e');c+=a.msg[1]+"\x3c/div\x3e";z.y("zh-profile-list-container").innerHTML=
c+'\x3ca href\x3d"javascript:;" id\x3d"zh-load-more" class\x3d"zg-btn-white zu-button-more" style\x3d""\x3e\u66f4\u591a\x3c/a\x3e';(a=z.vb("zm-item",b))&&a.length&&(this.Ne=a[a.length-1].id.split("-")[1]);this.Ua=null;this.Ua=new Ay(z.y(b.id),null,!0);this.Ua.init();this.Ua.Ne=this.Ne;this.Ua.url=this.Zl;this.Ua.params.pq=this.Je;this.Ua.params.type=this.Zj;z.y("zh-profile-search-query").focus()}}};z.v(tA,z.S);
tA.prototype.da=function(a){this.h=a;this.Pa=new du;this.Pa.w(this.h);this.form=z.y("zm-profile-expert-editform");this.o().g(this.form,"submit",this.ey);this.o().g(this.Pa,["add","remove","sort"],function(){this.Ye()});(0,window.$)(".enable").on("change","input",window.$.proxy(function(){this.Ye()},this));var b=z.y("zh-profile-expert-warning");b&&this.o().g(b,"click",function(a){"close"===a.target.name&&z.Wi(b)});(0,window.$)(".enable input[type\x3d'radio']").click(function(a){z.R(z.y("zh-profile-expert-reopen-tip"),
!Number((0,window.$)(a.target).val()))})};tA.prototype.Ye=function(){(0,window.$)(window).on("beforeunload.profile",(0,z.t)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};tA.prototype.If=function(){(0,window.$)(window).off("beforeunload.profile")};
tA.prototype.ey=function(a){a.preventDefault();z.B.map(this.Pa.data,function(a){return a[3]});a=(0,window.$)(this.form).serializeArray()[0].value;var b=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get(),c=this;window.$.post("/node/ProfileEditExpertTopicsV2",{method:"save",params:{settings:{enable_expert:a,expert_topic:b}}},function(a){a&&a.r||(c.If(),window.location.href="/people/"+z.V[1])})};z.v(vA,z.S);vA.prototype.D=function(){vA.v.D.call(this);var a=z.y("zh-topic-block-editor");a&&(new hu(z.ar)).w(a);xA(this);yA(this)};z.v(zA,z.S);zA.prototype.init=function(){var a=this;AA();BA();DA();FA();CA();EA();var b=z.y("zh-setting-page-bind-wrap");b&&(new xz).w(b);(0,window.$)(".zu-main-content-inner form").on("change","input, textarea, select",function(){a.ln("SettingsPage")}).on("submit",function(){a.Vk("SettingsPage")})};
zA.prototype.ln=function(){(0,window.$)(window).on("beforeunload.SettingsPage",(0,z.t)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};zA.prototype.Vk=function(){(0,window.$)(window).off("beforeunload.SettingsPage")};z.v(HA,Mv);HA.prototype.init=function(a){HA.v.init.call(this,a);this.tb(this.h)};HA.prototype.dA=function(a){this.dA=a};HA.prototype.tb=function(a){if(this.dA){var b=new Nz,c=this.VK;b.Sv=this.Pv;b.Rv=c||b.Rv;this.Tm&&b.SG(this.Tm);b.w(a)}};HA.prototype.SG=function(a){this.Tm=a};z.v(IA,z.ll);IA.prototype.init=function(){this.o().g(this.h,"click",this.po)};IA.prototype.po=function(a){a=z.lj(this.h,a.target);"focus"===(a&&a.name)&&(0,z.Fs)(a,this.Pv,null,this.UK,{follow_text:this.text[0],unfollow_text:this.text[1]})};z.v(JA,z.ll);z.e=JA.prototype;z.e.w=function(a){this.element=a;var b=(0,window.$)("\x3cul\x3e");this.AH=(0,window.$)("\x3cli\x3e");b.append(this.AH);(0,window.$)(a).append(b);this.BH||(this.BH=!0,this.Tz=new z.U(!0),z.Ld(this.o(),this.Tz,"success",this.OO),this.Tz.ajax(this.url,null,"POST"))};z.e.OO=function(){var a=z.fe(this.Tz);a&&(a&&a.r?z.T(a.msg):(KA(this,this.AH,a.msg),this.BH=!1,this.D()))};z.e.D=function(){this.o().g(this.element,"click",this.po)};
z.e.po=function(a){var b=(a=a.target)?a.name:"";if(b)switch(b){case "load":case "loadmore":if(!this.Zn){var b=a.getAttribute("data-token"),c=a.getAttribute("data-parent");this.Zn=!0;this.Cj=new z.U(!0);z.Ld(this.o(),this.Cj,"success",this.Hp);this.Wy=a.parentNode;this.Wy.innerHTML='\x3cspan class\x3d"zg-gray"\x3e\u52a0\u8f7d\u4e2d...\x3c/a\x3e';this.Cj.ajax(this.url+"?child\x3d"+b+"\x26parent\x3d"+c,null,"POST")}break;case "topic":window.location.href=a.href}};
z.e.Hp=function(){var a=z.fe(this.Cj);if(a)if(a&&a.r)z.T(a.msg);else if(a=a.msg,a[1]){(0,window.$)(this.Wy).hide();for(var b=(0,window.$)(this.Wy.parentNode),c=0;c<a[1].length;c++){var d=a[1][c],f=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");"topic"!==d[0][0]&&f.addClass("zm-topic-organize-loadmore");b.append(f);KA(this,f,d)}this.Zn=!1}};z.v(MA,z.vn);MA.prototype.Tg=function(a){z.Zq[0][0]===a?this.ki():MA.v.Tg.apply(this,arguments)};MA.prototype.RA=function(a){if(a=z.fe(a.target))a.r?z.T(a.msg):a.msg&&(window.location.href=a.msg)};z.v(NA,z.S);z.e=NA.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){NA.v.D.call(this);SA(this);var a=z.y("zh-topic-top-answerer");a&&(new IA(a,"people",["zg-follow","zg-unfollow"])).init();if(a=z.y("zh-topic-direct-question-list"))a=new HA(a,null,"question",null,!0),a.gi("question-item"),a.init();if(a=z.y("zh-topic-title"))this.cd=new MA(!1,"/topic/update","title"),ht(this.cd,["tid\x3d"+this.uf]),this.cd.addEventListener("beforeedit",LA({kp:!0})),this.cd.w(a),(0,window.$)(a).on("click",".js-pin",function(){var a=(0,window.$)(this),b=a.attr("data-action");
window.$.post(b,{tid:z.Zq[0][3]}).done(function(b){b.r?z.T(b.msg):(b=a.hasClass("pin")?'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/remove" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e':'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/add" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e',
a.replaceWith(b))})});if(a=z.y("zh-topic-desc"))(0,window.$)(a).find(".zm-editable-content").data("editable-maxlength"),this.Uk=new z.yn(!0,"/topic/update","description"),this.Uk.Lb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u8bdd\u9898\u63cf\u8ff0\x3c/a\x3e\x3c/div\x3e',ht(this.Uk,["tid\x3d"+this.uf]),this.Uk.cq=!1,this.Uk.LH=!1,this.Uk.addEventListener("beforeedit",LA({kp:!0})),this.Uk.w(a);if(a=z.y("zh-topic-faq"))this.Iv=new z.yn(!0,"/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+
"/faq","content"),this.Iv.Lb='\x3cdiv class\x3d"zm-topic-faq-container"\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\u5e38\u89c1\u95ee\u9898\u662f\u8be5\u8bdd\u9898\u4e0b\u7ecf\u5e38\u4f1a\u63d0\u5230\u7684\u95ee\u9898\u7684\u6574\u7406\uff0c\u4ee5\u4fbf\u540e\u6765\u8005\u67e5\u9605\uff08\x3ca href\x3d"http://www.zhihu.com/question/20388061" class\x3d"zg-link-litblue"\x3e\u5982\u4f55\u521b\u5efa\uff1f\x3c/a\x3e\uff09\x3c/div\x3e\x3ca href\x3d"javascript:;" name\x3d"edit" class\x3d"zg-link-litblue"\x3e\x3cspan class\x3d"zg-blue-edit"\x3e\x3c/span\x3e\u4e3a\u300c'+
z.Zq[0][0]+"\u300d\u6dfb\u52a0\u5e38\u89c1\u95ee\u9898\x3c/a\x3e\x3c/div\x3e",this.Iv.cq=!1,this.Iv.w(a);XA(this);YA(this);RA(this);UA(this);VA();WA(this);PA(this);OA();(a=z.A("zm-topic-search-input-new"))&&new z.Ek(a,"\u5728\u8bdd\u9898\u4e2d\u641c\u7d22");var b=(0,window.$)(a);z.bq.vc||b.focus(function(){b.addClass("stretch-to")}).blur(function(){b.removeClass("stretch-to")});(a=z.A("zm-topic-ask-in-topic"))&&this.o().g(a,"click",this.iz);(a=z.A("zm-topic-feed-container"))&&(new IA(a,"question",
["zg-follow","zg-unfollow"])).init();(a=z.y("zh-topic-side-children-list"))&&(new IA(a,"topic",["zg-follow","zg-unfollow"])).init();aB(this);(a=z.y("zh-topic-info-add"))&&z.B.forEach(z.Qb(a),function(a){var b;a&&a.getAttribute&&(b=a.getAttribute("data-placeholder"))&&new z.Ek(a,b)});(0,window.$)(".js-may-disable").click(z.kl(z.p,!0))};
z.e.bP=function(){this.wq=this.Pa.$B;if(!this.eF&&this.wq){this.eF=!0;this.Ix=new z.U(!0);z.Ld(this.o(),this.Ix,"success",this.DI);this.Ix.ajax("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+"/demand","action\x3dmerge\x26target_topic_id\x3d"+this.wq[3]);var a=z.y("zh-topic-merged-msg");z.R(z.y("zh-topic-merge"),!1);z.R(a,!0);a=z.tb("a",null,a)[0];a.href="/topic/"+this.wq[1];a.innerHTML=this.wq[0];this.Pa&&(this.Pa.nb.value="")}};
z.e.DI=function(){var a=z.fe(this.Ix);a&&a.r?z.T(a.msg):this.eF=!1};z.e.KO=function(){this.hC||(this.hC=!0,this.iv=new z.U(!0),z.Ld(this.o(),this.iv,"success",this.BI),this.iv.ajax("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+"/demand","action\x3dremove"))};z.e.BI=function(){var a=z.fe(this.iv);a&&a.r?z.T(a.msg):(a=z.y("zh-topic-del-msg"),z.R(z.y("zh-topic-del-btn"),!1),z.R(a,!0),this.Pa&&(this.Pa.nb.value=""),this.hC=!1)};
z.e.xP=function(a){if((a=a.target)&&a.name)if("add"===a.name){if(a=this.ku.value)this.mu=new z.U(!0),z.Ld(this.o(),this.mu,"complete",this.AI),this.mu.ajax(window.location.href,"action\x3dadd_alias\x26alias\x3d"+(0,window.encodeURIComponent)(a))}else"remove"===a.name?(this.Hy=new z.U(!0),a=a.parentNode.getAttribute("data-token"),z.Ld(this.o(),this.Hy,"complete",this.FI),this.Hy.ajax(window.location.href,"action\x3dremove_alias\x26alias_token\x3d"+a)):"remove-merged"===a.name&&(this.Jy=new z.U(!0),
a=a.parentNode.getAttribute("data-token"),z.Ld(this.o(),this.Jy,"complete",this.GI),this.Jy.ajax("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1]+"/demand"),"action\x3dremove\x26target_topic_id\x3d"+a))};z.e.GI=function(){var a=z.fe(this.Jy);a&&a.r?z.T(a.msg):QA(this,a.msg)};z.e.FI=function(){var a=z.fe(this.Hy);a&&a.r?z.T(a.msg):QA(this,a.msg)};
z.e.AI=function(){var a=z.fe(this.mu);if(a&&a.r)z.T(a.msg);else{var a=a.msg,b=z.G("li");b.setAttribute("data-token",a[1]);b.innerHTML=a[0]+' \x3ca name\x3d"remove" href\x3d"javascript:;" class\x3d"zg-link-gray"\x3e\u79fb\u9664\x3c/a\x3e';this.lu.appendChild(b);this.ku.value="";z.R(this.lu.parentNode,!0)}};z.e.kz=function(a){this.jy?this.hb.T()?this.hb.G(!1):(this.hb.G(!0),a.stopPropagation(),a.preventDefault(),this.Gk()):(a.stopPropagation(),a.preventDefault(),this.lj(),this.Gk());this.jy=!0};
z.e.Gk=function(){z.Ld(this.o(),window.document,"click",function(){this.hb.G(!1)})};z.e.lj=function(){var a=z.y("zh-topic-side-head"),b=this.$f.getAttribute("data-auth");this.hb=new pv;this.Iw=!0;"f-topic-manage"===b&&this.hb.Ja(this.CP=new mv("\u7ba1\u7406\u8bdd\u9898"));this.hb.Ja(this.DP=new mv("\u7ec4\u7ec7\u8bdd\u9898"));this.hb.Ja(this.BP=new mv("\u8bdd\u9898\u65e5\u5fd7"));this.Iw&&(this.hb.ba(a),this.o().g(this.hb,"action",this.dj))};
z.e.dj=function(a){var b="";a.target===this.CP?b="admin":a.target===this.DP?b="organize":a.target===this.BP&&(b="log");window.location.href=["/topic",this.Qz[1],b].join("/")};z.e.jP=function(){var a=z.fe(this.Gy);if(a&&!a.r){var b=[];z.B.forEach(a,function(a){b.push(z.Xi(a,null,!0))});this.uQ.innerHTML=b.join("")+'\x3cdiv class\x3d"zg-clear"\x3e\x3c/div\x3e';a.length&&z.R(z.y("zh-topic-side-related-topics-wrap"),!0)}};
z.e.VO=function(a){var b=a.target;b&&b.name&&"remove"===b.name&&(this.VM=b,this.dE||(this.dE=!0,this.Tw=new z.U(!0),this.o().g(this.Tw,"success",this.WO),a="token\x3d"+this.VM.parentNode.getAttribute("data-token")+"\x26action\x3dremove\x26element\x3d"+(0,window.encodeURIComponent)((0,window.$)(a.target).prev("[data-element]").text()),this.Tw.ajax("/topic/"+z.Zq[0][1]+"/information/manage",a,"POST")))};
z.e.WO=function(){this.dE=!1;var a=z.fe(this.Tw);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.A("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html()))};z.e.XO=function(a){a.preventDefault();this.fE||(this.fE=!0,this.Uw=new z.U(!0),this.o().g(this.Uw,"success",this.UO),a=z.Qb(this.Dr),this.Uw.ajax("/topic/"+z.Zq[0][1]+"/information/manage","title\x3d"+a[0].value+"\x26content\x3d"+a[1].value+"\x26url\x3d"+a[2].value+"\x26action\x3dadd","POST"))};
z.e.UO=function(){this.fE=!1;var a=z.fe(this.Uw);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.A("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html(),a=z.Qb(this.Dr),z.B.forEach(a,function(a,c){3>c&&(a.value="")})))};z.e.iz=z.kl(function(){if(!z.Mp()){var a=z.En.S();a.show();var b=z.A("zm-topic-search-input-new");b.value&&z.Fn(a,b.value);a.Pa.data.length||a.Pa.bk(z.Zq[0])}},!0);z.v(bB,z.S);bB.prototype.B=function(){this.h=this.M().B("FORM",{method:"POST",style:"display:none"})};bB.prototype.post=function(a,b,c){var d=this.m();d||(this.ba(),d=this.m());d.action=b||"";d.target=c||"";b=d;var f,g=new z.Zs;for(f in a)c=a[f],z.ga(c)?z.B.forEach(c,(0,z.t)(this.ZA,this,g,f)):this.ZA(g,f,c);b.innerHTML=g.toString();d.submit()};bB.prototype.ZA=function(a,b,c){a.append('\x3cinput type\x3d"hidden" name\x3d"',z.Ia(b),'" value\x3d"',z.Ia(c),'"\x3e')};z.v(fB,z.ll);fB.prototype.init=function(){var a=lt(new z.dk(window.location.href),"group_id");a&&(this.Hj=new z.U(!1),z.Ld(this.o(),this.Hj,"success",this.qy),a&&this.Hj.ajax("/noti7/read","group_id\x3d"+a,"POST"))};fB.prototype.qy=function(){var a=z.fe(this.Hj);if(a&&!a.r&&a.msg){var b=a.msg;if(!0===b||"true"===b||"True"===b)return;this.rO=a.msg;this.dispatchEvent("change")}(a=z.Is)&&z.Io(a)};z.v(gB,z.S);z.e=gB.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){gB.v.D.call(this);iB(this);if(this.Jc=z.y("zh-list-meta-wrap"))this.o().g(this.Jc,"click",this.vo),lt(new z.dk(window.location.href),"fc")&&kB(this);var a=z.y("zh-favlists-wrap");a&&(new HA(a,null,"favlist",null,!0)).init();hB(this);(a=z.y("zh-favlist-log-list-wrap"))&&(new HA(a,null,"favlist",null,!0)).init();(a=z.y("zh-favlist-following-wrap"))&&(new HA(a,null,"favlist",null,!0)).init();if(a=z.y("zh-favlist-followers-wrap"))a=new HA(a,null,"people",["zg-btn-follow","zg-btn-unfollow"],
!0),a.gi("zm-profile-section-item"),a.dA(!0),a.init();this.o().g(window,"hashchange",this.yU);this.Zw();this.lo=new fB;this.lo.init()};z.e.BM=function(a){a=a.target;var b=a.id.split("-"),c=b[1],b=b[2];(new z.U(!0)).ajax("/collection/remove","answer_id\x3d"+c+"\x26favlist_id\x3d"+b);if(b=z.mc(a,"div","zm-item"))a=z.vb("zm-item-answer",b),1===a.length?z.I(b):(a=z.B.find(a,function(a){return a.getAttribute("data-aid")===c}))&&z.I(a.parentNode)};
z.e.nz=function(a){a=z.lj(this.pk,a.target);var b=window.location.pathname.match(/^\/collection\/(\w+)/);a&&a.name&&b&&aw(["\u5206\u4eab\u6536\u85cf\u5939","collection",b[1],{fid:z.$q[0]}],"tb-webshare-"+a.name)};z.e.pR=z.kl(function(){By.S().show(!0)},!0);z.e.kz=function(a){this.jy?this.hb.T()?this.hb.G(!1):(this.hb.G(!0),a.stopPropagation(),a.preventDefault(),this.Gk()):(a.stopPropagation(),a.preventDefault(),this.lj(),this.Gk());this.jy=!0};
z.e.Gk=function(){z.Ld(this.o(),window.document,"click",function(){this.hb.G(!1)})};z.e.lj=function(){var a=z.y("zh-list-side-head");this.hb=new pv;this.Iw=!0;this.visible||this.hb.Ja(this.FP=new mv("\u8bbe\u7f6e\u4e3a\u516c\u5f00"));this.hb.Ja(this.AP=new mv("\u5220\u9664\u6b64\u6536\u85cf\u5939"));this.Iw&&(this.hb.ba(a),this.o().g(this.hb,"action",this.dj))};
z.e.vo=function(a){a=a.target;switch(a&&a.name){case "edit":Fy(By.S());break;case "addcomment":kB(this);this.pa.xf();this.pa.Ic()&&this.pa.mi("view_comments",(0,window.parseInt)(z.gc(a),10)||0);break;case "remove":jB(this)}};
z.e.dj=function(a){a.target===this.FP?z.ch("\u786e\u5b9a\u8bbe\u7f6e\u6536\u85cf\u5939\u4e3a\u516c\u5f00\uff1f","\u6536\u85cf\u5939\u8bbe\u7f6e\u4e3a\u516c\u5f00\u540e\uff0c\u5c06\u4e0d\u80fd\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6\u3002",function(a){a&&lB(this)},this):a.target===this.AP&&jB(this)};z.e.Zw=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=dB(a).done(function(a){b.html(a)}))})};var vB=(0,window.$)("#is-topstory2").length?"topstory2":"homefeed",nB=z.x&&!z.w(9),qB={ac:"actioncard",q:"question",a:"answer",p:"article",c:"column",r:"roundtable"},sB={question:"question",answer:"question",article:"column",column:"column",roundtable:"roundtable"},tB={question:"question",answer:"question",article:"article",column:"column",roundtable:"roundtable"};mB.prototype.gf=function(){this.pA=(0,window.$)('meta[itemprop\x3d"ZReactor"]',this.qh);this.pA.length&&(pB(this),this.$M())};
mB.prototype.bQ=function(){var a=[],b=z.yj(550,function(){a.length&&(oB(a),a=[])});return function(c){a.push(c);b()}}();
mB.prototype.$M=z.Wg(function(){z.L(z.X,"click_feed_fresh",function(a){oB({mid:z.fr.ga_vars.user_hash,object_type:"btn",object_id:2,object_meta:{load_items:a.data.count},action_type:"click",context:vB,others:""})});z.L(z.X,"topstory_feed_more",function(){oB({mid:z.fr.ga_vars.user_hash,object_type:"btn",object_id:1,object_meta:{next:(0,window.$)("#js-home-feed-list .feed-item").length+1},action_type:"click",context:vB,others:""})})});z.v(wB,Mv);var VG={ROUNDTABLE_ADD_RELATED:"roundtable",ARTICLE_VOTE_UP:"post_vote",ARTICLE_CREATE:"post_create",RECOMMENDED:"feed_recommended",QUESTION_FOLLOW:"feed_question_follow",QUESTION_CREATE:"feed_question",ANSWER_VOTE_UP:"feed_answer_vote",ANSWER_CREATE:"feed_answer_answer"};z.e=wB.prototype;z.e.D=function(){wB.v.D.call(this);this.tj&&(this.Ut.click(window.$.proxy(this.WN,this)),yB(this))};
z.e.WN=function(){this.dispatchEvent("hidenewblockbtn");this.Ut.hide();var a=zB(this),b=(0,window.$)("html, body").animate({scrollTop:0},"slow").promise();1800<window.$.now()/1E3-(0,window.parseInt)(a.eq(0).data("block"),10)?window.location.reload():(this.Ne="more",this.qA.show(),this.Aj(!0,null,function(a){this.qA.hide();a&&a.msg.length?(this.Dm(a.msg,"prepend"),160<zB(this).length?window.location.reload():b.then(window.$.proxy(function(){yB(this)},this))):(this.Rx=!0,b.then(function(){z.ch({title:"\u63d0\u793a\u4fe1\u606f",
Ej:!0,content:'\x3cp\x3e\u6682\u65f6\u6ca1\u6709\u66f4\u591a\u52a8\u6001\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/topics"\x3e\u5173\u6ce8\u66f4\u591a\u8bdd\u9898\uff0c\u4e30\u5bcc\u52a8\u6001\u4e2d\u7684\u5185\u5bb9\x3c/a\x3e\x3c/p\x3e',aa:!0,buttons:["\u786e\u5b9a"]})}))}))};z.e.Rg=function(a){a&&!a.r&&(a=a.msg,a.length?(z.R(this.bc,0<a.length),this.rA.hide(),this.Dm(a),this.tj&&yB(this),Ov(this,!1),Rv(this)):(this.wk.hide(),this.rA.show(),this.tj&&!this.Rx&&AB(this)&&BB(this)))};
z.e.AM=function(a){var b=a.currentTarget.h.getAttribute("data-feedtype"),b=VG[b];"comment"===a.namespace&&b&&a.Rc.fill("category","feed").fill("label",b)};z.e.Jj=function(a){var b=zy(a);this.L(b);this.o().g(b,"click!",this.AM);b.w(a);new mB(b);return b};z.e.Aj=function(a,b,c){if(this.tj&&"live"!==this.Ne&&"more"!==this.Ne){z.X.ma({type:"topstory_feed_more"});var d=zB(this),d=d.eq(d.length-1),f=d.data("block");this.params.block_id=f;this.offset=d.data("offset")}wB.v.Aj.call(this,a,b,c)};
z.e.kG=function(a){if(this.tj){var b={};"live"===a.start?(b.action="live",b.limit=a.offset):"more"===a.start?b.action="more":(b.action="next",b.block_id=a.block_id,b.offset=a.offset);a=b}return{params:a,method:"next"}};z.ca(DB);z.v(IB,z.S);z.e=IB.prototype;z.e.D=function(){IB.v.D.call(this);this.K=(0,window.$)(this.h);if(this.se=z.y("zh-main-feed-fresh-button"))this.vk=(0,window.$)(this.se),this.tj?(this.o().g(this.se,"click",this.sQ),this.o().g(z.X,"topstory2",this.LD)):this.zE?(this.o().g(this.se,"click",this.rQ),this.o().g(z.X,"topstory",this.LD)):(this.o().g(this.se,"click",this.uR),this.o().g(z.X,"homefeed",this.fM));JB(this);NB(this);MB(this)};
z.e.rQ=function(){this.vk.text("\u52a0\u8f7d\u4e2d\u2026");this.ih=0;var a=this;this.Ua.offset=0;this.Ua.Ne=0;this.Ua.Aj(!0,function(){CB(a.Ua)}).done(function(){a.vk.hide();Qv(a.Ua)})};z.e.sQ=function(){this.vk.text("\u52a0\u8f7d\u4e2d\u2026");var a=this.ih;this.ih=0;var b=this;this.Ua.offset=a;this.Ua.Ne="live";this.Ua.Aj(!0,null,function(a){a&&a.msg.length&&(b.Ua.Dm(a.msg,"prepend"),b.vk.hide())});z.X.ma({type:"click_feed_fresh",data:{count:a}})};
z.e.uR=function(){var a=z.A("zm-home-question-list-devider",this.h);a&&z.H.remove(a,"zm-home-question-list-devider");var a=this.os.length,b=(0,window.$)("."+this.IC,this.h)[0];b&&5<=a&&((0,window.$)(".feed-separator-hook",this.h).next(".feed-item-hook").css("border-top","1px solid #eee").end().remove(),(0,window.$)(b).css("border-top","none").before('\x3cdiv class\x3d"feed-item-hook feed-separator-hook feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u4f60\u770b\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'));
z.B.forEach(this.os,function(a){var b=(0,window.$)("."+this.IC,this.h)[0];b?z.Lb(a,b):this.h.appendChild(a)},this);this.os=[];z.R(this.se,!1);HB();z.X.ma({type:"ga_click_feed_fresh",data:{count:a}})};
z.e.fM=function(a){var b=z.Fa(a.Mc);a=this.os;var c=a.length;if(b&&!(500<c)){var d=z.Gb(b),f=this.mx,g=function(a){return z.C.RK(f,a)},b=function(){return g(function(a){return a.la===n.la})},h=function(){return g(function(a){return a.na===n.na})},l=function(){return g(function(a){return a.kb===n.kb})};if(!function(){return g(function(a){return a.m().id===d.id})}()){var n=this.Ua.Jj(d);if(n.la){if(b())return}else if(n.na){if(h())return}else if(n.kb&&l())return;KB(this,n);a.push(d);c+=1;this.se&&(this.se.innerHTML=
(99<c?"99+":c)+" \u6761\u65b0\u52a8\u6001",z.R(this.se,!0))}}};z.e.LD=function(a){this.ih=this.ih||0;this.ih+=+a.Mc;this.se&&(this.se.innerHTML=(99<this.ih?"99+":this.ih)+" \u6761\u65b0\u52a8\u6001",z.R(this.se,!0))};z.v(OB,z.S);z.e=OB.prototype;z.e.D=function(){OB.v.D.call(this);var a=z.y("zh-invite-select");a&&this.o().g(a,"change",this.cy);(a=z.A("zm-invite-list"))&&this.o().g(a,"click",this.xa);(this.Nw=z.y("zh-invite-ignore-all-btn"))&&this.o().g(this.Nw,"click",this.RM)};
z.e.xa=function(a){if((a=a.target)&&a.name){if("ignore"===a.name){z.H.add(a,"zg-btn-disabled");this.SM=new z.U(!1);var b="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.Ge+"\x26op\x3dpass";this.SM.ajax("/question/askpeople",b,"POST");(b=a.parentNode)&&z.Wi(b,!0)}"recover"!==a.name||this.uG||(this.sG=a,this.uG=!0,z.H.add(a,"zg-btn-disabled"),a.innerHTML="...",this.tG=new z.U(!1),this.o().g(this.tG,"success",this.EI),a="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.Ge+"\x26op\x3drecover",
this.tG.ajax("/question/askpeople",a,"POST"))}};z.e.cy=function(a){var b=lt(new z.dk(window.location.href),"filter_by");(a=a.target)&&a.value&&(a=a.value,a!==b&&(window.location.href="/question/invited?filter_by\x3d"+a))};z.e.EI=function(){this.uG=!1;this.cc(this.sG,"ignore");this.sG.name="ignore"};
z.e.cc=function(a,b){var c=a.parentNode,d=z.A("zm-invite-item-info-label",c);"ignore"===b?(z.H.remove(a,"zg-btn-disabled"),z.H.remove(a,"recover"),z.H.add(a,"ignore"),z.H.add(c,"invite"),z.H.remove(c,"ignore"),d.innerHTML="\u65b0\u9080\u8bf7",a.name="ignore",a.innerHTML="\u5ffd\u7565"):(z.H.remove(a,"zg-btn-disabled"),z.H.remove(a,"ignore"),z.H.add(a,"recover"),z.H.remove(c,"invite"),z.H.remove(c,"draft"),z.H.add(c,"ignore"),d.innerHTML="\u5df2\u5ffd\u7565",a.name="recover",a.innerHTML="\u6062\u590d")};
z.e.RM=function(){this.Ow||(this.Ow=!0,this.ZD=new z.U(!1),this.o().g(this.ZD,"success",this.CI),this.ZD.ajax("/question/askpeople","uid\x3d"+z.V.Ge+"\x26op\x3dignore_all","POST"))};z.e.CI=function(){this.Ow=!1;z.R(this.Nw);this.Ow=!1;z.B.forEach(z.vb("zm-invite-item-control"),(0,z.t)(function(a){this.cc(a,"recover")},this))};z.v(PB,z.S);PB.prototype.D=function(){PB.v.D.call(this);this.ml();this.o().g(this.h,"click",this.xa)};PB.prototype.xa=function(a){a=a.target;if(a.name)switch(a.name){case "fold":(0,window.$)(a).parent().hide().prev().animate({height:"show"},200);break;case "fold-follow":(0,window.$)(a).parent().hide().prev().show();break;case "unfold-item":(0,window.$)(a).parent(".author-list").hide().siblings(".hidden").show()}};
PB.prototype.ml=function(){this.Zn||(this.Zn=!0,this.Cj=new z.U(!1),this.o().g(this.Cj,"success",this.$x),this.Cj.ajax("/noti7/calendar","","GET"))};
PB.prototype.$x=function(){this.Zn=!1;var a=z.ee(this.Cj);if(a){var b=z.y("zh-noti7-list-inner");/category/.test(a)?(b.innerHTML=a,b&&(a=new Mv(b,"/noti7/calendar",!0),a.Dm=function(a){var b=z.G("div","zm-item-more-wrap");b.innerHTML=a;z.Lb(b,this.bc)},Pv(a,function(a){this.Ne=this.bc.getAttribute("data-next");return!a||a.msg[0]&&a.msg[1]}),a.init())):b.innerHTML='\x3cdiv class\x3d"empty"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e\u60a8\u6536\u5230\u7684\u6d88\u606f\u4f1a\u663e\u793a\u5728\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'}};z.v(QB,z.ll);QB.prototype.init=function(){var a=z.y("home-suggest-block");a&&(this.h=a,a=z.y("home-suggest-close-button"),z.Ld(this.o(),a,"click",function(){(new z.U(!0)).ajax("/option","key\x3dno_show_lookup\x26value\x3d1");z.R(this.h,!1)}),a=z.y("home-suggest-refresh-button"),this.o().g(a,"click",this.iP),this.bs=z.y("home-suggest-list"),TB(this))};QB.prototype.iP=function(){RB(this);return!0};
QB.prototype.IO=function(a){a.r||((a=a.msg)&&z.fa(a)&&a.length?(this.Lw=[],this.eC=a,RB(this)):this.bs.innerHTML="")};z.v(UB,z.S);UB.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};
UB.prototype.D=function(){UB.v.D.call(this);VB(this);var a=z.A("zm-invite-container");a&&(new OB).w(a);z.y("home-settings-page-wrap")&&(a=z.y("zh-topic-block-editor"))&&(new hu(z.ar)).w(a);(a=z.y("zh-noti7"))&&(new PB).w(a);var b=z.y("zm-home-sidebar-domain-entry-link");b&&(a=!!b.getAttribute("data-expanded"),b=new z.bi(b,z.y("zm-home-sidebar-domain-entry-nav"),a),a&&z.$c(b,"toggle",function(){z.hh("/notifeature?feature\x3d4",null,"GET");return!0}));(0,window.$)(".zm-side-pinned-topics").on("click",
".unpin",function(){var a=(0,window.$)(this).parent();window.$.post("/pin-topic/remove",{tid:(0,window.$)(this).attr("data-tid")}).done(function(b){b.r||a.fadeOut()})});(new QB).init();XB();YB(this);WB();EB()};z.v($B,z.Kg);z.ca($B);z.e=$B.prototype;z.e.gf=function(){this.o().g(window.document,"click",this.er)};
z.e.er=function(a){a=a.target;if("IMG"===a.tagName&&z.H.has(a,this.YR)){var b=a.getAttribute("data-original");if(b)if(z.ah)window.open(b);else if(!z.mc(a,null,"editable")){this.ya('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e\u67e5\u770b\u539f\u56fe\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.G(!0);z.H.add(this.m(),"zm-light-box-fullscreen-image");var b=z.yb(),c=z.y("zm-light-box-x1"),d=z.y("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.X.ma({type:"ga_click_enlarge_image",target:a})}}};z.e.aa=z.p;z.e.focus=z.p;z.e.SL=function(){this.G(!1);z.H.remove(window.document.body,this.mB)};
z.e.$h=function(){$B.v.$h.call(this);z.H.add(window.document.body,this.mB);z.Ld(this.o(),window.document,"click",this.SL)};z.e.B=function(){$B.v.B.call(this);z.H.add(this.m(),"zm-light-box")};z.e.Dx=function(){this.Tc=this.M().B("div",this.zc+"-bg zm-light-box-background");z.R(this.Tc,!1)};$B.S();z.v(aC,mv);aC.prototype.$d=function(){return this.dispatchEvent("action")};z.Ih("goog-option",function(){return new aC(null)});z.v(z.bC,z.tl);z.ca(z.bC);z.bC.prototype.B=function(a){return a.M().B("div",this.O()+" goog-inline-block","\u00a0")};z.bC.prototype.w=function(a,b){b=z.bC.v.w.call(this,a,b);z.H.add(b,"goog-inline-block");return b};z.bC.prototype.O=function(){return"goog-toolbar-separator"};z.v(z.cC,z.vl);z.ca(z.cC);z.cC.prototype.sc=function(){return"toolbar"};z.cC.prototype.un=function(a){return"HR"==a.tagName?new z.ul(z.bC.S()):z.cC.v.un.call(this,a)};z.cC.prototype.O=function(){return"goog-toolbar"};z.cC.prototype.$v=function(){return z.Sr};z.v(dC,rv);z.ca(dC);dC.prototype.O=function(){return"goog-toolbar-button"};z.v(z.eC,z.Rh);z.Ih("goog-toolbar-button",function(){return new z.eC(null)});z.v(fC,tv);z.ca(fC);fC.prototype.createCaption=function(a,b){return fC.v.createCaption.call(this,gC(a,b),b)};fC.prototype.Ea=function(a,b){a&&hC(this.W(a),b)};fC.prototype.ze=function(a){this.Ea(a.m(),a.X());z.H.add(a.m(),"goog-color-menu-button");fC.v.ze.call(this,a)};z.v(z.iC,z.Bh);z.ca(z.iC);var lC=0;z.e=z.iC.prototype;z.e.B=function(a){var b=this.cf(a);return a.M().B("div",b?b.join(" "):null,jC(this,a.gb(),a.Xi(),a.M()))};z.e.Xu=function(a,b){var c=b.B("table",this.O()+"-table",b.B("tbody",this.O()+"-body",a));c.cellSpacing=0;c.cellPadding=0;z.rc(c,"grid");return c};z.e.gc=function(){return!1};z.e.w=function(){return null};
z.e.ya=function(a,b){if(a){var c=z.tb("tbody",this.O()+"-body",a)[0];if(c){var d=0;z.B.forEach(c.rows,function(a){z.B.forEach(a.cells,function(a){z.Kb(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.ob(a),h=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(kC(this,l,g));f.length==h&&(l=g.B("tr",this.O()+"-row",f),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(kC(this,"",g));l=g.B("tr",this.O()+"-row",f);c.appendChild(l)}}}z.$f(a,!0,z.O)}};
z.e.O=function(){return"goog-palette"};z.v(oC,z.N);z.e=oC.prototype;z.e.bh=null;z.e.of=null;z.e.ll=function(){return this.Dd.length};z.e.Nh=function(a){return this.Dd[a]||null};z.e.Ja=function(a){this.zi(a,this.ll())};z.e.zi=function(a,b){a&&(this.am(a,!1),z.B.Mn(this.Dd,a,b))};z.e.removeItem=function(a){a&&z.B.remove(this.Dd,a)&&a==this.bh&&(this.bh=null,this.dispatchEvent("select"))};z.e.Eg=function(){return this.bh};z.e.Ab=function(){return z.B.clone(this.Dd)};
z.e.pf=function(a){a!=this.bh&&(this.am(this.bh,!1),this.bh=a,this.am(a,!0));this.dispatchEvent("select")};z.e.ol=function(){var a=this.bh;return a?z.B.indexOf(this.Dd,a):-1};z.e.To=function(a){this.pf(this.Nh(a))};z.e.clear=function(){z.B.clear(this.Dd);this.bh=null};z.e.C=function(){oC.v.C.call(this);delete this.Dd;this.bh=null};z.e.am=function(a,b){a&&("function"==typeof this.of?this.of(a,b):"function"==typeof a.fm&&a.fm(b))};z.v(z.qC,z.Kh);z.e=z.qC.prototype;z.e.mc=null;z.e.Hb=-1;z.e.oa=null;z.e.C=function(){z.qC.v.C.call(this);this.oa&&(this.oa.H(),this.oa=null);this.mc=null};z.e.dm=function(a){z.qC.v.dm.call(this,a);sC(this);this.oa?(this.oa.clear(),pC(this.oa,a)):(this.oa=new oC(a),a=(0,z.t)(this.am,this),this.oa.of=a,this.o().g(this.oa,"select",this.ej));this.Hb=-1};z.e.Cg=function(){return""};z.e.cm=function(){};
z.e.md=function(a){z.qC.v.md.call(this,a);var b=mC(this.N,this,a.target);b&&a.relatedTarget&&z.Xb(b,a.relatedTarget)||b!=tC(this)&&uC(this,b)};z.e.Qh=function(a){z.qC.v.Qh.call(this,a);var b=mC(this.N,this,a.target);b&&a.relatedTarget&&z.Xb(b,a.relatedTarget)||b==tC(this)&&nC(this.N,this,b,!1)};z.e.we=function(a){z.qC.v.we.call(this,a);this.Ib()&&(a=mC(this.N,this,a.target),a!=tC(this)&&uC(this,a))};z.e.$d=function(a){var b=tC(this);return b?(this.pf(b),z.qC.v.$d.call(this,a)):!1};
z.e.Zb=function(a){var b=this.gb(),b=b?b.length:0,c=this.mc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.$d(a);if(36==a.keyCode)return this.Rb(0),!0;if(35==a.keyCode)return this.Rb(b-1),!0;var d=0>this.Hb?this.ol():this.Hb;switch(a.keyCode){case 37:-1==d&&(d=b);if(0<d)return this.Rb(d-1),a.preventDefault(),!0;break;case 39:if(d<b-1)return this.Rb(d+1),a.preventDefault(),!0;break;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Rb(d-c),a.preventDefault(),!0;break;
case 40:if(-1==d&&(d=-c),d<b-c)return this.Rb(d+c),a.preventDefault(),!0}return!1};z.e.ej=function(){};z.e.Xi=function(){return this.mc};z.e.Rb=function(a){a!=this.Hb&&(vC(this,this.Hb,!1),this.Hb=a,vC(this,a,!0))};z.e.ol=function(){return this.oa?this.oa.ol():-1};z.e.Eg=function(){return this.oa?this.oa.Eg():null};z.e.To=function(a){this.oa&&this.oa.To(a)};z.e.pf=function(a){this.oa&&this.oa.pf(a)};z.e.am=function(a,b){this.m()&&a&&z.H.enable(a.parentNode,this.N.O()+"-cell-selected",b)};z.v(wC,z.qC);wC.prototype.qs=null;wC.prototype.jw=function(){var a=this.Eg();return a?(a=Lu(a,"background-color"),yC(a)):null};wC.prototype.So=function(a){a=yC(a);this.qs||(this.qs=z.B.map(this.mq,function(a){return yC(a)}));this.To(a?z.B.indexOf(this.qs,a):-1)};z.v(zC,vv);var BC={bT:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),wT:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),sT:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=zC.prototype;z.e.jw=function(){return this.X()};z.e.So=function(a){this.Ea(a)};z.e.Ea=function(a){for(var b=0,c;c=this.Nh(b);b++)"function"==typeof c.So&&c.So(a);zC.v.Ea.call(this,a)};z.e.Bn=function(a){"function"==typeof a.target.jw?this.Ea(a.target.jw()):"none"==a.target.X()&&this.Ea(null);zC.v.Bn.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.xb=function(a,b){a&&0==this.ll()&&(this.fh(AC(this.M())),this.Ea(this.X()));zC.v.xb.call(this,a,b)};
z.Ih("goog-color-menu-button",function(){return new zC(null)});z.v(CC,tv);z.ca(CC);CC.prototype.O=function(){return"goog-toolbar-menu-button"};z.v(DC,CC);z.ca(DC);DC.prototype.createCaption=function(a,b){return uv(gC(a,b),this.O(),b)};DC.prototype.Ea=function(a,b){a&&hC(this.W(a),b)};DC.prototype.ze=function(a){this.Ea(a.m(),a.X());z.H.add(a.m(),"goog-toolbar-color-menu-button");DC.v.ze.call(this,a)};z.v(EC,zC);z.Ih("goog-toolbar-color-menu-button",function(){return new EC(null)});z.v(FC,vv);z.Ih("goog-toolbar-menu-button",function(){return new FC(null)});z.v(GC,vv);z.e=GC.prototype;z.e.oa=null;z.e.hv=null;z.e.D=function(){GC.v.D.call(this);IC(this);LC(this);z.sc(this.m(),"haspopup","false")};z.e.da=function(a){GC.v.da.call(this,a);(a=this.Cg())?HC(this,a):this.To(0)};z.e.C=function(){GC.v.C.call(this);this.oa&&(this.oa.H(),this.oa=null);this.hv=null};z.e.Bn=function(a){this.pf(a.target);GC.v.Bn.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.ej=function(){var a=this.Eg();GC.v.Ea.call(this,a&&a.X());IC(this)};
z.e.fh=function(a){var b=GC.v.fh.call(this,a);a!=b&&(this.oa&&this.oa.clear(),a&&(this.oa?z.Eg(a,function(a){KC(a);this.oa.Ja(a)},this):JC(this,a)));return b};z.e.Ja=function(a){KC(a);GC.v.Ja.call(this,a);this.oa?this.oa.Ja(a):JC(this,this.Ya())};z.e.zi=function(a,b){KC(a);GC.v.zi.call(this,a,b);this.oa?this.oa.zi(a,b):JC(this,this.Ya())};z.e.removeItem=function(a){GC.v.removeItem.call(this,a);this.oa&&this.oa.removeItem(a)};z.e.pf=function(a){if(this.oa){var b=this.Eg();this.oa.pf(a);a!=b&&this.dispatchEvent("change")}};
z.e.To=function(a){this.oa&&this.pf(this.oa.Nh(a))};z.e.Ea=function(a){if(null!=a&&this.oa)for(var b=0,c;c=this.oa.Nh(b);b++)if(c&&"function"==typeof c.X&&c.X()==a){this.pf(c);return}this.pf(null)};z.e.Eg=function(){return this.oa?this.oa.Eg():null};z.e.ol=function(){return this.oa?this.oa.ol():-1};z.e.xb=function(a,b){GC.v.xb.call(this,a,b);this.vb()&&this.Ya().Rb(this.ol())};z.Ih("goog-select",function(){return new GC(null)});z.v(MC,GC);z.Ih("goog-toolbar-select",function(){return new MC(null)});var RC=[10,10,13,16,18,24,32,48];var WG=z.u("Link");z.u("Edit Link");z.u("Text to display:");z.XG=z.u("Link to:");z.u("Web address");z.u("Link to a page or file somewhere else on the web");z.u("Test this link");
z.u("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.u("To what URL should this link go?");z.u("Email address");z.u("Link to an email address");
z.u("Invalid email address");z.u("To what email address should this link?");z.u("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.u("Open this link in a new window");z.u("Image");var ZG,$G,aD,$C,aH,bH,cH,dH,QC,eH,fH,gH,hH,TC,iH,jH,kH,lH,mH,nH,oH,pH,qH,rH,sH,tH,uH,vH,wH,xH,yH,zH,AH,BH,CH,DH,EH,FH,GH,HH,IH,JH,KH,LH;z.YG={};ZG=z.u("Normal");$G=z.u("Normal / serif");aD=[{caption:ZG,value:"arial,sans-serif"},{caption:$G,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}];
$C={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],
"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]};aH=z.u("Small");bH=z.u("Normal");cH=z.u("Large");dH=z.u("Huge");QC=[{caption:aH,value:1},{caption:bH,value:2},{caption:cH,value:4},{caption:dH,value:6}];eH=z.u("Heading");fH=z.u("Subheading");gH=z.u("Minor heading");hH=z.u("Normal");TC=[{caption:eH,Aa:"H2"},{caption:fH,Aa:"H3"},{caption:gH,Aa:"H4"},{caption:hH,Aa:"P"}];iH=z.u("Format");jH=z.u("Format");
kH=z.u("Undo");lH=z.u("Redo");mH=z.u("Font");nH=z.u("Font size");oH=z.u("Text color");pH=z.u("Bold");qH=z.u("Italic");rH=z.u("Underline");sH=z.u("Text background color");tH=z.u("Add or remove link");uH=z.u("Numbered list");vH=z.u("Bullet list");wH=z.u("Decrease indent");xH=z.u("Increase indent");yH=z.u("Align left");zH=z.u("Align center");AH=z.u("Align right");BH=z.u("Justify");CH=z.u("Remove formatting");DH=z.u("Insert image");EH=z.u("Strikethrough");FH=z.u("Left-to-right");GH=z.u("Right-to-left");
HH=z.u("Quote");IH=z.u("Edit HTML source");JH=z.u("Subscript");KH=z.u("Superscript");LH=z.u("Edit HTML");z.MH={};
z.YG.AA=[{Aa:"+undo",V:kH,Na:"tr-icon tr-undo",factory:bD,ib:!0},{Aa:"+redo",V:lH,Na:"tr-icon tr-redo",factory:bD,ib:!0},{Aa:"+fontName",V:mH,Na:"tr-fontName",factory:function(a,b,c,d,f,g){var h=XC(a,b,c,d,f,g);ZC(h);HC(h,ZG);z.H.add(h.Ya().W(),"goog-menu-noaccel");h.pi=function(a){var b=null;a&&0<a.length&&(b=z.Bg(h.Ya(),NC(a)));b!=h.Eg()&&h.pf(b)};return h},ib:!0},{Aa:"+fontSize",V:nH,Na:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=XC(a,b,c,d,f,g);PC(h);HC(h,bH);z.H.add(h.Ya().W(),"goog-menu-noaccel");
h.pi=function(a){var b;if(b=z.r(a))b=a.match(AG),b="px"==(b&&b[0]||null);b&&(a=z.B.lastIndexOf(RC,(0,window.parseInt)(a,10)));a=0<a?a:null;a!=h.X()&&h.Ea(a)};return h},ib:!0},{Aa:"+bold",V:pH,Na:"tr-icon tr-bold",ib:!0},{Aa:"+italic",V:qH,Na:"tr-icon tr-italic",ib:!0},{Aa:"+underline",V:rH,Na:"tr-icon tr-underline",ib:!0},{Aa:"+foreColor",V:oH,Na:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=YC(a,b,c,d,f,g);a.So("#000");a.pi=z.qa(cD,a);return a},ib:!0},{Aa:"+backColor",V:sH,Na:"tr-icon tr-backColor",
factory:function(a,b,c,d,f,g){a=YC(a,b,c,d,f,g);a.So("#FFF");a.pi=z.qa(cD,a);return a},ib:!0},{Aa:"+link",V:tH,caption:WG,Na:"tr-link",ib:!0},{Aa:"+insertOrderedList",V:uH,Na:"tr-icon tr-insertOrderedList",ib:!0},{Aa:"+insertUnorderedList",V:vH,Na:"tr-icon tr-insertUnorderedList",ib:!0},{Aa:"+outdent",V:wH,Na:"tr-icon tr-outdent",factory:z.UC},{Aa:"+indent",V:xH,Na:"tr-icon tr-indent",factory:z.UC},{Aa:"+justifyLeft",V:yH,Na:"tr-icon tr-justifyLeft",ib:!0},{Aa:"+justifyCenter",V:zH,Na:"tr-icon tr-justifyCenter",
ib:!0},{Aa:"+justifyRight",V:AH,Na:"tr-icon tr-justifyRight",ib:!0},{Aa:"+justifyFull",V:BH,Na:"tr-icon tr-justifyFull",ib:!0},{Aa:"+removeFormat",V:CH,Na:"tr-icon tr-removeFormat",factory:z.UC},{Aa:"image",V:DH,Na:"tr-icon tr-image",factory:z.UC},{Aa:"+strikeThrough",V:EH,Na:"tr-icon tr-strikeThrough",ib:!0},{Aa:"+subscript",V:JH,Na:"tr-icon tr-subscript",ib:!0},{Aa:"+superscript",V:KH,Na:"tr-icon tr-superscript",ib:!0},{Aa:"ltr",V:FH,Na:"tr-icon tr-ltr",ib:!0},{Aa:"rtl",V:GH,Na:"tr-icon tr-rtl",
factory:function(a,b,c,d,f,g){var h=z.WC(a,b,c,d,f,g);h.pi=function(a){a=!!a;z.H.enable(h.getParent().m(),"tr-rtl-mode",a);h.ad(a)};return h},ib:!0},{Aa:"+BLOCKQUOTE",V:HH,Na:"tr-icon tr-BLOCKQUOTE",ib:!0},{Aa:"+formatBlock",V:iH,caption:jH,Na:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=XC(a,b,c,d,f,g);SC(h);HC(h,hH);z.H.add(h.Ya().W(),"goog-menu-noaccel");h.pi=function(a){a=a&&0<a.length?a:null;a!=h.X()&&h.Ea(a)};return h},ib:!0},{Aa:"editHtml",V:IH,caption:LH,Na:"tr-editHtml",factory:z.UC}];
for(var NH=0,OH;OH=z.YG.AA[NH];NH++)z.MH[OH.Aa]=OH;delete z.YG.AA;var PH={};PH.track=z.oj;z.v(z.dD,z.pw);z.ra(z.dD.prototype,PH);z.dD.prototype.defaults={kk:null,title:"Distraction Free Mode",fJ:"back",TQ:"publish",Vv:"zu-editing-distraction-free",IR:"sticky-goog-scrollfloater",fS:"zm-editable-toolbar-container"};z.dD.prototype.ld=z.Pe("FullScreenPlugin");z.MH.toggleFullScreen={Aa:"toggleFullScreen",V:"\u5199\u4f5c\u6a21\u5f0f",Na:"tr-icon tr-max",factory:z.UC};z.e=z.dD.prototype;z.e.Ce=z.qa(z.C.wg,{AT:"toggleFullScreen",VS:"enterFullScreen",WS:"exitFullScreen"});
z.e.C=function(){this.ga.H();z.I(this.h);this.J=this.ip=this.qc=this.yb=this.h=null;z.dD.v.C.call(this)};
z.e.Eu=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.fJ+'" name\x3d"return"\x3e\u8fd4\u56de\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.TQ+'" name\x3d"save"\x3e\u53d1\u5e03\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ga.g(z.A("back",b),"click",function(a){a.preventDefault();iD(this)},!1,this);this.ga.g(z.A("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&iD(this)},!1,this);this.h=b;this.qc=z.A("content",b);this.ip=z.G("div",{className:"toolbar-info"});this.J.kk||(this.J.kk=this.F.va)};z.e.Ze=function(a){this.h||this.Eu();switch(a){case "enterFullScreen":fD(this);break;case "exitFullScreen":iD(this);break;case "toggleFullScreen":this.gx()?iD(this):fD(this)}};
z.e.gx=function(){return z.H.has(window.document.body,this.J.Vv)};z.e.EF=function(){this.gx()?iD(this):"writing"===window.location.hash.slice(1)&&fD(this)};z.e.so=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&iD(this)};z.e.WG=function(a){z.H[a?"add":"remove"](this.yb,this.J.IR)};z.v(jD,z.ll);var kD="\u52a0\u8f7d\u4e2d...";z.e=jD.prototype;
z.e.show=function(){z.Mb(this.h=z.G("div","zg-mt10",[z.G("h3",{style:"margin:0 0 5px;"},"\u5206\u4eab\u5230\u5fae\u535a"),z.G("div","zm-tab-content",[z.G("div",{className:"zg-section zg-clear",innerHTML:'\x3clabel\x3e\x3cinput data-bindurl\x3d"/oauth/auth/sina?next\x3d/oauth/callback" class\x3d"sina-checkbox" type\x3d"checkbox"\x3e\x3ci class\x3d"zg-ico-sina"\x3e\x3c/i\x3e \u65b0\u6d6a\u5fae\u535a\x3c/label\x3e '}),z.G("div","zg-section",z.G("div","zg-form-text-input",this.Uo=z.G("textarea",{style:"width:100%;height: 66px;"},
"\u52a0\u8f7d\u4e2d..."))),z.G("div","zm-command",[z.G("div",["zm-item-meta","zg-left"],this.iR=z.G("span")),this.KR=z.G("a",{"class":"zg-btn-blue weibo-share-button",href:"javascript:;"},"\u5206\u4eab\u5230\u5fae\u535a")])])]),z.y("zh-question-answer-form-wrap"));this.o().g(z.X,"sina_callback",function(a){this.cz(a.Mc.id,a.Mc.name)});this.vu();this.Lj();z.pl.S().refresh();var a=this;this.gz===kD?z.hh("/answer/"+a.Zf.rb+"/sharetext",function(b){(b=z.fe(b.target))&&b.sina&&(a.gz=b.sina,a.tb())},"GET"):
this.tb()};z.e.cz=function(a,b){z.er.name=b;this.xR=z.er.id=a;this.wc.checked=!0;this.Lj()};z.e.Lj=function(){var a=z.A("weibo-share-button",this.h),b=this.wc.checked;z.H.enable(a,"zg-btn-blue",b);z.H.enable(a,"zg-btn-disabled",!b)};z.e.tb=function(){this.Uo.value=this.gz;this.rz=new z.ql(this.Uo);this.cH=new Zv(this.Uo,this.iR,140,Yv);this.o().g(this.KR,"click",this.xa)};z.e.vu=function(){this.wc=z.A("sina-checkbox",this.h);this.o().g(this.wc,"change",this.gy)};
z.e.gy=function(a){a=a.target;var b=a.getAttribute("data-bindurl");a!==this.wc||this.xR?this.Lj():(window.open(b),a.checked=!1)};z.e.xa=function(a){if((a=a.target)&&z.H.has(a,"zg-btn-blue")&&this.Uo.value){a=new z.mj(!0);a.add("content",this.Uo.value);var b=[];this.wc.checked&&b.push("sina");a.add("via",b.join(","));this.Qj(a);z.oj("share",this.jU?"answer_weibo":"question_weibo")}else z.T("\u8bf7\u60a8\u9009\u62e9\u6216\u7ed1\u5b9a\u5fae\u535a\u540e\u518d\u8fdb\u884c\u5206\u4eab\uff01")};
z.e.Qj=function(a){a.add("aid",this.Zf.la);this.xhr=new z.U(!0);z.Ld(this.o(),this.xhr,"complete",this.ju);this.xhr.ajax("/answer/share",a.kd())};z.e.ju=function(){var a=z.fe(this.xhr);a&&a.r?z.T(a.msg):(z.T("\u5206\u4eab\u53d1\u9001\u5b8c\u6bd5"),z.R(this.h,!1))};z.v(lD,mv);z.Ih("goog-checkbox-menuitem",function(){return new lD(null)});z.v(mD,z.ll);z.e=mD.prototype;
z.e.init=function(){this.Tl=z.y("zh-question-redirect-info");this.Tl.innerHTML&&(this.Tn=!0);this.o().g(this.Tl,"click",function(a){"cancel"===a.target.name&&oD(this)});var a=z.y("zh-question-side-header-wrap");if(z.bq.vc&&!z.bq.AE&&a){var b=z.y("zh-question-filter-wrap");b?z.Lb(a,b):a.style[z.x?"styleFloat":"cssFloat"]="none"}(this.$f=z.y("zh-question-operation-menu"))&&this.lj();this.o().g(z.Aj,"anon_change",function(a){var b=z.y("zh-question-side-invitation-anon");b&&z.R(b,a.mb);(b=z.y("zh-question-side-invitation-notanon"))&&
z.R(b,!a.mb);this.Ll&&this.Ll.cb(zu(this.data.Yg)||!a.mb)});(this.pk=z.y("zh-question-webshare-container"))&&this.o().g(this.pk,"click",this.nz)};
z.e.lj=function(){this.hb=new pv;var a=this.data.Em,b=this.$f.getAttribute("data-auth"),b=b?b.split(","):[];if(null==a||0===a)this.hb.Ja(this.ws=nD("\u4f7f\u7528\u533f\u540d\u8eab\u4efd",!0)),this.ws.ad(this.data.mb),z.br&&z.B.contains(z.br,"question_op_redirect")||"close"===z.Wq.status||(this.hb.Ja(this.Ll=nD(this.Tn?"\u64a4\u6d88\u91cd\u5b9a\u5411":"\u95ee\u9898\u91cd\u5b9a\u5411")),this.Ll.cb(zu(this.data.Yg)||!this.data.mb)),z.B.contains(b,"auth-f-manage")&&this.hb.Ja(this.EP=nD("\u66f4\u65b0\u8bdd\u9898\u9875\u663e\u793a",
!1)),this.o().g(this.hb,"action",this.dj),this.ws&&this.o().g(z.Aj,"anon_change",function(a){this.ws.ad(!!a.mb)}),this.Mb&&z.B.contains(b,"auth-pu-mark")&&(this.hb.Ja(this.iy=nD("\u4f18\u8d28\u56de\u7b54",!0)),this.iy.ad(this.Mb.zN)),a=new vv("Settings",this.hb),a.Xj=!0,xv(a),a.w(this.$f)};
z.e.dj=function(a){var b=this.ws;if(a.target===b)ot(b.Be()?1:0,function(a){a||b.ad(!b.Be())});else if(a.target===this.Ll){if(!1===LA({Rl:!0})())return!1;this.Ao||(this.Ao=new Qz(this.na),this.o().g(this.Ao,"change",this.bO));this.hb.G(!1);this.Tn?oD(this):this.Ao.show()}else a.target===this.zP?z.hh("/question/"+this.data.rb+(this.zP.Be()?"/unlock_summary":"/lock_summary"),function(){window.top!==window?window.top.location.href="/question/"+z.Wq.rb:window.location.reload()},"POST"):a.target===this.EP?
window.$.post("/refresh_topic_feeds",{q:z.Wq.rb}).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")}):a.target===this.iy&&window.$.post("/answer/"+this.Mb.rb+(this.iy.Be()?"/good_mark":"/good_unmark")).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")})};
z.e.bO=function(){this.Tl.innerHTML='\x3cdiv class\x3d"zg-wrap"\x3e\x3cdiv class\x3d"zu-global-nitify-inner"\x3e\x3cspan class\x3d"zu-global-notify-icon"\x3e\x3c/span\x3e\u6b64\u95ee\u9898\u5c06\u8df3\u8f6c\u81f3 \x3ca href\x3d"/question/'+this.Ao.Ws+'"\x3e'+this.Ao.mG+'\x3c/a\x3e \uff08\x3ca href\x3d"javascript:;" name\x3d"cancel"\x3e\u64a4\u6d88\u91cd\u5b9a\u5411\x3c/a\x3e\uff09\x3c/div\x3e\x3c/div\x3e';z.R(this.Tl,!0);this.Tn=!0;this.Ll.cm("\u64a4\u6d88\u91cd\u5b9a\u5411")};
z.e.nz=function(a){var b=z.lj(this.pk,a.target);b&&b.name&&z.kl(function(){var a=(0,window.$)("#zh-question-webshare-container").data();aw([a.title,a.type,a.urlToken,{answer:{aid:a.id},question:{qid:a.id}}[a.type]],"tb-webshare-"+b.name);z.X.ma({type:"ga_click_share_question_box",target:b,data:{type:b.name}})},function(){return{gd:"letter"===b.name}})()};z.v(pD,z.vn);pD.prototype.Ch=function(){pD.v.Ch.call(this);this.Nk.innerHTML="\u66f4\u65b0"};pD.prototype.da=function(a){pD.v.da.call(this,a);a=this.M();var b=a.B("strong",null,xu(this.Rz));a.Nn(b,this.Ub)};z.v(qD,z.ll);var sD=null;qD.prototype.ba=function(a){this.h=z.G("div","zu-bio-editor-wrap",[this.hN=z.G("div","zu-bio-editor-inner-wrap"),this.Ac=z.G("div","zm-command",[this.Nk=z.G("a",{name:"save",href:"javascript:;",className:"zg-r3px zg-btn-blue"},"\u5b8c\u6210")])]);z.B.forEach(this.Tk,function(a){a=new pD(a);a.ba(this.hN);this.items.push(a)},this);this.eN&&z.R(this.Ac,!1);a.appendChild(this.h);this.o().g(this.Ac,"click",this.xa)};
qD.prototype.Xv=function(){var a=this.items.length,b;if(!a&&this.Tk.length)for(b=0;b<this.Tk.length;b++)if(this.Tk[b][1])return this.Tk[b][1];var c=null;for(b=0;b<a;b++)if(c=this.items[b].gb())return c};qD.prototype.xa=function(a){(a=this.bf(a.target))&&"save"===a.name&&(this.fa&&this.fa.G(!1),this.dispatchEvent("change"))};z.v(vD,z.S);z.e=vD.prototype;z.e.C=function(){zD(this);this.bd.H();vD.v.C.call(this)};
z.e.w=function(a){this.h=a;this.Cr=z.A("draft-saved-info",a);z.R(this.Cr,!1);this.eE=z.A("draft-saved-time",a);this.KJ=z.A("draft-clear-button",a);a=this.o().g(this.bd,z.bk,this.Xs).g(this.KJ,"click",this.LJ).g(this.Sq,"keydown",this.LN);"oninput"in this.Sq&&!z.x?a.g(this.Sq,"input",this.jN):a.g(this.Sq,"keydown",this.kN);var b=z.Uq.Id&&1E3*z.Uq.Id[1];b&&(AD(this,b),this.Mz=(0,window.setInterval)((0,z.t)(function(){AD(this,b)},this),22E3))};
z.e.LN=function(a){(a.metaKey||a.ctrlKey)&&"s"===z.Oi[a.keyCode]&&(this.ZN(),this.isContentEditable||a.preventDefault())};z.e.ln=function(){(0,window.$)(window).on("beforeunload.DraftSaver",(0,z.t)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u6210\u529f\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Vk=function(){(0,window.$)(window).off("beforeunload.DraftSaver")};z.e.jN=function(){yD(this);wD(this)};
z.e.kN=function(a){z.jg(a.keyCode)&&(yD(this),wD(this))};z.e.ya=function(a){this.sb.ya(a);this.sb.Oo()};z.e.gb=function(){return this.sb.df()};z.e.IG=function(){if(!this.Kf){var a=this.gb();if(a){xD(this,"\u4fdd\u5b58\u4e2d\u2026");var a=(new z.jk).add("qid",this.na).add("content",a).add("timestamp",(0,z.Wa)()),b=new z.U;b.ajax("/answer/draft/save",a.toString(),"POST");this.o().g(b,"success",(0,z.t)(this.Tg,this));this.IE=b}}};z.e.AS=150;z.e.Xs=z.yj(vD.prototype.AS,vD.prototype.IG);z.e.$N=350;
z.e.ZN=z.yj(vD.prototype.$N,vD.prototype.IG);z.e.lN=3E3;z.e.iN=z.yj(vD.prototype.lN,function(){this.Kf||(this.gb()?this.Xs():BD(this))});z.e.Tg=function(a){a=z.fe(a.target);var b="",c=!1;0===a.r?b="\u5df2\u4fdd\u5b58":(b=a.msg||"\u4fdd\u5b58\u5931\u8d25\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002",c=!0);zD(this);z.R(this.Cr,!0);xD(this,b,c);this.Vk();"\u4fdd\u5b58\u6210\u529f"===a.msg&&this.dispatchEvent("saveContent");this.bd.start()};
z.e.LJ=function(a){a.preventDefault();z.ch("\u6e05\u9664\u8349\u7a3f",this.rE?"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5e76\u53d6\u6d88\u7f16\u8f91\u5417\uff1f":"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5417\uff1f",function(a){a&&(this.rE?(BD(this),this.sb.dispatchEvent("cancel_edit"),this.sb.ki()):(this.ya(""),BD(this),ft(this.sb)))},this)};z.v(DD,z.yn);z.e=DD.prototype;z.e.gD=function(){var a=z.tb("h2","zm-editable-content",z.y("zh-question-title"))[0];return{title:a&&(/answer\/\d+$/.test(window.location.pathname)?z.gc(a):a.firstChild.nodeValue)||"",kk:this.Mi}};z.e.Xv=function(){return this.Wp};z.e.bt=function(a){this.mb=a};z.e.cb=function(a,b){this.enabled=a;this.Jr?(this.ki(),this.Lb=b,this.Ub.innerHTML=this.Lb):b&&(this.Lb=b)};z.e.da=function(a){DD.v.da.call(this,a);this.Jr=!0;z.H.add(this.Ub,"zu-answer-form-disabled-wrap")};
z.e.C=function(){this.Fr&&(z.I(this.Fr),this.OH=this.Fr=null);DD.v.C.call(this)};z.e.$i=function(a){this.bt(a.mb);this.Kp&&(this.Kp.checked=a.mb)};z.e.D=function(){DD.v.D.call(this);this.o().g(z.Aj,"anon_change",this.$i)};
z.e.yg=function(){DD.v.yg.call(this);var a=this.M(),b=z.V.ra();this.Fr=a.B("div","zh-answer-form clearfix",[b?yu(this.kg):"",this.OH=a.B("div",null,[a.B("div","zu-answer-form-title",[b?wu(this.kg):"\u6211\u6765\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898",this.nJ=a.B("span")])])]);ED(this,this.Wp);a.Nn(this.Fr,this.Mi);this.o().g(this.OH,"click",this.xa);z.V.ra()?z.V.active||FD(this,'\x3cdiv class\x3d"active-mask-tip-answer"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e',
'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):FD(this,'\x3cdiv class\x3d"signin-mask-tip-answer"\x3e\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u56de\u7b54\x3c/a\x3e\x3c/div\x3e')};
z.e.cr=function(a){switch(a){case "edit_bio":a=rD();if(!this.wu){var b=z.Wq.rb;a.wx=!0;a.wG=b;this.o().g(a,"change",this.Wx)}this.wu=!0;uD(a);break;case "cancel_delete":this.dispatchEvent("cancel_delete_answer");break;case "answer_my_question":GD(this)}return!0};z.e.oe=function(){"editing"===this.status?this.Eb&&z.R(this.Eb,!0):this.Eb&&z.R(this.Eb,!1);z.R(this.hd,!1);this.Ub&&z.R(this.Ub,!this.enabled)};z.e.TJ='\x3cdiv class\x3d"zm-command clearfix"\x3e\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3c% if (questionStatus !\x3d\x3d "normal") { %\x3e\x3cspan class\x3d"zg-gray-normal" style\x3d"margin-right:5px;"\x3e\u88ab\x3c%\x3d statusText %\x3e\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\x3c/span\x3e\x3ca class\x3d"zg-right" data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e\x3c% } %\x3e\x3cspan class\x3d"\x3c%\x3d (questionStatus !\x3d\x3d "normal" ? "hidden" : "") %\x3e"\x3e\x3clabel style\x3d"cursor:pointer"\x3e\x3cinput name\x3d"anno-checkbox" type\x3d"checkbox"\x3e\u533f\u540d\x3c/label\x3e \x3ca class\x3d"submit-button zg-btn-blue" name\x3d"save" href\x3d"javascript:;"\x3e\u53d1\u5e03\u56de\u7b54\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e';
z.e.Ch=function(){var a=(0,z.Hn)(this.TJ);this.Ac=z.Gb(a({questionStatus:z.Wq.status,statusText:{suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"}[z.Wq.status]}));this.Nk=(0,window.$)(".submit-button",this.Ac)[0];HD(this);this.Eb.appendChild(this.Ac);this.ready(function(){if(this.La&&this.La.on)this.La.on("load",this.Yw,!1,this)})};
z.e.Yw=function(){var a=new vD(this);z.Ec(this,a);this.o().g(a,"saveContent",function(){var a=!this.Rd&&this.La.Oh("FullScreenPlugin");a&&eD(a)},!1,this);var b=gt(this);this.o().g(b,"focus",function(){a.bd.start()}).g(b,"blur",function(){yD(a);a.Xs()}).g(this,"saveSuccess",function(){yD(a);BD(a)});a.w(this.Ac);this.tC=a};z.e.Wx=function(){var a=rD().Xv();a&&ED(this,a)};z.v(ID,z.yn);var LD=[{value:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0",label:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0"},{value:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f",label:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f"},{value:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f",label:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f"},{value:"other",label:"\u5176\u4ed6"}];z.e=ID.prototype;z.e.w=function(a){ID.v.w.call(this,a);this.o().g(z.Aj,"anon_change",this.$i)};
z.e.$i=function(a){this.Qr||z.H.enable(this.h,"zm-editable-disabled",a.mb)};
z.e.Ch=function(){ID.v.Ch.call(this);this.Dy=z.G("div",{"class":"zm-editable-require-reason-wrap",style:"padding:10px 0 0 0"},[z.G("a",{"class":"zg-right zg-link-litblue",href:"http://www.zhihu.com/question/19550238/answer/12202028",target:"_blank"},"\u4e3a\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u88ab\u516c\u5171\u7f16\u8f91\uff1f"),KD(),this.fF=z.G("span"),this.oQ=z.G("div",{"class":"zg-form-text-input",style:"height:22px;margin:10px 0 0 0;display:none"},this.nQ=z.G("textarea",{style:"width:100%;height:22px !important;min-height:22px !important;"}))]);
z.Lb(this.Dy,this.Ac);this.Eo&&this.hi(" * \u5fc5\u9009","zg-gray-normal");var a=z.tb("select",null,this.Dy)[0];this.o().g(a,"change",function(){z.R(this.oQ,"other"===a.value);this.hi(" * \u5fc5\u9009","zg-gray-normal")})};
z.e.Tg=function(a){var b=z.tb("select",null,this.Dy)[0],c=b.value;if(this.Eo){if("none"===c){this.hi("\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531");return}if("other"===b.value&&(c=z.Yi(this.nQ.value),!c)){this.hi("\u8bf7\u586b\u5199\u4fee\u6539\u7406\u7531");return}}"title"===this.zq&&-1===a.indexOf("?")&&-1===a.indexOf("\uff1f")?this.hi("\u8fd8\u6ca1\u6709\u8f93\u5165\u95ee\u53f7"):("none"===c&&(c=""),this.params=["id\x3d"+this.na+"\x26reason\x3d"+(0,window.encodeURIComponent)(c)+"\x26question_id\x3d"+
this.na],this.dispatchEvent("change"),ID.v.Tg.call(this,a),this.hi("* \u5fc5\u9009","zg-gray-normal"),this.Eo=!0)};z.e.hi=function(a,b){this.fF.innerHTML=a;z.H.set(this.fF,b||"zg-error-text")};z.e.df=function(){return this.Rd&&this.LP?(0,z.vj)(z.Ba(this.La.value)):ID.v.df.call(this)};
z.e.Ye=function(){(0,window.$)(window).on("beforeunload.EditorWithReason",(0,z.t)(function(){return"\u4f60\u5bf9\u95ee\u9898\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.If=function(){(0,window.$)(window).off("beforeunload.EditorWithReason")};z.e.ki=function(){ID.v.ki.call(this);this.If()};z.e.rf=function(){ID.v.rf.call(this);this.Ye()};z.v(MD,pv);z.e=MD.prototype;z.e.cS=!1;z.e.EE=0;z.e.Hf=null;z.e.da=function(a){MD.v.da.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.M().m(a),1)};z.e.D=function(){MD.v.D.call(this);z.vd.forEach(this.tf,this.bB,this);var a=this.o();a.g(this,"action",this.vO);a.g(this.M().Ga(),"mousedown",this.AF,!0);z.F&&a.g(this.M().Ga(),"contextmenu",this.AF,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.tf.Kd(z.ka(a))||(a?(b={h:a,mH:b,gO:c,DC:d?"contextmenu":"mousedown",Ex:f},this.tf.set(z.ka(a),b),a=b):a=null,this.Da&&this.bB(a))};z.e.bB=function(a){this.o().g(a.h,a.DC,this.RF)};z.e.detach=function(a){if(!a||!this.tf.Kd(z.ka(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ka(a);if(this.Da){var b=this.tf.get(a);this.o().Ia(b.h,b.DC,this.RF)}this.tf.remove(a)};
z.e.aH=function(a,b,c){b=z.ea(a.mH)?new Zt(a.h,a.mH,!0):new Yt(b,c);b.em&&b.em(5);ND(this,b,a.gO,a.Ex,a.h)};z.e.hide=function(){this.T()&&(this.G(!1),this.T()||(this.EE=(0,z.Wa)(),this.Hf=null))};z.e.kx=function(){return this.T()||150>(0,z.Wa)()-this.EE};z.e.vO=function(){this.hide()};z.e.RF=function(a){for(var b=this.tf.Gb(),c=0;c<b.length;c++){var d=this.tf.get(b[c]);if(d.h==a.currentTarget){this.aH(d,a.clientX,a.clientY);a.preventDefault();a.stopPropagation();break}}};
z.e.AF=function(a){this.T()&&!this.Ef(a.target)&&this.hide()};z.e.Xc=function(a){MD.v.Xc.call(this,a);this.hide()};z.e.C=function(){MD.v.C.call(this);this.tf&&(this.tf.clear(),delete this.tf)};z.v(OD,z.S);OD.prototype.L=function(a,b){OD.v.L.call(this,a,b);this.o().g(a,"beforeexpand",this.yM)};OD.prototype.yM=function(a){var b=a.target;z.Eg(this,function(a){b!==a&&a.Ic()&&a.Qa(!1)})};OD.prototype.H=function(){this.o().H();OD.v.H.call(this)};z.v(PD,z.Xg);PD.prototype.D=function(){PD.v.D.call(this);z.$g(this,490);(0,window.$)(this.m()).addClass("user-guiding-dialog")};PD.prototype.Fd=function(a){(0,window.$)('[class^\x3d"view"]',this.h).hide();(0,window.$)(".view-"+a,this.h).show()};z.v(SD,z.S);z.e=SD.prototype;z.e.B=function(){this.h=z.G("div",{style:"display:none",className:"question-invite-panel"})};
z.e.D=function(){SD.v.D.call(this);var a=this.h,b=this.o();if(!this.Vg){b.g(z.Aj,"anon_change",this.reload);var c=z.A("cancel-anon",a);c&&b.g(c,"click",this.sL);if(!z.A("error-message")){var c=z.A("search-input",a),d=z.A("invite-title",a);this.cx=z.A("invite-status",a);b.g(this.cx,"click",this.tL);var f=z.A("suggest-persons",a);f&&(b.g(f,"click",this.Aw),this.iH=f);(0,window.$)(".invite-status",a).on("mouseenter mouseleave",".invited-shortlist",function(a){(0,window.$)(".invited-hovercard",this).toggleClass("in",
"mouseenter"===a.type)});this.Vw(c,d);this.jH=(0,window.$)(this.iH).children().map(this.cG).get();this.zl=(0,window.$)(".invited-fulllist",this.cx).children().map(this.cG).get();TD(this);z.R(this.h,this.$e)}}};z.e.lb=function(){SD.v.lb.call(this);this.o().H()};z.e.Fi=function(){return'\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cdiv class\x3d"spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.reload=function(){this.Ic()?this.Vj():this.Vg=!0};z.e.Vj=function(){var a=this,b=this.XN;this.lb();z.H.add(this.h,b);this.h.innerHTML=this.Fi();return window.$.get("/node/QuestionInvitePanelV2",{params:{question_id:this.lQ}}).done(function(c){a.Vg=!1;z.H.remove(a.h,b);c=z.Gb(z.Fa(c));z.R(c,a.Ic());z.Ob(c,a.h);a.h=c;a.D()})};z.e.C=function(){SD.v.C.call(this);this.ca.H()};z.e.Ic=function(){return this.$e};z.e.expand=function(){this.Qa(!0)};z.e.collapse=function(){this.Qa(!1)};
z.e.Qa=function(a){if(a!==this.$e){this.dispatchEvent(a?"beforeexpand":"beforecollapse");var b=(0,z.t)(function(){this.dispatchEvent(a?"expand":"collapse")},this);a&&this.Vg?this.Vj().done(b):b();this.$e=a;z.R(this.h,a)}};z.e.xf=function(){this.Qa(!this.$e)};
z.e.Vw=function(a){var b=this,c=(0,z.Hn)('\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3cspan class\x3d"zu-autocomplete-row-name" title\x3d"\x3c%-fullname%\x3e"\x3e\x3c%-fullname%\x3e\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c%\x3dheadline%\x3e\x3c/span\x3e');this.ca=new z.Lk(a,{Yd:8,source:"/people/autocomplete?type\x3dinvite",ci:a.offsetParent,placeholder:"\u641c\u7d22\u4f60\u60f3\u9080\u8bf7\u7684\u4eba",qd:function(a,
b,g){g.innerHTML=c(a.data)},filter:function(a){return z.B.filter(a,function(a){return!UD(b,a.id)})},select:function(a){WD(b,"ask_to_answer_search");Cu(b.Hs,a.id,"search").done(function(c){if(c.r)return z.T(c.msg);ZD(b,a);XD(b,a.id,!0)});return""}})};z.e.sL=function(){ot(0)};
z.e.Aw=function(a){var b=a.target;if("BUTTON"===b.tagName||z.H.has(b,this.rN)){this.On&&"pending"===this.On.state()&&this.On.abort();a="related"===b.getAttribute("data-type")?"recommended_relative_questions":"recommended_top_answerers";WD(this,a);var c=b.getAttribute("data-uid"),d=this.nE,f=(0,z.t)(function(a){a?(VD(this,b,!0),ZD(this,YD(this,c)),this.CJ()):(VD(this,b,!1),aE(this,c))},this);z.H.has(b,d)?(this.On=Bu(this.Hs,c),f(!1)):(this.On=Cu(this.Hs,c,a).done(function(a){a.r&&(z.T(a.msg),f(!1))}),
f(!0))}};z.e.tL=function(a){a=a.target;"BUTTON"===a.tagName&&(a=a.getAttribute("data-uid"),Bu(this.Hs,a),XD(this,a,!1),aE(this,a))};z.e.cG=function(){var a=(0,window.$)(this),b=(0,window.$)(".zm-item-link-avatar",a);return{id:String((0,window.$)("button",a).data("uid")),avatar:(0,window.$)("img",b).attr("src"),fullname:b.attr("title"),url_token:b.attr("href").split("/").slice(-1)[0]}};z.e.jR='\u4f60\u5df2\u9080\u8bf7 \x3cspan class\x3d"invited-shortlist"\x3e\x3c% helper.each(persons.slice(0, 2), function(person, i, sliced) { %\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3c%\x3d i !\x3d\x3d sliced.length - 1 ? "\u3001" : ""%\x3e\x3c% }); %\x3e\x3c%\x3dhelper.fullList()%\x3e\x3c/span\x3e\x3c% if (persons.length \x3e 2) { %\x3e \u7b49 \x3c%\x3dpersons.length%\x3e \u4eba \x3c% } %\x3e';
z.e.bL='\x3cdiv class\x3d"invited-hovercard"\x3e\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cul class\x3d"invited-fulllist"\x3e\x3c% helper.each(persons, function(person, i) { %\x3e\x3cli\x3e\x3ca title\x3d"\x3c%-person.fullname%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3dperson.url_token%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3dperson.avatar%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray" title\x3d"\x3c%-person.fullname%\x3e"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3cbutton class\x3d"cancel-button zg-link-btn zg-link-gray" data-uid\x3d"\x3c%\x3dperson.id%\x3e"\x3e\u6536\u56de\u9080\u8bf7\x3c/button\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3c/div\x3e';
z.e.CJ=z.Wg(function(){z.V.Yg&&window.$.post("/question/popup",{action:"invite",question_token:z.Wq.rb},function(a){a&&RD(new PD,a)})});z.v(bE,z.S);z.e=bE.prototype;z.e.D=function(){bE.v.D.call(this);this.o().g(this.h,"click",this.vo);cE(this);this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("label","question")})};z.e.mj=function(){var a=(0,window.$)("a[name\x3dreport-question]",this.m());a.length&&Dv(new Bv("question",this.data.na),a[0])};
z.e.vo=function(a){var b=(a=z.lj(this.h,a.target))&&a.name;if(b)switch(b){case "addcomment":"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(a).text())?z.kl(this.$q,{ra:"question_add_comment_start"}).call(this,a):this.$q(a);break;case "remove":eE(this);break;case "admin":dE(this,a);break;case "share":z.X.ma({type:"ga_click_share_question_box",target:a});this.uc();break;case "invite":this.Aw()}};
z.e.$q=function(a){this.pa.xf();this.pa.Ic()&&this.pa.mi("view_comments",(0,window.parseInt)(z.gc(a),10)||0)};z.e.Aw=function(){this.mE.xf();var a=this.mE.Ic();this.dispatchEvent(new Xw("click!invitation",{category:"invitation",action:(a?"show":"hide")+"_ask_to_answer_card",label:"?",value:this.data.me}))};z.e.uc=z.kl(function(){aw(["\u5206\u4eab\u95ee\u9898","question",this.data.rb,{qid:this.data.na}],"tb-webshare-sina")},{ra:"question_question_share"});
z.e.YJ=function(a){this.JA.X(a.msg.action);this.JA.cm(a.msg.caption)};z.v(xy,z.S);z.e=xy.prototype;z.e.Ra=function(){return this.vm.data("votecount")};z.e.Kc=function(){this.dispatchEvent("change")};z.e.Vj=function(){this.Ql&&"pending"===this.Ql.state()||(this.Ql=this.tg.mD(this.kb).done((0,z.t)(this.Qs,this)))};z.e.Qs=function(a){if(a=z.Fa(a))a=(0,window.$)(a),this.vm.replaceWith(a),this.vm=a,this.tb(),this.Kc()};
z.e.tb=function(){function a(a,d){var f=z.G("div","zm-voters");a.appendChild(f);var g=z.G("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.kb+"/voters_profile",l=new ev({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&(b.vm.data("votecount",c.total),b.Kc()),h=c.next);return{results:a.payload,next:!!h}})}});l.w(g);l.Ec().setAttribute("hidden","true");z.Ec(d,l);z.Ld(l.o(),l,"next",function(){l.Ab().length?(l.Ec().removeAttribute("hidden"),
l.use("autoload",{dB:!1,viewport:f})):(l.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e\u8fd8\u6ca1\u6709\u4eba\u8d5e\u540c\x3c/div\x3e')});return l.es()}var b=this;(0,window.$)("a.more",this.vm).click(function(){var c=Iu({Ej:!0,title:b.Ra()+" \u4eba\u8d5e\u540c",className:"zm-voters-dialog",MB:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.W(),c).then(function(){b.resolve(null)})})}).promise()});c.o().g(b,"change",function(){c.Wa(b.Ra()+" \u4eba\u8d5e\u540c")})})};
z.e.D=function(){this.vm=(0,window.$)(this.h);this.tb()};fE.prototype.gf=function(){var a=[this.K.get(0)].concat(this.K.parents().get()),b=window.$.map(a,function(a){return(0,window.$)(a).data("navigable")})[0];this.pO=b&&window.$.grep(b.items(),function(b){return~window.$.inArray(b,a)})[0]};fE.prototype.getItem=function(){return this.pO};z.v(gE,z.yn);z.e=gE.prototype;z.e.D=function(){gE.v.D.call(this);this.ready(function(){if(this.La&&this.La.on)this.La.on("load",this.Yw,!1,this)})};
z.e.Yw=function(){var a=new vD(this,!0);z.Ec(this,a);this.o().g(a,"saveContent",function(){var a=!this.Rd&&this.La.Oh("FullScreenPlugin");a&&eD(a);(0,window.$)(this.fq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09")}).g(a,"clearContent",function(){(0,window.$)(this.fq).text("\u53d6\u6d88");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539")});
var b=gt(this);this.o().g(b,"focus",function(){a.bd.start()}).g(b,"blur",function(){yD(a);this.aK!==this.df()&&a.Xs()}).g(this,"saveSuccess",function(){delete z.Uq.Id;yD(a);BD(a)}).g(this,"save_unchanged",function(){delete z.Uq.Id;yD(a);BD(a)});a.w(this.Ac);z.Uq.Id&&z.Uq.Id[0]&&(0,window.$)(this.fq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00")};
z.e.Ch=function(){this.Ac=z.G("div","zm-command",[(0,window.$)('\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u53d6\u6d88\u7f16\u8f91\u5e76\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e')[0],this.fq=
z.G("a",{"class":"zm-command-cancel",name:"cancel",href:"#"},"\u53d6\u6d88"),this.Nk=z.G("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"#"},"\u53d1\u5e03")]);this.Eb.appendChild(this.Ac)};z.e.Jv=function(){var a=this;window.$.get("/draft/get",{qid:this.Fo},function(b){b.r||(a.dt(b.msg),a.aK=b.msg)})};
z.e.eD=function(){var a=[];if(!this.disabled){var b="\u4fee\u6539";z.Uq.Id&&z.Uq.Id[0]&&(b="\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09");a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+b+"\x3c/span\x3e\x3c/a\x3e")}return a.join("")};z.v(hE,hv);z.ca(hE);hE.prototype.B=function(a){var b=hE.v.B.call(this,a);z.H.add(b,"goog-submenu");iE(this,a,b);return b};hE.prototype.w=function(a,b){b=hE.v.w.call(this,a,b);z.H.add(b,"goog-submenu");iE(this,a,b);var c=z.tb("div","goog-menu",b);if(c.length){var d=new pv(a.M()),c=c[0];z.R(c,!1);a.M().Ga().body.appendChild(c);d.w(c);a.fh(d,!0)}return b};hE.prototype.ya=function(a,b){var c=this.W(a),d=c&&c.lastChild;hE.v.ya.call(this,a,b);d&&c.lastChild!=d&&z.H.has(d,"goog-submenu-arrow")&&c.appendChild(d)};
hE.prototype.ze=function(a){hE.v.ze.call(this,a);var b=a.W(),c=a.M(),c=z.ub(c.Ka,"span","goog-submenu-arrow",b)[0];jE(a,c);c!=b.lastChild&&b.appendChild(c);z.sc(a.m(),"haspopup","true")};z.v(kE,mv);var DE=218;z.e=kE.prototype;z.e.Md=null;z.e.mz=null;z.e.SD=!1;z.e.nc=null;z.e.Qq=!1;z.e.Ip=!0;z.e.BN=!1;z.e.D=function(){kE.v.D.call(this);this.o().g(this.getParent(),"hide",this.LF);this.nc&&oE(this,this.nc,!0)};z.e.lb=function(){this.o().Ia(this.getParent(),"hide",this.LF);this.nc&&(oE(this,this.nc,!1),this.Qq||(this.nc.lb(),z.I(this.nc.m())));kE.v.lb.call(this)};z.e.C=function(){this.nc&&!this.Qq&&this.nc.H();this.nc=null;kE.v.C.call(this)};
z.e.sd=function(a,b){kE.v.sd.call(this,a);b&&(this.Ya().Yf=!0);a||(this.Md&&z.md(this.Md),this.Md=z.ld(this.zg,DE,this))};z.e.lt=function(){var a=this.getParent();a&&z.mu(a)==this&&(nE(this,!0),mE(this))};z.e.zg=function(){var a=this.nc;a&&a.getParent()==this&&(nE(this,!1),z.Eg(a,function(a){"function"==typeof a.zg&&a.zg()}))};z.e.G=function(a,b){var c=kE.v.G.call(this,a,b);c&&!this.T()&&this.zg();return c};
z.e.Zb=function(a){var b=a.keyCode,c=this.Cd()?37:39,d=this.Cd()?39:37;if(!this.SD){if(!this.isEnabled()||b!=c&&b!=this.Kx)return!1;this.lt();nu(this.Ya());lE(this)}else if(!this.Ya().Zb(a))if(b==d)this.zg();else return!1;a.preventDefault();return!0};z.e.GO=function(){this.nc.getParent()==this&&(lE(this),this.Nl.sd(this),mE(this))};z.e.LF=function(a){a.target==this.Nl&&(this.zg(),lE(this))};z.e.md=function(a){this.isEnabled()&&(lE(this),this.mz=z.ld(this.lt,DE,this));kE.v.md.call(this,a)};
z.e.$d=function(a){lE(this);if(this.Sb&8)return kE.v.$d.call(this,a);this.lt();return!0};z.e.Ja=function(a){this.Ya().L(a,!0)};z.e.zi=function(a,b){this.Ya().zk(a,b,!0)};z.e.removeItem=function(a){(a=this.Ya().removeChild(a,!0))&&a.H()};z.e.Nh=function(a){return z.Dg(this.Ya(),a)};z.e.ll=function(){return z.Cg(this.Ya())};z.e.Ab=function(){return this.Ya().Ab()};z.e.Ya=function(){this.nc?this.Qq&&this.nc.getParent()!=this&&z.Ag(this.nc,this):this.fh(new pv(this.M()),!0);this.nc.m()||this.nc.B();return this.nc};
z.e.fh=function(a,b){var c=this.nc;a!=c&&(c&&(this.zg(),this.Da&&oE(this,c,!1)),this.nc=a,this.Qq=!b,a&&(z.Ag(a,this),a.G(!1,!0),a.Cm=!1,a.Me(!1),this.Da&&oE(this,a,!0)))};z.e.Ef=function(a){return this.Ya().Ef(a)};z.Ih("goog-submenu",function(){return new kE(null)});z.v(pE,kE);pE.prototype.Zb=function(a){var b=pE.v.Zb.call(this,a);a=(0,window.parseInt)(z.Oi[a.keyCode],10);(0,window.isNaN)(a)||this.Ya().Rb(a-1);return b};z.v(qE,z.S);var KE={all_can_comment:"\u5141\u8bb8\u4efb\u4f55\u4eba\u8bc4\u8bba",followee_can_comment:"\u5141\u8bb8\u6211\u5173\u6ce8\u7684\u4eba\u8bc4\u8bba",nobody_can_comment:"\u5173\u95ed\u8bc4\u8bba"};z.e=qE.prototype;z.e.tn=function(){return"#answer-"+this.la};z.e.mj=function(){var a=(0,window.$)("a[name\x3dreport]",this.Jc);if(a.length){var b=new Bv("answer",this.la);Dv(b,a[0]);z.Ec(b,this)}};z.e.Fx=function(){gy("answer",this.rb,"read")};
z.e.Dj=function(){gy("answer",this.rb,/^\/question\//.test(window.location.pathname)?"read":"touch")};
z.e.D=function(){qE.v.D.call(this);sE(this);this.Cf=z.A("zm-item-answer-author-info",this.h);var a=!1;!z.V.ra()&&0<(0,window.$)(this.h).parents('div[data-fixed-summary\x3d"1"]').length&&(a=!0);tE(this,a);this.Jc=this.Jc||z.A("zm-item-meta",this.h);(this.Xh=z.A("zm-meta-panel",this.Jc))&&this.o().g(this.Xh,"click",this.vo);this.He?(HE(this),this.Cf&&(this.XF=(this.mb=z.Qa(this.Cf.innerHTML,"\u533f\u540d\u7528\u6237"))?null:this.Cf.innerHTML.replace(/src=".+?"/g,'src\x3d"'+z.V[2]+'"'),this.o().g(this.Cf,
"click",function(a){"cancel-anon"===a.target.name&&ot(!1)}))):this.$w();vE(this);this.nj();(0,window.$)(this.h).on("contentchange",window.$.proxy(this.nj,this));this.Ww();this.tb();GE(this);this.mj();z.ah&&!z.bh&&wE(this)};z.e.ez=function(a){var b=this.nj();b&&z.Vm(b,a)};
z.e.$w=function(){var a=z.A("zm-votebar",this.h)||z.A("zm-votebar",this.Xh);if(a){var b=new ly(this.la);b.w(a);this.pb=b;this.o().g(b,"change",this.vQ).g(b,"action",function(a){a.data.state===ny.ie?z.X.ma({type:"ga_click_vote_up",target:this}):a.data.state===ny.qg&&z.X.ma({type:"ga_click_vote_down",target:this})});(a=z.A("votenum-mobile",this.Xh))&&(new sy(b)).w(a)}};
z.e.nj=function(){if(this.ph)return this.ph;var a=z.A("zm-editable-content",this.h),b=this.pb&&this.pb.m();!this.He&&!z.ah&&b&&(0,window.$)(b).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.ph=new z.$m(null,a),this.L(a),a.tag="votebar",a.oy=50,a.w(b))};z.e.vQ=function(){this.mk&&this.mk.Vj()};
z.e.tb=function(){this.Cf&&this.o().g(this.Cf,"click",this.xa);this.He&&(this.$I=z.V);this.o().g(z.Aj,"anon_change",function(a){this.He?this.bt(a.mb):this.pb.Ud()===ny.ie&&this.mk.Vj()});xE(this);(0,window.$)(this.h).on("focusin focusout",function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)})};z.e.bf=function(a){return z.lj(this.h,a)};
z.e.xa=function(a){if(a=(a=this.bf(a.target))&&a.name)if("edit"===a){a=rD();if(!this.wu){var b=z.Wq.rb;a.wx=!0;a.wG=b;this.o().g(a,"change",this.Wx)}this.wu=!0;uD(a)}else"complex"===a&&(a=z.A("zm-item-answer-summary",this.h),b=z.A("zm-item-rich-text",this.h),z.R(a,!1),z.R(b,!0))};z.e.Wx=function(){var a=rD().Xv()||z.V[4]||"";if(a){var b=z.A("zu-question-my-bio",this.Cf);b.title=a;b.innerHTML=a}};z.e.Ww=function(){var a=z.A("zm-item-answer-author-wrap",this.h),a=z.A("zm-list-avatar",a);z.Gr.add(a)};
z.e.bt=function(a){a?this.Cf.innerHTML='\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e\u533f\u540d\u7528\u6237\x3ca class\x3d"zg-link-gray cancel-anon" href\x3d"javascript:void(0);" name\x3d"cancel-anon"\x3e\u53d6\u6d88\u533f\u540d\x3c/a\x3e\x3c/h3\x3e':this.He&&(this.XF?this.Cf.innerHTML=this.XF.replace("\x3c/h3\x3e","").replace("\x3c/H3\x3e","")+'\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e\x3c/h3\x3e':
(a=[],a.push('\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e'),a.push(uu()),a.push(vu(z.V,"zm-item-answer-creator")),a.push("\x3c/h3\x3e"),this.Cf.innerHTML=a.join("")))};z.e.OF=function(){var a=(0,window.$)(this.h);a.hide("fast",function(){a.remove()});this.H()};
z.e.vo=function(a){var b=this.bf(a.target),c=b&&b.name;if(c)switch(c){case "addcomment":this.tw();this.pa&&this.pa.Ic()&&this.pa.mi("view_comments",(0,window.parseInt)(z.gc(b),10)||0);break;case "remove":this.dr();break;case "thanks":z.X.ma({type:"ga_click_thank_answer",target:b});this.kr();break;case "comment_opt":this.Su||JE(this);break;case "admin":zE(this);break;case "share":z.X.ma({type:"ga_click_share_answer_box",target:b});this.uc();break;case "nohelp":this.yD(a);break;case "favo":z.X.ma({type:"ga_click_collect_answer_box",
target:b}),this.aj()}};z.e.nM=function(){(new Bv("answer",this.la)).ZG()};
z.e.yD=rE(function(a){a=a.target;var b=!!a.m;z.X.ma({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.kv&&"pending"===this.kv.state()&&this.kv.abort();var c,d;d=b?a.Cg():a.innerHTML;d=(c=-1<d.indexOf("\u64a4\u9500"))?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9";b?a.cm(d):a.innerHTML=d;c=c?"/answer/helpful":"/answer/not_helpful";b||z.cj(a);this.kv=window.$.post(c,{aid:this.la})},{ra:"question_answer_not_helpful",gd:!0});
z.e.uc=rE(function(){aw(["\u5206\u4eab\u56de\u7b54","answer",this.rb,{aid:this.la}],"tb-webshare-sina")},{ra:"question_answer_share"});z.e.aj=rE(function(){var a=By.S();Ey(a,this.la);a.show()},{ra:"question_answer_collect",gd:!0});z.e.WJ=function(){this.pa||yE(this);this.pa.xf();(0,window.$)(this.Xh).toggleClass("focusin",this.pa.Ic())};
z.e.tw=rE(qE.prototype.WJ,function(){return{ra:"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(z.A("toggle-comment",this.h)).text())?"question_answer_add_comment_start":!1}});z.e.$q=rE(function(a){this.pa&&this.pa.Ic()?this.pa.va.focus():this.tw();a.preventDefault()},{ra:"question_answer_add_comment_start"});
z.e.kr=rE(function(){var a=(0,window.$)("a[name\x3dthanks]",this.Xh)[0];a&&!z.H.has(a,"disabled")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Vi(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.la})):(z.Vi(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.la})),z.cj(a))},{ra:"question_answer_thank"});
z.e.Xy=function(a){qy.Xy(this.la,a);(0,window.$)(".copyright",this.Jc).html(a?"":'\x3cspan class\x3d"zg-bull"\x3e\x26bull;\x3c/span\x3e \u7981\u6b62\u8f6c\u8f7d')};z.e.xL=function(a){var b=a.target;a=b.X();"\u7981\u6b62\u8f6c\u8f7d"===a?this.Xy(!b.Be()):"\u5220\u9664"===a?this.dr():a in KE&&window.$.post("/answer/comment_permission",{answer_id:this.la,permission:a}).done((0,z.t)(function(a){a&&!a.r&&z.B.forEach(this.Tu,function(a){a.ad(a===b)})},this))};
z.e.dr=function(){z.ch("\u4f60\u786e\u5b9a\u8981\u5220\u9664\u81ea\u5df1\u7684\u7b54\u6848\u5417\uff1f","\u7b54\u6848\u5185\u5bb9\u4e0d\u4f1a\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4f60\u8fd8\u53ef\u4ee5\u64a4\u6d88\u672c\u6b21\u5220\u9664\u64cd\u4f5c\u3002",function(a){a&&(this.Th=!0,this.status=-1,LE(this))},this)};z.e.m=function(){return this.h};z.v(NE,qE);NE.prototype.w=function(a){NE.v.w.call(this,a);this.He&&this.bt(this.kK.mb)};NE.prototype.T=function(){return(0,window.$)(this.h).is(":visible")};z.v(OE,z.S);z.e=OE.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};z.e.D=function(){OE.v.D.call(this);var a=z.y("zh-question-meta-wrap");a&&(this.oG=new bE(this.data),this.L(this.oG),this.oG.w(a));this.Kn();QE(this);this.lo=new fB;this.o().g(this.lo,"change",this.qy);this.lo.init();this.XG();PE(this);(a=z.fr.topic_errors_info)&&z.ol(a)};
z.e.XG=function(){this.data.rb=z.Wq.rb;YE(this,!0);z.V.ra()&&(WE(this),XE(this));bF(this);(this.Qu=z.y("zg-question-suggested-topics"))&&this.o().g(this.Qu,"click",this.xO);this.Jn();this.o().g(window,"hashchange",function(a){a=a.Yb;a.oldURL&&"writing"===a.oldURL.split("#")[1]||UE(this)});$E(this);RE(this);z.Vq&&(0,window.setTimeout)(function(){window.location.href=z.Vq},5E3)};
z.e.Kn=function(){gy("question",this.data.rb,"read");this.o().g(this,["click!","show!"],function(a){"comment"===a.namespace&&a.Rc.fill("category","question_answer").fill("label","question_answer");"invitation"===a.namespace&&a.Rc.fill("label","question_page")})};z.e.qy=function(){this.GM=!0;this.hk=(0,window.$)(this.lo.rO)[0];z.Mb(this.hk,z.y("zh-question-redirect-info"));z.R(this.hk,!0);z.bq.vc||(this.Ti=new z.Tm,this.Ti.w(this.hk),it(this.Ti));this.o().g(this.hk,"click",this.sD);UE(this)};
z.e.YM=function(a){"close"!==z.Wq.status&&(a=a.target.m(),this.Cb=new ID(this.data.na,"/question/detail","content",!0,null),JD(this.Cb,zu(this.data.Yg)),this.Cb.NT=z.nj,z.A("zm-editable-content",a).innerHTML&&(this.Cb.Eo=!0),this.Cb.w(a),this.o().g(this.Cb,"click_edit",function(){z.X.ma("ga_question_supplement_edit_start")}),this.o().g(this.Cb,"cancel_edit",function(){z.X.ma("ga_question_supplement_edit_cancel")}),this.o().g(this.Cb,"save_changed",function(){z.X.ma("ga_question_supplement_edit_save_changed")}),
this.o().g(this.Cb,"save_unchanged",function(){z.X.ma("ga_question_supplement_edit_save_unchanged")}),this.Cb.addEventListener("beforeedit",LA({Rl:!0})))};
z.e.aN=function(a){a=a.target.m();var b=z.y("zh-question-answer-summary-link"),c;!a||!z.bq.pE&&this.data.NR||(c=new z.yn(!0,"/question/summary","content"),ht(c,["id\x3d"+this.data.na]),c.cq=!1,c.w(a));if(b){var d=z.y("zh-question-answer-summary-wrap");this.o().g(b,"click",function(){c&&(z.R(d,!0),c.rf())}).g(d,"click",function(a){"cancel"===a.target.name&&(a=!c.df(),z.R(d,!a))})}this.MR=c;this.MR.addEventListener("beforeedit",LA({Rl:!0}))};
z.e.sD=function(a){if("close"===a.target.name){if(this.Ti&&(z.Wm(this.Ti),z.Vm(this.Ti,!1),window.history.replaceState)){a=new z.dk(window.location.href);var b=a.kd();b.remove("q");b.remove("psq");window.history.replaceState({},"",a.Ie+"?"+b.toString())}z.R(this.hk,!1);z.R(this.Js,!1)}else if("A"===a.target.tagName&&"zh-question-suggest-reask"===a.target.id&&(z.R(this.Js,!1),z.En.S().show()),b="a"===(0,window.$)(a.target).prop("tagName").toLowerCase()?a.target:this.bf(a.target,"A"))a.preventDefault(),
a.stopPropagation(),a=b.getAttribute("data-source")||b.href,b=a.indexOf("#"),a=0>b?null:a.substr(b+1),UE(this,a&&(0,window.decodeURIComponent)(a))};z.e.eM=function(){var a=this.sg,b=a.m(),c=a.le.gb()[0];z.R(b,!1);c=z.Gb(z.Fa(c));z.Lb(c,b);this.Ai[a.la]=null;this.Lp=z.B.filter(this.Lp,function(b){return b!==a.la},this);var d=999;this.ru=z.B.filter(this.ru,function(b){b.aid===a.la&&(d=b.vote);return b.aid!==a.la},this);z.I(b);a.H();aF(this,c,d,!1)};
z.e.Vx=function(a){a=a.target;if(a instanceof NE){var b=a.m();switch(a.$t){case "collap":this.Um.appendChild(b);z.H.add(b,"zm-item-collapsed");this.data.me--;VE(this);break;case "cancel_collap":this.Np.appendChild(b);z.H.remove(b,"zm-item-collapsed");eF(this,b);this.data.me++;VE(this);break;case "set_delete":TE(this);this.data.me--;VE(this);break;case "cancel_delete":eF(this,this.Ai[this.Zh].m()),TE(this),this.data.me++,VE(this)}}};z.e.ZC=function(a){return this.Ai[a]};
z.e.PR=function(a){(a=z.lj(this.zh,a.target))&&a.name&&("expand"===a.name?(this.SJ||dF(this),cF(this,!0)):cF(this,!1))};z.e.FO=function(){var a=this.Ai[this.Zh],b;a?(ME(a),eF(this,a.m())):(b=this.Zf,a=new z.U(!0),z.Ld(this.o(),a,"success",function(){window.location.href="/question/"+z.Wq.rb+"/answer/"+b.url_token}),a.ajax("/answer/unremove","aid\x3d"+b.id))};
z.e.yO=function(){var a=this.sb.Kp.checked,b={Ej:!0,title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5728\u8be5\u95ee\u9898\u4e0b\u7684\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"},c=(0,z.t)(function(){if(!this.xhr||!this.xhr.Ib()){var b=this.sb.df();if(b){var c=new z.U(!0),g=new z.jk,h=a?1:0;g.add("id",this.na).add("content",b).add("anon",h);c.on("success",function(){z.Wq.mb!==h&&z.Aj.dispatchEvent(new at(h));var a=z.fe(this.xhr);
a&&!a.r?(a=z.Gb(z.Fa(a.msg[0])),this.Np.appendChild(a),aF(this,a,this.Lp.length,!0),TE(this),yD(this.sb.tC),BD(this.sb.tC),this.sb.H(),z.Wq.mb||(this.oO=new jD(this.Ai[this.Zh]),this.oO.show()),this.data.me++,VE(this)):z.gh("\u63d0\u793a\u4fe1\u606f",a.msg)},!1,this);c.ajax("/answer/add",g.toString());this.xhr=c}}},this);z.Wq.mb&&!a?z.ch(b,function(a){a&&c()}):c()};z.e.bf=function(){};
z.e.xO=function(a){if((a=this.bf(a.target))&&a.name){var b=a.name;"close"===b?z.R(this.Qu,!1):"addtag"===b&&(this.Pa.Re(a.id.split("-")[1],a.innerHTML),z.R(a,!1))}};z.e.Jn=function(){this.pz=new mD(this.na);this.pz.init()};z.v(fF,OE);z.e=fF.prototype;z.e.XG=function(){(this.Eq=z.y("zh-single-answer-disable-wrap"))&&this.o().g(this.Eq,"click",this.PQ);this.yl();this.Jn();iF();YE(this,!1);var a=(0,window.$)("#zh-question-answer-collections \x3e .zh-general-list").get(0);if(a){var b=new ev({use:["autoload","nodeSource"]});this.L(b);b.w(a)}gF(this)};z.e.Kn=function(){this.o().g(this,["click!","show!"],function(a){"invitation"===a.namespace&&a.Rc.fill("label","answer_page")});fF.v.Kn.call(this)};
z.e.PQ=function(a){a.target&&a.target.name&&ME(this.Mb)};z.e.yl=function(){var a=z.A("zm-item-answer",z.y("zh-question-answer-wrap"));if(a){this.Mb=new NE(this.na);this.L(this.Mb);this.Mb.w(a);a=this.o();a.g(this.Mb,"change",this.Vx);if(this.Mb.He){a.g(z.Aj,"anon_change",function(a){hF(this,a.mb)});var b=this.Mb.le;b&&a.g(b,"change",function(){var a=z.Fa(b.gb()[0]),a=z.Gb(a);z.Ob(a,this.Mb.h);this.Mb.H();this.yl(a)})}jF(this);yE(this.Mb,{autofocus:!1,PE:!0})}};z.e.ZC=function(a){if(this.Mb.la===a)return this.Mb};
z.e.aJ='\x3ch3\x3e\u5173\u4e8e\u4f5c\u8005\x3c/h3\x3e\x3c% if (author) { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"/people/\x3c%\x3d author.url_token %\x3e" tabindex\x3d"-1"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"\x3c%\x3d author.avatar_path.replace("_s.","_m.") %\x3e"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\x3ca href\x3d"/people/\x3c%\x3d author.url_token %\x3e"\x3e\x3c%\x3d author.fullname %\x3e\x3c/a\x3e\x3c/h2\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\x3c%\x3d author.headline || "" %\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"javascript:;"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"http://img.zhihu.dev:4080/66/6b/666b0abfc_m.jpg"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\u533f\u540d\u7528\u6237\x3c/h2\x3e\x3c/div\x3e\x3c% } %\x3e';
z.e.Jn=function(){this.pz=new mD(this.na,this.Mb);this.pz.init();var a=z.y("js-sidebar-author-info");a&&(new IA(a)).init()};z.e.Vx=function(a){a=a.target;if(a instanceof NE)switch(a.$t){case "collap":z.H.add(a.m(),"zm-item-collapsed");break;case "cancel_collap":z.H.remove(a.m(),"zm-item-collapsed");break;case "set_delete":case "cancel_delete":jF(this),window.location.reload()}};z.v(kF,z.S);z.e=kF.prototype;z.e.init=function(){var a=z.A("js-topic-feed-page");this.w(a)};
z.e.D=function(){kF.v.D.call(this);var a=this;this.mA=(0,window.$)(".js-topic-feed-container",this.h);this.mA.find(".js-topic-item").each(function(){var b=new nF;a.L(b);b.w(this);a.o().g(b,"unfollow",function(){oF(a)})});this.Cs=new sF;this.Cs.w((0,window.$)(".js-pinned-topics",this.element)[0]);(this.bc=z.y("js-load-more"))&&this.o().g(this.bc,"click",this.dy);this.o().g(this.Cs,"change",function(a){(0,window.$)("#tf-"+a.vH).find(".js-pin").replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')});
this.Qt=(0,window.$)(".follow-topics-count");pF(this);this.Kn()};z.e.dy=function(){lF(this.bc,!0);this.xhr=new z.U(!0);z.Ld(this.o(),this.xhr,"complete",(0,z.t)(this.Rg,this));var a=new z.mj;a.add("page",++this.page);this.xhr.ajax(window.location.pathname,a.kd())};z.e.Rg=function(){var a=z.fe(this.xhr);a&&!a.r&&(0<a.msg.length?(mF(this,a.msg),lF(this.bc,!1)):(0,window.$)(this.bc).hide())};
z.e.Kn=function(){var a=(0,window.$)(this.m());window.$.each({".zu-main-sidebar .topics-plaza a":["visit_topic_square","topic_feed_sidebar"],".hidden-topics-plaza a":["visit_topic_square","topic_feed_recommend"],".js-pager.topics-pager":["click_change_recommend_topic","topic_feed_recommend"],".js-nomore-recommend":["click_nomore_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-follow":["click_follow_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-unfollow":["click_unfollow_recommend_topic",
"topic_feed_recommend"],'.topic-recommend .topic-feed-item a[href^\x3d"/question/"]':["visit_question","topic_feed_recommend"]},function(b,c){a.on("click",b,function(){z.Y.apply(null,["topic"].concat(c))})})};z.v(nF,z.S);nF.prototype.D=function(){nF.v.D.call(this);this.o().g(this.h,"click",(0,z.t)(this.Tx,this))};
nF.prototype.Tx=function(a){var b=a.target;a=(0,window.$)(b).attr("data-action");var c=(0,window.$)(this.h).find(".topic-avatar img"),d=c.clone(),f,g=(0,window.$)(this.h).data("id");if("pin-topic"===a)f=this.getParent().Cs,vF(f,g).done(function(a){if(!a.r&&a.msg){(0,window.$)(".zu-main-sidebar .side-title").show();z.cj(b);(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"unpin-topic" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e');
a=c.offset();var g=(0,window.$)(f.h).offset();1E3<a.top-g.top?(g=(0,window.$)(".top-nav-topic-selector.current a").offset(),g={top:g.top+20,left:g.left+15,width:"25px",height:"25px",opacity:.1},d.css({position:"absolute","z-index":"999"}).css("top",a.top).css("left",a.left).appendTo("body").animate(g,300,function(){d.remove()})):d.css({position:"absolute","z-index":"999"}).appendTo("body").css("top",a.top).css("left",a.left).animate({top:g.top-63+(0,window.$)(f.h).height(),left:g.left,width:"-\x3d50px",
height:"-\x3d50px",opacity:.5},300,function(){d.remove()});(0,window.$)(".no-pin-topics").hide()}});else if("unpin-topic"===a)wF(this.getParent().Cs,g,function(){var a=(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"zg-gray pin topic-hover-content" style\x3d""\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')[0];z.cj(a)});else if("unfollow"===a){var h=this,l=(0,window.$)(h.h);(a=(0,window.$)(".topic-recommend .zg-btn-unfollow[data-id\x3d"+
b.id.match(/-(.*)/)[1]+"]").get(0))?(0,z.Fs)(a,"topic",null,["zg-btn-follow","zg-btn-unfollow"]):(0,z.Fs)(b,"topic",null,["follow","unfollow"]);l.fadeOut(function(){l.remove();h.dispatchEvent("unfollow")})}};z.v(sF,z.S);sF.prototype.GQ=(0,z.Hn)('\x3cdiv class\x3d"side-topic-item js-pin-item  cursor-move" data-topicid\x3d"\x3c%\x3dtopic.id%\x3e" \x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"pin-topic-avatar-link"\x3e\x3cimg src\x3d"\x3c%\x3dtopic.avatar_path%\x3e" alt\x3d"" title\x3d"\u62d6\u52a8\u4ee5\u6392\u5e8f" class\x3d"side-topic-avatar js-topic-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-content ellipsis"\x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"topic-link side-topic-title"\x3e\x3c%\x3dtopic.name%\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-meta"\x3e\x3c% if (topic.children_num \x3e 0) { %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.children_num%\x3e \u4e2a\u5b50\u8bdd\u9898\x3c/span\x3e\x3cspan class\x3d"bull"\x3e\x26bull;\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.followers_num%\x3e \u4eba\u5173\u6ce8\x3c/span\x3e\x3c/div\x3e\x3c% if (topic.feed_num \x3e 0) { %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\x3c%\x3dtopic.feed_num %\x3e \u6761\u52a8\u6001\x26nbsp;\x26raquo;\x3c/a\x3e\x3c% }else{ %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\u8fdb\u5165\u8bdd\u9898 \x26raquo;\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e\x3ca href\x3d"javascript:;" data-action\x3d"up" class\x3d"up" data-tip\x3d"s$b$\u7f6e\u9876"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:;" data-action\x3d"remove" class\x3d"delete"\x3e\x3c/a\x3e\x3c/div\x3e');
sF.prototype.D=function(){sF.v.D.call(this);this.o().g(this.h,"click",(0,z.t)(this.Tx,this));tF(this)};
sF.prototype.Tx=function(a){var b=this,c=a.target,d=(0,window.$)(c).attr("data-action");if(d){var f=(0,window.$)(c).parents(".js-pin-item");if("up"===d){a=f.position();var g=f.clone();f.before(g).css({position:"absolute","z-index":"999"}).css("top",a.top).animate({top:(0,window.$)(b.h).position().top},200,function(){g.remove();f.css({position:"relative",top:0}).prependTo(b.h);b.tt()});g.css("opacity",0)}else"remove"===d&&f.fadeOut(function(){f.remove();b.tt();b.dispatchEvent({type:"change",vH:f.attr("data-topicid")});
0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})}else a.stopPropagation()};sF.prototype.tt=function(){var a=[];(0,window.$)(this.h).find("div.js-pin-item").each(function(){a.push((0,window.$)(this).attr("data-topicid"))});return window.$.post("/pin-topic",{topic_ids:a.join(",")},function(){})};z.v(xF,z.S);z.e=xF.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){xF.v.D.call(this);this.Pt=(0,window.$)("ul.zm-topic-cat-main").children();var a=this.ud=(0,window.$)("div.zh-general-list"),b=new ev({use:["autoload","nodeSource"]});this.L(b);b.w(a.get(0));this.o().g(b,"next",this.Hp);this.KE=b;a.on("click","a.follow",function(){(0,z.Fs)(this,"topic",z.qa(z.cj,this),null,{follow_text:"\u5173\u6ce8"})});z.L(window,"hashchange",this.FF,!1,this);this.FF()||(a.show(),this.Hp())};
z.e.Hp=function(){var a=this.ud.show().children();if(!a.length)return this.ud.html('\x3cp class\x3d"zg-gray-normal" style\x3d"text-align:center;line-height:4;"\x3e\u6ca1\u6709\u5b50\u8bdd\u9898\u3002\x3c/p\x3e');a.removeClass("no-border "+this.CC);a.filter(":odd").addClass(this.CC);a=a.last();a.index()%2?a.add(a.prev()).addClass("no-border"):a.addClass("no-border");a=this.Zq();a=zF(this,a.params&&a.params.topic_id);a.length&&a.addClass(this.an).siblings().removeClass(this.an)};z.e.Zq=function(){return this.ud.data("init")};
z.e.FF=function(){var a;a:{if(a=(0,window.decodeURIComponent)(window.location.hash.slice(1))){var b=yF(this,a);if(b.length&&this.Pt.filter("."+this.an).text()!==a){b.addClass(this.an).siblings().removeClass(this.an);a={params:{topic_id:b.data("id")}};b=this.Zq();window.$.extend(!0,b,a);this.ud.attr("data-init",JSON.stringify(b));this.ud.empty();this.KE.Ei();this.KE.es();a=!0;break a}}a=void 0}return a};z.v(AF,z.S);
AF.prototype.init=function(){(0,window.$)(".report-table .report-appeal").click(function(a){a.preventDefault();var b=(0,window.$)(this).closest("tr"),c=new z.Xg;z.Pg(c,!0);c.Jf=!0;z.Sg(c,z.jr);c.Wa("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");c.ya('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');c.G(!0);c.aa();c.o().g(c,z.ir,function(){window.$.post("/report/appeal",{report_id:b.data("id"),
reason:(0,window.$)('[name\x3d"reason"]',c.h).val()},function(){z.ch({title:"\u7533\u8bc9\u63d0\u4ea4",Ej:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",aa:!0,buttons:["\u77e5\u9053\u5566"]})})})});(0,window.$)(".report-table .report-show-deleted").click(function(a){a.preventDefault();
(0,window.$)(this).next(".report-deleted").toggleClass("hidden")})};z.v(BF,z.S);BF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};BF.prototype.D=function(){BF.v.D.call(this);CF(this,"zh-global-logs-wrap");CF(this,"zh-global-logs-questions-wrap");CF(this,"zh-question-log-list-wrap")};z.v(DF,z.S);DF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};DF.prototype.D=function(){DF.v.D.call(this);this.In("zh-question-followers-list-wrap")};DF.prototype.In=function(a){if(a=z.y(a)){var b=new ev;this.L(b);b.use("locationSource");b.w(a)}};z.v(FF,ev);FF.prototype.$p=function(){return z.Gb('\x3cbutton class\x3d"feeds-loading"\x3e\x3cspan\x3e\u66f4\u591a\x3c/span\x3e\x3c/button\x3e')};FF.prototype.lz=function(a){this.Jd&&(z.bc(this.Jd.firstChild,a?"\u52aa\u529b\u52a0\u8f7d\u4e2d...":"\u66f4\u591a"),z.H.enable(this.Jd,"loading",a))};z.v(GF,z.S);GF.prototype.xi=function(){Ux.call(this,"answer");this.Ev="entry-expaneded";this.js="item-footer";this.up="votebar"};z.v(GF.prototype.xi,Ux);z.e=GF.prototype.xi.prototype;z.e.Jm=function(){GF.prototype.xi.v.Jm.call(this,{".js-expand":this.Qa,".js-thank":this.kr});this.$w();var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new pv;b.w((0,window.$)(".menu",a)[0]);b=new vv("operation",b);b.Xj=!0;xv(b);wv(b);b.gc=z.Dq;b.w((0,window.$)(".menubutton",a)[0])}HF(this);this.nj()};
z.e.nj=function(){var a=(0,z.t)(function(){if(!this.ph){var a=z.A("entry-content",this.h),c=this.pb&&this.pb.m();!z.ah&&c&&(0,window.$)(c).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.ph=new z.$m(null,a),this.L(a),a.tag="votebar",a.w(c))}},this);this.o().g(this,["expand","collapse"],function(b){(b="expand"===b.type)&&a();this.ph&&z.Vm(this.ph,b)})};
z.e.$w=function(){var a,b,c=(0,window.$)("."+this.up,this.m())[0];c&&(a=this.pb=new ly(this.kb,this.entryType),this.L(a),z.Ec(this,a),a.w(c),(c=(0,window.$)(".js-mobi-vote",this.m())[0])&&(new sy(a)).w(c));if(c=(0,window.$)(".zm-item-vote-info",this.m())[0])b=new xy(this.kb,this.entryType),this.L(b),z.Ec(this,b),b.w(c);a&&b&&this.o().g(a,"change",function(){b.Vj()}).g(b,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(b.Ra())})};
z.e.kr=Vx(function(a){(a=a.target)&&!z.H.has(a,"thanked")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Vi(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.kb})):(z.Vi(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.kb})))},{ra:"question_answer_thank"});z.e.uc=function(){GF.prototype.xi.v.uc.call(this,"\u5206\u4eab\u56de\u7b54","answer",this.Ih,{aid:this.kb})};
z.e.aj=Vx(function(){var a=By.S();Ey(a,this.kb);a.show()},{ra:"question_answer_collect",gd:!0});
z.e.ke=function(){GF.prototype.xi.v.ke.call(this);z.Ui(this.eg.register("v",function(){this.pb&&this.pb.Ct()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Ui(this.eg.register("d",function(){this.pb&&this.pb.Bt()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(this.eg.register("o",this.xf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.hp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.uc,
this),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("s c",this.aj,this),{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("shift+c",this.yw,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};GF.prototype.EA=function(){Ux.call(this,"question");this.js="item-footer"};z.v(GF.prototype.EA,Ux);
GF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body);this.Ln();this.Gr();IF();var a=(0,window.$)(".rt-comment-box")[0];if(a){var b=new tx(this.Ho.id,"roundtable");this.L(b);b.w(a)}};GF.prototype.Ln=function(){this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("label","roundtable").fill("category",this.Ug)})};
GF.prototype.Gr=function(){function a(a){a=a.getAttribute("data-type");return(a={answer:GF.prototype.xi,question:GF.prototype.EA}[a])?new a:new z.S}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new FF;c.use("childConstructor",{factory:a});null!==this.getAttribute("data-navigable")&&c.use("shortcut",{items:"\x3e.item"});b.L(c);c.w(this)})};z.v(JF,z.S);JF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body);this.Gr();LF(this);MF(this);KF();EF("[data-highlight]",this.Ty)};
JF.prototype.Gr=function(){function a(a){var b=new z.S;(0,window.$)("li.answer-item",a).each(function(){var a=new GF.prototype.xi;a.js="actions";a.up="zm-votebar";b.L(a);a.w(this)});return b}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new ev({use:["autoload","dataPagingSource"]});c.use("childConstructor",{factory:a});var d=(0,window.$)(this).data("navigable");d&&c.use("shortcut",d);b.L(c);c.w(this);Wu(c,function(a){EF((0,window.$)("[data-highlight]",a),b.Ty)})})};z.v(NF,z.N);
z.ra(NF.prototype,{defaults:{source:"/topic/autocomplete",Xb:null,pK:"",Ju:!1,sS:"/topic/%s",template:'\x3cli data-id\x3d"\x3c%\x3did%\x3e"\x3e\x3ca class\x3d"tag-link" href\x3d"\x3c%\x3durl%\x3e"\x3e\x3c%\x3dname%\x3e\x3c/a\x3e\x3c/li\x3e',parse:function(a){var b=(0,window.$)(a);return{Rs:!0,id:b.data("id"),url:a.href,name:b.text()}},oR:z.Dq,FK:"canedit",sv:"empty",Om:"button",wQ:"remove-button"},SR:function(a){return Yu(this.J.sS,a.url_token)},has:function(a){return!!z.B.find(this.kh,function(b){return b.name===
a.name||b.id===a.id})},QK:function(a){return z.B.find(this.kh,function(b){return b.name===a})},VT:function(a){return z.B.find(this.kh,function(b){return b.id===a})},Kc:function(){var a=!!z.Qb(this.Xb).length;z.H.enable(this.Xb,this.J.sv,!a);this.dispatchEvent("change")},add:function(a,b){a&&(this.has(a)||this.kh.push(a),a.Rs=!1,b||this.J.oR.call(this,a))&&(this.EQ(a),a.Rs=!0,this.dispatchEvent("add"),this.Kc())},remove:function(a){this.kh=z.B.filter(this.kh,function(b){return a!==b.id},this);this.dispatchEvent("remove");
this.Kc()},kL:function(){return z.B.filter(this.kh,function(a){return!1!==a.Rs})},jL:function(){return z.B.map(this.kL(),function(a){return a.id})},EQ:function(a){a=z.Gb(this.AG(a));this.Xb.appendChild(a);this.Ee(a)},AG:function(a){return(0,z.Hn)(this.J.template,a)},ba:function(){this.Xb.innerHTML=z.B.map(this.kh,this.AG,this).join("")},WP:function(){return z.B.map(this.kD(),this.J.parse)},kD:function(){return z.Qb(this.Xb)},rg:function(){var a=this,b=a.J;this.ca=OF(this.input,{source:b.source,ci:function(a){return z.nc(a,
function(a){return"static"!==window.$.css(a,"position")})}(a.input),placeholder:this.input.getAttribute("placeholder"),select:function(c){a.add({id:c.id,name:c.id?c.label:a.input.value,url:a.SR(c),avatar:c.avatar,url_token:c.url_token});return b.pK},filter:function(c){return z.B.filter(c,function(c){return b.Ju&&!c.id?!1:!z.B.find(a.kh,function(a){return a.Rs&&a.id===c.id})})}});z.B.forEach(this.kD(),this.Ee,this);z.L(this.input,"keypress",function(c){var d;13!==c.keyCode||b.Ju||!(d=z.Fa(this.value))||
a.ca.vb()||a.add(a.QK(d)||{id:null,name:d,url:"/topic/"+d})});this.Kc()},removeTag:function(a){this.remove((0,window.$)(a).remove().data("id"))},XP:function(a,b){var c=z.B.find(this.Fu,function(b){return b.action===a});c&&c.method&&c.method.call(this,b);this.input.focus()},Ee:function(a){var b=this.J;z.H.add(a,b.FK);z.B.forEach(this.Fu,function(c){var d=new z.Rh(" ",z.$h.S());d.th([b.Om,c.$u].join(" "));d.ba(a);d.cb(!0);d.Pc(c.V);d.addEventListener("action",function(){this.XP(c.action,a)},!1,this)},
this)}});PF.prototype.init=function(){QF(this);SF(this)};UF.prototype.init=function(){(0,window.$)("a.js-obfuscate-email").each(function(){var a=(0,window.$)(this),b=a.data("email").split("").reverse().join("");a.attr("href","mailto:"+b).text(b)})};z.v(VF,z.S);VF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};VF.prototype.D=function(){VF.v.D.call(this);var a=(0,window.$)("#zh-following-question-item-list").children(".zh-general-list");if(a.length){var b=new ev;this.L(b);b.use("nodeSource");b.w(a.get(0))}};z.v(WF,z.S);WF.prototype.D=function(){this.o().g(this.h,"click",this.po)};WF.prototype.po=function(a){var b=a.target;b&&"rmdraft"===b.name&&z.ch("\u5220\u9664\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8349\u7a3f\u5417\uff1f",function(a){a&&(z.hh("/draft/delete",null,"POST","qid\x3d"+b.id.split("-")[1]),z.I(this.h))},this)};z.v(XF,z.S);XF.prototype.init=function(){var a=z.y("zh-draft-page-wrap");a&&this.w(a)};
XF.prototype.D=function(){z.L(z.y("zh-clear-all-draft"),"click",function(){z.ch("\u5220\u9664\u6240\u6709\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u8349\u7a3f\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d",function(a){a&&z.hh("/draft/clear",function(){window.location.href="/draft"},"POST")});return!1});this.In()};XF.prototype.In=function(){var a=z.y("zh-draft-item-list");if(a){var b=new ev;b.use("locationSource",{As:!0}).use("childConstructor",{Pk:WF});b.w(a)}};var QH;z.v($F,z.hi);z.e=$F.prototype;
z.e.play=function(){if(1==this.U)return!1;this.Qg();this.rc("play");this.startTime=(0,z.Wa)();this.U=1;if(!z.ea(QH))if(z.x)QH=z.w("10.0");else{var a=window.document.createElement("div");a.innerHTML='\x3cdiv style\x3d"-webkit-transition:opacity 1s linear;-moz-transition:opacity 1s linear;-o-transition:opacity 1s linear;transition:opacity 1s linear"\x3e';a=a.firstChild;QH=z.ea(a.style.transition)||z.ea(a.style.WebkitTransition)||z.ea(a.style.MozTransition)||z.ea(a.style.mI)}if(QH)return z.wf(this.h,this.dN),
this.rH=z.ld(this.ZP,void 0,this),!0;this.Bz(!1);return!1};z.e.ZP=function(){YF(this.h,this.iS);z.wf(this.h,this.LC);this.rH=z.ld((0,z.t)(this.Bz,this,!1),1E3*this.CK)};z.e.stop=function(){1==this.U&&this.Bz(!0)};z.e.Bz=function(a){ZF(this.h,"");z.md(this.rH);z.wf(this.h,this.LC);this.endTime=(0,z.Wa)();this.U=z.ii;a?this.rc("stop"):this.rc("finish");this.Sg()};z.e.C=function(){this.stop();$F.v.C.call(this)};z.e.pause=function(){};z.v(bG,z.S);bG.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};bG.prototype.D=function(){bG.v.D.call(this);dG(this);this.Zw();fG(this);cG();this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.Rc.fill("category",this.Ug).fill("label",this.PK)})};bG.prototype.Zw=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=dB(a).done(function(a){b.html(a)}))})};z.v(eG,ev);
eG.prototype.D=function(){eG.v.D.call(this);this.use("childConstructor",{Pk:hy})};z.v(hG,z.S);hG.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};hG.prototype.D=function(){hG.v.D.call(this);this.In()};hG.prototype.In=function(){var a=z.y("js-suggest-people");if(a){var b=new ev({source:iG()});this.L(b);b.w(a)}};jG.$inject=["$scope"];jG.prototype.removeTag=function(a,b){a.splice((0,z.B.indexOf)(a,b),1)};jG.prototype.moveupTag=function(a,b){var c=(0,z.B.indexOf)(a,b);0<c&&(a.splice(c,1),a.splice(c-1,0,b))};jG.prototype.onActvityUrlChange=function(){var a=this.Zs,b=a.activityUrl,c=a.roundtable.activityUrls;b&&-1===(0,z.B.indexOf)(c,b)&&(c.push(b),a.activityUrl="")};
jG.prototype.submit=function(a,b){var c="create"===b,d={roundtable:JSON.stringify(a)};if(c&&3>a.activityUrls.length)return z.T("\u8bf7\u81f3\u5c11\u6dfb\u52a0\u4e09\u6761\u52a8\u6001");window.$.post(window.location.pathname+window.location.search,d).then(function(c){c.success?"create"===b?(z.T(c.message||"\u6d3b\u52a8\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838"),(0,window.setTimeout)(function(){window.location.href="/roundtable"},3E3)):(z.T(c.message||"\u6d3b\u52a8\u4fee\u6539\u6210\u529f"),
(0,window.setTimeout)(function(){window.location.href="/roundtable/"+a.slug},3E3)):z.T(c.message||"\u63d0\u4ea4\u5931\u8d25")})};z.v(lG,z.Lk);mG.$inject=["$parse","$timeout"];oG.$inject=["$interpolate"];qG.$inject=["$interpolateProvider"];z.v(rG,GF);rG.prototype.init=function(){z.Xp.L(this);this.w(window.document.body);uG(this);sG(this);tG(this);IF();this.Gr()};z.v(vG,z.S);vG.prototype.init=function(){var a=window.location.hash.slice(1);a&&(z.cj((0,window.$)("."+a).get(0)),(0,window.$)(".zh-friendliness-sidenav").find('[data-section\x3d"'+a+'"]').addClass("active"));(0,window.$)(".zh-friendliness-sidenav a").click(function(b){a=(0,window.$)(b.target).data("section");z.cj((0,window.$)("."+a).get(0));(0,window.$)(".zh-friendliness-sidenav a").removeClass("active");(0,window.$)(b.target).addClass("active")})};z.v(wG,z.S);
wG.prototype.init=function(){this.K=(0,window.$)(".friendly-quiz-container");this.gA=(0,window.$)(".view",this.K);(0,window.$)(".welcome-view",this.K);this.WI=(0,window.$)(".answering-view",this.K);this.$o=(0,window.$)(".success-view",this.K);this.bl=(0,window.$)(".failed-view",this.K);this.Yo=(0,window.parseFloat)(this.K.data("star"));this.By=3;this.hI=(0,window.$)(".item",this.K);this.XC=5;(0,window.$)(".start-btn",this.K).click(window.$.proxy(this.eH,this));(0,window.$)(".continue-btn",this.K).click(window.$.proxy(this.eH,
this));(0,window.$)(".choose-btn",this.K).click(window.$.proxy(this.DJ,this))};wG.prototype.eH=function(){this.gA.hide();this.WI.show();this.xq=0;this.vA=(0,window.$)(this.hI.splice(0,this.By));this.CB=[];xG(this)};
wG.prototype.DJ=function(a){a=(0,window.$)(a.target).data("isfriendly");var b=this.Rt.data("id");this.CB.push({id:b,isFriendly:a});this.xq<this.By?xG(this):window.$.post("/community/friendly/quiz",{params:JSON.stringify(this.CB)},window.$.proxy(function(a){a.r||(a=a.msg,a.contain_errors?a.can_answer?zG(this,a.wrong_question_ids,!0):zG(this,a.wrong_question_ids,!1):(this.Yo+=.5,a.can_answer&&this.Yo!==this.XC?yG(this,!0):yG(this,!1)))},this))};z.ua("ZH.entryCommunity",function(){(new AF).init()});z.ua("ZH.entryQuestionLog",function(){(new BF).init()});z.ua("ZH.entryQuestionFollowersPage",function(){(new DF).init()});z.ua("ZH.entrySQ",function(){(new OE).init()});z.ua("ZH.entrySA",function(){(new fF).init()});z.ua("ZH.entryL",function(){(new gB).init()});z.ua("ZH.entryT",function(){(new NA).init()});z.ua("ZH.entryTS",function(){(new xF).init()});z.ua("ZH.entryP",function(){(new Zz).init()});z.ua("ZH.entrySearch",function(){(new JF).init()});
z.ua("ZH.entryPM",function(){(new Gv).init()});z.ua("ZH.entryPMDetail",function(){(new Iv).init()});z.ua("ZH.entrySettings",function(){(new zA).init()});z.ua("ZH.entryTopicFeed",function(){(new kF).init()});z.ua("ZH.entryRQ3",function(){(new PF).init()});z.ua("ZH.entryTerms",function(){(new UF).init()});z.ua("ZH.entryHome",function(){(new UB).init()});z.ua("ZH.entryQuestionFollowing",function(){(new VF).init()});z.ua("ZH.entryDraft",function(){(new XF).init()});z.ua("ZH.entryExplore",function(){(new bG).init()});
z.ua("ZH.entryLookup",function(){(new hG).init()});z.ua("ZH.entryCC",function(){(0,window.$)(function(){(0,window.$)("#js-apply-button").click(z.kl(function(){window.$.post("/classical-chinese");var a=(0,window.$)(this),b=a.data("num");a.text("\u60a8\u5df2\u7533\u8acb\u4f7f\u7528").addClass("disabled");(0,window.$)(".apply-num").text("\u5df2\u6709 "+(b+1)+" \u4eba\u7533\u8acb")}))})});z.ua("ZH.entryRb",function(){(new GF).init()});
z.ua("ZH.entryRbEdit",function(){var a=window.angular.module("roundtableApp",[]);a.controller("RoundtableFormCtrl",jG);a.directive("uiAvatarEditor",nG);a.directive("uiSuggest",oG);a.directive("uiTimepicker",mG);a.filter("avatarUrl",pG);a.config(qG);window.angular.bootstrap(window.document.body,["roundtableApp"])});z.ua("ZH.entryRbPending",function(){(new rG).init()});z.ua("ZH.entryFriendlinessPage",function(){(new vG).init()});z.ua("ZH.entryFriendlyQuiz",function(){(new wG).init()});z.jf("app");}).call(this, __z_z__);
//@ sourceURL=module_app.js