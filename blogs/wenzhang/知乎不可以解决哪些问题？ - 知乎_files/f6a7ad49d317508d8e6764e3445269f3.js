(function(z){
z.Vs=function(a,b){this.node=a;this.offset=b};z.Ws=function(a){return a.length||a.childNodes.length};z.Xs=function(a,b,c){for(;1==a.nodeType;){var d=a.childNodes[b];if(!d&&!a.lastChild)break;d?(a=d.previousSibling,c&&a?b=z.Ws(a):(a=d,b=0)):(a=a.lastChild,b=z.Ws(a))}return new z.Vs(a,b)};
z.Ys=function(a,b){var c=a.parentNode,d=z.B.indexOf(c.childNodes,a)+(b?0:1),c=z.Xs(c,d,b);z.x&&z.w("9")&&1==c.node.nodeType&&"HR"==c.node.tagName&&(d=c.node,c.node=d.parentNode,c.offset=z.B.indexOf(c.node.childNodes,d)+(b?0:1));z.Rm(c.node,c.offset).select()};z.Zs=function(a,b){null!=a&&this.append.apply(this,arguments)};z.$s=function(a,b){if(z.Rj(a))a.selectionStart=b,a.selectionEnd=b;else if(z.x){b=z.Tj(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};
var at=function(a){this.type="anon_change";this.nb=a};var bt=function(a){return a.Ui.length?a.Ui.pop():a.$m()};z.ct=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.qb(a).createElement("div");b.appendChild(a.cloneNode(!0));return b.innerHTML};z.Z=function(a,b){return z.aa[a]=b};z.dt=function(a,b){a.Gn=b||null};z.et=function(a,b){a.Ex=null==b||b instanceof z.sf?b:new z.sf(b,void 0,void 0,void 0);a.T()&&a.ba()};
var ft=function(a){a.ready(function(){var a=this.Ma;this.Sd?z.$s(a,a.value.length):a.wa.lastChild?z.Ys(a.wa.lastChild):a.Sf();this.al&&(this.al.scrollTop=this.al.scrollHeight)})};var gt=function(a){return a.Sd?a.Ma:a.Ma.m()};var ht=function(a,b){a.params=b};var it=function(a){a.hx=!0;a.UB=z.bg(a.m()).height;z.Bs+=a.UB;z.B.forEach(z.Um,function(a){a&&!a.hx&&a.fl&&a.Eo()})};var jt=function(a,b){a.Bv=b};var kt=function(a,b){a&&(a.tabIndex=b?0:-1)};var lt=function(a,b){return a.ce.get(b)};
var mt=function(a){var b={};z.B.forEach(a.data.Hb(),function(a){b[a]=this.data.get(a)},a);return b};z.nt=function(a){a.Jb()&&a.fire()};
var ot=function(a,b,c){function d(){var b=new z.U(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.Wq.oa);b.on("success",function(){var c=z.fe(b);c&&!c.r&&f.dispatchEvent(new at(a))});b.ajax(d,g)}var f=z.Aj,g={title:"\u786e\u8ba4\u4f7f\u7528\u533f\u540d\u8eab\u4efd\uff1f",content:'\x3cp\x3e\u4f7f\u7528\u533f\u540d\u8eab\u4efd\u540e\uff0c\u4f60\u5c06\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e\u4e0d\u80fd\u5728\u8be5\u95ee\u9898\u4e0b\u8bc4\u8bba\uff08\u4f60\u4e4b\u524d\u7684\u8bc4\u8bba\u5c06\u88ab\u9690\u85cf\uff09\x3c/li\x3e\x3cli\x3e\u4e0d\u80fd\u9080\u8bf7\u522b\u4eba\u56de\u7b54\u8be5\u95ee\u9898\x3c/li\x3e\x3c/ul\x3e'},h=
{title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\u3001\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"};z.ch(a?g:h,function(a){a&&d();b&&b(a)})};z.pt=function(a,b){return a.Xb&&b?z.B.indexOf(a.Xb,b):-1};var qt=function(a){return null!=a};z.rt=function(a){return!/[^\t\n\r ]/.test(a)};z.st=function(a,b,c){this.rF=a;this.JQ=!!c;a&&!b&&this.next()};
z.tt=function(a){return 1==a.nodeType||3==a.nodeType&&!z.rt(a.nodeValue)};z.ut=function(a){try{return a.next()}catch(b){return null}};var vt=function(a,b,c){z.ea(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.st.call(this,a.childNodes[c],!0,b)};var wt=function(a){return 1==a.length?"0"+a:a};var xt=function(a,b,c,d,f,g){z.Ic.call(this,a);this.event=c;this.Hq=g};var yt=function(a,b){return a>b};var zt=function(a,b){return a<b};var At=function(a){return a.left||0};
var Bt=function(a){return a.left+a.width-1};var Ct=function(a){return a.top+a.height-1};var Dt=function(a,b){var c=a.Xk;return Math.abs(b.y-(c.top+(c.height-1)/2))};var Et=function(a,b){var c=window.$.extend({all:!1},Et.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};
var Ft=function(a,b,c){var d=z.Mf(a);b instanceof z.kb&&(c=b.y,b=b.x);z.Ff(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};var Gt=function(a){var b=a.body;a=a.documentElement;return new z.kb(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};var Ht=function(a){return void 0!=a.nextElementSibling?a.nextElementSibling:z.Tb(a.nextSibling,!0)};var It=function(a,b){this.Ch=a instanceof z.kb?a:new z.kb(a,b)};z.Jt=function(a){for(var b;b=a&&1==a.nodeType?z.ut(z.W.filter(new vt(a,!1),z.tt)):null;)a=b;return a};
var Kt=function(a,b,c){z.Il.call(this,a,0,c?"\u6dfb\u52a0\u7236\u8bdd\u9898":"\u6dfb\u52a0\u5b50\u8bdd\u9898");this.lx=c;this.vf=b;this.Er="";this.vG="/topic/parent/remove"};var Lt=function(){z.J.call(this);this.Vc=[];this.Yk=[];this.pv={};this.R=new z.Kd(this);this.pN=this.sE=!1;this.Zz=!0};var Mt=function(a,b,c){b.qC=c;b.Li=void 0;a.Vc.push(b)};var Nt=function(a,b){for(var c=0,d=a.Vc.length;c<d;c++){var f=a.Vc[c];f.Xk=z.Wf(f)}c=0;for(d=a.Yk.length;c<d;c++)f=a.Yk[c],f!=b&&(f.Xk=z.Wf(f))};
var Ot=function(a){z.Gc(a.Eb);a.Ec&&z.I(a.Ec);a.Ya&&"none"==a.Ya.style.display&&(a.xs.insertBefore(a.Ya,a.ky),a.Ya.style.display="");a.av&&a.Ya?z.H.remove.apply(null,z.B.concat(a.Ya,a.av)):a.Ya&&(a.Ya.style.visibility="visible");for(var b=0,c=a.Vc.length;b<c;b++){var d=a.Vc[b];d.Li&&z.H.remove(d,d.Li)}};var Pt=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};
var Qt=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({NH:Et},z.Jr,b||{});if(!c.NH(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.VA?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var Rt=function(a,b){b.all=!0;return Et(a,b)};
var St=function(a,b,c,d){var f=null;d&&(c&&(c=window.$.proxy(c,d)),f&&(f=window.$.proxy(f,d)));window.$.get("/node/"+a,{params:b},function(a){a&&a.r?f&&f(a):c&&c(a)})};var Tt=function(a){var b=a.match(Ut);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var Vt=function(a){if(!Wt.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Xt,"#$1$1$2$2$3$3"));return a.toLowerCase()};
var Yt=function(a,b){It.call(this,a,b)};var Zt=function(a,b,c,d){z.Ko.call(this,a,b);this.Wn=c?5:0;this.ny=d||void 0};var $t=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};z.au=function(a){z.Rm(z.Jt(a),0).select()};z.bu=function(a,b){var c=z.jc(a);if(a.getElementsByTagName)for(var d in z.zs)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&"\u00a0"==c||z.rt(c)};z.cu=function(a){if(a=z.Vl(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(c){}};
var du=function(a){z.Il.call(this);this.Be="\u4f8b\u5982\uff1a\u4e92\u8054\u7f51\u3001\u533b\u5b66\u3001\u6cd5\u5f8b\u3001\u6570\u5b66...";this.data=a||[]};var eu=function(a){if(a.Pf)(0,window.$)(a.Pf).on("click",".del",window.$.proxy(function(a){var c=(0,window.$)(a.target).parents(".item");c.data("active")?(z.Nb(this.Cm,c[0],0),z.cj(c[0])):z.I(c[0]);z.B.forEach(this.data,function(a,b){a+""===c.data("url-token")+""&&this.data.splice(b,1)},this);fu(this);this.dispatchEvent("remove")},a))};
var gu=function(a){if(a.Cm)(0,window.$)(a.Cm).on("click",".add",window.$.proxy(function(a){a=(0,window.$)(a.target).parents(".item");z.Nb(this.Pf,a[0],0);z.cj(a[0]);fu(this);this.dispatchEvent("add")},a))};var fu=function(a){var b=(0,window.$)(a.Pf).children().length;6<b&&z.I((0,window.$)(a.Pf).children()[6]);z.R(z.y("zh-profile-expert-empty"),0>=b);0<b&&z.R(z.y("zh-profile-expert-warning"),!1);z.R(z.y("active-topics-wrap"),(0,window.$)(a.Cm).children().length);a.Vl()};
var hu=function(a){z.Il.call(this,a,0);this.Er="";this.jB="/topic/ignore"};var iu=function(){z.Il.call(this,null,null,"\u641c\u7d22\u8bdd\u9898");this.Be="";this.data=[z.Zq[0]]};z.ju=function(a,b,c){z.S.call(this,c);this.N=b||z.vl.S();this.Cb=a||this.N.$v()};var ku=function(a,b){var c=a.o(),d=a.lc();b?c.g(d,"focus",a.we).g(d,"blur",a.Yc).g(a.Xq(),"key",a.$b):c.Ja(d,"focus",a.we).Ja(d,"blur",a.Yc).Ja(a.Xq(),"key",a.$b)};
var lu=function(a,b){var c=b.m(),c=c.id||(c.id=b.Ud());a.ug||(a.ug={});a.ug[c]=b};z.mu=function(a){return z.Dg(a,a.Ib)};var nu=function(a){ou(a,function(a,c){return(a+1)%c},z.Cg(a)-1)};var pu=function(a){ou(a,function(a,c){a--;return 0>a?c-1:a},0)};var qu=function(a){ou(a,function(a,c){return(a+1)%c},a.Ib)};var ru=function(a){ou(a,function(a,c){a--;return 0>a?c-1:a},a.Ib)};
var ou=function(a,b,c){c=0>c?z.pt(a,a.mc):c;var d=z.Cg(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.Dg(a,c);if(g&&a.qB(g)){a.Zy(c);break}f++;c=b.call(a,c,d)}};var su=function(a){if(a){var b=a.getBoundingClientRect(),c=b.bottom,b=b.top;c<z.yb().height&&0>b&&(0,window.setTimeout)(function(){var b=a.getBoundingClientRect().bottom,f=Gt(window.document);window.scrollTo(f.x,f.y+b-c)})}};
var tu=function(a){function b(a){return window.$.isNumeric(a)?a+" ":a}var c;c=c||+new Date;if(0>=c-a)return"\u521a\u521a";a=Math.floor((c-a)/1E3);c=Math.floor(a/31536E3);if(1<=c)return b(c)+"\u5e74\u524d";c=Math.floor(a/2592E3);if(1<=c)return b(c)+"\u6708\u524d";c=Math.floor(a/604800);if(1<=c)return b(c)+"\u5468\u524d";c=Math.floor(a/86400);if(1<=c)return b(c)+"\u5929\u524d";c=Math.floor(a/3600);if(1<=c)return b(c)+"\u5c0f\u65f6\u524d";c=Math.floor(a/60);if(1<=c)return b(c)+"\u5206\u949f\u524d";c=
Math.floor(a);return b(c)+"\u79d2\u524d"};var uu=function(){var a=z.V;return 1===a||0===a?"\u533f\u540d\u7528\u6237":['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'" title\x3d"'+a[0]+'" class\x3d"','zm-item-link-avatar"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+a[2]+'" /\x3e',"\x3c/a\x3e"].join("")};
var vu=function(a,b){return z.fa(a)?['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'"',b?' class\x3d"'+b+'"':"",' title\x3d"',a[0],'"\x3e',a[0],"\x3c/a\x3e"].join(""):"\u533f\u540d\u7528\u6237"};var wu=function(a){if(0===a||1===a)return"\u533f\u540d\u7528\u6237";var b=z.G("a",{href:"/people/"+a[1],title:a[0]},a[0]);b.setAttribute("data-tip","p$t$"+a[1]);return b};var xu=function(a){return z.G("a",{href:"/topic/"+a[1],title:a[0],"class":""},a[0])};
var yu=function(a){if(0===a||1===a)return z.G("span");if(z.fa(a)){var b=z.G("a",{href:"/people/"+a[1],title:a[0],"class":"zm-item-link-avatar"},z.G("img",{src:a[2],"class":"zm-list-avatar"}));b.setAttribute("data-tip","p$t$"+a[1]);return b}};var zu=function(a){return 1===a?!0:z.fa(a)?a[3]===z.V[3]:!1};var Au=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};var Bu=function(a,b){return window.$.post("/question/askpeople",{qid:a,uid:b,op:"remove"})};
var Cu=function(a,b,c){return window.$.post("/question/askpeople",{qid:a,uid:b,_source_type:c,op:"add"})};var Du=function(a,b,c,d,f){z.si.call(this,a,[b],[c],d,f)};var Eu=function(a,b,c,d,f){z.si.call(this,a,[b],[c],d,f)};var Fu=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");z.si.apply(this,arguments)};
var Gu=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Wt.test(c))return b.qr=Vt(c),b.type="hex",b;c=Tt(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=wt(d.toString(16));a=wt(a.toString(16));c=wt(c.toString(16));b.qr="#"+d+a+c;b.type="rgb";return b}if(Hu&&(c=Hu[a.toLowerCase()]))return b.qr=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var Iu=function(a){var b=window.$.extend({},{title:"\u4fe1\u606f",wR:"\u52a0\u8f7d\u4e2d",buttons:[],onload:z.p},a),c=z.G("div",{className:"modal-dialog-async-loading",innerHTML:(b.wR||"\u52a0\u8f7d\u4e2d")+'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e'}),d=z.ch(b);d.W().appendChild(c);b.KB&&b.KB.then(function(a){z.I(c);d.Kf||(a&&d.Ea(a),d.ba(),b.onload(d.W(),d))});return d};
var Ju=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!z.O;default:return 166>a.keyCode||183<a.keyCode}};
var Ku=function(a){var b=z.qb(a),c=z.x&&a.currentStyle;if(c&&z.pc(z.ob(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=z.cg(a,c.width,"width","pixelWidth"),a=z.cg(a,c.height,"height","pixelHeight"),new z.mb(b,a);c=z.bg(a);b=z.eg(a);a=z.Pf(a);return new z.mb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};var Lu=function(a,b){var c=a.style[z.ab(b)];return"undefined"!==typeof c?c:a.style[z.yf(a,b)]||""};
var Mu=function(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};var Nu=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var Ou=function(a){a=z.ka(a);var b=z.Wc[a];if(b){var c=z.ea("nearbottom"),d=z.ea(void 0);return c&&d?(b=z.Tc.nearbottom,!!b&&!!b[void 0]&&a in b[void 0]):c||d?z.B.some(b,function(a){return c&&"nearbottom"==a.type||d&&void 0==a.Nk}):!0}return!1};
var Pu=function(a,b,c){return Math.min(Math.max(a,b),c)};var Qu=function(){throw Error("unimplemented abstract method");};var Ru=function(a){z.J.call(this);this.view=this.name=null;z.C.extend(this.options={},this.defaults,a||{})};var Su=function(a,b){function c(b){Ru.call(this,b);this.name=a}z.v(c,Ru);z.ra(c.prototype,b);Tu[a]=c};var Uu=function(a,b){var c=Tu[a];if(!c)throw Error("Cannot find constructor");return new c(b)};
var Vu=function(a){z.S.call(this);z.C.extend(this.J={},this.defaults,a||{});this.source=this.J.source;this.promise=window.$.Deferred().resolve();this.qd={}};var Wu=function(a,b,c){a.Da&&z.B.forEach(a.Bb(),b,c);a.o().g(a,"itemcreated",function(a){b.call(c,a.item)})};var Xu=function(a){a.Kd&&(z.I(a.Kd),a.Kd=null);a.dispatchEvent("complete")};
var Yu=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,q,D,E){if("%"==q)return"%";var M=c.shift();if("undefined"==typeof M)throw Error("[goog.string.format] Not enough arguments");arguments[0]=M;return Zu[q].apply(null,arguments)})};
var $u=function(a){z.J.call(this);this.viewport=a||window;this.size=null;z.eg(window.document.body);this.ha=new z.Kd(this);this.cp=null;this.mK=250;this.hf();(0,window.setTimeout)((0,z.t)(this.update,this))};var av=function(a,b,c){b.o().g(a,"update",function(a){Ou(b)&&c(a.target.size)&&b.dispatchEvent("nearbottom")})};var bv=function(a,b,c){var d=cv;d.ha.g(d,"update",function g(){a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.ha.Ja(this,"update",g))})};
var dv=function(a){z.C.extend(this.J={},this.defaults,a||{});this.content="";this.zc=this.Qe=this.Re=null;this.zd=!1;this.valid=!0};var ev=function(a){Vu.call(this,a)};var fv=function(){};var gv=function(a,b,c){z.Kh.call(this,a,c||fv.S(),b);z.Nh(this,1,!1);z.Nh(this,2,!1);z.Nh(this,4,!1);z.Nh(this,32,!1);this.U=1};var hv=function(){this.Ku=[]};var iv=function(a,b){var c=a.Ku[b];if(!c){switch(b){case 0:c=a.O()+"-highlight";break;case 1:c=a.O()+"-checkbox";break;case 2:c=a.O()+"-content"}a.Ku[b]=c}return c};
var jv=function(a,b,c){a=iv(a,2);return c.B("div",a,b)};var kv=function(a,b){var c=a.W(b);if(c){var c=c.firstChild,d=iv(a,1);return!!c&&z.H.has(c,d)}return!1};var lv=function(a,b,c,d){d!=kv(a,c)&&(z.H.enable(c,"goog-option",d),c=a.W(c),d?(a=iv(a,1),c.insertBefore(b.M().B("div",a),c.firstChild||null)):c.removeChild(c.firstChild))};var mv=function(a,b,c,d){z.Kh.call(this,a,d||hv.S(),c);this.Fa(b)};var nv=function(){};var ov=function(a){z.ul.call(this,z.tl.S(),a)};
var pv=function(a,b){z.ju.call(this,z.Tr,b||nv.S(),a);this.Ne(!1)};var qv=function(a,b,c,d){Zt.call(this,a,b,c||d);(c||d)&&this.em(65|(d?32:132))};var rv=function(){};var sv=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==z.Fa(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):z.Ga(f);break}}else break;c=d}};var tv=function(){};
var uv=function(a,b,c){return c.B("div","goog-inline-block "+(b+"-caption"),a)};var vv=function(a,b,c,d){z.Rh.call(this,a,c||tv.S(),d);z.Nh(this,64,!0);this.El=new qv(null,5);b&&this.gh(b);this.aF=null;this.ra=new z.jd(500);!z.Pq&&!z.bh||z.w("533.17.9")||(this.Pr=!0)};var wv=function(a){a.aF=new z.sf(7,0,7,0)};var xv=function(a){a.El.em&&a.El.em(33)};
var yv=function(a){if(a.ua.Da){var b=a.El;a.El.element=a.WP||a.m();var c=a.ua.m();a.ua.T()||(c.style.visibility="hidden",z.R(c,!0));!a.zs&&a.El.wn&&a.El.wn()&32&&(a.zs=z.Uf(c));b.ba(c,b.Gf^1,a.aF,a.zs);a.ua.T()||(z.R(c,!1),c.style.visibility="visible")}};var zv=function(a,b,c){var d=a.o();c=c?d.g:d.Ja;c.call(d,b,"action",a.Cn);c.call(d,b,"highlight",a.zw);c.call(d,b,"unhighlight",a.Hw)};var Av=function(){z.J.call(this)};
var Bv=function(a,b,c){z.S.call(this);this.type=a;this.id=b;this.su=c||Cv[a]||"other_report"};var Dv=function(a,b){if(a.type&&a.id&&!(0,window.$)(b).hasClass("goog-menu-button")){var c=new vv("report",new pv);c.Zj=!0;c.hc=z.Dq;c.w(b);z.Ec(c,a);a.$E=c;z.Ld(a.o(),c.m(),["mouseover","focus"],z.Wg(a.UM))}};
var Ev=function(a,b){window.$.get("/report/reported",{type:"question",id:a.id},window.$.proxy(function(a){if(a.r)z.T(a.msg);else if(a.reported)z.T(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5");else{a=new Fv(this.type,this.id);var d=(0,z.Hn)(a.SC,{each:z.B.forEach,options:b,headnote:'\x3ca href\x3d"http://www.zhihu.com/question/19806261" class\x3d"zg-link-gray"\x3e\u77e5\u4e4e\u63d0\u95ee\u89c4\u8303\x3c/a\x3e'});a.Kk("\u9700\u8981\u8fdb\u4e00\u6b65\u4fee\u6539",d);a.Vp(b)}},a))};
var Fv=function(a,b){z.J.call(this);this.type=a;this.id=b};var Gv=function(){z.J.call(this);this.lf="zm-pm-item"};var Hv=function(a){var b=new z.U(!0);b.on("success",function(){var a=z.fe(b);a.r?z.T(a.msg):window.location.reload()});b.ajax("/inbox/delete","type\x3dthread\x26token\x3d"+a)};var Iv=function(){z.J.call(this);this.lf="zm-pm-item"};var Jv=function(a){if(a.Bb().length){var b=new ev;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a.as)}};
var Kv=function(a,b){z.ch("\u5220\u9664\u79c1\u4fe1","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u5c01\u79c1\u4fe1\u5417\uff1f",function(a){a&&Lv(this,b)},a)};var Lv=function(a,b){var c=new z.U(!0);z.Ld(a.o(),c,"success",function(){var a=z.fe(c);a.r?z.T(a.msg):window.location.reload()});c.ajax("/inbox/delete","type\x3dsingle\x26token\x3d"+b)};var Mv=function(a,b,c){z.S.call(this);this.offset=this.Oe=0;this.hR=c;this.BK=a;this.url=b||window.location.href;this.Wf="zm-item";this.params={}};
var Nv=function(a,b){a.url=b};var Ov=function(a,b){b?a.yk.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\u6b63\u5728\u52a0\u8f7d').prop("disabled",!0):a.yk.html("\u66f4\u591a").prop("disabled",!1)};var Pv=function(a,b){a.nr=b};var Qv=function(a){var b=a.Bb();a.offset=a.Sx?a.Sx(b):b.length;if(a.nr)return b=a.nr(),z.R(a.cc,b),b;if(a.cc){if("-1"===a.yk.attr("data-next")||!b||10>b.length)return a.yk.hide(),!1;a.yk.removeClass("hidden").show()}return!0};
var Rv=function(a){a.dispatchEvent({data:{Rn:a.Rn,bA:a.bA},type:"afterload"})};var Sv=function(a){var b=a.Bb(),c;if(a.hR)if(a.cc&&(c=a.cc.getAttribute("data-next")),c)a.Oe=c;else if(b=z.B.$d(b))a.Oe=a.aG(b)};var Tv=function(a,b){z.B.forEach(b,function(a){var b=this.Lj(a);this.dispatchEvent({data:{item:a,FN:b},type:"itemcreated"})},a)};
z.Uv=function(a){z.J.call(this);this.h=a;a=z.x||z.F&&!z.w("531")&&"TEXTAREA"==a.tagName;this.R=new z.Kd(this);this.R.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var Vv=function(a){null!=a.ra&&(z.md(a.ra),a.ra=null)};var Wv=function(a){a=new z.Lc(a.Zb);a.type="input";return a};var Xv=function(a,b,c,d){z.J.call(this);this.Od=a;this.Hh=b;this.Qg=c;this.oC=d||Yv;this.qj=new z.Uv(a);z.K(this.qj,"input",this.po,!1,this);this.Ei()};var Zv=function(a,b,c,d){Xv.call(this,a,b,c,d)};
var $v=function(a,b){z.J.call(this);this.ga=null;this.lK=b;this.bR.apply(this,a);this.init()};var aw=function(a,b){bw||(bw=new $v(a,b))};
var cw=function(a){a.ga.Xa(a.rf.title);a.Ve[a.zf]||(a.fa=new z.U(!0),z.Ld(a.o(),a.fa,"success",a.cR),a.fa.ajax("/"+a.rf.type+"/"+a.rf.bS+"/sharetext","","GET"));z.y("zh-webshare-sina-pm").value=a.Ve[a.zf]&&a.Ve[a.zf].sina||"\u52a0\u8f7d\u4e2d...";a.$G.Ei();z.rl(a.rz);a.rz.Ft();var b=a.sk;b.bc.value=a.Ve[a.zf]&&a.Ve[a.zf].pm||"\u52a0\u8f7d\u4e2d...";b.rJ&&b.rJ.Ei();z.rl(b.cG);b.cG.Ft();z.R(b.Qc,!0);z.R(b.lg,!1);if("answer"===a.rf.type||"post"===a.rf.type)(0,window.$)(a.h).find("#tb-webshare-daily").parent().removeClass("zg-hide"),
a.Ve[a.zf]&&(0,window.$)(a.h).find(".tb-webshare-daily-title").html(a.Ve[a.zf].daily)};var dw=function(a,b){ew(a,b,b+"-content");a.EQ||(a.ga.ba(),a.EQ=!0)};var ew=function(a,b,c){c=z.y(c);b=z.y(b);z.B.forEach(a.OR,function(a){z.H.remove(a.parentNode,"active")});z.B.forEach(a.NR,function(a){z.R(a,!1)});z.H.add(b.parentNode,"active");z.R(c,!0)};var fw=function(a){var b=null;try{b=a.rules||a.cssRules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var gw=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ea(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.B.extend(b,gw(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.B.extend(b,gw(a[d]));else{var g=fw(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.B.extend(b,gw(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var hw=function(){this.gn="";this.eh=[]};
var iw=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.gn=d.join("")};var jw=function(a){this.ry=[];this.ou={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new kw(a[c]);b.push(d)}this.bi=b}};
var kw=function(a){var b=lw[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.fE=a;this.ZN=c;this.kH={};lw[a]=this};
var mw=function(a,b){var c=b.uid,d=a.kH[c];if("undefined"!=typeof d)return d;var f=a.ZN,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.zJ[g]&&(h=!1);return a.kH[c]=h};var nw=function(a){var b=z.ka(a),c=ow[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ka(d);var f={};if(a.className)for(var g=z.H.get(a),h=0;h<g.length;h++)f[g[h]]=1;d.zJ=f;c.unshift(d)}while(a=a.parentNode);this.sF=c;this.uid=z.ka(this);ow[b]=this};
z.pw=function(){z.J.call(this);this.jc=this.Ep()};var qw=function(a,b,c,d,f){this.HC=a;this.uz=b;this.Xp=c;this.MC=d;this.Gv=f||{}};var rw=function(a,b){this.CS=a;this.RB=b};
var sw=function(a,b,c,d){var f=[];a.Xp&&a.uz&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.Xp&&f.push("height:",a.MC?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.RB&&f.push(c.RB);z.O&&a.uz&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.tw&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.HC,'" style\x3d"min-width:0;');z.O&&a.Xp&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.uz?"100%":"auto"),a.MC?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.P&&f.push(";outline:hidden");for(var g in a.Gv)f.push(";"+g+":"+a.Gv[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var uw=function(a,b){z.J.call(this);this.Hg=this.id=a;this.kb=null;this.qd={};this.mj={};for(var c in z.vw)this.mj[c]=[];this.Qk="";this.hk={};this.hk[ww]=1;this.hk[z.xw]=1;this.Cq=new z.ji(this.mC,yw,this);this.Aq={};for(var d in zw)this.Aq[zw[d]]=0;z.O&&(this.oe=new z.ji(this.An,Aw,this));this.kc=new z.Kd(this);this.DS=[];this.Dj=z.Bw;this.Ml=z.ob(b||window.document);this.Nc=this.Ml.m(this.id);this.Dk=this.Ml.Ta()};
var Cw=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in Dw;return(a.ctrlKey||a.metaKey)&&a.keyCode in Ew||b};var Fw=function(a,b){a.Dj=2;a.wa=b;a.kb=z.ob(b);b.setAttribute("g_editable","true")};
var Gw=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.O&&b.metaKey&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=Cw(b)?!0:!(!z.O||b.ctrlKey||b.metaKey||z.O&&!b.charCode));a.nw=c;a.nw&&a.Gh();return!0};var Hw=function(a,b,c){var d={};a=a.Ks(8,b||"",d);z.wf(c,d);c.innerHTML=a};
var Iw=function(a,b){if(!b.altKey){var c=z.Qc?b.metaKey:b.ctrlKey;if(c||Jw[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&a.Qn(5,b,String.fromCharCode(d).toLowerCase(),c)&&b.preventDefault()}}};var Kw=function(a){var b;return a.pc()&&(b=a.kb)?(a=b.Ta())&&a.frameElement:null};z.Lw=function(a){return(a=a.kb&&a.kb.Ta())&&z.Nm(a)};
z.Mw=function(a,b,c){if(!Nw(a,"selectionchange")){var d=z.Lw(a),d=d&&d.Gb();a.kf=!!d&&z.Xb(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",tU:b&&b.type});a.Qn(4,b,c)}};z.Ow=function(a,b,c){b&&(a.oe&&z.nt(a.oe),a.hk[ww]=1);c&&(z.Pw(a),a.hk[z.xw]=1)};var Qw=function(a,b,c){!b&&a.oe&&z.nt(a.oe);a.hk[ww]=0;a.hk[z.xw]=0;b&&a.An();c&&a.mC()};var Nw=function(a,b){return!!a.hk[b]||a.Aq[b]&&500>=(0,z.Wa)()-a.Aq[b]};z.Pw=function(a){a.oe&&z.nt(a.oe);z.nt(a.Cq)};
var Rw=function(a){z.mc(a.target,"A")&&a.preventDefault()};z.Sw=function(a){var b=a.m();if(b){var c=z.Jt(b);b==c?z.Rm(b,0).select():z.Ys(c,!0);z.Mw(a)}};var Tw=function(a){if(!z.ea(a.ix)&&(a.ix=!1,z.x&&a.pc())){for(var b=a.Ml.Ta();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.ix="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.ix};z.Uw=function(a,b){uw.call(this,a,b)};
var Vw=function(a){if(a.Wo?0:a.Wo=!0){var b=Kw(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(Lu(b,"width"),10)!=h&&(f=z.eg(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.Sn()&&(0,window.parseInt)(Lu(b,"height"),10)!=g&&(f||(f=z.eg(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.Wo=!1;d&&a.dispatchEvent("ifrsz")}};var Ww=function(a){a.m()&&(Vw(a),a.Sn()||a.sz())};
var Xw=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.yc=new Yw(b)};var Yw=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var Zw=function(){z.J.call(this)};var $w=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.T(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.T("\u64cd\u4f5c\u6210\u529f\uff01"),c&&c(a))}})};
var ax=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.FK);return window.$.post("/manage",c).then(function(a){return z.ya("\u7528\u6237\u5df2\u88ab\u8b66\u544a %s \u6b21\uff0c\u7981\u8a00 %s \u6b21",a.warn_num,a.ban_num)})};var bx=function(a){z.S.call(this);z.C.extend(this.J={},this.defaults,a||{});this.Am=new z.od;this.Cf=null};
var cx=function(a,b){var c=a.J,d=new z.cp(c.trigger,!1,null,b);d.kt=c.lR;d.sr=c.EM;d.fh(a.Jm);z.K(d,"trigger",function(a){d.setPosition(new z.Ko(a.anchor,1))});z.K(d,"beforeshow",function(a){this.Cf=a.target.anchor;this.aa()},!1,a);d.className=c.oI;a.JM=d};var dx=function(a,b){var c=a.J.EN,d=z.Qb(a.Jm),f=z.B.find(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.H.has(f,c))return!1;z.B.forEach(d,function(a){z.H.remove(a,c)});z.H.add(f,c);return!0};
var ex=function(a,b,c,d){a.Am.set(b,{name:b,V:c,Sm:d||z.p})};z.fx=function(a){z.S.call(this);z.C.extend(this.J={},this.defaults,a||{})};var gx=function(a){var b=a.J,c=a.h;hx(c);b=ix(c,b.ND);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};var jx=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var kx=function(a,b){return jx(a,b,function(a){return lx(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};
var lx=function(a){return"A"===a.nodeName};var hx=function(a){var b=z.cc(a,function(b){return 3===b.nodeType&&!kx(b,a)}),c,d=z.Nm(),f=d&&z.Xl(d);z.B.forEach(b,function(a){var b=a.nodeValue,d=mx(b);d!==b&&(b=z.Gb(d),f===a&&(c=b.lastChild),z.Ob(b,a))});c&&z.Ys(c)};
var ix=function(a,b){var c=z.B.filter(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.B.contains(nx,a.protocol))b=z.gc(a),z.wa(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.B.map(c,function(c){return ox(c.href).done(function(f){px(a,c,f,b)})})};
var px=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.Nm();if(d){var f=d.Z(),D=d.xa(),E=d.ia(),M=d.Na();z.Xb(b,f)&&(f=a,D=0);z.Xb(b,E)&&(E=a,M=0);c(function(){f===a&&E===a?z.Ys(a):z.xm(f,D,E,M).select()})}else c(z.p)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",qx(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.bc(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Ob(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var qx=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" \u7684\u9875\u9762"};var mx=function(a){return a.replace(rx,function(a){z.wa(a,"http")||(a="http://"+a);return a.link(a)})};
var sx=function(a){var b=new bx({});ex(b,"link","\u94fe\u63a5",function(a){z.bc(a,a.href)});ex(b,"text","\u6587\u672c",function(a){z.bc(a,a.getAttribute("data-title"))});b.w(a);var c=b.ew();z.et(c,new z.sf(2,0,0,0));z.dt(c,new z.sf(2,0,0,0));var d=b.o();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.gc(a);c===a.href?dx(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),dx(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&lx(b))return!1});
var f;d.g(c,"show",function(a){f=a.target.anchor;z.H.add(f,"hover")}).g(c,"hide",function(){f&&(z.H.remove(f,"hover"),f=null)});return b};
var tx=function(a,b,c){z.S.call(this);this.id=a;this.type=b;this.wa=null;this.zd=this.Wg=!1;this.be="\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba\u2026";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.be+"\x3c/p\x3e";this.yj="";this.la=-1;this.PE=window.$.Deferred().resolve();this.xy=this.ds=null;this.BB="zm-comment-box";this.oh=null;a=ux[b];if(!a)throw Error("API not found");this.tg=window.$.extend({},ux._default_,a);this.Ym="";z.C.extend(this.J={},this.defaults,c||{})};
var vx=function(a,b){return z.kl(a,function(){return{sa:{question:"question_comment_"+b,answer:"question_answer_comment_"+b}[this.type]||!0,hd:!0}},function(){return this.Ym})};var wx=function(a,b,c){var d=z.A(a.BB,b);c&&(a.oh=c);d?a.w(d):(a.Wg=!0,a.aa(b))};var xx=function(a){z.C.forEach({QA:".load-more",Xm:".zm-comment-list",FB:".zm-comment-form",wa:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var yx=function(a){a.wa&&a.wa.setAttribute("aria-label",a.be);if(z.zn){var b=a.wa;b.setAttribute("contentEditable",!0);var c=a.Zk={m:function(){return b},hl:function(){return z.uj(b)?"":b.innerHTML},Fd:function(a,c){b.innerHTML=c},Sf:function(){z.au(b)}};a.Hr(c);a.Ir(c)}else zx(a);a.o().g(a.wa,["change","keyup"],function(a){27!==a.keyCode&&(z.bu(this.wa)?this.yj="":this.yj=this.hb())});Ax(a)};
var zx=function(a){var b=z.G("textarea",{placeholder:a.be,"class":"zm-comment-textarea"});z.Ob(b,a.wa);new z.ql(b,22);a.wa=b;a.Zk={m:function(){return b},hl:function(){return b.value},Fd:function(){b.value="";b.style.height=z.Hf(22,!0)},Sf:function(){b.focus()}}};
var Bx=function(a){var b=a.Zk,c=b.m();if(b.hl()!==a.placeholder){b.Fd(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Fd(!1,this.yj||"");this.wa.lastChild?z.Ys(this.wa.lastChild):b.Sf();z.ad(c,d,f,!1,this)};z.K(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.Xb(a.wa,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.wa.blur()}};var Cx=function(a){a.focus();a=z.Qm(a);a.collapse();a.select()};
var Dx=function(a){var b;(b=z.A("zm-comment-reply-hack"))?(b=z.Gb(z.ct(b)),z.H.fu(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.Mb(b,a)):(b="",z.V.sa()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.V.aL()+'"\x3e'),b=z.Gb('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"\u5199\u4e0b\u4f60\u7684\u56de\u590d"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e\u8bc4\u8bba\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var Ex=function(a){var b=window.location.hash.slice(1).split("-");if(b="comment"===b[0]&&b[1])a=Fx(a,b),z.cj(a),Qt(a)};var Fx=function(a,b){return z.B.find(Gx(a),function(a){return a.getAttribute("data-id")===b})};var Gx=function(a){return(0,window.$)(a.Xm).children(".zm-item-comment").get()};
var Hx=function(a){a.o().g(a.h,"click",a.ya).g(a.wa,"keydown",a.TO).g(z.Aj,"anon_change",a.bj).g(a.Zk.m(),["click","focus"],z.qa(a.jt,!0)).g(a.Zk.m(),"focus",z.qa(a.ni,"add_comment_start"));a.la=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.lf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.ah&&a.QA&&(a.xy=Au().then(window.$.proxy(a.OE,a)))};var Ix=function(a){0<a.Sa()?(a.yj=a.hb(),a.jt(!1),Bx(a)):a.oh?a.collapse():a.jt();a.Jf()};
var Jx=function(a){if(a.oh){var b=(0,window.$)(a.oh);a.$(a.YA).show().css("left",b.position().left+b.width()/2)}};var Kx=function(a){if("pending"!==a.PE.state()){a.mb();a.h.innerHTML=a.Gi();a.expand();var b=a.tg.il(a.id,a.J.ME).done((0,z.t)(a.vQ,a));return a.PE=b}};
var Ax=function(a){z.V.sa()?z.V.active||Lx(a,'\x3cdiv class\x3d"active-mask-tip-comment"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):Lx(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',
null)};var Lx=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.wa).hide().after(d).after(b)):b.insertAfter(a.wa);a=(0,z.t)(vx(z.p,"box"),a);b.on("click",a);d.on("click",a)};var Mx=function(a){xx(a);yx(a);Bx(a);Hx(a);Nx(a);Jx(a)};var Nx=function(a){var b=a.J,c=!a.Sa();z.H.enable(a.h,b.sv,c);c&&a.wa&&b.autofocus&&a.wa.focus();a.dispatchEvent("change")};
var Ox=function(a,b,c){if(!a.Ql||"pending"!==a.Ql.state()){var d;z.ja(b)&&(d=b.CQ,b=b.content);b=z.Ha(b);var f=new z.od;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.tg.add(f.At());b.done(window.$.proxy(a.jL,a)).done(c);a.Ql=b;a.yj=a.hb();a.ni("add_comment_submit")}};var Px=function(a,b){var c=z.mc(b,null,a.J.lf);(new Zw).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.t)(function(){z.I(c);--this.la;Nx(this)},a))};
var Qx=function(a,b){var c=z.mc(b,null,a.J.lf),d=c.getAttribute("data-id"),f="\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\u540c\u65f6\u5c06\u6b64\u4eba\u5c4f\u853d\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility",
"visible")}));var h=z.ch("\u5220\u9664\u8bc4\u8bba",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),Rx(this,d,Number(a),z.qa(z.I,c)))},a)};var Sx=function(a,b,c){a.tg.remove(b).done((0,z.t)(function(){z.ia(c)&&c();--this.la;Nx(this)},a))};var Rx=function(a,b,c,d){a.tg.WI(b,c).done((0,z.t)(function(){z.ia(d)&&d();--this.la;Nx(this)},a))};
var Tx=function(a){if(!a.el&&!z.bq.wc){var b=z.mc(a.h,null,"zm-item-meta");if(b){var c=z.A("zm-meta-panel",b);c&&(a.el=new z.$m(null,b),a.el.tag="comment",a.el.w(c))}}};var Ux=function(a){z.S.call(this);this.entryType=a};var Vx=function(a,b){return z.kl(a,b,function(){return this.un()})};var Wx=function(a){a=(0,window.$)(a);var b={};(0,window.$)("meta[itemprop]",a).each(function(){var a=(0,window.$)(this);b[a.attr("itemprop")]=a.attr("content")});return b};
var Xx=function(a){var b=(0,window.$)('.js-report, a[name\x3d"report"]',a.m()),c=a.entryType,d=a.lb;b.each(function(a,b){var h=(0,window.$)(b),l=new Bv(c,d);h.hasClass("goog-menuitem")?h.click(function(){l.WG()}):(Dv(l,b),z.Ec(l,this))})};var Yx=function(a,b){this.bo=this.Md=1;this.Xg=b||4;this.items=a||[];this.tB=[];Zx(this)};var $x=function(a,b,c){b=(b-1)*a.Xg;return a.items.slice(b,b+c)};
var ay=function(a,b){var c=$x(a,a.Md+1,1)[0];if(a.En()&&c){var d=a.remove(b);a.remove(c);a.items.splice(d,0,c);return c}};var Zx=function(a){a.bo=Math.ceil(a.items.length/a.Xg)};var by=function(a){Ux.call(this,a)};
var cy=function(a){a=(0,window.$)(a.m());var b=(0,window.$)(".js-list",a);(0,window.$)(".js-hidden-list",a);var c=(0,window.$)(".pager",a),d=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html((0,window.$)(".js-hidden-list").html()).children().add(b.children())),f=new Yx(d,4);f.Mc(function(a){c.find(".next").toggleClass("disabled",!a.En);c.find(".prev").toggleClass("disabled",!a.or)});(0,window.$)(".pager",a).on("click",".next:not(.disabled)",function(){f.next();b.html($x(f,f.Md,f.Xg))}).on("click",
".prev:not(.disabled)",function(){f.prev();b.html($x(f,f.Md,f.Xg))});a.on("click","[data-follow]",function(a){var b=(0,window.$)(a.target).closest(".item"),c=ay(f,b[0]);c&&b.fadeOut(function(){b.replaceWith(c)})})};var dy=function(a){Ux.call(this,a)};var ey=function(){Ux.call(this,"question")};var fy=function(a){bv(a.h,function(){gy("question",this.Jh,"touch")},a)};var hy=function(){Ux.call(this,"answer")};var iy=function(a){return z.A("zm-item-answer",a)||z.A("entry-body",a)};
var jy=function(a,b){(0,window.$)(".feed-question-detail-item",a.h).toggleClass("question-detail-expanded",b)};var ky=function(){Ux.call(this,"column")};var ly=function(a,b,c){z.S.call(this);this.lb=a;this.entryType=b||"answer";this.yd=null;this.J=window.$.extend({},this.defaults,c||{})};var my=function(a,b,c){var d=+a.jA.text(),f=0;c===ny.je?f=1:b===ny.je&&(f=-1);a.jA.text(d+f)};
var oy=function(a){var b={};b[ny.je]="vote_up";b[ny.qg]="vote_down";b[ny.zA]="vote_neutral";a.yd=("post"===a.entryType?py.gA:qy.gA)(a.lb,b[a.U]);return a.yd};
var ry=function(a){var b=a.U,c=a.J,d=b===ny.je,b=b===ny.qg,f=d?"\u53d6\u6d88\u8d5e\u540c":"\u8d5e\u540c",g=b?"\u53d6\u6d88\u53cd\u5bf9":"\u53cd\u5bf9\uff0c\u4e0d\u4f1a\u663e\u793a\u4f60\u7684\u59d3\u540d";a.Xt.toggleClass(c.Gs,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.Rt.toggleClass(c.Gs,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};
var sy=function(a){z.S.call(this);this.tp="votebar-mobile";this.lv="votebar-mobile-dialog";this.hA=a;this.PH=z.G("span","_votebar-holder")};var ty=function(a){var b=a.hA;z.Ob(a.PH,b.m());z.H.add(b.m(),a.tp);a.o().g(b,"action",function(){this.vb&&(0,window.setTimeout)((0,z.t)(function(){this.vb.G(!1)},this),150)})};var uy=function(){Ux.call(this,"post")};
var vy=function(a){var b=a.rt=new dv;a.L(b);z.Ec(a,b);a.o().g(b,"expand",function(){this.Ra(!0)});b.w(a.h);b.Gc()&&z.Ld(a.o(),b,"expand",a.Fx);bv(a.h,a.Fj,a)};var wy=function(a){var b=z.A("zm-item-vote-info",a.h);if(b){var c=new xy(a.lb,a.entryType);z.Ec(a,c);c.w(b);a.qb&&a.o().g(a.qb,"change",function(){c.Xj()}).g(c,"change",function(){var a=z.A("zm-item-vote-count",this.h),b=(0,window.$)(".zm-votebar .count",this.h)[0];a&&z.Vi(a,c.Sa());b&&z.Vi(b,c.Sa())})}};var yy=function(){Ux.call(this,"roundtable")};
var zy=function(a){var b=a.getAttribute("data-type");return(b={ac:by,p:uy,a:hy,q:ey,r:yy,c:ky}[b])?new b:iy(a)?new hy:new z.S};var Ay=function(a,b,c){Mv.call(this,a,b,c)};var By=function(){z.J.call(this);this.ga=null;this.ma=0;this.yx=[];this.$r=[];this.Oz="\u6700\u591a\u8f93\u5165 20 \u5b57";this.jv="\u6700\u591a\u8f93\u5165 256 \u5b57"};var Cy=function(a,b,c){a.ga||(a.ga=new z.Xg(null,!1),z.Sg(a.ga,null),a.ga.Xa(b||""),c&&(a.ga.W().innerHTML=c),a.o().g(a.ga,"afterhide",a.Jf))};
var Dy=function(a,b,c){var d=z.y("zh-fav-list-item-place-holder");d&&z.R(d,!1);a.yy=b[5]?"":z.G("span","zm-fav-list-item-lock",[z.G("i","icon icon-lock")]);d=z.G("span","zm-favo-list-item-title");z.bc(d,b[1]);d=z.G("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.yy,d,z.G("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e \u6761\u7b54\u6848 \x3cspan class\x3d"zg-bull"\x3e\u2022\x3c/span\x3e '+b[4]+" \u4eba\u5173\u6ce8"})]);a.yy&&a.yy.setAttribute("data-tip",
"s$t$\u79c1\u5bc6\u6536\u85cf\u5939");d.setAttribute("data-lid",b[0]);z.B.contains(a.$r,b[0])&&z.H.add(d,"zm-favo-list-item-link-active");b=z.A("zm-favo-list-item-link",a.Ng);c&&b?z.Lb(d,b):a.Ng.appendChild(d)};var Ey=function(a,b){if(a.ma!==b&&a.Ng){var c=z.vb("zm-favo-list-item-link",a.Ng);z.B.forEach(c,function(a){z.H.remove(a,"zm-favo-list-item-link-active")},a)}a.ma=b};
var Fy=function(a,b,c,d){var f=z.y("zh-fav-head-title"),g=z.y("zh-fav-head-description-source");b=b||(f?z.gc(f):"");c=c||(g?z.gc(g):"");a.VB=d||z.$q;Gy(a);a.ub();Hy(a,1);z.R(a.zz,!1);a.jq.innerHTML="\u53d6\u6d88";a.JA.innerHTML="\u4fdd\u5b58";a.ga.Xa("\u7f16\u8f91\u6536\u85cf\u5939");a.Aj.value=z.Pa(b);a.Bl.value=z.Pa(c);a.VB[1]?(z.R(a.fQ,!1),z.R(a.bQ,!1),z.R(a.HN,!1)):a.xN.setAttribute("checked",!0);a.YM=Iy(a);a.ga.G(!0);a.Or=!0};
var Jy=function(a){var b=z.vb("zm-favo-list-item-link",a.Ng);z.B.forEach(b,function(a){var b=a.getAttribute("data-lid");z.H.remove(a,"zm-favo-list-item-link-active");z.B.contains(this.$r,+b)&&z.H.add(a,"zm-favo-list-item-link-active")},a)};var Gy=function(a){a.tK?Jy(a):a.B()};
var Hy=function(a,b){var c=!!b;a.ga.Xa(0===b?"\u6dfb\u52a0\u5230\u6536\u85cf\u5939":"\u521b\u5efa\u65b0\u6536\u85cf\u5939");z.R(a.MN,!c);z.R(a.Uv,c);new z.Ek(a.Aj,a.Oz);new z.Ek(a.Bl,a.jv);if(1===b)(0,window.$)(a.Uv).on("change.FavoDiag","input, textarea, select",function(){a.Ze()});else(0,window.$)(a.Uv).off("change.FavoDiag"),a.Jf()};
var Iy=function(a){var b=new z.mj,c=z.Yi(a.Aj.value),d=z.Ia(a.Bl.value===a.jv?"":a.Bl.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.yN.checked?1:0);return b};var Ky=function(a){a.ga.G(!1);a.dispatchEvent(Ly);z.X.na({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.Ng).length}})};
var My=function(a){var b=a.type;if(!z.ea(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:null;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return z.ea(a.value)?a.value:null}};var Ny=function(a,b){var c=a.elements[b];if(c.type)return My(c);for(var d=0;d<c.length;d++){var f=My(c[d]);if(f)return f}return null};
var Oy=function(a,b,c){var d=new z.U(!0);d.addEventListener("complete",function(){var a;try{a=z.fe(this)}catch(d){}a&&!a.r&&z.ia(b)?b.call(this,a):z.ia(c)&&c.call(this,a.msg)});d.ajax("/people/edit","data\x3d"+(0,window.encodeURIComponent)(z.wc(a)))};var Py=function(a){z.J.call(this);this.h=a;a=z.Vb(this.h)?this.h:this.h?this.h.body:null;this.AN=!!a&&z.Nf(a);this.JE=z.K(this.h,z.O?"DOMMouseScroll":"mousewheel",this)};var Qy=function(a,b){return z.F&&(z.Qc||z.iq)&&0!=a%b?a:a/b};
var Ry=function(a,b,c,d){b&&this.init(b,void 0);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var Sy=function(){z.J.call(this)};var Ty=function(a,b){return null==a.gk?b:a.ho+Math.round((b-a.ho)/a.gk)*a.gk};var Uy=function(a){z.S.call(this,a);this.NA=null;this.Wa=new Sy;z.K(this.Wa,"change",this.zD,!1,this)};
var Vy=function(a,b){b?(a.o().g(a.ee,"beforedrag",a.ar).g(a.Qf,"beforedrag",a.ar).g(a.ee,["start","end"],a.lr).g(a.Qf,["start","end"],a.lr).g(a.rb,"key",a.ff).g(a.m(),"mousedown",a.dj),a.rE&&Wy(a,!0)):(a.o().Ja(a.ee,"beforedrag",a.ar).Ja(a.Qf,"beforedrag",a.ar).Ja(a.ee,["start","end"],a.lr).Ja(a.Qf,["start","end"],a.lr).Ja(a.rb,"key",a.ff).Ja(a.m(),"mousedown",a.dj),a.rE&&Wy(a,!1))};var Xy=function(a,b){var c=z.Qf(b,a.m());return"vertical"==a.Cb?c.y:a.Rd&&a.Dd()?a.m().clientWidth-c.x:c.x};
var Yy=function(a,b){var c=a.Hc(),d=a.Xc();if("vertical"==a.Cb){var f=a.ab.offsetHeight,g=a.m().clientHeight-f,f=Xy(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.ab.offsetWidth;g=a.m().clientWidth-f;f=Xy(a,b)-f/2;return(d-c)*f/g+c};var Zy=function(a,b){if(b==a.ab)return a.Wa.X();if(b==a.Ad)return a.Wa.X()+a.Wa.Nh();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};var $y=function(a,b){var c=Zy(a,a.ab)+b,d=Zy(a,a.Ad)+b,c=Pu(c,a.Hc(),a.Xc()-a.fo),d=Pu(d,a.Hc()+a.fo,a.Xc());az(a,c,d-c)};
var bz=function(a,b,c){var d=null;b==a.Ad&&c<=a.Wa.Xc()&&c>=a.Wa.X()+a.fo&&(d=c-a.Wa.X());var f=d||a.Wa.Nh();b==a.ab&&c>=a.Hc()&&c<=a.Wa.X()+f-a.fo&&(b=f-(c-a.Wa.X()),Ty(a.Wa,c)+Ty(a.Wa,b)==Ty(a.Wa,c+b)&&(az(a,c,b),d=null));null!=d&&a.Wa.Oo(d)};var az=function(a,b,c){a.Hc()<=b&&b<=a.Xc()-c&&a.fo<=c&&c<=a.Xc()-b&&(b!=a.X()||c!=a.Nh())&&(a.Wa.ms=!0,a.Wa.Oo(0),a.Wa.Fa(b),a.Wa.Oo(c),a.Wa.ms=!1,a.zD())};var cz=function(a,b){return b<=a.Wa.X()+a.Wa.Nh()/2?a.ab:a.Ad};
var dz=function(a){if(a.ab&&!a.Lr){var b=ez(a,Zy(a,a.ab)),c=ez(a,Zy(a,a.Ad));if("vertical"==a.Cb)a.ab.style.top=b.y+"px",a.Ad.style.top=c.y+"px",a.Qb&&(b=fz(c.y,b.y,a.ab.offsetHeight),a.Qb.style.top=b.offset+"px",a.Qb.style.height=b.size+"px");else{var d=a.Rd&&a.Dd()?"right":"left";a.ab.style[d]=b.x+"px";a.Ad.style[d]=c.x+"px";a.Qb&&(b=fz(b.x,c.x,a.ab.offsetWidth),a.Qb.style[d]=b.offset+"px",a.Qb.style.width=b.size+"px")}}};
var fz=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var ez=function(a,b){var c=new z.kb;if(a.ab){var d=a.Hc(),f=a.Xc(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Cb?(d=a.m().clientHeight-a.ab.offsetHeight,f=Math.round(f*d),c.x=gz(a,a.ab),c.y=d-f):(d=Math.round(f*(a.m().clientWidth-a.ab.offsetWidth)),c.x=d,c.y=a.ab.offsetTop)}return c};
var hz=function(a,b){b=Pu(b,a.Hc(),a.Xc());a.Lr&&a.vq.stop(!0);var c=new z.Eo,d,f=cz(a,b),g=a.X(),h=a.Nh(),l=Zy(a,f),n=ez(a,l);d=a.lw();Math.abs(b-l)<d&&(b=Pu(l+(b>l?d:-d),a.Hc(),a.Xc()));bz(a,f,b);l=ez(a,Zy(a,f));d="vertical"==a.Cb?[gz(a,f),l.y]:[l.x,f.offsetTop];n=new Fu(f,[n.x,n.y],d,100);n.Mf(a.Rd);c.add(n);a.Qb&&iz(a,f,g,h,l,c);a.NA&&(f=a.NA.OT(g,b,100),z.B.forEach(f,function(a){c.add(a)}));a.vq=c;a.o().g(c,"end",a.DK);a.Lr=!0;c.play(!1)};
var iz=function(a,b,c,d,f,g){var h=ez(a,c),l=ez(a,c+d);c=h;d=l;b==a.ab?c=f:d=f;"vertical"==a.Cb?(b=fz(l.y,h.y,a.ab.offsetHeight),h=fz(d.y,c.y,a.ab.offsetHeight),f=new Fu(a.Qb,[gz(a,a.Qb),b.offset],[gz(a,a.Qb),h.offset],100),b=new Du(a.Qb,b.size,h.size,100)):(b=fz(h.x,l.x,a.ab.offsetWidth),h=fz(c.x,d.x,a.ab.offsetWidth),f=new Fu(a.Qb,[b.offset,a.Qb.offsetTop],[h.offset,a.Qb.offsetTop],100),b=new Eu(a.Qb,b.size,h.size,100));f.Mf(a.Rd);b.Mf(a.Rd);g.add(f);g.add(b)};
var jz=function(a){var b=a.m();if(b){var c=a.Hc();z.sc(b,"valuemin",c);c=a.Xc();z.sc(b,"valuemax",c);a=a.X();z.sc(b,"valuenow",a)}};var Wy=function(a,b){b?(a.Ij||(a.Ij=new Py(a.m())),a.o().g(a.Ij,"mousewheel",a.uD)):a.o().Ja(a.Ij,"mousewheel",a.uD)};var gz=function(a,b){return a.Rd?z.lg(b):b.offsetLeft};var kz=function(a){Uy.call(this,a);this.Wa.Oo(0)};var lz=function(a){this.options=window.$.extend({},this.defaults,a)};var mz=function(a,b){a.zoom=b;nz(a,a.Ee.up/2+a.Ee.x,a.Ee.xn/2+a.Ee.y)};
var nz=function(a,b,c){var d=a.zoom;a.Ee={up:a.options.ng/d,xn:a.options.mg/d,x:b-a.options.ng/d/2,y:c-a.options.mg/d/2};oz(a)};var oz=function(a){var b=a.zoom,c=Pu(a.options.tm-a.Ee.x*b,a.options.ng+a.options.tm-a.wr*b,a.options.tm),d=Pu(a.options.um-a.Ee.y*b,a.options.mg+a.options.um-a.vr*b,a.options.um),f={width:b*a.wr,height:b*a.vr,left:c,top:d};a.xm.css(f);a.St.css(f);a.Ee.x=(a.options.tm-c)/b;a.Ee.y=(a.options.um-d)/b};
var pz=function(a,b,c){z.S.call(this);this.Pp=a||qz;this.zC=b;this.DG=c||"l"};var rz=function(){return!!window.FileReader};
var sz=function(a){a.xl=a.Qw=a.jj="";if(a.Ba)a.Ba.ba();else{a.Ba=new z.Xg(null,!1);a.Ba.Xa("\u4fee\u6539\u56fe\u7247");var b=new z.Vg;b.set(z.fh,"\u53d6\u6d88",!1,!0).set("yes","\u786e\u5b9a",!0);z.Sg(a.Ba,b);a.o().g(a.Ba,z.Ug,function(a){if("yes"===a.key){if(rz()){var b=this.Zu;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.ng);a.attr("height",b.options.mg);var f=a[0];(0,window.$)(window.document.body).append(f);var g=a[0].getContext("2d"),h=b.Ee;g.drawImage(b.xr,h.x,h.y,
h.up,h.xn,0,0,b.options.ng,b.options.mg);b=f.toDataURL("image/png");a.remove();a=b}else a=this.Zu.Ee;this.jj=a;tz(this);this.Ba.G(!1);return!1}})}uz(a.Ba.W());a.Ba.G(!0);z.H.add(a.Ba.h,"avatar-edit-dialog")};var vz=function(a){var b=a.input.cloneNode();z.Ob(b,a.input);a.input=b;a.o().g(a.input,"change",a.Mc)};
var tz=function(a){if(a.jj&&(rz()||a.Qw)){a.dispatchEvent("beforepost");var b={type:a.Pp,dest_id:a.Pp===qz?z.V[3]:a.zC,return_size:a.DG};if(rz()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",wz(a.jj.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.$z,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.QB,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.jj.x),y:Math.round(a.jj.y),height:Math.round(a.jj.xn),width:Math.round(a.jj.up),hashval:a.Qw}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.$z+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var uz=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\u6b63\u5728\u4e0a\u4f20...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var wz=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),l=0;l<g.length;l++)h[l]=g.charCodeAt(l);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
var xz=function(){z.S.call(this)};var yz=function(a){z.R(z.y("zh-setting-page-bind-sina-binded-wrap"),!!a);z.R(z.y("zh-setting-page-bind-sina-tobind-wrap"),!a)};var zz=function(a){z.R(z.y("zh-setting-page-bind-qqconn-binded-wrap"),!!a);z.R(z.y("zh-setting-page-bind-qqconn-tobind-wrap"),!a)};var Az=function(a){z.S.call(this);this.PP=a};var Bz=function(a){return z.B.every(a.ie,function(a){return!!a.value})};var Cz=function(a){z.B.forEach(a.ie,function(a){a.value=""});a.ie[0].focus()};
var Dz=function(a,b,c,d,f){this.Ge=a=new z.qk(a,!f);c=new z.vk(c);d=new z.Uj(null,null,!!d,300);z.Hj.call(this,a,c,d);d.ca=this;d.Ek(b);(d=b.getAttribute("placeholder"))&&new z.Ek(b,d)};var Ez=function(){z.S.call(this)};
var Fz=function(a){var b=z.A("profile-edit-avatar-btn");if(b){a.tu=new pz(qz);var c=a.tu;c.w(b);a.o().g(a.tu,"beforepost",function(){(0,window.$)(".zm-avatar-editor-preview").parent().append((0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e"))});a.o().g(a.tu,"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:c.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),
z.T("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),(0,window.$)("img.zm-avatar-editor-preview").attr("src",c.getData().url))})})}};var Gz=function(){this.ry={}};var Hz=function(){this.Ni="editing";z.S.call(this)};var Iz=function(a,b,c){z.bq.wc&&null==window.navigator.userAgent.match(/iPad/i)||(a=(0,window.$)(".item",a.K).index(b),b.siblings().eq(a-a%2).height(c?"auto":b.height()))};var Jz=function(){z.S.call(this)};var Kz=function(){z.S.call(this)};
var Lz=function(){z.J.call(this);this.Wf="zm-item";this.PQ=!0};var Mz=function(a,b){a.o().g(b,"next",a.refresh)};var Nz=function(){this.Rv=["zg-btn-follow","zg-btn-unfollow"];this.Sv="people"};var Oz=function(a,b,c,d){z.J.call(this);this.Od=a;this.Hh=b;this.Qg=c;this.oC=d||Pz;a.maxLength=c;this.qj=new z.Uv(a);z.K(this.qj,"input",this.po,!1,this);this.Ei()};var Qz=function(a){z.J.call(this);this.ga=null;this.oa=a;this.Ws=0;this.jG=""};
var Rz=function(a,b){var c=z.vb("zm-menu-item-link",a.TF);z.B.forEach(c,function(a,c){z.R(a,!z.B.contains(b,c))},a)};var Sz=function(){z.J.call(this)};
var Tz=function(a){a.o().g(a.dl,"change",function(){var a=this.dl.value;this.Cy.value="no"===a?"":Uz.Zt[+a][1]}).g(a.Wm,"click",function(a){"cancel"===a.target.name?this.ga.G(!1):this.Cy.value&&"no"!==this.dl.value&&(this.Nv=new z.U(!0),this.o().g(this.Nv,"complete",function(){var a=z.fe(this.Nv);a&&!a.r?(this.zi.innerHTML="\u5df2\u7ecf\u6807\u8bb0",this.ga.G(!1)):z.T(a.msg)}),a=z.Yi(this.Cy.value),this.Nv.ajax("/answer/flag","answer_id\x3d"+this.nI+"\x26flag\x3d"+this.dl.value+"\x26reason\x3d"+(0,window.encodeURIComponent)(a)))})};
var Vz=function(a){function b(){var b;Wz||(Wz=new Sz,Wz.init());b=Wz;b.zi=a;b.nI=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;Xz||(Xz=new Qz,Xz.init());c=Xz;c.zi=a;c.oa=a.id.split("-")[1];"redirect"===b?c.show():(z.hh("/question/unredirect",null,"POST","qid\x3d"+c.oa+"\x26rqid\x3d"+c.Ws),c.zi.innerHTML="\u91cd\u5b9a\u5411\u5df2\u64a4\u9500",c.zi.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=
(new z.jk).add("revision",g).add("reason",f),D=new z.U(!0);D.on("success",function(){var a=z.fe(D);a.r?z.T(a.msg):(c.G(!1),a.msg?window.location.href=a.msg:window.location.reload())});D.ajax("/revert",f.toString())}var c=z.ch("\u64a4\u9500",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0" placeholder\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),
!1}),d=z.A("content",c.W());new z.Ek(d);new z.ql(d,48);new Oz(d,null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};var Yz=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){Vz(this)})};var Zz=function(){z.S.call(this)};
var $z=function(a){var b=z.y("zh-profile-ask-list");if(b){var c=new ev({use:["autoload","locationSource"],ih:!1});a.L(c);c.w(b);if(a=z.A("zm-profile-section-list"))b=new Lz,b.hi("zm-profile-section-item"),Mz(b,c),b.init(a)}};var aA=function(a){var b=(0,window.$)("#zh-profile-log-list").get(0);if(b){var c=new ev;c.use("locationSource",{As:!0});a.L(c);c.w(b);Yz(b);(0,window.$)(b).on("click",'a[name\x3d"report"]',function(){(new Bv("activity",(0,window.$)(this).data("id"))).submit();return!1})}};
var bA=function(a){var b=(0,window.$)("#zh-profile-fav-list \x3e .zh-general-list").get(0);if(b){var c=new ev({use:["autoload","nodeSource"],ih:!1});a.L(c);c.w(b)}};
var cA=function(a){var b=z.y("zh-profile-topic-list");if(b){var c=new ev({use:["autoload","locationSource"]});a.L(c);a.o().g(c,"itemcreated",function(a){a=a.item;var b=a.getAttribute("data-tid").split("-")[1];if(z.V.He===z.Vn[3]){var c=new z.vn(!0,"/topic/bio/update","bio");c.Ht=!0;c.params=["tid\x3d"+b];c.Mb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u4f60\u5728\u8be5\u8bdd\u9898\u7684\u7ecf\u9a8c\x3c/a\x3e';c.w(a)}});c.w(b);if(a=z.A("zm-profile-section-list"))b=new Lz,b.hi("zm-profile-section-item"),
Mz(b,c),b.init(a)}};var dA=function(a){var b=(0,window.$)("#zh-profile-column-list \x3e .zh-general-list").get(0);if(b){var c=new ev({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var eA=function(a){var b=(0,window.$)("#zh-profile-follows-list \x3e .zh-general-list").get(0);if(b){var c=new ev({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var fA=function(a){var b=(0,window.$)("#zh-profile-follows-list-old").get(0);if(b){var c=new ev({use:["autoload","locationSource"]});a.L(c);c.w(b)}};
var gA=function(a){var b=(0,window.$)("#zh-profile-answer-list \x3e .zh-general-list").get(0)||(0,window.$)("#zh-profile-answer-list").get(0);if(b){var c=new ev({ih:!1});a.L(c);c.use("childConstructor",{Hi:hy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category","profile").fill("label","profile_answers_list")});if(a=z.A("zm-profile-section-list"))b=new Lz,Mz(b,c),b.init(a)}};
var hA=function(a){var b=z.y("zh-profile-page-force-to-rename");(a.Tv=b)&&a.o().g(b,"click",a.aS)};var iA=function(a){var b=z.y("zh-profile-activity-wrap");b&&a.o().g(b,"click",function(a){if((a=a.target)&&"focus"===a.name){var b=a.getAttribute("data-type");(0,z.Fs)(a,b,null,["zm-profile-follow-link-gray","zm-profile-unfollow-link-gray"])}})};
var jA=function(a){var b=z.y("zh-profile-activity-page-list");if(b){var c=new ev({use:["expandLimit"],ih:!0});c.use("locationSource",{url:"/people/"+z.Vn[1]+"/activities",Yr:10,param:function(a){return{start:z.B.$d(a).getAttribute("data-time")}}});c.use("childConstructor",{factory:zy});a.L(c);c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category","profile").fill("label","profile_feed")})}};
var kA=function(){var a=z.A("zm-profile-header-operation");a&&(new Nz).w(a);(a=z.A("zm-profile-header"))&&(new Jz).w(a)};
var lA=function(a){var b=z.A("zm-profile-answer-sort");b&&(a.vh=new pv,a.vh.Ka(a.NI=new mv("\u6309\u65f6\u95f4\u6392\u5e8f")),a.vh.Ka(a.OI=new mv("\u6309\u6295\u7968\u6392\u5e8f")),a.vh.Ka(a.MI=new mv("\u95ee"+z.V[0]+"\u7684\u95ee\u9898")),a.vh.aa(b),a.vh.G(!1),a.o().g(b,"click",function(a){this.vh.G(!0);a.stopPropagation();z.Ld(this.o(),window.document,"click",function(){this.vh.G(!1)})}),a.o().g(a.vh,"action",a.lM))};
var mA=function(a,b){var c=new z.U(!0);z.Ld(a.o(),c,"complete",function(){window.location.reload()});c.ajax("/people/"+z.Vn[1]+"/block","action\x3d"+(b?"add":"cancel"))};var nA=function(){var a=z.y("zm-profile-details-editform");a&&(new Ez).w(a)};var oA=function(a){var b=z.A("zm-profile-fav-wrap");b&&a.o().g(b,"click",a.IK)};
var pA=function(a){a.Sy=z.y("zh-profile-search-form");if(a.Sy){qA(a);a.ak=a.Sy.getAttribute("data_type");a.o().g(a.Sy,"submit",a.search);z.K(window,"popstate",function(a){a=a.state;var b;a&&a.q&&(b=z.y("zh-profile-search-query"),b.value=(0,window.decodeURIComponent)(a.q),rA(this,a.type),this.search(void 0,!1),b.focus())},!1,a);var b=(new z.dk(window.location)).ld().get("pq"),c=(new z.dk(window.location)).ld().get("type");c||(c="all");if(b&&c){var d=z.y("zh-profile-search-info");d&&z.R(d,!0);rA(a,
c);z.y("zh-profile-search-query").value=b;a.search(void 0,void 0,!1)}}};var qA=function(a){var b=z.y("zh-profile-search-type");b&&a.o().g(b,"click",a.fP)};var rA=function(a,b){var c=z.vb("zm-profile-search-type-item");if(c)for(var d=0;d<c.length;d++)z.H.remove(c[d],"current"),c[d].name===b&&z.H.add(c[d],"current");a.ak=b};var sA=function(){var a=z.y("zh-profile-edit-expert");a&&(new tA).w(a)};
var uA=function(a){var b=z.A("profile-expert-tip");b&&a.o().g(b,"click",function(a){var d=a.target;"enable"!==d.name&&"close"!==d.name||window.$.post("/node/ProfileExpertTopicsV2",{method:d.name},function(a){a&&a.r||("enable"===d.name?window.location.href="/people/edit/expert":z.Wi(b,!0))})});(0,window.$)(".zm-profile-section-wrap.skilled-topics").each(function(){(new Hz).w(this)});(0,window.$)(".zm-profile-module.skilled-topics").each(function(){(new Hz).w(this)});(0,window.$)(".zm-profile-module.active-topics").each(function(){(new Hz).w(this)})};
var tA=function(){z.S.call(this)};var vA=function(){z.S.call(this)};var wA=function(a){var b=window.$.Deferred();z.ch("\u53d6\u6d88\u5c4f\u853d",a,function(a){a?b.resolve():b.reject()});return b.promise()};
var xA=function(a){var b=(0,window.$)(".blocked-users",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);wA("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\uff1a\u5173\u6ce8\u4f60\u3001\u7ed9\u4f60\u53d1\u79c1\u4fe1\u3001\u5411\u4f60\u63d0\u95ee\u3001\u8bc4\u8bba\u4f60\u7684\u7b54\u6848\u3001\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002").then(function(){return window.$.post("/settings/unblockuser",{uid:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});
b.children().length||window.location.reload()})})};
var yA=function(a){var b=(0,window.$)(".blocked-columns",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);wA("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u4f60\u5c06\u53ef\u4ee5\u770b\u5230\u6765\u81ea\u8be5\u4e13\u680f\u7684\u6587\u7ae0\u3002").then(function(){return window.$.post("/settings/unblockcolumn",{id:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});b.children().length||window.location.reload()})})};
var zA=function(){z.S.call(this)};
var AA=function(){function a(a,c){var d={method:"save",params:{settings:a}};window.$.extend(d.params,z.fr.settings_unsubscribe_formdata);window.$.post("/node/NotiEmailSettingsV2",d,function(a){var b;a.r?b="error":(c&&c(),b="success");var d=(0,window.$)(".settings-msg-"+b);d.length?d.show():(d=(0,window.$)('\x3cdiv class\x3d"settings-msg-'+b+'"\x3e'+a.msg+"\x3c/div\x3e"),d.appendTo((0,window.$)("body")));d.delay(1E3).fadeOut()})}(0,window.$)('.settings-receive input[type\x3d"radio"]').on("change",function(){if(this.checked){var b=
(0,window.$)(this),c={type:b.closest(".settings-item").data("type"),noti:b.val()};"no"===c.noti?a(c,function(){b.closest(".settings-receive").next(".settings-mail").addClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!0)}):a(c,function(){b.closest(".settings-receive").next(".settings-mail").removeClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!1)})}});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),
mail:this.checked};a(b)});(0,window.$)("#settings-fast-answer").on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),fast:this.checked};a(b)});(0,window.$)(".settings-msg-disappear").delay(3E3).fadeOut()};
var BA=function(){var a=(0,window.$)(".js-ajax-form");a.submit(function(b){var d=(0,window.$)(b.target);b=d.attr("action")||window.location.href;window.$.post(b,d.serialize()).done(function(b){z.cq(z.C.Pa(b),5E3);d.hasClass("unsubscribe")&&(a.remove(),(0,window.$)(".settings-section").remove())});return!1});(0,window.$)(".js-unsubscribe-other-reason").on("change",function(a){(0,window.$)(a.target).parent().siblings().find(".zg-form-text-input").toggle()});var b=(0,window.$)(".feedback-form");b.submit(function(){var a=
b.attr("action");window.$.post(a,b.serialize()).done(function(){b.before('\x3cdiv style\x3d"font-size:13px;color:black;margin-bottom:20px"\x3e\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01\x3c/div\x3e\x3ca href\x3d"/"\x3e\x26laquo; \u8fd4\u56de\u77e5\u4e4e\x3c/a\x3e');b.remove()});return!1})};
var CA=function(){var a=(0,window.$)("#js-form-account-password");a.length&&((0,window.$)("input[placeholder]",a).each(function(){new z.Ek(this)}),a.validate({messages:{np:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65b0\u5bc6\u7801\u672a\u586b\u5199'},op:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65e7\u5bc6\u7801\u672a\u586b\u5199'},rp:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u786e\u8ba4\u5bc6\u7801\u672a\u586b\u5199'}},errorClass:"validate-error"}))};
var DA=function(){(0,window.$)("#weibopageenable").on("change",function(a){window.$.post("/node/SettingsWeiboPageV2",{method:a.target.checked?"enable":"disable"}).done(function(a){a.r?z.T(a.msg):z.cq([!1,"\u4fdd\u5b58\u6210\u529f"])});return!1})};var EA=function(){var a=z.y("zh-setting-page-black-list-wrap");a&&(new vA).w(a)};
var FA=function(){var a=(0,window.$)("#js-settings-account-form");if(a.length){var b=z.Wg(function(){new z.Ek(z.y("password"))}),c=(0,window.$)("#url_token"),d=(0,window.$)("#js-url-preview .token");c.on("input change keyup",function(){d.text(window.$.trim(this.value))});var f=(0,window.$)("#email"),g=function(){(0,window.$)("#js-email-confirm").removeClass("hidden");f.off("focus",g);b()};f.one("focus",g);(0,window.$)(function(){window.document.activeElement===f.get(0)&&g()});(0,window.$)(".resend-mail",
a).click(function(){var a=(0,window.$)(this);z.Aj.dispatchEvent("/activation/resend-email");window.$.post("/settings/resend_reset_email",function(b){b.r?z.T(b.msg):a.replaceWith("\u5df2\u53d1\u9001")});return!1});GA(a);var c=new z.Ap,h=(0,window.$)(".rename-tab",a);c.w(h.get(0));var l=function(){(0,window.$)("input[placeholder]:visible",h).placeholder()};c.on("select",l);var n=(0,window.$)(".rename-button",a),a=function(){n.remove();h.removeClass("hidden");l()};n.one("click",a);"#rename-section"===
window.location.hash&&a()}};var GA=function(a){(0,window.$)(".zg-form-text-input",a).each(function(){function a(){this.value!==this.defaultValue&&(d.hide(),c.off("change input keyup",a))}var c=(0,window.$)(this),d=c.next(".validate-error");if(d.length)c.on("change input keyup",a)})};var HA=function(a,b,c,d,f){Mv.call(this,a,b,f);this.Pv=c||"people";this.QK=d||["zg-follow","zg-unfollow"]};
var IA=function(a,b,c,d){z.J.call(this);this.h=a;this.Pv=b||"people";this.PK=c||["zg-btn-follow","zg-btn-unfollow"];this.text=d||["\u5173\u6ce8","\u53d6\u6d88\u5173\u6ce8"]};var JA=function(a){z.J.call(this);this.url=a||"/topic"};
var KA=function(a,b,c){var d=c[0],f="";"topic"!==d[0]&&d[3]&&(f='data-parent\x3d"'+d[3]+'"');b.html('\x3ca href\x3d"'+("topic"===d[0]?"/topic/"+d[2]+"/organize/entire":"javascript:;")+'" data-token\x3d"'+d[2]+'" '+f+' name\x3d"'+d[0]+'"\x3e'+d[1]+"\x3c/a\x3e\x3cul class\x3d'zm-topic-organize-list'\x3e\x3c/ul\x3e");"topic"!==c[0][0]&&b.addClass("zm-topic-organize-loadmore");b=(0,window.$)("ul",(0,window.$)(b));if(1<c.length)for(c=c[1],d=0;d<c.length;d++){var f=c[d],g=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");
b.append(g);KA(a,g,f)}};
var LA=function(a){var b={jp:!1,wU:!1};return function(c){if(!1===c)return!1;c={};z.C.extend(c,b,a||{});if(c.jp&&!z.V.pr)return z.gh("\u63d0\u793a\u4fe1\u606f",'\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'),!1;if(c.Rl&&!z.Wq.yK)return z.gh("\u63d0\u793a\u4fe1\u606f",'\x3cp\x3e\u521b\u5efa\u8f83\u4e45\u6216\u5df2\u6709\u8f83\u591a\u8ba8\u8bba\u7684\u95ee\u9898\u9650\u5236\u516c\u5171\u7f16\u8f91\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u95ee\u9898\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e\x3c/p\x3e'),!1}};
var MA=function(a,b,c){z.vn.call(this,a,b,c)};var NA=function(){z.S.call(this);var a=z.Zq;this.vf=a[0][3];this.Qz=a[0];this.Wp=a[4];this.jx=a[5];this.Vg="topic"};var OA=function(){var a=z.y("zh-topic-log-list");a&&((new HA(a,null,null,null,!0)).init(),(0,window.$)(a).on("click",'a[name\x3d"revert"]',z.Se(function(a){!1!==a&&Vz(this)},LA({jp:!0}))).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new Bv("activity",(0,window.$)(this).data("id"))).submit();return!1}))};
var PA=function(a){if(z.y("zh-topic-admin-page-wrap")){var b=z.y("zh-topic-del-btn");b&&a.o().g(b,"click",a.FO)}};var QA=function(a,b){var c=z.tb("li",null,a.lu);z.B.forEach(c,function(a){a.getAttribute("data-token")===b[1]&&z.R(a,!1)})};var RA=function(a){var b=z.y("zh-topic-followers-list-wrap");b&&(a=["/topic",(0,window.encodeURI)(a.Qz[1]),"followers"].join("/"),b=new HA(b,a,null,["zg-btn-follow","zg-btn-unfollow"],!0),b.hi("zm-person-item"),b.init())};
var SA=function(a){var b=z.y("zh-topic-side-head");if(b){var c=z.A("zu-entry-focus-button",b);c&&a.o().g(c,"click",function(){(0,z.Fs)(c,"topic","",["zg-btn-green","zg-btn-white"])});a.$f=z.y("zh-topic-operation-menu");a.$f&&a.o().g(a.$f,"click",a.kz)}if(b=z.y("zh-current-topic-bio")){var d=new z.vn(!0,"/topic/bio/update","bio");ht(d,["tid\x3d"+a.vf]);d.Mb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u4f60\u5728 '+a.Qz[0]+" \u8bdd\u9898\u4e2d\u7684\u7ecf\u9a8c\x3c/a\x3e";d.iC=!0;d.w(b)}};
var TA=function(a){z.Jb(a,z.Gb('\x3ca href\x3d"/question/23261456" class\x3d"zg-link-gray-normal"\x3e\x3ci class\x3d"icon-info" style\x3d"vertical-align: -3px; margin-right: 6px"\x3e\x3c/i\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'))};
var UA=function(a){if(z.y("zh-topic-organize-page-wrap")){var b=z.y("zh-topic-organize-parent-editor");if(b)if(z.V.pr){var c=new Kt(null,a.vf,!0);c.ps=!0;c.w(b);c.addEventListener("remove_tag",function(a){(a=a.data&&a.data.id)&&(0,window.$)("#wedge-"+a).remove()})}else TA(b);if(b=z.y("zh-topic-organize-child-editor"))z.V.pr?(c=new Kt(null,a.vf,!1),c.ps=!0,c.w(b),(0,window.$)("a.entire-link").insertAfter(c.kn).show()):TA(b);(0,window.$)("#zm-topic-manage-relation").on("change",'[type\x3d"checkbox"]',
function(){var a=(0,window.$)(this).closest("li").attr("id").split("-")[1];window.$.post("/topic/update",{action:"set_topic_edge",parent_topic_id:a,topic_id:z.Zq[0][3],edge:this.checked^0}).done(function(a){a&&a.msg&&z.T(a.msg)})});a.ku=z.y("zh-topic-alias-input");new z.Ek(a.ku,"\u8f93\u5165\u8bdd\u9898\u522b\u540d");a.lu=z.y("zh-topic-alias-list");a.o().g(z.y("zh-topic-alias-container"),"click",a.sP);if(b=z.y("zh-topic-merge"))a.Qa=new iu,a.Qa.w(b);(b=z.y("zh-topic-merge-btn"))&&a.o().g(b,"click",
a.XO)}};var VA=function(){var a=z.y("zh-topic-organize-page-children");a&&(new JA("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+"/organize/entire")).w(a)};var WA=function(a){var b=z.y("zh-topic-side-related-topics");b&&(a.pQ=b,a.Gy=new z.U(!1),a.o().g(a.Gy,"complete",a.eP),a.Gy.ajax("/topic/related?tid\x3d"+a.vf))};
var XA=function(a){if(z.Np)(0,window.$)("div.topic-avatar").addClass("disabled");else{var b=z.A("zm-entry-head-avatar-edit-button");if(b){var c=new pz(2,z.Zq[0][3]);c.w(b);var d=z.A("zm-avatar-editor-preview");z.K(c,"beforepost",function(){(0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading topic'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e").appendTo(d.parentNode)});z.K(c,"success",function(){window.$.post("/topic/"+z.Zq[0][1]+"/avatar",{avatar_path:c.getData().id}).then(function(){d&&(d.src=
c.getData().url)}).always(function(){(0,window.$)(".avatar-edit-preview-loading").remove()})});a.o().g(c,"beforeopen",z.Se(LA({jp:!0}),z.kl(z.p,!0)))}}};var YA=function(a){ZA(a);$A(a);a.Va&&a.o().g(a.Va,"afterload",function(b){z.X.na({type:"ga_click_topic_more",data:b.data,target:a.Va.cc})})};
var ZA=function(a){var b=z.y("zh-topic-feed-list");if(b){var c=new ev;a.L(c);c.use("locationSource",{Yr:0,offset:function(a){return z.B.$d(a).getAttribute("data-score")}});c.use("childConstructor",{factory:zy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category",this.Vg).fill("label","topic_activity")})}};
var $A=function(a){var b=z.y("zh-topic-top-page-list");if(b){var c=new ev({ih:!1});a.L(c);c.use("childConstructor",{factory:zy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category",this.Vg).fill("label","topic_activity")})}};
var aB=function(a){function b(a){a&&a.msg&&z.T(a.msg)}a.Dr=z.y("zh-topic-info-add");a.Dr&&a.o().g(a.Dr,"submit",a.SO);a.$D=z.A("zm-topic-info-content-main",a.h);a.$D&&a.o().g(a.$D,"click",a.QO);(0,window.$)("#zh-topic-manage-info-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/"+z.Zq[0][1]+"/information/manage",{info:(0,window.$)(this).val(),action:"change"}).done(b)});(0,window.$)("#zh-topic-manage-relation-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/update",
{action:"set_topic_weaknode",topic_id:z.Zq[0][3],weak:(0,window.$)(this).val()}).done(b)});(0,window.$)("#zh-topic-manage-lock-form").on("change",'[type\x3d"checkbox"]',function(){window.$.post("/topic/lock",{url_token:z.Zq[0][1],lock_type:this.name,lock_value:(0,window.$)(this).is(":checked")?1:0}).done(b)})};var bB=function(a){z.S.call(this,a)};var cB=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"day"})})};
var dB=function(a){return window.$.get("/node/ExploreHotFavlistsInnerV2",{params:JSON.stringify({offset:a})})};var eB=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"month"})})};var fB=function(){z.J.call(this)};var gB=function(){z.S.call(this);var a=z.$q||[0,0];this.Xr=a[0];this.visible=!!a[1];this.Vg="collection"};
var hB=function(a){var b=z.y("zh-list-answer-wrap");if(b){(0,window.$)(b).on("click","a[name\x3dunfavo]",window.$.proxy(a.wM,a));var c=new ev({ih:!1});a.L(c);c.use("childConstructor",{Hi:hy}).use("expandLimit");c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category",this.Vg).fill("label","collection_answer")})}};
var iB=function(a){var b=z.y("zh-list-side-head");if(b){var c=z.A("zu-entry-focus-button",b);c&&a.o().g(c,"click",function(){(0,z.Fs)(c,"favlist","",["zg-btn-green","zg-btn-white"])});a.$f=z.y("zh-list-operation-menu");a.$f&&a.o().g(a.$f,"click",a.kz)}(b=z.y("zh-single-answer-author-info"))&&(new IA(b)).init();(b=z.y("zh-list-create-new-list"))&&a.o().g(b,"click",a.kR);(b=z.y("zh-fav-list-side-bar-creator"))&&(new IA(b)).init();(b=z.y("zh-fav-list-side-bar-report"))&&Dv(new Bv("favlist",a.Xr),b);
a.rk=z.y("zh-favlist-webshare-container");a.rk&&a.o().g(a.rk,"click",a.nz)};var jB=function(a){z.ch("\u5220\u9664\u6536\u85cf\u5939","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u6536\u85cf\u5939\u5417\uff1f",function(a){a&&(a=new z.mj,a.add("favlist_id",this.Xr),a.add("_xsrf",(new z.pf(window.document)).get("_xsrf")),(new bB).post(mt(a),"/collection/delete"))},a)};
var kB=function(a){a.qa||(a.qa=new tx(a.Xr,"favlist"),a.L(a.qa),a.o().g(a.qa,"click!",function(a){"comment"===a.namespace&&(a.yc.fill("category",this.Vg).fill("label","collection"),a.yc.action=a.yc.action.replace("favlist","collection"))}),wx(a.qa,a.Lc,(0,window.$)(".toggle-comment",a.Lc)[0]))};var lB=function(a){a.FH=new z.U(!0);a.o().g(a.FH,"complete",function(){window.location.reload()});a.FH.ajax("/collection/update","favlist_id\x3d"+a.Xr+"\x26is_public\x3d1")};
var mB=function(a){nB||(this.qn=a,this.rh=(0,window.$)(this.qn.m()),(0,window.setTimeout)((0,z.t)(this.hf,this)))};var oB=function(a){(0,window.setTimeout)(function(){window.$.ajax({type:"POST",url:"/zreactor/deliver",data:JSON.stringify(a),contentType:"application/json",processData:!1})},50)};
var pB=function(a){var b=qB[a.rh.data("type")];bv(a.rh[0],function(){rB(a,"display")},a.qn);a.qn.o().g(a.qn,"expand",function(c){c.target instanceof Ux&&rB(a,"expand_"+b)}).g(a.qn,"collapse",function(c){c.target instanceof Ux&&rB(a,"collapse_"+b)});a.rh.on("click",'a[name\x3d"nohelp"]',function(){var b=!!(0,window.$)(this).data("revert");rB(a,b?"unhelpful":"revert_unhelpful");(0,window.$)(this).data("revert",!b)});window.$.each({".actioncard-body .more":"view_all",".actioncard-body .next:not(.disabled)":"next_page",
".actioncard-body .prev:not(.disabled)":"prev_page",".actioncard-body .items a":"open_topic",'.zg-follow[data-follow^\x3d"t:"], .zg-btn-follow[data-follow^\x3d"t:"]':"follow_topic",'.zg-unfollow[data-follow^\x3d"t:"], .zg-btn-unfollow[data-follow^\x3d"t:"]':"unfollow_topic",'a.zg-follow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"follow_"+sB[b],'a.zg-unfollow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"unfollow_"+sB[b],"a.toggle-comment":"expand_comments",'a[name\x3d"addnew"]':"comment",
".content h2 a":"open_"+tB[b],"a.ignore:not(.close)":"uninterest","a.revert":"revert_uninterest","a.ignore.close":"confirm_uninterest","button.up.pressed":"vote_up_"+b,"button.down.pressed":"vote_down_"+b,"button.up:not(.pressed)":"revert_vote_up_"+b,"button.down:not(.pressed)":"revert_vote_down_"+b,'a[name\x3d"favo"]':"collect_answer",'a[name\x3d"thanks"]':"thanks",'a[name\x3d"share"]':"share",'a[name\x3d"report"], .js-report':"report","a.answer-date-link":"open_answer"},function(b,d){a.rh.on("click",
b,function(){rB(a,d)})})};var rB=function(a,b){var c=window.$.extend({},uB(a),{action_type:b,time:(0,z.Wa)()});c.object_id&&("display"===b?a.XP(c):oB(c))};var uB=function(a){var b=a.oA,c=window.$.extend({},b.data("meta"),{create:a.rh.find(".source .time").data("timestamp"),offset:(0,window.$)(".feed-item").index(a.rh)+1});return{mid:z.fr.ga_vars.user_hash,object_type:qB[a.rh.data("type")],object_id:b.data("id"),object_meta:c,context:vB,others:""}};
var wB=function(a,b,c){Mv.call(this,a,b,c);this.Rx=!1;this.vj=!!(0,window.$)("#is-topstory2").length;this.qA=(0,window.$)("#zh-topstory2-nomore");this.kA=xB(this);this.Tt=(0,window.$)("#zh-topstory2-newblock");this.pA=(0,window.$)("#zh-topstory2-loading-newblock")};var yB=function(a){var b=zB(a);b.each(function(c){var d=(0,window.$)(this);c=b.eq(c+1);if(c.length&&d.data("block")!==c.data("block"))return xB(a).insertBefore(c),!1})};var zB=function(a){return(0,window.$)(a.Bb()).filter("[data-block]")};
var xB=function(a){var b;a.kA?(b=a.kA.detach(),!a.Rx&&AB(a)&&bv(b[0],function(){BB(this)},a)):b=(0,window.$)('\x3cdiv class\x3d"feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u8bfb\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e');return b};var AB=function(a){var b=zB(a).eq(0).data("block");return 0<(0,window.$)("."+a.Wf+"[data-block\x3d"+b+"]").length};var BB=function(a){a.dispatchEvent("shownewblockbtn");a.Tt.show()};var CB=function(a){z.Eg(a,function(a){(0,window.$)(a.m()).remove()})};
var DB=function(){this.interval=3E4};var EB=function(){var a=DB.S();FB(a)};var FB=function(a,b){if(!a.cd||b)b&&(0,window.clearInterval)(a.cd),a.cd=(0,window.setInterval)((0,z.t)(function(){GB(this)},a),a.interval)};var HB=function(){var a=DB.S();GB(a,!0)};var GB=function(a,b){(0,window.$)(".feed-item-hook .time").each(function(){(0,window.$)(this).text(tu((0,window.$)(this).data("timestamp")))});b&&FB(a,b)};
var IB=function(){z.S.call(this);this.mx={};this.os=[];this.sN="old"===(0,window.$)("#feed-ver").val();this.wE=!!(0,window.$)("#is-topstory").length;this.vj=!!(0,window.$)("#is-topstory2").length;this.GC=this.sN?"zm-item":"feed-item-hook";window._gaq=window._gaq||[];this.wE?window._gaq.push(["_setCustomVar",5,"is_topstory",!0,3]):window._gaq.push(["_setCustomVar",5,"is_topstory",!1,3])};
var JB=function(a){a.Va=new wB(a.h,null,!0);a.getParent()&&a.getParent().L(a.Va);Nv(a.Va,"/node/"+(0,window.$)(a.h).data("init").nodename);a.Va.hi("feed-item-hook");a.o().g(a.Va,"itemcreated",function(a){KB(this,a.data.FN)}).g(a.Va,"afterload",function(a){z.X.na({type:"ga_click_feed_more",data:a.data})}).g(a.Va,"ignore",function(a){LB(this,a.key,a.value)}).g(a.Va,"shownewblockbtn",function(){this.xk.addClass("force-hide")}).g(a.Va,"hidenewblockbtn",function(){this.xk.removeClass("force-hide").hide();
this.jh=0});a.Va.init()};var MB=function(a){a.K.on("click",".js-change-some",function(){z.oj("feed","intrests-change");var b=(0,window.$)(this),c=(0,window.$)(this).parent().parent();window.$.post("/node/HomeExtraFeedList",{method:"next",params:{}}).done(function(d){!d.r&&d.msg&&(0<d.msg.length?(c.find(".feed-item-hook").remove(),c.append(d.msg).find(".feed-item-hook").each(function(){a.Va.Lj(this)})):b.replaceWith('\x3cspan class\x3d"zg-right zg-gray"\x3e\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\x3c/span\x3e'))})})};
var NB=function(a){a.K.on("click",".js-more-similar",function(){(0,window.$)(this).parent().slideUp("fast").nextUntil(":not(.hidden)").slideDown("fast")})};var KB=function(a,b){var c=z.wg(z.vg.S());a.mx[c]=b;(0,window.$)(b.h).attr("data-fid",c)};var LB=function(a,b,c){z.C.forEach(a.mx,function(a){a.Mq[b]===c&&(0,window.$)(a.h).fadeOut(150)})};var OB=function(){};var PB=function(){z.S.call(this)};var QB=function(){z.J.call(this);this.Lw=[];this.cC=[]};
var RB=function(a){for(var b=[],c=0;3>c;c++){var d=a.cC.shift();d&&b.push(d)}3===b.length?(a.bs.innerHTML=b.join(""),SB(a)):TB(a)};var SB=function(a){var b=z.vb("suggest-item",a.bs);z.B.forEach(b,function(a){this.Lw.push(a.id.split("-")[1])},a)};var TB=function(a){a.bs.innerHTML='\x3cimg class\x3d"bubble-loading" src\x3d"http://static.zhihu.com/static/img/noti-loading.gif"\x3e';window.$.post("/lookup/suggest_member",{ids:a.Lw.join(",")}).done((0,z.t)(a.DO,a))};var UB=function(){z.S.call(this)};
var VB=function(a){var b=(0,window.$)("#zh-virgin-answer-list \x3e .zh-general-list").get(0);if(b){var c=new ev;a.L(c);c.use("nodeSource").use("childConstructor",{Hi:hy});c.w(b);a.o().g(c,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category","debuts").fill("label","debuts")})}};var WB=function(a){var b=z.y("js-home-feed-list");if(b){var c=new IB;a.L(c);c.w(b)}};
var XB=function(){var a=(0,window.$)("#js-debuts-entry .tour");a.length&&(0,window.$)(".close-button",a).click(function(){var b=(0,window.$)(this).data("feature");window.$.get("/notifeature",{feature:b});a.fadeOut(100,function(){a.remove()})})};var YB=function(){var a=(0,window.$)("#js-global-notify");if(a.length){var b=new z.Tm;b.w(a[0]);it(b);(0,window.$)(".zu-global-notify-close",a).click(function(){var c=(0,window.$)(this).data("id");window.$.post("/notice/read",{nid:c});b.H();a.remove()})}};
var ZB=function(){var a=z.V[1],b=z.y("zu-welcome-once");b&&("welcome"===window.location.hash.slice(1)?(z.R(b,!0),z.gi.set("reg_noti_",a,86400)):a===z.gi.get("reg_noti_")&&z.R(b,!0),z.K(z.A("x-m",b),"click",function(){window.location.hash="";z.I(b);z.gi.remove("reg_noti_")}))};
var $B=function(a){var b=(0,window.$)(".user-guiding-box");if(0!==b.length){var c=(0,window.$)(".view-avatar",b),d=(0,window.$)(".view-headline",b),f=(0,window.$)(".view-email",b),g=[];d.length&&g.push(d);c.length&&g.push(c);f.length&&g.push(f);var h=function(){var a=g.shift();if(0===g.length)z.gj()?z.hj(b,"fadeOut",function(){b.remove()}):b.remove();else{var c=g[0];z.gj()?z.hj(a,"fadeOutRight10",function(){a.remove();c.show();z.hj(c,"fadeInLeft10")}):(a.remove(),c.show())}};(0,window.$)(".js-noavatar",
b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"avatar"}});h();aC("close_avatar")});(0,window.$)(".js-noheadline",b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"headline"}});h();aC("close_headline")});var l=new pz(qz);l.w((0,window.$)(".js-uploadavatar",b));l.on("success",function(a){a.src&&(window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:l.getData().id}}},function(a){a&&
!a.r&&(0,window.$)(".avatar-edit-preview-loading").remove()}),(0,window.$)(".zu-top-nav-userinfo img.avatar").attr({src:a.src.url}),h(),aC("upload_avatar"))},!1,a);var n=(0,window.$)("form",d);n.validate({submitHandler:function(b){window.$.post("/node/HomeGuideV2",{method:"add_headline",params:{headline:(0,window.$)('input[name\x3d"headline"]',b).val()}},function(b){b&&b.r?263===b.errcode?a.showErrors({headline:"\u4ecb\u7ecd\u8fc7\u957f"}):a.showErrors({headline:"\u4fdd\u5b58\u5931\u8d25"}):(h(),
aC("add_headline"))})},messages:{headline:{required:"\u4e0d\u80fd\u4e3a\u7a7a",maxlength:"\u4ecb\u7ecd\u8fc7\u957f"}},rules:{headline:{maxlength:40}},errorPlacement:function(a){a.appendTo((0,window.$)(".button-wrapper",n))},focusCleanup:!0,focusInvalid:!1})}};var aC=function(a){z.Ok({t:"event",tid:"zhihu.web.register",action:a})};var bC=function(){z.Kg.call(this,null,!1);this.kB="zh-lightbox-showing";this.VR="zh-lightbox-thumb";this.hf()};var cC=function(a,b,c){mv.call(this,a,b,c);this.ki(!0)};
z.dC=function(){};z.eC=function(){};var fC=function(){};z.gC=function(a,b,c){z.Rh.call(this,a,b||fC.S(),c)};var hC=function(){};var iC=function(a,b){return b.B("div","goog-color-menu-button-indicator",a)};var jC=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(Wt.test("#"==b.charAt(0)?b:"#"+b)||Tt(b).length||Hu&&Hu[b.toLowerCase()]);c=c?Gu(b).qr:null;a.firstChild.style.borderBottomColor=c||(z.x?"":"transparent")}};z.kC=function(){};
var lC=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var l=[],n=0;n<c.width;n++){var q=b&&b[h++];l.push(mC(a,q,d))}f.push(d.B("tr",a.O()+"-row",l))}return a.Xu(f,d)};var mC=function(a,b,c){a=c.B("td",{"class":a.O()+"-cell",id:a.O()+"-cell-"+nC++},b);z.rc(a,"gridcell");return a};var oC=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.H.has(c,a.O()+"-cell"))return c.firstChild;c=c.parentNode}return null};
var pC=function(a,b,c,d){c&&(c=c.parentNode,z.H.enable(c,a.O()+"-cell-hover",d),z.sc(b.m().firstChild,"activedescendent",c.id))};var qC=function(a){z.J.call(this);this.Ed=[];rC(this,a)};var rC=function(a,b){b&&(z.B.forEach(b,function(a){this.am(a,!1)},a),z.B.extend(a.Ed,b))};z.sC=function(a,b,c){z.Kh.call(this,a,b||z.kC.S(),c);this.Ci&=-89};z.tC=function(a,b){if(a.m())throw Error("Component already rendered");a.nc=z.ha(b)?new z.mb(b,void 0):b;uC(a)};var vC=function(a){var b=a.hb();return b&&b[a.Ib]};
var wC=function(a,b){var c=a.hb();a.Sb(c?z.B.indexOf(c,b):-1)};var xC=function(a,b,c){if(a.m()){var d=a.hb();d&&0<=b&&b<d.length&&pC(a.N,a,d[b],c)}};var uC=function(a){var b=a.hb();if(b)if(a.nc&&a.nc.width){if(b=Math.ceil(b.length/a.nc.width),!z.ha(a.nc.height)||a.nc.height<b)a.nc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.nc=new z.mb(b,b);else a.nc=new z.mb(0,0)};var yC=function(a,b,c){this.mq=a||[];z.sC.call(this,null,b||z.kC.S(),c);this.mq=this.mq;this.qs=null;this.Ea(zC(this))};
var zC=function(a){return z.B.map(a.mq,function(a){var c=this.M().B("div",{"class":this.N.O()+"-colorswatch",style:"background-color:"+a});"#"==a.charAt(0)&&(a=Vt(a),a="RGB ("+[(0,window.parseInt)(a.substr(1,2),16),(0,window.parseInt)(a.substr(3,2),16),(0,window.parseInt)(a.substr(5,2),16)].join(", ")+")");c.title=a;return c},a)};var AC=function(a){if(a)try{return Gu(a).qr}catch(b){}return null};var BC=function(a,b,c,d){vv.call(this,a,b,c||hC.S(),d)};
var CC=function(a){var b=new pv(a);z.C.forEach(DC,function(c){c=new yC(c,null,a);z.tC(c,8);b.L(c,!0)});return b};var EC=function(){};var FC=function(){};var GC=function(a,b,c,d){BC.call(this,a,b,c||FC.S(),d)};var HC=function(a,b,c,d){vv.call(this,a,b,c||EC.S(),d)};var IC=function(a,b,c,d){vv.call(this,a,b,c,d);JC(this,a);this.Ro("listbox")};var JC=function(a,b){a.hv=b;KC(a)};var LC=function(a,b){a.pa=new qC;b&&z.Eg(b,function(a){MC(a);this.pa.Ka(a)},a);NC(a)};
var NC=function(a){a.pa&&a.o().g(a.pa,"select",a.gj)};var KC=function(a){var b=a.Fg();a.Ea(b?b.Dg():a.hv)};var MC=function(a){a.Ro(a instanceof mv?"option":"separator")};var OC=function(a,b,c,d){IC.call(this,a,b,c||EC.S(),d)};var PC=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};
var QC=function(a,b){z.B.forEach(b,function(b){var d=b.caption;b=b.value;var f=PC(b),d=new cC(d,b,a.M());z.zg(d,f);a.Ka(d);d.W().style.fontFamily=b})};var RC=function(a){z.B.forEach(SC,function(b){var c=b.value;b=new cC(b.caption,c,a.M());a.Ka(b);b=b.W();b.style.fontSize=(TC[c]||10)+"px";b.firstChild.style.height="1.1em"})};var UC=function(a){z.B.forEach(VC,function(b){var c=b.caption;b=b.Aa;var d=a.M(),c=new cC(d.B("DIV",null,c),b,d);z.zg(c,b);a.Ka(c)})};
z.WC=function(a,b,c,d,f,g){c=new z.gC(XC(c,d,g),f,g);z.zg(c,a);c.Rc(b);return c};z.YC=function(a,b,c,d,f,g){a=z.WC(a,b,c,d,f,g);z.Nh(a,16,!0);return a};var ZC=function(a,b,c,d,f,g){f=new OC(null,null,f,g);d&&z.B.forEach(d.split(/\s+/),f.uh,f);f.uh("goog-toolbar-select");JC(f,c);z.zg(f,a);f.Rc(b);return f};var $C=function(a,b,c,d,f,g){c=new GC(XC(c,d,g),null,f,g);z.zg(c,a);c.Rc(b);return c};
var XC=function(a,b,c){a&&""!=a||!z.O||z.w("1.9a")||(a="\u00a0");return(c||z.ob()).B("DIV",b?{"class":b}:null,a)};var aD=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in bD&&(c=bD[b]);c.length&&QC(a,c);QC(a,cD)};var dD=function(a,b,c,d,f,g){var h=z.WC(a,b,c,d,f,g);h.ri=function(a){h.eb(a)};return h};var eD=function(a,b){var c=b;try{if(z.x)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.X()&&a.Fa(c)}catch(g){}};
z.fD=function(a){z.pw.call(this);this.ha=new z.Kd(this);this.SD=z.G("div",{style:"display:none"});this.h=this.rc=null;this.J={};z.C.extend(this.J,this.defaults,a||{})};var gD=function(a){if(a.hp){var b=(0,window.$)(a.hp);b.stop().text("\u8349\u7a3f\u5df2\u7ecf\u4fdd\u5b58").fadeTo(600,.5).delay(3E3).fadeOut(600,function(){b.text("")})}};
var hD=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.yC||(a.HM=window.history.length),a.yC=!0,iD(a,"writing"),a.TH=z.qc(z.ob((z.m||window).document)),z.Ob(a.SD,a.J.mk),a.rc.appendChild(a.J.mk),z.H.add(window.document.body,a.J.Vv),a.zb=z.A(a.J.cS,a.h),a.zb.appendChild(a.hp),jD(a),z.Fa(z.gc(a.F.wa))||a.F.Sf(),a.dispatchEvent("enterFullScreen"))};
var kD=function(a){!z.bh&&a.yC&&a.HM!==window.history.length?window.history.back():iD(a,"");a.zb.removeChild(a.hp);a.TG(!1);a.h.onscroll=null;a.ha.Ja(window.document,"keydown",a.to,!1,a);z.Ob(a.J.mk,a.SD);z.H.remove(window.document.body,a.J.Vv);window.scrollTo(a.TH.x,a.TH.y);a.dispatchEvent("exitFullScreen")};var iD=function(a,b){z.ad(window,"hashchange",a.BF,!1,a);window.location.hash=b||"";(0,window.setTimeout)((0,z.t)(function(){this.ha.g(window,"hashchange",this.BF,!1,this)},a))};
var jD=function(a){var b=a.h;b.scrollTop=0;var c=a.zb.getBoundingClientRect().top;b.onscroll=z.Se((0,z.t)(a.TG,a),function(){return b.scrollTop>c});a.ha.g(window.document,"keydown",a.to,!1,a)};var lD=function(a,b){z.J.call(this);this.Zf=a;this.gz=b||mD;a.sb||(this.show=z.p)};var nD=function(a,b,c){mv.call(this,a,b,c);this.No(!0)};var oD=function(a,b){z.J.call(this);this.oa=a;this.Nb=b;this.data=z.Wq};var pD=function(a,b){return a?b?new nD(a):new mv(a):new ov};
var qD=function(a){a.Tl.innerHTML="";z.R(a.Tl,!1);a.Un=!1;a.Ll.cm("\u95ee\u9898\u91cd\u5b9a\u5411");z.hh("/question/unredirect",null,"POST","qid\x3d"+a.oa+"\x26rqid\x3d"+a.Ws)};var rD=function(a){z.vn.call(this,!0,"/topic/bio/update","bio");this.Rz=a[0];this.params=["tid\x3d"+this.Rz[3]];this.content=a[1];this.Mb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u63cf\u8ff0\u4f60\u5173\u4e8e '+this.Rz[0]+" \u7684\u7ecf\u9a8c\x3c/a\x3e";this.Ht=!0};
var sD=function(a,b){z.J.call(this);this.$M=b;this.Uk=a;this.items=[];this.wx=!1};var tD=function(){uD||(uD=new sD(z.Yq,!1));return uD};var vD=function(a){a.locked=!0;var b=new z.U(!0);a.o().g(b,"success",function(a){this.dO=!0;this.locked=!1;a=z.fe(a.target);a.r||(this.Uk=a.msg,wD(this))});b.ajax("/question/"+a.tG+"/bios",null,"GET")};
var wD=function(a){if(!a.locked)if(!a.dO&&a.wx)vD(a);else{if(!a.ga){a.ga=new z.Xg;a.ga.Xa("\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c");z.Sg(a.ga,null);z.Pg(a.ga,!1);var b=a.ga.W();b.innerHTML='\x3cdiv class\x3d"zg-section-title"\x3e\u4fee\u6539\u6bcf\u4e2a\u8bdd\u9898\u65c1\u8fb9\u9760\u8fd1\u4f60\u540d\u5b57\u7684\u7b80\u4ecb\uff1a\x3c/div\x3e';a.aa(b)}a.ga.G(!0)}};
var xD=function(a,b){z.S.call(this);this.tb=a;this.Sq=gt(this.tb);this.isContentEditable=this.tb.isContentEditable();this.XR=30;this.cd=new z.jd(1E3*this.XR);this.oa=z.Wq?z.Wq.oa:0;this.oE=b||!1};var yD=function(a){zD(a,"\u4fdd\u5b58\u4e2d\u2026");a.mn();a.dN()};var AD=function(a){a.cd.stop()};var BD=function(a){a.Mz&&((0,window.clearInterval)(a.Mz),a.Mz=null)};var CD=function(a,b){var c=tu(b||(0,z.Wa)());/^\d/.test(c)&&(c=" "+c);zD(a,"\u5df2\u5b58\u4e8e"+c)};
var zD=function(a,b,c){var d=(0,window.$)(a.bE);c?d.addClass("warning"):d.removeClass("warning");z.R(a.Cr,!0);z.bc(a.bE,b)};var DD=function(a){z.hh("/draft/delete",null,"POST","qid\x3d"+a.oa);a.FE&&(a.FE.abort(),a.Wk());BD(a);z.R(a.Cr,!1);a.dispatchEvent("clearContent")};var ED=function(a,b,c){z.yn.call(this,!1);this.nb=!!a;this.kg=b;this.Mb="\x26nbsp;";this.Wp=c;this.Gt=this.tv=this.RC=this.enabled=!0;if(z.V.active||!z.V.sa())this.Bx='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e\u5199\u56de\u7b54\u2026\x3c/span\x3e'};
var FD=function(a,b){a.Wp=b?b:z.V[4];if(a.Jr&&window.$.trim(b)){var c=b;20<c.length&&(c=c.substring(0,17)+"...");a.hJ.innerHTML="\uff0c"+z.Ia(c)+'\x3ca name\x3d"edit_bio" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e'}};
var GD=function(a,b,c){b=(0,window.$)(b).css("top",0).css("z-index",9);(0,window.$)(a.Cc).hide();c=(0,window.$)(c);(0,window.$)(a.Oi).append(b).after(c);a=z.kl(z.p,{sa:"question_answer_add_start",hd:!0},"#draft");b.on("click",a);c.on("click",a)};
var HD=function(a){a.vk?a.vk.show():(a.vk=(0,window.$)('\x3cdiv class\x3d"question-tip-box-bottom"\x3e\u786e\u5b9a\u60f3\u8981\u56de\u7b54\u4f60\u81ea\u5df1\u63d0\u51fa\u7684\u95ee\u9898\u5417\uff1f\x3cbr\x3e\u5982\u679c\u9700\u8981\u5bf9\u95ee\u9898\u505a\u51fa\u66f4\u591a\u7684\u89e3\u91ca\u548c\u8bf4\u660e\uff0c\u8bf7\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0\u3002 \u5982\u679c\u9700\u8981\u5bf9\u5176\u4ed6\u56de\u7b54\u505a\u51fa\u56de\u5e94\uff0c\u8bf7\u5728\u76f8\u5e94\u56de\u7b54\u4e0b\u901a\u8fc7\u8bc4\u8bba\u53d1\u5e03\u3002\x3cbr\x3e\x3cdiv class\x3d"zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-btn zg-btn-blue" name\x3d"confirm"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-link-gray " name\x3d"cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),a.vk.on("click",
'[name\x3d"cancel"]',function(){a.vk.hide()}).on("click",'[name\x3d"confirm"]',function(){a.vk.hide();(0,window.$)(a.Vb).hide();a.eb(!0);a.sf()}),(0,window.$)(a.Vb).after(a.vk))};var ID=function(a){var b=(0,window.$)("input[name\x3danno-checkbox]",a.Cc)[0],c=(0,window.$)("label",a.Cc)[0];a.Kp=b;z.Wq.nb&&(a.Kp.checked=!0);z.$f(c,!0)};var JD=function(a,b,c,d,f){z.yn.call(this,d,b,c);this.oa=a;this.Qr=this.Fo=!1;this.GP=f};var KD=function(a,b){a.Qr=b};
var LD=function(){var a=z.G("select",{style:"1px solid #999 "}),b=z.G("option",{value:"none"},"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531...");a.appendChild(b);z.B.forEach(MD,function(b,d){var f=z.G("option",{value:b.value},d+1+". "+b.label);a.appendChild(f)});return a};var ND=function(a,b){pv.call(this,a,b);this.Dm=!0;this.Ne(!0);this.G(!1,!0);this.uf=new z.od};
var OD=function(a,b,c,d,f){var g=a.T();a.kx()&&a.$R?a.hide():(a.If=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.R(a.m(),!0),b.ba(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Sb(-1),a.G(!0)))};var PD=function(){z.S.call(this)};var QD=function(){z.Xg.call(this);this.Ag=!0;this.G(!0)};
var RD=function(a,b){a.Xa("\u63d0\u95ee\u65e0\u4eba\u95ee\u6d25\uff1f");a.Ea(b);a.ba();(0,window.$)(".js-gonext",a.h).on("click",function(){var b=(0,window.$)(this).parents('[class^\x3d"view"]').attr("class");"view-starting"===b?(a.Xa("\u7b2c\u4e00\u6761"),a.Gd("firsttip")):"view-firsttip"===b?(a.Xa("\u7b2c\u4e8c\u6761"),a.Gd("secondtip")):"view-secondtip"===b?(a.Xa("\u7b2c\u4e09\u6761"),a.Gd("thirdtip")):"view-thirdtip"===b&&a.G(!1)})};
var SD=function(a,b){a.Xa("\u9080\u8bf7\u56de\u7b54\u5c0f\u7a8d\u95e8");a.Ea(b);a.ba();(0,window.$)(".js-close",a.h).on("click",function(){a.G(!1)})};var TD=function(a,b){z.S.call(this);this.gQ=a;this.Hs=b;this.ca=null;this.af=!1;this.Pn=null;this.zl=[];this.fH=[];this.Wg=!0;this.SN="loading";this.kE="zg-btn-white";this.mN="invite-button"};
var UD=function(a){function b(a){0>a||a>d-1||(h.find("li").hide().slice(4*a,4*(a+1)).show(),0===a?f.addClass("link-disabled"):f.removeClass("link-disabled"),a===d-1?g.addClass("link-disabled"):g.removeClass("link-disabled"),c=a)}a=a.h;var c=0,d,f,g,h;h=(0,window.$)(".suggest-persons",a);d=h.find("li").length/4;f=(0,window.$)(".js-prev",a).on("click",function(){b(c-1)});g=(0,window.$)(".js-next",a).on("click",function(){b(c+1)});b(0)};
var VD=function(a,b){return!!z.B.find(a.zl,function(a){return a.id===b})};var WD=function(a,b,c){a=a.kE;c?(z.H.add(b,a),z.bc(b,"\u6536\u56de\u9080\u8bf7")):(z.H.remove(b,a),z.bc(b,"\u9080\u8bf7\u56de\u7b54"))};var XD=function(a,b){var c=z.Wq;a.dispatchEvent(new Xw("click!invitation",{category:"invitation",action:"ask_to_answer",label:b,value:c.tE?null:c.ne}))};
var YD=function(a,b,c){var d=(0,window.$)(".invite-button",a.eH).filter(function(){return this.getAttribute("data-uid")===b}).get(0);d&&WD(a,d,c)};var ZD=function(a,b){return z.B.find(a.fH,function(a){return a.id===b})};var $D=function(a,b){a.zl.unshift(b);aE(a);(0,window.$)(".ignore-invite-hint").css("display","none")};var bE=function(a,b){a.zl&&z.B.tQ(a.zl,function(a){return a.id===b})&&(aE(a),(0,window.$)(".ignore-invite-hint").css("display","none"))};
var aE=function(a){var b=a.zl,c={each:z.B.forEach,fullList:function(){return(0,z.Hn)(a.XK,{persons:b,helper:c})}};a.cx.innerHTML=b.length?(0,z.Hn)(a.eR,{persons:b,helper:c}):""};var cE=function(a){this.data=a;this.qa=null};
var dE=function(a){var b=z.A("panel-container",a.h);b&&(a.Fl=new PD,a.L(a.Fl),a.Fl.w(b),a.qa=new tx(a.data.oa,"question"),a.Fl.L(a.qa),wx(a.qa,a.Fl.m(),(0,window.$)(".toggle-comment",a.h)[0]),a.oj(),"normal"===z.Wq.status&&(b=new TD(a.data.oa,a.data.sb),b.aa(a.Fl.m()),a.Fl.L(b),z.Wq.nR&&(b.expand(),a.dispatchEvent(new Xw("show!invitation",{category:"invitation",action:"ask_to_answer_card",label:""}))),a.jE=b))};
var eE=function(a,b){var c=a.sI;c||(c=new ND,c.w(z.y("zh-question-admin-menu")),z.Eg(c,function(a){a.Fa(a.m().getAttribute("data-action"))}),a.o().g(c,"action",function(a){a=this.HA=a.target;(new Zw).open(a.m(),{id:this.data.oa,type:"question"},(0,z.t)(this.SJ,this))}),a.sI=c);c.T()?c.G(!1):OD(c,new Zt(b,1,!0),0,new z.sf(5,0,5,0))};
var fE=function(a){z.ch("\u5220\u9664\u95ee\u9898","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u95ee\u9898\u5417\uff1f\u76f8\u5173\u7684\u8bc4\u8bba\u4e5f\u5c06\u88ab\u5220\u9664\u3002",function(a){if(a){var c=new z.U(!0);z.K(c,"complete",function(){var a=z.fe(c);a&&!a.r?window.location.href="/":z.T(a.msg)});c.ajax("/question/delete/"+this.data.oa)}},a)};var xy=function(a,b){this.lb=a;this.entryType=b;this.Ql=null;this.tg="post"===b?py:qy};var gE=function(a){this.K=(0,window.$)(a);this.hf()};
var hE=function(a,b,c){z.yn.call(this,a,b,c)};var iE=function(){this.Ku=[]};var jE=function(a,b,c){var d=b.M().B("span");d.className="goog-submenu-arrow";kE(b,d);a.W(c).appendChild(d)};var kE=function(a,b){a.Dd()?(z.H.add(b,"goog-submenu-arrow-rtl"),z.bc(b,a.Ip?"\u25c4":"\u25ba")):(z.H.remove(b,"goog-submenu-arrow-rtl"),z.bc(b,a.Ip?"\u25ba":"\u25c4"))};var lE=function(a,b,c,d){mv.call(this,a,b,c,d||iE.S())};var mE=function(a){a.Nd&&z.md(a.Nd);a.mz&&z.md(a.mz)};
var nE=function(a){z.Eg(a.getParent(),function(a){a!=this&&"function"==typeof a.zg&&(a.zg(),mE(a))},a)};var oE=function(a,b){a.dispatchEvent(z.yg(64,b));var c=a.Za();if(b!=c.T()&&(b&&(c.Da||c.aa(),c.Sb(-1)),a.PD=b,z.H.enable(a.m(),"goog-submenu-open",b),c.G(b),b)){var c=new Zt(a.m(),a.Ip?6:4,a.wN),d=a.Za(),f=d.m();d.T()||(f.style.visibility="hidden",z.R(f,!0));c.ba(f,a.Ip?4:6);d.T()||(z.R(f,!1),f.style.visibility="visible")}};var pE=function(a,b,c){var d=a.o();(c?d.g:d.Ja).call(d,b,"highlight",a.BO)};
var qE=function(a,b,c,d){lE.call(this,a,b,c,d)};var rE=function(a,b,c){z.S.call(this);this.oa=a;this.ma=c;this.eK=b||z.Wq;this.Su=null};var sE=function(a,b){return z.kl(a,b,function(){return this.un()})};
var tE=function(a){var b=z.A("zm-item-answer",a.h)||a.h;a.ma=b.getAttribute("data-aid");a.Ie="1"===b.getAttribute("data-isowner");a.sb=b.getAttribute("data-atoken");a.Uh="1"===b.getAttribute("data-deleted");a.Yu=+b.getAttribute("data-created");a.DM=+b.getAttribute("data-helpful");a.uN="1"===b.getAttribute("data-good");a.sj="1"===b.getAttribute("data-collapsed");a.nb=null};var uE=function(a,b){var c={};c.Uq=!!b;c=a.rt=new dv(c);a.L(c);c.w(a.h);c.Gc()&&z.Ld(a.o(),c,"expand",a.Fx);bv(a.h,a.Fj,a)};
var vE=function(a,b){a.Lc=b};var wE=function(a){var b=z.A("zm-item-vote-info",a.h);if(b){a.pk=new xy(a.ma);a.L(a.pk);a.pk.w(b);b=(0,window.$)(".zm-item-vote-count",a.h);b[0]||(b=(0,window.$)(".zm-item-vote-count",a.Lc));var c=[b[0],(0,window.$)(".zm-votebar .count",a.h)[0]];if(c.length){var d=a.pk;a.pk.on("change",function(){z.B.forEach(c,function(a){z.Vi(a,d.Sa())})})}}};
var xE=function(a){var b=z.A("more-actions",a.Lc);if(b){var c={share:{label:"\u5206\u4eab",action:a.vc},fav:{label:"\u6536\u85cf",action:a.cj},report:{label:"\u4e3e\u62a5",action:a.iM},nohelp:{label:a.DM?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9",action:a.vD}},d=new pv,f=function(a){z.Cg(d)&&d.Ka(new ov);var b=new mv(c[a].label);b.Fa(a);d.Ka(b)};f("share");f("fav");a.Ie||(f("nohelp"),z.V.sa()&&f("report"));f=new vv("operation",d);f.Zj=!0;xv(f);wv(f);f.Kl=function(){};f.hc=z.Dq;
f.w(b);z.H.add(d.m(),"zh-answer-more-actions");a.o().g(d,"action",function(a){var b=a.target.X();(b=c[b])&&b.action&&b.action.call(this,a)})}};
var yE=function(a){if(!a.me&&a.Ie&&z.Wq&&a.ma){a.me=new hE(!1,"/answer/content","content");z.Ec(a,a.me);a.me.Gt=!0;a.me.tv=!0;a.me.dD=ED.prototype.dD;var b=z.A("zm-item-rich-text",a.h);ht(a.me,["id\x3d"+a.oa]);a.me.w(b);a.o().g(a.me,"shouldUpdateContent",function(a){if(z.fa(a.data))return!1});a.o().g(a.h,"click",function(a){"suggest_edit"===a.target.name&&(this.me.sf(),(0,window.$)(".zh-question-censor-tip",this.h).hide());return!0})}};
var zE=function(a,b){if(!a.qa){a.qa=new tx(a.ma,"answer",b);a.L(a.qa);wx(a.qa,a.Lc,(0,window.$)(".toggle-comment",a.Lc)[0]);Tx(a.qa);a.qa.ct(a.un());var c=window.location.hash.slice(1).split("-"),d=window.location.pathname.split("/"),d="answer"===d[3]&&d[4];"comment"===c[0]&&c[1]&&d===a.sb&&(a.qa.Ra(!0),a.o().g(a.qa,"expand",function(){Ex(this.qa)}))}};var AE=function(a){if(a.Gp)a.Gp.G(!0);else{var b=BE(a);b&&(OD(b,new Zt(a.tI,1,!0),0,new z.sf(5,0,5,0)),CE(a,b),DE(a,b),a.Gp=b)}};
var BE=function(a){var b=(0,window.$)("a[name\x3dadmin]",a.Yh)[0];if(b){a.tI=b;EE=0;var c=new ND;a.L(c);c.attach(b,5);var d=a.sj?new mv("\u53d6\u6d88\u6298\u53e0"):new qE("\u6298\u53e0");d.Fa("collapse");var f=function(a,b){var c=new mv(b+1+" "+a.label);c.Fa(a.value);d.Ka(c)};a.sj||FE("answer","collapse").then(function(a){z.B.forEach(a,f);z.H.add(d.Za().m(),"manage-menu")});b=new mv("\u5220\u9664");b.Fa("delete");c.Ka(d);c.Ka(b);c.aa(a.h);z.H.add(c.m(),"manage-menu");return c}};
var CE=function(a,b){a.o().g(b,"action",function(a){var b=a.target;a=b.X();var b=b.m(),f=new z.jk;"collapse"===a?(f.add("answer_id",this.ma).add("action","collapse2").add("collapse",this.sj?"cancel":"done"),b.setAttribute("data-op",this.sj?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),GE(this,b)):"delete"===a?(f.add("answer_id",this.ma).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
GE(this,b)):z.ha(a)&&(b=new z.jk,b.add("answer_id",this.ma).add("action","collapse2").add("collapse",this.sj?"cancel":"done").add("reason",a),$w("/manage",b.toString(),(0,z.t)(this.LF,this)))})};var GE=function(a,b){(new Zw).open(b,{id:a.ma,type:"answer"},(0,z.t)(a.LF,a))};
var HE=function(a){function b(){c();var b=a.Gp.Oh(0);b.Za&&b.Za()&&(b.lt(),b.Za().Sb(0))}function c(){AE(a);a.Gp.Sb(0)}var d=new gE(a.h),d=z.Ir.UH(d.getItem()||a.h);z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(d.register("v",function(){this.qb&&this.qb.Ct()},a),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"}).register("d",function(){this.qb&&this.qb.Bt()},a),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"}).register("f x",a.vc,a),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("s c",a.cj,a),{group:"\u64cd\u4f5c",
name:"\u6536\u85cf"}).register("t",a.kr,a),{group:"\u64cd\u4f5c",name:"\u611f\u8c22"}).register("c",a.tw,a),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",a.$q,a),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"});var f=z.Qc?"\u2318":"ctrl";z.bq.mE&&(0,window.$)("a[name\x3dadmin]",a.Yh)[0]&&z.Ui(z.Ui(d.register("meta+.",c),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u83dc\u5355",key:f+"+."}).register("meta+k",b),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u6298\u53e0\u5b50\u83dc\u5355 (Kill)",
key:f+"+k"})};var DE=function(a,b){a.o().g(b,"show",function(){z.H.add(this.Lc,"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.H.remove(this.Lc,"zm-item-meta-has-menu")})};
var IE=function(a){var b=(0,window.$)('[name\x3d"comment_opt"]',a.Lc);if(b.length){var c=b.data(),d=new pv,f=new nD("\u7981\u6b62\u8f6c\u8f7d");f.bd(!c.copyable);d.Ka(f);d.Ka(new ov);JE(a,d);d.Ka(new ov);d.Ka(new mv("\u5220\u9664"));a.o().g(d,"action",a.sL);DE(a,d);z.H.add(d.m(),"zg-gray-normal");a=new vv("comment",d);a.Zj=!0;xv(a);wv(a);a.hc=z.Dq;a.w(b[0])}};
var KE=function(a){if(!a.CB||!a.CB.Jb()){var b=new z.U(!0);z.Ld(a.o(),b,"success",function(a){if((a=z.fe(a.target))&&!a.r){var b=a.msg;z.B.forEach(this.Tu,function(a){a.X()===b&&a.bd(!0)});this.Su=b}else z.T(a.msg)});b.ajax("/answer/comment_permission?answer_id\x3d"+a.ma,null,"GET");a.CB=b}};var JE=function(a,b){a.Tu=[];z.C.forEach(LE,function(a,d){var f=new nD(a);f.Fa(d);f.bd(d===this.Su);this.Tu.push(f);b.Ka(f)},a)};
var ME=function(a){var b=new z.U(!0);z.Ld(a.o(),b,"success",function(){z.R(this.h,!this.Uh);this.Uh?this.$t="set_delete":(yE(this),this.$t="cancel_delete");this.dispatchEvent("change");(0,window.$)(this.h).parent(".zm-item").hide()});b.ajax("/answer/"+(a.Uh?"remove":"unremove"),"aid\x3d"+a.ma)};var NE=function(a){a.Uh=!1;a.status=0;ME(a)};var OE=function(a,b,c){rE.call(this,a,b,c)};
var PE=function(){z.S.call(this);this.data=z.Wq||{};this.oa=this.data.oa;this.Un=!1;this.Bi={};this.ru=[];this.Lp=[];this.$h=0;this.Zf=z.Xq&&z.Xq.url_token?z.Xq:null};var QE=function(a){z.V.Zg&&window.$.post("/question/popup",{action:"no_answer",question_token:a.data.sb},function(a){a&&RD(new QD,a)})};var RE=function(a){(0,window.$)(".js-ignore-invite").click(function(){(0,window.$)(".question-invited-by").hide();window.$.post("/question/askpeople",{qid:a.data.sb,uid:z.V.He,op:"pass"})})};
var SE=function(a){TE(a);UE(a);VE(a,null);WE(a);a.o().g(z.Aj,"anon_change",function(a){this.data.nb=a.nb})};var XE=function(a){"close"!==z.Wq.status&&(a.Qa=new z.Il(a.data.Sz,a.data.oa),a.Qa.gs=5,a.Qa.ks=1,a.Qa.KA=!0,a.Qa.ps=!0,a.Qa.w(z.A("zm-tag-editor",a.h)),a.o().g(a.Qa,["remove_tag","add_tag"],function(){z.X.na("ga_edit_question_topic_changed")}),a.o().g(a.Qa,"start_editing",function(){z.X.na("ga_question_topic_edit_finish_changed")}),a.Qa.addEventListener("beforeedit",LA({Rl:!0})))};
var YE=function(a){"close"===z.Wq.status&&(0,window.$)('.question-status [name\x3d"appeal"]').click(window.$.proxy(function(){var a=this.oa,b=new z.Xg;z.Pg(b,!0);b.Ag=!0;z.Sg(b,z.jr);b.Xa("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");b.Ea('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');b.G(!0);b.ba();b.o().g(b,z.ir,function(){window.$.post("/question/appeal",
{qid:a,reason:(0,window.$)('[name\x3d"reason"]',b.h).val()},function(){z.ch({title:"\u7533\u8bc9\u63d0\u4ea4",Gj:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",ba:!0,buttons:["\u77e5\u9053\u5566"]})})})},a));var b=z.y("zh-question-title");
"false"!==b.getAttribute("data-editable")&&(a.dd=new JD(a.data.oa,"/question/title","content",!1,!0),a.dd.iC=!0,a.dd.Sd=!0,a.dd.Fo=!0,KD(a.dd,zu(a.data.Zg)),a.dd.w(b),a.o().g(a.dd,"change",function(){z.Aj.dispatchEvent("question_title_change");window.document.title=this.dd.hb()+" - \u77e5\u4e4e"}),a.o().g(a.dd,"click_edit",function(){z.X.na("ga_question_title_edit_start")}),a.o().g(a.dd,"cancel_edit",function(){z.X.na("ga_question_title_edit_cancel")}),a.o().g(a.dd,"save_changed",function(){z.X.na("ga_question_title_edit_save_changed")}),
a.o().g(a.dd,"save_unchanged",function(){z.X.na("ga_question_title_edit_save_unchanged")}),a.dd.addEventListener("beforeedit",LA({Rl:!0})))};var ZE=function(a,b){z.V.sa()&&b?($E(a,"zh-question-detail",a.TM),$E(a,"zh-question-answer-summary",a.WM)):($E(a,"zh-question-detail",z.p),$E(a,"zh-question-answer-summary",z.p))};var $E=function(a,b,c){if(b=z.y(b)){var d=new dv;a.o().g(d,"expand",c).g(d,"invalid",c);d.w(b)}};
var WE=function(a){a.data.kq=+a.KJ.innerHTML;z.V.sa()||(a.data.kq=0);z.R(a.Ah,0<a.data.kq);a.Mp&&z.bc(a.Mp,a.data.ne?a.data.ne+" \u4e2a\u56de\u7b54":"\u8fd8\u6ca1\u6709\u56de\u7b54");a.om&&z.R(a.om,1<a.data.ne);z.R(a.Ah,0<a.data.kq)};
var aF=function(a){var b=z.y("zh-question-answer-wrap");if(b){var c=new ev({use:["expandLimit","nodeSource"],ih:a.data.ne>a.data.MP&&!z.A("question-page-pager")});a.L(c);a.o().g(c,"itemcreated",function(a){c.L(bF(this,a.item));(0,window.$)("img.lazy",a.item).lazyload({data_attribute:"actualsrc",threshold:400})});c.w(b)}};
var bF=function(a,b,c,d){d=new OE(a.oa,null,d);d.w(b);a.Bi[d.ma]=d;a.Lp.push(d.ma);a.o().g(d,"change",a.Vx);d.Ie&&(a.$h=d.ma,d.UI=z.V,a.o().g(d.me,"change",a.$L),a.sg=d);d.sj?d.Ie&&a.Vm.appendChild(d.m()):a.ru.push({added_time:d.Yu,vote:c,aid:d.ma});d.Uh&&z.R(d.m(),!1);return d};
var UE=function(a){var b=null,c=null,d,f={suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"};z.Uq.Jd||"normal"===z.Wq.status||(c="\u88ab"+f[z.Wq.status]+'\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\u3002\x3ca data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e');a.$h?
(d=a.Bi[a.$h],b="#answer-"+d.ma,d=d.Uh):a.Zf&&(b="/question/"+z.Wq.sb+"/answer/"+a.Zf.url_token,d=a.Zf.is_delete);b&&(c=d?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':'\u4e00\u4e2a\u95ee\u9898\u4f60\u53ea\u80fd\u56de\u7b54\u4e00\u6b21\uff0c\u4f46\u4f60\u53ef\u4ee5\u5bf9 \x3ca href\x3d"'+b+'"\x3e\u73b0\u6709\u7684\u56de\u7b54\x3c/a\x3e \u8fdb\u884c\u4fee\u6539');
!z.V.Zg||a.$h||a.Zf||(c='\u6dfb\u52a0\u56de\u7b54\uff1a\x3ca href\x3d"javascript:;" name\x3d"answer_my_question"\x3e\u56de\u7b54\u81ea\u5df1\u7684\u63d0\u95ee\x3c/a\x3e');a.data.jx&&(c='\u8be5\u95ee\u9898\u76ee\u524d\u5df2\u7ecf\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u6dfb\u52a0\u65b0\u7b54\u6848\u3002\x3ca href\x3d"http://www.zhihu.com/question/19604313" target\x3d"_blank"\x3e\u95ee\u9898\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u9501\u5b9a\uff1f\x3c/a\x3e');c&&a.tb.eb(!1,c)};
var cF=function(a){a.Mp=z.y("zh-question-answer-num");a.Np=z.y("zh-question-answer-wrap");a.Ah=z.y("zh-question-collapsed-link");a.Vm=z.y("zh-question-collapsed-wrap");a.KJ=z.y("zh-question-collapsed-num");a.LI=z.y("zh-question-answer-form-wrap");a.jk=z.y("zh-question-notification-summary");a.om=z.y("zh-answers-filter");a.Js=z.y("zh-add-question-sug");a.Mp&&(a.data.ne=+a.Mp.getAttribute("data-num"));a.Np&&(a.data.MP=+a.Np.getAttribute("data-pagesize"));a.Ah&&a.o().g(a.Ah,"click",a.MR);a.Js&&a.o().g(a.Js,
"click",a.pD);a.om&&z.Sq&&a.o().g(a.om,"click",function(a){a.stopPropagation();z.H.add(this.om,"activated");z.Ld(this.o(),window.document,"click",function(){z.H.remove(this.om,"activated")})})};var dF=function(a,b){var c=z.y("zh-question-collapsed-switcher");b?(c.name="collap",a.DB=!0,z.R(a.Vm,!0),z.H.add(a.Ah,"zu-question-collap-title-active")):(a.DB=!1,c.name="expand",z.R(a.Vm,!1),z.H.remove(a.Ah,"zu-question-collap-title-active"))};
var eF=function(a){a.MJ=!0;var b=a.Vm,c=window.$.get("/node/QuestionCollapsedAnswerListV2",{params:{question_id:a.data.oa}});c.done(function(c){c=z.Gb(c);dF(a,!0);z.H.remove(b,"zm-question-collapsed-list-loading");b.appendChild(c);z.B.forEach(z.Qb(b),function(b){b!==d&&bF(a,b,99999)});(0,window.$)("img.lazy",b).lazyload({data_attribute:"actualsrc",threshold:400})});var d=z.Qb(b)[0];d&&(z.R(d,!1),c.done(function(){z.R(d,!0)}));z.R(b,!0);z.H.add(b,"zm-question-collapsed-list-loading")};
var TE=function(a){var b=z.V[4];z.Yq&&z.Yq.length&&(b=z.Yq[0][1]);a.tb=new ED(a.data.nb,z.V,b);a.L(a.tb);a.tb.w(a.LI);z.Uq.Jd&&z.Uq.Jd.length?a.tb.Ea(z.Uq.Jd[0]):!z.bq.wc&&z.O&&a.tb.Ea("\x3cp\x3e\x3c/p\x3e");if(!(a.data.jx||a.$h||a.Zf&&a.Zf.url_token))if(a.data.Fm&&a.data.Fm.length&&a.data.Fm[3]!==z.V.He)a.tb.eb(!1,"\u53ea\u6709 "+vu(a.data.Fm)+" \u80fd\u56de\u7b54\u6b64\u95ee\u9898");else if("normal"===z.Wq.status||z.Uq.Jd)z.V.Zg||a.tb.sf();a.o().g(a.tb,"change",a.tO);a.o().g(a.tb,"cancel_delete_answer",
a.AO);a.tb.ready(function(){var a=this.bw();a&&"writing"===window.location.hash.slice(1)&&a.execCommand("toggleFullScreen")})};var VE=function(a,b){if(b=b||window.location.hash.slice(1)){var c=b.split("-"),d=c[1];"answer"===c[0]&&(c=a.WC(d))&&(c.sj&&!a.DB?fF(a,a.Ah):fF(a,c.m()))}};var fF=function(a,b){if(b){var c=z.eg(window.document.body).top,d=a.BM?z.Uf(a.jk).height:0,c={paddingTop:c+d};"number"===window.$.type(c)&&(c={offsetTop:c});c.NH=Rt;Qt(b,c);z.cj(b);a.Vi&&a.Vi.mp()}};
var gF=function(){PE.call(this);this.data=z.Wq;this.oa=this.data.oa};var hF=function(a){var b=(0,window.$)(".awesome-answer-list").get(0);if(b){var c=new ev({use:["expandLimit"],ih:!1});a.L(c);a.o().g(c,"itemcreated",function(a){var b=new hy;b.w(a.item);c.L(b)});c.w(b)}};
var iF=function(a,b){var c=(0,window.$)("#js-sidebar-author-info");if(!(0,window.$)("a[name\x3dfocus]",c).length){var d={0:"fullname",1:"url_token",2:"avatar_path",3:"hash",4:"headline"},f=z.B.reduce(z.V,function(a,b,c){a[d[c]]=b;return a},{}),f=(0,z.Hn)(a.VI,{author:!b&&f});c.html(f)}};var jF=function(){var a=(0,window.$)("#zh-question-answer-collestions");a.length&&(0,window.$)("a[name\x3dfocus]",a).click(function(){(0,z.Fs)(this,"favlist")})};
var kF=function(a){a.Nb?a.Nb.Uh?(a.Eq.innerHTML=a.Nb.Ie?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':"\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664",z.R(a.Nb.m(),!1)):z.R(a.Nb.m(),!0):a.Eq.innerHTML="\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664"};
var lF=function(){z.S.call(this);this.page=1};var mF=function(a,b){z.bc(a,b?"\u52a0\u8f7d\u4e2d...":"\u66f4\u591a")};var nF=function(a,b){window.$.each(b,function(b,d){var f=new oF;a.L(f);f.w((0,window.$)(d)[0]);a.lA.append(f.m());a.o().g(f,"unfollow",function(){pF(a)})})};
var qF=function(a){function b(a){g.hasClass("disabled")||(h.random(a)||(g.addClass("disabled"),(0,window.$)(".hidden-topics-plaza").show(),z.Y("topic","show_hidden_enter_topics_square","topic_feed_recommend")),d.html($x(h,h.Md,h.Xg)))}var c=(0,window.$)(a.m()),d=(0,window.$)(".js-list",c),f=(0,window.$)(".js-hidden-list",c),g=(0,window.$)(".js-pager",c),f=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html(f.html()).children().add(d.children())),h=new Yx(f,3);g.on("click",function(){b(d.find(".zg-btn-follow").length)});
d.on("click","[data-follow]",function(c){var f=(0,window.$)(c.target),q=f.data("id"),D=(0,window.$)(".new-follow-topics span"),E=D.data("ids");if(f.hasClass("zg-btn-follow"))c=(0,window.$)(c.target).closest(".topic-item"),h.remove(c[0]),D.length?(E.push(q),D.data("ids",E),D.text(E.length)):(0,window.$)('\x3ca href\x3d"#" class\x3d"new-follow-topics"\x3e\u65b0\u5173\u6ce8 \x3cspan data-ids\x3d"['+q+']"\x3e1\x3c/span\x3e \u4e2a\u8bdd\u9898\uff0c\u70b9\u51fb\u67e5\u770b\x3c/a\x3e').insertBefore((0,window.$)(".topic-recommend")),
1===(0,window.$)(".zg-btn-follow",d).length&&(g.hasClass("disabled")?(0,window.$)(".topic-recommend").fadeOut():(0,window.setTimeout)(function(){b(0)})),rF(a);else if(f.hasClass("zg-btn-unfollow")){var M=(0,window.$)(".js-topic-item[data-id\x3d"+q+"]");M.length?M.fadeOut(function(){M.remove();pF(a)}):E&&(1<E.length?(E.splice(E.indexOf(q),1),D.data("ids",E),D.text(E.length)):D.parent().remove(),pF(a))}});c.on("click",".new-follow-topics",function(b){b.preventDefault();var c=(0,window.$)(b.target);
window.$.get("/topic/newest-feeds",{ids:JSON.stringify((0,window.$)("span",c).data("ids"))},function(b){b&&!b.r&&(nF(a,b.msg),c.remove())})}).on("click",".js-nomore-recommend",function(){window.$.post("/topic/suggest-topics/close",function(a){a&&!a.r&&(0,window.$)(".topic-recommend").fadeOut()})})};var rF=function(a){var b=(0,window.parseInt)(a.Qt.text());sF(a,b+1)};var pF=function(a){var b=(0,window.parseInt)(a.Qt.text());sF(a,b-1)};
var sF=function(a,b){a.Qt.text(b);(0,window.$)(".no-topics").toggle(0===b)};var oF=function(){z.S.call(this)};var tF=function(){z.S.call(this)};var uF=function(a){a.Lf&&a.Lf.H();var b=new Lt;b.Iq="pin-topic-moving";Mt(b,a.h,0);b.init();a.o().g(b,"dragend",(0,z.t)(a.tt,a));a.Lf=b;(0,window.$)("a",a.h).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})})};var vF=function(a,b){return(0,window.$)(a.h).find("[data-topicid\x3d"+b+"]")};
var wF=function(a,b){return window.$.post("/pin-topic/add",{tid:b},window.$.proxy(function(a){!a.r&&a.msg?((0,window.$)(this.h).append((0,window.$)(this.BQ({topic:a.msg})).hide().fadeIn()),uF(this)):z.T(a.msg,2E3)},a))};var xF=function(a,b,c){var d=vF(a,b);d.fadeOut(function(){d.remove();a.tt().done(function(a){c&&c(a)});a.dispatchEvent({type:"change",rH:d.attr("data-topicid")});0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})};
var yF=function(){z.S.call(this);this.AC="even";this.bn="current"};var zF=function(a,b){return a.Pt.filter(function(){return(0,window.$)(this).text()===b})};var AF=function(a,b){return a.Pt.filter(function(){return(0,window.$)(this).attr("data-id")===String(b)})};var BF=function(){z.S.call(this)};var CF=function(){z.S.call(this)};
var DF=function(a,b){var c=z.y(b);if(c){var d=new ev;a.L(d);d.use("locationSource",{As:!0});d.w(c);(0,window.$)(c).on("click",'a[name\x3d"revert"]',function(){if(!1===LA({Rl:!0})())return!1;Vz(this);return!1}).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new Bv("activity",(0,window.$)(this).data("id"))).submit();return!1})}};var EF=function(){z.S.call(this)};
var FF=function(a,b){var c;if(a&&b){c=c||"text-highlight";var d=new RegExp(b,"i");(0,window.$)(a).find("*").andSelf().contents().each(function(){if(3===this.nodeType){var a=this,g=a.parentNode;if(!z.H.has(g,c))for(var h,l;-1!==(h=a.data.search(d));)h=0<h?a.splitText(h):a,a=h.splitText(b.length),l=window.document.createElement("em"),l.className=c,l.appendChild(h.cloneNode()),g.replaceChild(l,h)}})}};var GF=function(){Vu.call(this,{use:["autoload","dataPagingSource"]})};
var HF=function(){z.S.call(this);this.Vg="roundtable";this.Io=z.fr.roundtable};var IF=function(a){var b=new dv({Uu:"content",jH:"script.content"});a.L(b);b.w(a.m());a.o().g(a,["expand","collapse"],function(a){a.target===this&&b.Ra("expand"===a.type,!0)}).g(b,["expand","collapse"],function(a){this.Ra("expand"===a.type)})};
var JF=function(){var a=(0,window.$)(".roundtable-profile");(0,window.$)(".share",a).click(z.kl(function(){var a=(0,window.$)(this).data();aw(["\u5206\u4eab\u6d3b\u52a8","roundtable",a.token,{roundtable_id:a.id}],"tb-webshare-sina");z.X.na({type:"ga_click_share_roundtable_box",target:this,data:{type:"sina"}})}));(0,window.$)(".follow",a).click(z.kl(function(){var b=this;(0,z.Fs)(b,"roundtable",function(c){(0,window.$)(".label",b).text(c?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8");var d=(0,window.$)(".followers .count",
a);c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text(c).data("count",c))},["button-success","button-cancel"])}))};var KF=function(){z.S.call(this);this.Ty=z.fr.searchKeyword};var LF=function(){var a=(0,window.$)("#js-search-question-form");a.length&&a.submit(function(b){b.preventDefault();b=z.En.S();b.show();z.Fn(b,(0,window.$)(".title-input",a).val())})};
var MF=function(a){var b=(0,window.encodeURIComponent)(a.Ty);(0,window.$)("ul.list[data-paging]").on("click",".item a[href!\x3d#]",function(a){a=a.currentTarget;a.host&&(a=(0,window.$)(a).closest(".item").index()+1,z.gi.set("s-q",b),z.gi.set("s-i",a),z.gi.set("sid",(0,z.Kr)()))})};
var NF=function(a){function b(a,b){var f=(0,window.$)(a);window.$.each(b(),function(a,b){f.on("click",a,function(a){d.apply(null,c(b,a))})})}function c(a,b){return f(a,function(a){return z.ia(a)?a(b):a})}var d=z.qa(z.Y,"search"),f=z.B.map;b(".related-topics",function(){return{"a.avatar-link":["visit_topic","search_result_card_topic_avatar"],"a.name-link":["visit_topic","search_result_card_topic"],"a[href$\x3dquestions]":["visit_topic_questions","search_result_card_topic"],"a[href$\x3dtop-answers]":["visit_topic_topanswers",
"search_result_card_topic"],"a[href$\x3dfollowers]":["visit_topic_followers","search_result_card_topic"],"button.zg-btn-follow":["click_follow_topic","search_result_card_topic"],"button.zg-btn-unfollow":["click_unfollow_topic","search_result_card_topic"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_topic"]}});b(".related-users",function(){return{"a.avatar-link":["visit_people_profile","search_result_card_people_avatar"],"a.name-link":["visit_people_profile","search_result_card_people"],
"a[href$\x3danswers]":["visit_people_answers","search_result_card_people"],"a[href$\x3dfollowers]":["visit_people_followers","search_result_card_people"],"a[href$\x3dposts]":["visit_people_posts","search_result_card_people"],"button.zg-btn-follow":["click_follow_people","search_result_card_people"],"button.zg-btn-unfollow":["click_unfollow_people","search_result_card_people"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_people"]}});b(window.document.body,function(){var a=
z.qa(z.ya,"search_result_%s_more_button");return{"ul.list.questions + .zu-button-more":["click_search_result_more",a("all")],"ul.list.users + .zu-button-more":["click_search_result_more",a("user")],"ul.list.topics + .zu-button-more":["click_search_result_more",a("topic")]}});b(".search-tabs",function(){var a=z.qa(z.ya,"search_result_tab_%s");return{'a[href^\x3d"/search?type\x3dquestion"]':["click_search_result_tab",a("all")],'a[href^\x3d"/search?type\x3dpeople"]':["click_search_result_tab",a("user")],
'a[href^\x3d"/search?type\x3dtopic"]':["click_search_result_tab",a("topic")]}});b(".range-selector",function(){var a=z.qa(z.ya,"search_result_range_%s");return{'a[href*\x3d"range\x3d1d"]':["click_search_result_range",a("1d")],'a[href*\x3d"range\x3d1w"]':["click_search_result_range",a("1w")],'a[href*\x3d"range\x3d3m"]':["click_search_result_range",a("3m")]}});b("ul.list.questions",function(){function a(){return function(a){return"search_result_all_list_"+((0,window.$)(a.target).closest(".item").index()+
1)+""}}return{"a.question-link":["visit_question",a()],".js-expand, .summary":["click_expand",a()],'a[name\x3d"collapse"]':["click_collapse_answer",a()],"a.zg-follow":["click_follow_question",a()],"a.zg-unfollow":["click_unfollow_question",a()]}});b("ul.list.users",function(){function a(b){return function(a){return"search_result_user_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_people_profile",a("_avatar")],"a.name-link":["visit_people_profile",
a()],"a[href$\x3danswers]":["visit_people_answers",a()],"a[href$\x3dfollowers]":["visit_people_followers",a()],"a[href$\x3dposts]":["visit_people_posts",a()],"button.zg-btn-follow":["click_follow_people",a()],"button.zg-btn-unfollow":["click_unfollow_people",a()]}});b("ul.list.topics",function(){function a(b){return function(a){return"search_result_topic_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_topic",a("_avatar")],"a.name-link":["visit_topic",
a()],"a[href$\x3dquestions]":["visit_topic_questions",a()],"a[href$\x3dfollowers]":["visit_topic_followers",a()],"button.zg-btn-follow":["click_follow_topic",a()],"button.zg-btn-unfollow":["click_unfollow_topic",a()]}});a.o().g(a,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category","search").fill("label","search_result_answer")})};
var OF=function(a,b){var c=this.J={};z.C.extend(c,this.defaults,b||{});this.input=a;this.Yb=c.Yb;this.lh=this.RP();this.Fu=[];this.Fu.push({action:"remove",method:this.removeTag,$u:c.rQ,V:"\u5220\u9664"});(0,window.setTimeout)((0,z.t)(this.rg,this))};
var PF=function(a,b){var c={rd:function(a,b,c){c.innerHTML=f(a.data)}};z.C.extend(c,b||{});var d=new z.Lk(a,c);z.K(d,"show",function(){1<d.cb.length&&!d.cb[0].id&&z.Mj(d)});var f=(0,z.Hn)('\x3c% if (data.avatar) { %\x3e\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3c% } %\x3e\x3c% if(data.type \x3d\x3d\x3d "search_link" || !data.id){ %\x3e\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e\x3c%\x3ddata.type \x3d\x3d\x3d "search_link"?("\u6dfb\u52a0 "+label+" \u8bdd\u9898"):label%\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"zu-autocomplete-row-name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c% if (data.alias \x26\x26 data.followers) { %\x3e\x3c% if ( data.alias ) { %\x3e\u53c8\u79f0 \x3c%\x3dalias%\x3e\x3c% } %\x3e\x3c% if ( data.alias \x26\x26 data.followers ){ %\x3e\uff0c\x3c% } %\x3e\x3c% if ( data.followers ){ %\x3e\x3c%\x3dfollowers%\x3e \u4eba\u5173\u6ce8\x3c% } %\x3e\x3c% }else{ %\x3e\x26nbsp;\x3c% } %\x3e\x3c/span\x3e');return d};
var QF=function(){this.nA=this.rA=null};
var RF=function(a){function b(){var a=window.$.grep(f.get(0).options,function(a){return a.selected});window.$.map(a,function(a){return a.value})}function c(){g=n.eL();q.val(g.join(","))}var d=(0,window.$)("#rq-settings-ui"),f=(0,window.$)("select.select",d);(0,window.$)(".topics-num",d);(0,window.$)(".actions-num",d);var g=[];a.nA=(0,window.$)("#rq-info-block");d.on("click",".beginedit-button",function(a){a.preventDefault();d.addClass("expanded-view")}).on("click",".exitedit-button",function(a){a.preventDefault();
d.removeClass("expanded-view")}).on("click",".endedit-button",function(a){a.preventDefault();d.get(0).submit()});a=(0,window.$)(".topic-editor",d);var h=(0,window.$)("input.topic-input",a).get(0),l=(0,window.$)("ul.tag-list",a).get(0),n=new OF(h,{Ju:!0,Yb:l}),q=(0,window.$)('input[name\x3d"topics"]',a);n.on("change",c);f.on("change",b);c();b();SF(f.get(0))};
var SF=function(a){function b(a,b){var c=z.G("li"),f=z.G("span","item-label",a);c.appendChild(f);var h=new z.Rh("",z.$h.S());h.uh("zm-profile-tag-btn zm-profile-tag-btn-del");h.eb(!0);h.Rc("\u79fb\u9664\u52a8\u4f5c");h.Fa(b);h.addEventListener("action",function(){var a=h.X();g(a,!1);z.I(c);l.Os(!0);d()});h.aa(c);q.appendChild(c)}function c(){n.G(l.ll()!==f().length)}function d(){z.B.forEach(h,function(a){a.selected||(a=new cC(a.text,a.value),l.Ka(a))});c()}function f(){return z.B.filter(l.Bb(),function(a){return!!(a.U&
8)})}function g(a,b){var c=z.B.find(h,function(b){return b.value===a});c&&(c.selected=b)}z.R(a,!1);var h=a.options,l=new pv;l.on("action",function(a){a=a.target;b(a.Dg(),a.X());g(a.X(),!0);l.removeItem(a);c()});var n=new vv("\u6dfb\u52a0\u52a8\u4f5c",l);n.uh("menu-button");n.aa(a.parentNode);n.Zj=!0;xv(n);var q=z.G("ul","display-list");d();(function(){z.B.forEach(h,function(a){a.selected&&b(a.text,a.value)})})();a.parentNode.insertBefore(q,n.m())};
var TF=function(a){function b(){var b=f.text()||0;0<b&&f.text(b-1);UF(a)}var c=(0,window.$)("#rq3-item-list"),d={TR:function(a){return window.$.post("/watch/thank",{id:a,rq_type:"thank"})},hQ:function(a){return window.$.post("/watch/seen",{id:a,rq_type:"seen"})}};c.on("click",".read-button",function(){var a=(0,window.$)(this).closest(".rq-item"),c=a.data("id");d.hQ(c);b();a.slideUp(function(){a.remove()})}).on("click",".thank-button",function(a){a.preventDefault();a=(0,window.$)(this);var b=a.closest(".rq-item").data("id");
a.hasClass("thanked")||(d.TR(b),a.addClass("thanked").text("\u5df2\u611f\u8c22"))});Yz(c);c=new Mv(c.get(0),window.location.href,!0);c.aG=function(a){return a.getAttribute("data-id")};c.hi("rq-item");c.init();var c=(0,window.$)("#rq3-sidenav-link"),f=(0,window.$)(".zg-num",c);a.rA=f};var UF=function(a){var b=a.nA,c=Number(a.rA.text());(0,window.setTimeout)(function(){b.toggleClass("hidden",!!c)},210)};var VF=function(){};var WF=function(){};var XF=function(){z.S.call(this)};var YF=function(){};
var ZF=function(a,b){z.fa(b)||(b=[b]);var c=z.B.map(b,function(a){return z.r(a)?a:a.eQ+" "+a.duration+"s "+a.timing+" "+a.delay+"s"});$F(a,c.join(","))};var $F=function(a,b){a.style.WebkitTransition=b;a.style.MozTransition=b;a.style.mT=b;a.style.hI=b;a.style.transition=b};var aG=function(a,b,c,d,f){z.hi.call(this);this.h=a;this.wK=b;this.ZM=c;this.JC=d;this.fS=z.fa(f)?f:[f]};var bG=function(a,b,c,d){return new aG(a,.15,{opacity:c},{opacity:d},{eQ:"opacity",duration:.15,timing:b,delay:0})};
var cG=function(){this.Vg="explore";this.JK="explore_feed"};
var dG=function(){var a=(0,window.$)("ul.hot-roundtables"),b=(0,window.$)(".hot-roundtables-feature-popup");if(a.children().length&&b.length&&!(300>a.offset().left)){var c=a.children().first(),d=new z.Mo(b[0]);d.bm(!1);d.ht(bG(b[0],"ease-out",0,1),bG(b[0],"ease-in",1,0));b.on("click",".dismiss",function(){window.$.post("/notifeature",{feature:"explore_roundtable"});d.G(!1)});(0,window.setTimeout)(function(){d.G(!1);z.No(d,2);z.et(d,new z.sf(-25,10,0,0));d.setPosition(new Zt(c[0],0));d.G(!0)},200)}};
var eG=function(a){var b=(0,window.$)("#js-explore-tab");if(b.length){var c=(0,window.$)(".tab-panel",b),d=(0,window.$)(".tab-nav",b),f=null;d.children().click(function(){f=z.zb(window.document)});b=function(){var b={"daily-hot":0,"monthly-hot":1}[window.location.hash.slice(1)]||0;d.removeClass("active").eq(b).addClass("active");b=c.hide().eq(b).show().children("[data-type]");if(!b.data("inited")){b.data("inited",!0);var h={daily:cB,monthly:eB}[b.data("type")],h=new fG(h);h.use("expandLimit");a.L(h);
h.w(b[0])}f&&window.scrollTo(f.x,f.y)};a.o().g(window,"hashchange",b);b()}};var gG=function(a){var b=(0,window.$)("#zh-recommend-list-full\x3e.zh-general-list")[0];if(b){var c=new ev;c.use("nodeSource");Wu(c,function(a){var b=zy(a);b&&(c.L(b),b.w(a))});a.L(c);c.w(b)}};var fG=function(a){Vu.call(this,{source:hG(a),use:["autoload"]})};var hG=function(a){return function(){return a((0,window.$)(this.Bb()).last().data("offset")).then(function(a){return{results:a}})}};var iG=function(){z.S.call(this)};
var jG=function(){var a=0;return function(){return window.$.get("",{start:a+20,limit:20}).then(function(b){if(!b.r)return b=b.msg,b.hasmore&&(a+=20),{results:b.htmls,next:Boolean(b.hasmore)}})}};var kG=function(a){this.Zs=a;a.activityUrl="";lG(this)};
var lG=function(a){function b(a,b){var c;c=c||"slug";return{source:a,filter:function(a){return a.filter(function(a){return b.every(function(b){return b[c]!==a[c]})})},select:function(a){b.push(a);return""}}}a=a.Zs;var c=a.roundtable;a.topicsSuggestOpitons=b("/r/ac/topics",c.topics);a.organizationsSuggestOpitons=b("/r/ac/topics",c.organizations);a.presentersSuggestOpitons=b("/r/ac/users",c.presenters);a.guestsSuggestOpitons=b("/r/ac/users",c.guests)};
var mG=function(a,b){var c={Zd:5,className:"ui-suggest",bh:"row",FC:200};z.C.extend(c,b||{});var d=c.aa;d&&(c.rd=z.p,c.aa=function(a,b){!1!==d.apply(this,arguments)&&(a.dg=z.vb(a.bh,b))});z.Lk.call(this,a,c);var f=this.N;f.className=c.className;f.bh=c.bh;f.eo=c.FC};
var nG=function(a,b){return function(c,d,f){(0,window.$)(d).datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"});b(function(){(0,window.$)(d).datetimepicker("update",new Date(a(f.ngModel)(c)))})}};var oG=function(){return{scope:{id:"@id",avatar:"\x3davatar"},link:function(a,b){var c=new pz(4,a.id,"xl");c.w(b);c.addEventListener("success",function(){a.$apply(function(){a.avatar.id=c.getData().id})})}}};
var pG=function(a){return{scope:{options:"\x3dsuggestOptions"},link:function(b,c,d){var f,g;d={NQ:'\x3cdiv class\x3d"row"\x3e\x3cimg class\x3d"avatar" src\x3d"[[avatar | avatarUrl]]"\x3e\x3cspan class\x3d"name"\x3e[[name]]\x3c/span\x3e\x3c/div\x3e',FC:100,source:d.source,di:c.parent()[0],aa:function(a,b,c){b.innerHTML=c.map(function(a){return g(a.data)}).join("")}};g=a(d.NQ);window.angular.extend(d,b.options);d.select&&(d.select=function(a){return function(c){return b.$apply(function(){return a(c)})}}(d.select));
f=new mG(c[0],d);return b.$on("destroy",function(){return f.H()})}}};var qG=function(){return function(a,b){return"string"===typeof a?a:a.template.replace("{id}",a.id).replace("{size}",b||"xs")}};var rG=function(a){a.startSymbol("[[").endSymbol("]]")};var sG=function(){HF.call(this);this.Io=z.fr.roundtable};
var tG=function(a){var b=a.Io;(0,window.$)(".feeds.pending-questions").on("click",".add",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"approve_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})}).on("click",".remove",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,
{action:"ignore_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var uG=function(a){var b=a.Io;(0,window.$)(".feeds.pending-activities").on("click",".remove",function(){var a=(0,window.$)(this).data(),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"remove_pending_activity",type:a.type,url_token:a.token}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var vG=function(a){var b=(0,window.$)(".add-pending-activities-form");if(b.length){var c=(0,window.$)(".url",b),d=(0,window.$)(".time",b);d.datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"}).datetimepicker("update",new Date);var f=a.Io;b.submit(function(a){function b(a){a.success?(z.T("\u6dfb\u52a0\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},3E3)):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")}a.preventDefault();
if(!c.val())return z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u5fc5\u987b\u586b\u5199");if(!d.val())return z.T("\u53d1\u5e03\u65f6\u95f4\u5fc5\u987b\u586b\u5199");a=(a=c.val().match(/\/question\/\d+\/answer\/(\d+)/))&&a[1];var l=c.val().match(/\/question\/(\d+)/),l=l&&l[1];a?window.$.post("/roundtable/"+f.slug,{action:"add_pending_activity",publish_time:d.val(),type:"answer",url_token:a},b):l?window.$.post("/roundtable/"+f.slug,{action:"add_pending_activity",publish_time:d.val(),type:"question",
url_token:l},b):z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u4e0d\u6b63\u786e")})}};var wG=function(){z.S.call(this)};var xG=function(){z.S.call(this)};var yG=function(a){a.vm&&a.vm.hide();a.xq++;a.vm=(0,window.$)(a.Vt[a.xq]).show();a.Ap.html(a.xq+1+"/"+a.By)};
var zG=function(a){a.K.removeClass("answering").addClass("successed");a.vm.hide();a.Ap.html("\u5168\u90e8\u5224\u65ad\u6b63\u786e");(0,window.$)(".describe",a.K).html("\u4f60\u7684\u53cb\u5584\u5ea6\u5df2\u7ecf\u63d0\u5347\uff0c\u6bcf\u5929\u53ea\u80fd\u5224\u65ad\u4e00\u6b21");var b=(0,window.$)(".blue-stars",a.K).css("width","0"),c=a.yR+.5;(0,window.setTimeout)(function(){b.animate({width:20*c+"%"},1E3)},200)};
var AG=function(a,b){a.K.removeClass("answering").addClass("failed");a.vm.hide();a.Ap.html("\u4ee5\u4e0b\u5185\u5bb9\u5224\u65ad\u9519\u8bef\uff0c\u672c\u6b21\u5224\u65ad\u672a\u80fd\u63d0\u5347\u53cb\u5584\u5ea6");a.Vt.each(function(){var a=(0,window.$)(this),d=a.data("id");z.B.contains(b,d)&&a.show()})};z.e=z.Zs.prototype;z.e.wh="";z.e.set=function(a){this.wh=""+a};z.e.append=function(a,b,c){this.wh+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.wh+=arguments[d];return this};
z.e.clear=function(){this.wh=""};z.e.Yq=z.k(33);z.e.toString=function(){return this.wh};z.v(at,z.Ic);z.vn.prototype.bw=z.Z(54,function(){return this.Ma});z.hn.prototype.Ke=z.Z(53,function(a){this.ca.ft(a)});z.em.prototype.Ic=z.Z(43,function(){return this.P.toString()});z.jm.prototype.Ic=z.Z(42,function(){return this.P.text});z.vm.prototype.Ic=z.Z(41,function(){return z.zm(this).Ic()});z.Cm.prototype.Ic=z.Z(40,function(){return""});z.Im.prototype.Ic=z.Z(39,function(){return z.B.map(z.Wl(this),function(a){return a.Ic()}).join("")});
z.Oo.prototype.Ic=z.Z(38,function(){return z.gc(this.m())});z.Zs.prototype.Yq=z.Z(33,function(){return this.wh.length});z.Ul.prototype.Gb=z.Z(19,function(){var a=this.uc();return 1==a.nodeType?a:a.parentNode});z.vl.prototype.$v=z.Z(16,function(){return z.Tr});z.Kh.prototype.cm=z.Z(15,function(a){this.Ea(a)});z.Kg.prototype.Ro=z.Z(12,function(a){this.Tj=a});z.Kh.prototype.Ro=z.Z(11,function(a){this.Tj=a});z.Fg.prototype.kx=z.Z(10,function(){return this.wj||150>(0,z.Wa)()-this.rx});
z.Fg.prototype.ht=z.Z(9,function(a,b){this.mm=a;this.ul=b});z.Hg.prototype.ht=z.Z(8,function(a,b,c,d){this.Rj=a;this.Qj=b;this.Hk=c;this.Gk=d});z.Fg.prototype.bm=z.Z(7,function(a){z.Gg(this);this.Fk=a});z.Xg.prototype.bm=z.Z(6,function(a){this.Fk=a;this.Da&&z.Zg(this)});z.mg.prototype.$y=z.Z(5,function(a){this.Jw=Math.pow(a,2)});z.mg.prototype.Mf=z.Z(4,function(a){this.si=a});z.pi.prototype.Mf=z.Z(3,function(a){this.si=a});
z.Je.prototype.Fp=z.Z(2,function(a,b,c){var d=(0,z.Wa)(),f=c?c:d,g=bt(this.Nq);g.Pq=2;g.Oq=f;g.type=b;g.EB=a;a=(a=this.XT)&&a.isTracing()?a.totalVarAlloc:-1;g.sH=a;this.Ru++;if(c){c=this.Of.length;for(a=0;a<c;a++)if(this.Of[a].Oq>f){z.B.Nn(this.Of,g,a);break}a==c&&this.Of.push(g)}else this.Of.push(g);if(f=g.type)g=this.fk.get(f),g||(g=bt(this.yz),g.type=f,this.fk.set(f,g)),g.count++;this.Et+=(0,z.Wa)()-d});z.Ad.prototype.ii=z.Z(1,function(a){this.kF=a});
z.pb.prototype.Xu=z.Z(0,function(a,b,c){var d=this.La,f=!!c;c=["\x3ctr\x3e"];for(var g=0;g<b;g++)c.push(f?"\x3ctd\x3e\x26nbsp;\x3c/td\x3e":"\x3ctd\x3e\x3c/td\x3e");c.push("\x3c/tr\x3e");c=c.join("");b=["\x3ctable\x3e"];for(g=0;g<a;g++)b.push(c);b.push("\x3c/table\x3e");a=d.createElement("DIV");a.innerHTML=b.join("");return a.removeChild(a.firstChild)});z.v(z.st,z.nd);z.st.prototype.next=function(){var a=this.rF;if(!a)throw z.W.fb;this.rF=this.JQ?a.previousSibling:a.nextSibling;return a};z.v(vt,z.st);
var Wt=/^#(?:[0-9a-f]{3}){1,2}$/i;z.v(xt,z.Ic);Et.defaults={paddingTop:0};var Ut=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Xt=/#(.)(.)(.)/;z.v(It,z.Jo);It.prototype.ba=function(a,b,c,d){var f=Gt(z.qb(a)),g=this.Ch.x+f.x,f=this.Ch.y+f.y,h=z.sk(a),g=g-h.x,f=f-h.y;z.uk(new z.kb(g,f),a,b,c,null,null,d)};z.v(Kt,z.Il);z.e=Kt.prototype;z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))Kt.v.w.call(this,a),this.Fe(!0),z.R(this.LC,!1)};
z.e.Jg=function(a){var b;this.lx&&(b="/topic/autocomplete?no_create\x3dtrue");Kt.v.Jg.call(this,a,b);this.Y.Ge.IC=!1};z.e.Xl=function(){return(0,z.t)(function(a,b){return z.B.filter(a,function(a){return 3>=a.length?!1:z.B.every(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"\u5df2\u5728\u73b0\u6709\u5217\u8868\u4e2d',!0):!1:!0})},this)},this)};
z.e.Se=function(a,b){this.Og||(this.Og=!0,this.fa=new z.U(!0),z.Ld(this.o(),this.fa,"complete",this.hu),a||(a=-1),this.lx?this.fa.ajax("/topic/add","tid\x3d"+this.vf+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.fa.ajax("/topic/add","tid\x3d"+this.vf+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.UC=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.xo=function(a){if(!this.ka||!this.ka.Jb()){var b=new z.U(!0);this.o().g(b,"success",function(){var c=z.fe(b);c.r?z.T(c.msg):(z.Ll(this),this.Le(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.lx?b.ajax(this.vG,"cid\x3d"+this.vf+"\x26pid\x3d"+a):b.ajax(this.vG,"pid\x3d"+this.vf+"\x26cid\x3d"+a);this.ka=b}};z.v(Lt,z.N);z.e=Lt.prototype;z.e.TD=0;z.e.$y=function(a){this.TD=a};
z.e.init=function(){if(!this.sE){for(var a=0,b=this.Vc.length;a<b;a++)for(var c=z.Qb(this.Vc[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,l=z.ka(h);this.pv[l]=g;this.tC&&(this.R.g(g,"mouseover",this.DL),this.R.g(g,"mouseout",this.CL));this.sC&&(this.R.g(h,"mouseover",this.BL),this.R.g(h,"mouseout",this.AL));this.Yk.push(g);this.R.g(h,["mousedown","touchstart"],this.gM)}this.sE=!0}};
z.e.C=function(){this.R.H();for(var a=0,b=this.Vc.length;a<b;a++){var c=this.Vc[a];c.qC=void 0;c.Li=void 0}this.Vc.length=0;this.Yk.length=0;this.pv=null;Ot(this);Lt.v.C.call(this)};
z.e.gM=function(a){var b=z.ka(a.currentTarget);this.Ya=this.pv[b];a:{var b=this.Ya,c=b.cloneNode(!0);switch(b.tagName.toLowerCase()){case "tr":b=z.G("table",null,z.G("tbody",null,c));break a;case "td":case "th":b=z.G("table",null,z.G("tbody",null,z.G("tr",null,c)));break a;default:b=c}}this.Ec=b;this.Iq&&z.H.add(this.Ec,this.Iq);this.Ec.style.margin="0";this.Ec.style.position="absolute";this.Ec.style.visibility="hidden";z.qb(this.Ya).body.appendChild(this.Ec);b=z.Mf(this.Ya);Ft(this.Ec,b);this.Eb=
new z.mg(this.Ec);this.Eb.$y(this.TD);z.K(this.Eb,"start",this.uw,!1,this);z.K(this.Eb,"end",this.yL,!1,this);z.K(this.Eb,"earlycancel",this.Lu,!1,this);this.Eb.qm(a)};
z.e.uw=function(a){if(this.dispatchEvent(new xt("beforedragstart",0,a.mB,0,0,null))){this.xs=this.Ya.parentNode;this.SB=this.ky=Ht(this.Ya);this.bv=this.xs;this.av?z.H.add.apply(null,z.B.concat(this.Ya,this.av)):this.Ya.style.visibility="hidden";var b=z.Uf(this.Ec);this.Ec.iL=b.width/2;this.Ec.hL=b.height/2;this.Ec.style.visibility="";this.Zz&&(this.Ya.style.display="none");Nt(this,this.Ya);this.Ya.style.display="";z.K(this.Eb,"drag",this.EL,!1,this);this.dispatchEvent(new xt("dragstart",0,a.mB,0,
0,this.Eb))}else a.preventDefault(),this.Lu()};
z.e.EL=function(a){var b=z.Mf(this.Ec),b=new z.kb(b.x+this.Ec.iL,b.y+this.Ec.hL),c;a:{c=null;if("none"!=this.Ya.style.display){c=this.Ya.parentNode;var d=z.Wf(c);if(Pt(b,d))break a}for(var d=0,f=this.Vc.length;d<f;d++){var g=this.Vc[d];if(g!=c&&Pt(b,g.Xk)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var l,n,d=!1,f=void 0;switch(c.qC){case 0:h=b.y;l=Ct;n=zt;break;case 4:d=!0;case 2:h=b.x;l=Bt;n=zt;break;case 5:d=!0;case 3:h=b.x,l=At,n=yt}for(var g=
null,q,D=z.Qb(c),E=0,M=D.length;E<M;E++){var L=D[E];if(L!=this.Ya){var Q=l(L.Xk);if(d){var oa=Dt(L,b);z.ea(f)||(f=oa);n(h,Q)&&(void 0==q||oa<f||oa==f&&(n(Q,q)||Q==q))&&(g=L,q=Q);oa<f&&(f=oa)}else n(h,Q)&&(void 0==q||n(Q,q))&&(g=L,q=Q)}}h=null!==g&&Dt(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new xt("beforedragmove",0,a,0,0,this.Eb)))return!1;if(c)this.Zz?this.Ya.parentNode==c&&Ht(this.Ya)==h||c.insertBefore(this.Ya,h):h&&(this.SB=h),this.Ya.style.display="",c.Li&&z.H.add(c,c.Li);else for(this.pN||
(this.Ya.style.display="none"),h=0,l=this.Vc.length;h<l;h++)n=this.Vc[h],n.Li&&z.H.remove(n,n.Li);c!=this.bv&&(this.bv=c,Nt(this,this.Ya));this.dispatchEvent(new xt("dragmove",0,a,0,0,this.Eb));return!1};z.e.Lu=function(){Ot(this);this.Eb=this.Ec=this.ky=this.xs=this.bv=this.Ya=null;for(var a=0,b=this.Vc.length;a<b;a++)this.Vc[a].Xk=null;a=0;for(b=this.Yk.length;a<b;a++)this.Yk[a].Xk=null};
z.e.yL=function(a){if(!this.dispatchEvent(new xt("beforedragend",0,a,0,0,this.Eb)))return!1;this.Zz||this.xs.insertBefore(this.Ya,this.SB);Ot(this);this.dispatchEvent(new xt("dragend",0,a,0,0,this.Eb));this.Lu();return!0};z.e.DL=function(a){z.H.add.apply(null,z.B.concat(a.currentTarget,this.tC))};z.e.CL=function(a){z.H.remove.apply(null,z.B.concat(a.currentTarget,this.tC))};z.e.BL=function(a){z.H.add.apply(null,z.B.concat(a.currentTarget,this.sC))};
z.e.AL=function(a){z.H.remove.apply(null,z.B.concat(a.currentTarget,this.sC))};
var Hu={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},BG=/[^\d]+$/;z.v(Yt,It);Yt.prototype.Wn=0;Yt.prototype.em=function(a){this.Wn=a};
Yt.prototype.ba=function(a,b,c,d){var f=z.If(a),f=z.Lf(f),g;g=z.ob(a);g=z.Ab(g.La);g=new z.kb(this.Ch.x+g.scrollLeft,this.Ch.y+g.scrollTop);var h=b,l=z.uk(g,a,h,c,f,10,d);if(0!=(l&496)){if(l&16||l&32)h^=2;if(l&64||l&128)h^=1;l=z.uk(g,a,h,c,f,10,d);0!=(l&496)&&z.uk(g,a,b,c,f,this.Wn,d)}};z.v(Zt,z.Ko);Zt.prototype.wn=function(){return this.Wn};Zt.prototype.em=function(a){this.Wn=a};
Zt.prototype.ba=function(a,b,c,d){var f=z.rk(this.element,this.Gf,a,b,null,c,10,d,this.ny);if(f&496){var g=$t(f,this.Gf);b=$t(f,b);f=z.rk(this.element,g,a,b,null,c,10,d,this.ny);f&496&&(g=$t(f,g),b=$t(f,b),z.rk(this.element,g,a,b,null,c,this.wn(),d,this.ny))}};z.tw=!0;z.v(du,z.Il);z.e=du.prototype;
z.e.w=function(a){this.h=a;this.gg=z.A("zm-tag-editor-labels",this.h);this.Fe(!0);this.pe();this.ub();this.Pf=z.y("zh-expert-topics");this.Cm=z.y("zh-active-topics");eu(this);gu(this);this.data=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get();this.Vl()};
z.e.nn=function(){this.Wc||(this.Wc=z.G("div","zm-tag-editor-editor",[this.Ye=z.G("div","zg-section zm-tag-editor-command-buttons-wrap",[this.ob=z.y("profile-expert-edit-input")])]),this.Be&&(this.qx=new z.Al(this.Be),this.qx.w(this.ob),this.ob.title=this.Be),z.Mb(this.Wc,this.gg),this.Jg(this.Ye))};
z.e.Jg=function(a){this.Y=new z.Hl("/topic/autocomplete",this.ob,null,null,a,!0);this.Y.hh(!0);this.Y.Cl=this.Zd;this.Y.So(this.Xl());jt(this.Y,[this.Be]);this.o().g(this.Y,"select",this.no);this.o().g(this.Y,"suggestionsupdate",this.gu);this.o().g(this.Y,"suggestionsupdate",this.du);this.o().g(this.Y,z.Lj,function(){(0,window.$)(this.Y.N.h).hide()})};
z.e.du=function(){if(0===this.Y.cb.length){var a=z.G("div",{className:"zu-autocomplete-empty"},"\u6ca1\u6709\u540d\u5b57\u4e3a "+(0,window.$)(this.ob).val()+" \u7684\u8bdd\u9898");(0,window.$)(this.Y.N.h).html(a).show()}};z.e.no=function(){var a=this.Y.Yi().slice(1);a&&3<a.length&&(this.YB=a,this.Se(a))};
z.e.Se=function(a){this.data.push(a[1]);var b=(0,window.$)(this.Pf).find("[data-url-token\x3d'"+a[1]+"']")[0];b?z.cj(b):(St("TopicMediumV2",{member_url_token:z.V[1],topic_url_token:a[1]},this.tq,this),(0,window.$)(this.Cm).find("[data-url-token\x3d'"+a[1]+"']").remove(),this.dispatchEvent("add"))};z.e.tq=function(a){a=(0,window.$)(a)[0];z.Nb(this.Pf,a,0);z.cj(a);fu(this)};z.e.Le=function(){};
z.e.Vl=function(){if(!z.bq.wc){var a=this;this.Lf&&this.Lf.H();var b=new Lt;b.Iq="expert-item-moving";Mt(b,this.Pf,4);b.init();this.Lf=b;this.o().g(this.Lf,"dragend",function(){this.dispatchEvent("sort")});(0,window.$)("a, input, .del, .add",this.Pf).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})});this.o().g(this.Lf,"beforedragstart",function(){return z.A("editing",this.Pf)?!1:!0})}};
z.e.Xl=function(){return(0,z.t)(function(a){return z.B.filter(a,function(a){return z.B.every(this.data,function(c){return c+""!==a[2]+""&&3<a.length})},this)},this)};z.v(hu,Kt);hu.prototype.Se=function(a){this.Og||(this.Og=!0,this.fa=new z.U(!0),z.Ld(this.o(),this.fa,"complete",this.hu),this.fa.ajax(this.jB,"tid\x3d"+a+"\x26method\x3dadd"))};
hu.prototype.xo=function(a){this.Og||(this.Og=!0,this.fa=new z.U(!0),this.o().g(this.fa,"complete",function(){z.Ll(this);this.Le();this.Og=!1}),this.fa.ajax(this.jB,"tid\x3d"+a+"\x26method\x3ddel"))};z.v(iu,z.Il);z.e=iu.prototype;z.e.w=function(a){this.h=a;this.gg=z.A("zm-tag-editor-labels",this.h);this.Fe(!0);this.pe();this.ub()};
z.e.nn=function(){this.Wc||(this.Wc=z.G("div","zm-tag-editor-editor",[this.kn=z.G("div","zg-section zg-clear"),this.Ye=z.G("div","zg-section zm-tag-editor-command-buttons-wrap",[this.ob=z.y("zh-topic-merge-input"),z.G("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"\u6dfb\u52a0"),this.LC=z.y("zh-topic-merge-btn")])]),z.Mb(this.Wc,this.gg),this.Jg(this.Ye))};
z.e.Jg=function(a){this.Y=new z.Hl("/topic/autocomplete",this.ob,null,null,a,!0);this.Y.hh(!0);this.Y.Cl=this.Zd;this.Y.So(this.Xl());this.Y.Bv=[this.Be];this.o().g(this.Y,"select",this.no);this.o().g(this.Y,"suggestionsupdate",this.gu)};z.e.Xl=function(){return(0,z.t)(function(a){return z.B.filter(a,function(a){return z.B.every(this.data,function(c){return c[1]!==a[1]&&3<a.length})},this)},this)};z.e.no=function(){var a=this.Y.Yi().slice(1);a&&3<a.length&&(this.YB=a,this.Se(a[3],a[0]))};
z.e.Se=function(a,b){var c=this;(0,window.setTimeout)(function(){c.ob.value=b})};z.e.Le=function(){};z.v(z.ju,z.S);z.e=z.ju.prototype;z.e.ox=null;z.e.rb=null;z.e.N=null;z.e.Cb=null;z.e.pb=!0;z.e.jc=!0;z.e.Qv=!0;z.e.Ib=-1;z.e.mc=null;z.e.Yf=!1;z.e.FI=!1;z.e.CP=!0;z.e.ug=null;z.e.lc=function(){return this.ox||this.N.lc(this)};z.e.Xq=function(){return this.rb||(this.rb=new z.Gh(this.lc()))};z.e.B=function(){this.h=this.N.B(this)};z.e.W=function(){return this.N.W(this.m())};z.e.hc=function(a){return this.N.hc(a)};
z.e.da=function(a){this.h=this.N.w(this,a);"none"==a.style.display&&(this.pb=!1)};z.e.D=function(){z.ju.v.D.call(this);z.Eg(this,function(a){a.Da&&lu(this,a)},this);var a=this.m();this.N.Ae(this);this.G(this.pb,!0);this.o().g(this,"enter",this.vw).g(this,"highlight",this.zw).g(this,"unhighlight",this.Hw).g(this,"open",this.dM).g(this,"close",this.rL).g(a,"mousedown",this.xe).g(z.qb(a),"mouseup",this.xL).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.pL);this.Vh()&&ku(this,!0)};
z.e.mb=function(){this.Sb(-1);this.mc&&this.mc.yb(!1);this.Yf=!1;z.ju.v.mb.call(this)};z.e.C=function(){z.ju.v.C.call(this);this.rb&&(this.rb.H(),this.rb=null);this.N=this.mc=this.ug=this.ox=null};z.e.vw=function(){return!0};z.e.zw=function(a){var b=z.pt(this,a.target);if(-1<b&&b!=this.Ib){var c=z.mu(this);c&&c.td(!1);this.Ib=b;c=z.mu(this);this.Yf&&c.setActive(!0);this.CP&&this.mc&&c!=this.mc&&(c.Tb&64?c.yb(!0):this.mc.yb(!1))}z.sc(this.m(),"activedescendant",a.target.m().id)};
z.e.Hw=function(a){a.target==z.mu(this)&&(this.Ib=-1);z.sc(this.m(),"activedescendant","")};z.e.dM=function(a){(a=a.target)&&a!=this.mc&&a.getParent()==this&&(this.mc&&this.mc.yb(!1),this.mc=a)};z.e.rL=function(a){a.target==this.mc&&(this.mc=null)};z.e.xe=function(a){this.jc&&(this.Yf=!0);var b=this.lc();b&&z.ec(b)?b.focus():a.preventDefault()};z.e.xL=function(){this.Yf=!1};
z.e.pL=function(a){var b;a:{b=a.target;if(this.ug)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.ug){b=this.ug[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.xe(a);break;case "mouseup":b.Uf(a);break;case "mouseover":b.nd(a);break;case "mouseout":b.Rh(a);break;case "contextmenu":b.Bn(a)}};z.e.we=function(){};z.e.Yc=function(){this.Sb(-1);this.Yf=!1;this.mc&&this.mc.yb(!1)};
z.e.$b=function(a){return this.isEnabled()&&this.T()&&(0!=z.Cg(this)||this.ox)&&this.gf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.gf=function(a){var b=z.mu(this);if(b&&"function"==typeof b.$b&&b.$b(a)||this.mc&&this.mc!=b&&"function"==typeof this.mc.$b&&this.mc.$b(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Vh())this.lc().blur();else return!1;break;case 36:nu(this);break;case 35:pu(this);break;case 38:if(this.Cb==z.Tr)ru(this);else return!1;break;case 37:if(this.Cb==z.Sr)this.Dd()?qu(this):ru(this);else return!1;break;case 40:if(this.Cb==z.Tr)qu(this);else return!1;
break;case 39:if(this.Cb==z.Sr)this.Dd()?ru(this):qu(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.ju.v.L.call(this,a,b)};z.e.Bk=function(a,b,c){a.ek|=2;a.ek|=64;!this.Vh()&&this.FI||z.Nh(a,32,!1);a.Qo(!1);z.ju.v.Bk.call(this,a,b,c);a.Da&&this.Da&&lu(this,a);b<=this.Ib&&this.Ib++};
z.e.removeChild=function(a,b){if(a=z.r(a)?z.Bg(this,a):a){var c=z.pt(this,a);-1!=c&&(c==this.Ib?a.td(!1):c<this.Ib&&this.Ib--);(c=a.m())&&c.id&&this.ug&&z.C.remove(this.ug,c.id)}a=z.ju.v.removeChild.call(this,a,b);a.Qo(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Cb=a};z.e.T=function(){return this.pb};
z.e.G=function(a,b){if(b||this.pb!=a&&this.dispatchEvent(a?"show":"hide")){this.pb=a;var c=this.m();c&&(z.R(c,a),this.Vh()&&kt(this.lc(),this.jc&&this.pb),b||this.dispatchEvent(this.pb?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.jc};
z.e.eb=function(a){this.jc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.jc=!0,z.Eg(this,function(a){a.RH?delete a.RH:a.eb(!0)})):(z.Eg(this,function(a){a.isEnabled()?a.eb(!1):a.RH=!0}),this.Yf=this.jc=!1),this.Vh()&&kt(this.lc(),a&&this.pb))};z.e.Vh=function(){return this.Qv};z.e.Ne=function(a){a!=this.Qv&&this.Da&&ku(this,a);this.Qv=a;this.jc&&this.pb&&kt(this.lc(),a)};z.e.Sb=function(a){(a=z.Dg(this,a))?a.td(!0):-1<this.Ib&&z.mu(this).td(!1)};z.e.td=function(a){this.Sb(z.pt(this,a))};
z.e.qB=function(a){return a.T()&&a.isEnabled()&&!!(a.Tb&2)};z.e.Zy=function(a){this.Sb(a)};
var qy={jD:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},gA:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.gh("\u63d0\u793a\u4fe1\u606f","\x3cp\x3e"+a.msg+'\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24752645" target\x3d"_blank"\x3e\u4e3a\u4ec0\u4e48\u56de\u7b54\u4f1a\u88ab\u5efa\u8bae\u4fee\u6539\uff1f\x3c/a\x3e\x3c/p\x3e')})},Xy:function(a,b){return window.$.post("/node/AnswerMetaV2",
{method:"set_copyright",params:{answer_id:a,is_copyable:Number(b)}})}};z.v(Du,z.si);Du.prototype.ph=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.v(Eu,z.si);Eu.prototype.ph=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.v(Fu,z.si);Fu.prototype.ph=function(){var a=this.si&&this.Dd()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.v(Ru,z.N);var Tu={};
Ru.prototype.defaults={};Ru.prototype.o=function(){return this.Gg||(this.Gg=new z.Kd(this))};Ru.prototype.init=function(){};Ru.prototype.C=function(){Ru.v.C.call(this);this.view&&(z.C.remove(this.view.qd,this.name),this.view=null);this.Gg&&(this.Gg.H(),this.Gg=null)};z.v(Vu,z.S);z.e=Vu.prototype;z.e.defaults={source:null,use:["autoload","shortcut"],ih:!0,Pm:"zg-btn-white zu-button-more"};z.e.use=function(a,b){var c=Uu(a,b);c.view=this;this.Da?c.init(this):this.o().g(this,"initialized",function(){c.init(this)});this.qd[a]=c;return this};z.e.Fi=function(){!this.Kd&&this.J.ih&&(this.Kd=this.$p(),z.Mb(this.Kd,this.h),this.o().g(this.Kd,"click",this.es))};
z.e.D=function(){Vu.v.D.call(this);this.Fi();z.B.forEach(this.Bb(),this.tq,this);z.B.forEach(this.J.use,this.use,this);this.dispatchEvent("initialized")};z.e.C=function(){z.C.forEach(this.qd,function(a){a.H()});this.qd=null;Vu.v.C.call(this)};z.e.Bb=function(){return z.Qb(this.h)};z.e.tq=function(a,b){this.Lj(a,b);this.dispatchEvent({type:"itemcreated",item:a,index:b})};z.e.Lj=z.p;z.e.VO=function(a){if(a){var b=a.results,c=!b||!b.length;c||this.aa(b);this.dispatchEvent("next");(c||!1===a.next)&&Xu(this)}};
z.e.aa=function(a,b){a=window.$.isArray(a)?a.join(""):a;var c=z.Gb(a+" ");z.B.forEach(window.$.makeArray(z.Qb(c)),this.tq,this);z.Nb(this.h,c,b)};z.e.es=function(){if(!1!==this.dispatchEvent("beforeloadnext")&&"pending"!==this.promise.state())return this.lz(!0),this.promise=this.source().done((0,z.t)(this.VO,this)).always((0,z.t)(z.qa(this.lz,!1),this))};z.e.Gc=function(){return this.Kd};z.e.$p=function(){return z.G("a",{"aria-role":"button","class":this.J.Pm},"\u66f4\u591a")};
z.e.lz=function(a){this.Kd&&(this.Kd.innerHTML=a?'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e \u52a0\u8f7d\u4e2d':"\u66f4\u591a",z.H.enable(this.Kd,"loading",a))};var Zu={s:function(a,b,c){return(0,window.isNaN)(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,f){d=a.toString();(0,window.isNaN)(f)||""==f||(d=a.toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if((0,window.isNaN)(c)||d.length>=c)return d;d=(0,window.isNaN)(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;0<=b.indexOf("-",0)?d=g+d+Array(a+1).join(" "):
(b=0<=b.indexOf("0",0)?"0":" ",d=g+Array(a+1).join(b)+d);return d},d:function(a,b,c,d,f,g,h,l){return Zu.f((0,window.parseInt)(a,10),b,c,d,0,g,h,l)}};Zu.i=Zu.d;Zu.u=Zu.d;Su("activeSource",{defaults:{nJ:"%d \u6761\u65b0\u52a8\u6001",Pm:"zu-main-feed-fresh-button",DU:z.p},init:function(a){this.data=[];this.button=this.$p();z.Lb(this.button,a.m());this.o().g(this.button,"click",function(){a.aa(this.data,0);this.setData([])});var b=this,c=this.options.source(function(a){a&&a.length&&b.setData(a.concat(b.data))},function(){return b.data});if(!c||!z.ia(c.H))throw Error("Source must return a disposable object.");this.sK=c},setData:function(a){this.data=a;this.EO()},EO:function(){var a=
this.data.length;z.bc(this.button,Yu(this.options.nJ,a));z.R(this.button,!!a)},$p:function(){return z.G("a",{href:"javascript:;",style:"display:none","class":this.options.Pm})},H:function(){Ru.prototype.H.call(this);z.Gc(this.sK);this.options=null;this.button&&(z.I(this.button),this.button=null)}});z.v($u,z.N);$u.prototype.hf=function(){var a=this.cp=new z.zl(this.update,this.mK,this);this.ha.g(this.viewport,"scroll",a.fire,!1,a).g(this.viewport,"resize",a.fire,!1,a)};$u.prototype.o=function(){return this.ha};$u.prototype.C=function(){$u.v.C.call(this);this.ha.H();this.ha=null;this.cp.H();this.cp=null};$u.prototype.update=function(){this.size=(z.Wb(this.viewport)?z.yb:z.Uf)(this.viewport);this.dispatchEvent("update")};var cv=new $u;(0,window.$)(function(){cv.update()});Su("autoload",{defaults:{bB:!0,viewport:window,AU:function(){return!0}},init:function(a){if(a.Gc()&&(!this.options.bB||z.V.sa())){var b=this.options.viewport,c=new $u(b);z.Ec(this,c);av(c,this,function(c){return z.Yf(a.Gc())?400>=(z.Wb(b)?a.Gc().getBoundingClientRect().top-c.height:b.scrollHeight-b.scrollTop-c.height):!1});this.o().g(a,"complete",this.H).g(a,"next",function(){this.enable()});this.enable()}},enable:function(){z.Ld(this.o(),this,"nearbottom",function(){this.view.es()})}});Su("childConstructor",{defaults:{Hi:null,factory:null},init:function(a){z.ia(this.options.Hi)&&Wu(a,this.TJ,this);z.ia(this.options.factory)&&Wu(a,this.dQ,this)},TJ:function(a){var b=new this.options.Hi;this.view.L(b);b.w(a)},dQ:function(a){var b=this.options.factory(a);this.view.L(b);b.w(a)}});Su("dataPagingSource",{defaults:{vB:!0},init:function(a){var b=(0,window.$)(a.m()).data("paging").next;b||Xu(a);a.source=function(){return window.$.get(b).then(function(a){b=a.paging.next;return{results:a.htmls,next:!!b}})}}});z.v(dv,z.S);z.e=dv.prototype;z.e.defaults={jH:"textarea.content",oB:".toggle-expand",LR:".summary",Uu:"zm-editable-content",Uq:!1};
z.e.D=function(){dv.v.D.call(this);var a=this.h,b=this.J;b.Uq?(this.Re=(0,window.$)("."+b.Uu,a),this.content=this.Re.val(),this.zc=(0,window.$)(b.oB,a)):(this.zp=(0,window.$)(b.jH,a),this.content=this.zp.is(":input")?this.zp.val():this.zp.html(),this.Re=(0,window.$)(b.LR,a),this.zc=(0,window.$)(b.oB,this.Re));if(this.Re.length){if(this.zc.length)this.zc.click(!1).on("click",window.$.proxy(this.expand,this));this.Re.on("click",window.$.proxy(this.mM,this))}else this.valid=!1,this.expand=this.collapse=
z.p,this.dispatchEvent("invalid")};z.e.Gc=function(){return this.zc.get(0)};z.e.hb=function(){return this.content};z.e.Ra=function(a,b){a?this.expand(b):this.collapse(b)};z.e.mM=function(a){var b=z.Nm();b&&b.Ic()||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),this.expand()))};
z.e.expand=function(a){this.zd||!1===this.dispatchEvent("beforeexpand")||(this.zd=!0,this.J.Uq?(this.Re.removeClass("fixed-summary"),this.zc.remove()):(this.Qe?this.Qe.show():this.Re.length&&(this.Qe=(0,window.$)("\x3cdiv\x3e",{html:this.content,"class":this.J.Uu}).insertBefore(this.zp)),this.Re.hide()),!0!==a&&this.dispatchEvent("expand"))};z.e.collapse=function(a){this.zd&&(this.zd=!1,this.Qe&&this.Qe.hide(),this.J.Uq?this.Re.addClass("fixed-summary"):this.Re.show(),!0!==a&&this.dispatchEvent("collapse"))};Su("expandLimit",{defaults:{HU:3},init:function(a){var b=z.yr.create("ExpandLimit");b.get("expandCount")||b.de("expandCount","0");z.V.sa()||this.o().g(a,"beforeloadnext",function(){z.jl("expand");return!1})}});Su("locationSource",{defaults:{Yr:20,param:null,As:!1,offset:function(a){return a.length}},init:function(a){function b(a){return{start:c.As?z.B.$d(a).id.split("-")[1]:0,offset:c.offset(a)}}var c=this.options,d=c.url||window.location.href,f=a.Bb().length;(!f||f<c.Yr)&&Xu(a);a.source=function(){return window.$.post(d,(c.param||b)(a.Bb())).then(function(b){if(!b.r){b=b.msg;var d=b[0];z.ha(d)&&d<c.Yr&&Xu(a);return{results:b[1]}}})}}});Su("nodeSource",{defaults:{vB:!0},init:function(a){var b=(0,window.$)(a.m()).data("init"),c="/node/"+b.nodename,d=b.params,f=d.offset||0,b=d.limit,g=d.pagesize;this.options.vB&&b&&a.Bb().length<b&&Xu(a);a.source=function(){return window.$.post(c,{method:"next",params:window.$.extend(d,{offset:f+a.Bb().length})}).then(function(a){var b=!0;g&&!a.r&&a.msg.length<g&&(b=!1);return!a.r&&{results:a.msg,next:b}})}}});Su("shortcut",{defaults:{items:"\x3ediv"},init:function(a){a.Bb().length&&(this.lo=new z.Ao(this.options),this.lo.w(a.m()),this.o().g(this.lo,"action",function(b){b.data.index>=b.data.size&&a.Gc()&&z.Yf(a.Gc())&&a.Gc().click()}))},H:function(){Ru.prototype.H.call(this);this.lo&&(this.lo.H(),this.lo=null)}});z.v(ev,Vu);z.v(fv,z.Bh);z.ca(fv);fv.prototype.O=function(){return"goog-menuheader"};z.v(gv,z.Kh);z.Ih("goog-menuheader",function(){return new gv(null)});z.v(hv,z.Bh);z.ca(hv);z.e=hv.prototype;z.e.tc=function(){return"menuitem"};z.e.B=function(a){var b=a.M().B("div",this.df(a).join(" "),jv(this,a.hb(),a.M()));lv(this,a,b,!!(a.Tb&8)||!!(a.Tb&16));z.Ch(this,a,b);return b};z.e.W=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.Sb(b),d=iv(this,2);c&&z.H.has(c,d)||b.appendChild(jv(this,b.childNodes,a.M()));z.H.has(b,"goog-option")&&(a.No(!0),this.No(a,b,!0));return hv.v.w.call(this,a,b)};
z.e.Ea=function(a,b){var c=this.W(a),d=kv(this,a)?c.firstChild:null;hv.v.Ea.call(this,a,b);d&&!kv(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.ki=function(a,b,c){b&&(z.rc(b,c?"menuitemradio":this.tc()),lv(this,a,b,c))};z.e.No=function(a,b,c){b&&(z.rc(b,c?"menuitemcheckbox":this.tc()),lv(this,a,b,c))};z.e.tn=function(a){switch(a){case 2:return iv(this,0);case 16:case 8:return"goog-option-selected";default:return hv.v.tn.call(this,a)}};
z.e.kw=function(a){var b=iv(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return hv.v.kw.call(this,a)}};z.e.O=function(){return"goog-menuitem"};z.v(mv,z.Kh);z.e=mv.prototype;z.e.X=function(){var a=this.Lx;return null!=a?a:this.Dg()};z.e.Fa=function(a){this.Lx=a};z.e.ki=function(a){z.Nh(this,8,a);this.Ce()&&!a&&this.bd(!1);var b=this.m();b&&this.N.ki(this,b,a)};z.e.No=function(a){z.Nh(this,16,a);var b=this.m();b&&this.N.No(this,b,a)};
z.e.Dg=function(){var a=this.hb();return z.fa(a)?(a=z.B.map(a,function(a){var c=z.H.get(a);return z.B.contains(c,"goog-menuitem-accel")||z.B.contains(c,"goog-menuitem-mnemonic-separator")?"":z.jc(a)}).join(""),z.Ea(a)):mv.v.Dg.call(this)};z.e.Uf=function(a){var b=this.getParent();if(b){var c=b.SF;b.SF=null;if(b=c&&z.ha(a.clientX))b=new z.kb(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}mv.v.Uf.call(this,a)};
z.e.gf=function(a){return a.keyCode==this.Kx&&this.ae(a)?!0:mv.v.gf.call(this,a)};z.e.cL=function(){return this.Kx};z.Ih("goog-menuitem",function(){return new mv(null)});z.v(nv,z.vl);z.ca(nv);z.e=nv.prototype;z.e.tc=function(){return"menu"};z.e.hc=function(a){return"UL"==a.tagName||nv.v.hc.call(this,a)};z.e.vn=function(a){return"HR"==a.tagName?new z.ul:nv.v.vn.call(this,a)};z.e.Ff=function(a,b){return z.Xb(a.m(),b)};z.e.O=function(){return"goog-menu"};z.e.Ae=function(a){nv.v.Ae.call(this,a);z.sc(a.m(),"haspopup","true")};z.v(ov,z.ul);z.Ih("goog-menuseparator",function(){return new z.ul});z.v(pv,z.ju);z.e=pv.prototype;z.e.Dm=!0;z.e.GI=!1;z.e.O=function(){return this.N.O()};z.e.Ff=function(a){if(this.N.Ff(this,a))return!0;for(var b=0,c=z.Cg(this);b<c;b++){var d=z.Dg(this,b);if("function"==typeof d.Ff&&d.Ff(a))return!0}return!1};z.e.Ka=function(a){this.L(a,!0)};z.e.Ai=function(a,b){this.Bk(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.Oh=function(a){return z.Dg(this,a)};z.e.ll=function(){return z.Cg(this)};
z.e.Bb=function(){var a=[];z.Eg(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.T();c||z.R(this.m(),!0);Ft(this.m(),a,b);c||z.R(this.m(),!1)};z.e.G=function(a,b,c){(b=pv.v.G.call(this,a,b))&&a&&this.Da&&this.Dm&&this.lc().focus();this.SF=a&&c&&z.ha(c.clientX)?new z.kb(c.clientX,c.clientY):null;return b};z.e.vw=function(a){this.Dm&&this.lc().focus();return pv.v.vw.call(this,a)};z.e.qB=function(a){return(this.GI||a.isEnabled())&&a.T()&&!!(a.Tb&2)};
z.e.da=function(a){var b=this.N,c;c=this.M();c=z.ub(c.La,"div",b.O()+"-content",a);for(var d=c.length,f=0;f<d;f++)z.wl(b,this,c[f]);pv.v.da.call(this,a)};z.e.gf=function(a){var b=pv.v.gf.call(this,a);b||z.Eg(this,function(c){!b&&c.cL&&c.Kx==a.keyCode&&(this.isEnabled()&&this.td(c),b=c.$b(a))},this);return b};z.e.Sb=function(a){pv.v.Sb.call(this,a);(a=z.Dg(this,a))&&z.Of(a.m(),this.m())};z.v(qv,Zt);z.v(rv,z.Fh);z.ca(rv);z.e=rv.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.df(a).join(" "),title:a.Tf()||""},b=a.M().B("div",b,this.Fi(a.hb(),a.M()));z.Ch(this,a,b);return b};z.e.tc=function(){return"button"};z.e.W=function(a){return a&&a.firstChild.firstChild};z.e.Fi=function(a,b){return b.B("div","goog-inline-block "+(this.O()+"-outer-box"),b.B("div","goog-inline-block "+(this.O()+"-inner-box"),a))};z.e.hc=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){sv(b,!0);sv(b,!1);var c;a:{c=a.M().cD(b);var d=this.O()+"-outer-box";if(c&&z.H.has(c,d)&&(c=a.M().cD(c),d=this.O()+"-inner-box",c&&z.H.has(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Fi(b.childNodes,a.M()));z.H.add(b,"goog-inline-block",this.O());return rv.v.w.call(this,a,b)};z.e.O=function(){return"goog-custom-button"};z.v(tv,rv);z.ca(tv);z.O&&(tv.prototype.Ea=function(a,b){var c=tv.v.W.call(this,a&&a.firstChild);c&&z.Ob(this.createCaption(b,z.ob(a)),c)});z.e=tv.prototype;z.e.W=function(a){a=tv.v.W.call(this,a&&a.firstChild);z.O&&a&&a.__goog_wrapper_div&&(a=a.firstChild);return a};z.e.w=function(a,b){var c=z.tb("*","goog-menu",b)[0];if(c){z.R(c,!1);z.qb(c).body.appendChild(c);var d=new pv;d.w(c);a.gh(d)}return tv.v.w.call(this,a,b)};
z.e.Fi=function(a,b){return tv.v.Fi.call(this,[this.createCaption(a,b),b.B("div","goog-inline-block "+(this.O()+"-dropdown"),"\u00a0")],b)};z.e.createCaption=function(a,b){return uv(a,this.O(),b)};z.e.O=function(){return"goog-menu-button"};z.v(vv,z.Rh);z.e=vv.prototype;z.e.Pr=!1;z.e.Zj=!1;z.e.D=function(){vv.v.D.call(this);this.ua&&zv(this,this.ua,!0);z.sc(this.m(),"haspopup","true")};z.e.mb=function(){vv.v.mb.call(this);if(this.ua){this.yb(!1);this.ua.mb();zv(this,this.ua,!1);var a=this.ua.m();a&&z.I(a)}};z.e.C=function(){vv.v.C.call(this);this.ua&&(this.ua.H(),delete this.ua);delete this.WP;this.ra.H()};z.e.xe=function(a){vv.v.xe.call(this,a);this.Jb()&&(this.yb(!this.wb(),a),this.ua&&(a=this.wb(),this.ua.Yf=a))};
z.e.Uf=function(a){vv.v.Uf.call(this,a);this.ua&&!this.Jb()&&(this.ua.Yf=!1)};z.e.ae=function(){this.setActive(!1);return!0};z.e.wL=function(a){this.ua&&this.ua.T()&&!this.Ff(a.target)&&this.yb(!1)};z.e.Ff=function(a){return a&&z.Xb(this.m(),a)||this.ua&&this.ua.Ff(a)||!1};
z.e.gf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ua&&this.ua.T()){var b=this.ua.$b(a);return 27==a.keyCode?(this.yb(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.yb(!0),!0):!1};z.e.Cn=function(){this.yb(!1)};z.e.XL=function(){this.Jb()||this.yb(!1)};z.e.Yc=function(a){this.Pr||this.yb(!1);vv.v.Yc.call(this,a)};z.e.Za=function(){this.ua||this.gh(new pv(this.M()));return this.ua||null};
z.e.gh=function(a){var b=this.ua;if(a!=b&&(b&&(this.yb(!1),this.Da&&zv(this,b,!1),delete this.ua),a)){this.ua=a;z.Ag(a,this);a.G(!1);var c=this.Pr;(a.Dm=c)&&a.Ne(!0);this.Da&&zv(this,a,!0)}return b};z.e.Ka=function(a){this.Za().L(a,!0)};z.e.Ai=function(a,b){this.Za().Bk(a,b,!0)};z.e.removeItem=function(a){(a=this.Za().removeChild(a,!0))&&a.H()};z.e.Oh=function(a){return this.ua?z.Dg(this.ua,a):null};z.e.ll=function(){return this.ua?z.Cg(this.ua):0};
z.e.G=function(a,b){var c=vv.v.G.call(this,a,b);c&&!this.T()&&this.yb(!1);return c};z.e.eb=function(a){vv.v.eb.call(this,a);this.isEnabled()||this.yb(!1)};z.e.YG=function(){this.yb(!0)};
z.e.yb=function(a,b){vv.v.yb.call(this,a);if(this.ua&&!!(this.U&64)==a){if(a)this.ua.Da||(this.Zj?this.ua.aa(this.m().parentNode):this.ua.aa()),this.OH=z.Lf(this.m()),this.nB=z.Wf(this.m()),yv(this),this.ua.Sb(-1);else if(this.setActive(!1),this.ua.Yf=!1,this.m()&&z.sc(this.m(),"activedescendant",""),null!=this.zs){this.zs=void 0;var c=this.ua.m();c&&z.Tf(c,"","")}this.ua.G(a,!1,b);if(!this.Kf){var c=this.o(),d=a?c.g:c.Ja;d.call(c,this.M().Ha(),"mousedown",this.wL,!0);this.Pr&&d.call(c,this.ua,"blur",
this.XL);d.call(c,this.ra,z.bk,this.Kl);a?this.ra.start():this.ra.stop()}}};z.e.Kl=function(){var a=z.Wf(this.m()),b=z.Lf(this.m()),c=this.nB;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.OH,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.nB=a,this.OH=b,yv(this))};z.e.zw=function(a){z.sc(this.m(),"activedescendant",a.target.m().id)};z.e.Hw=function(){z.mu(this.ua)||z.sc(this.m(),"activedescendant","")};
z.Ih("goog-menu-button",function(){return new vv(null)});z.v(Av,z.N);Av.prototype.DA={question:"\u95ee\u9898",comment:"\u8bc4\u8bba",answer:"\u56de\u7b54",favlist:"\u6536\u85cf",member:"\u7528\u6237",message:"\u79c1\u4fe1",image:"\u56fe\u7247",video:"\u89c6\u9891",post:"\u6587\u7ae0"};Av.prototype.$u="report-dialog";Av.prototype.RE="loading";Av.prototype.SC='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"\u8bf7\u586b\u5199\u539f\u56e0" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
Av.prototype.submit=Qu;z.e=Av.prototype;z.e.aw=function(){return this.jn};z.e.Kk=function(a,b){var c=new z.Xg;z.Pg(c,!0);c.Ag=!0;z.Sg(c,z.jr);c.addEventListener(z.Ug,this.vL,!1,this);z.Ec(c,this);a&&c.Xa(a);b&&c.Ea(b);c.G(!0);c.ba();z.H.add(c.m(),this.$u);return this.jn=c};z.e.vL=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.jn.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.Kk(this.$C(a),this.Du());z.H.add(d.m(),this.RE);this.gD(a).then((0,z.t)(function(f){d.Ea((0,z.Hn)(this.SC,{each:z.B.forEach,options:f,headnote:c}));z.H.remove(d.m(),this.RE);d.ba();z.$g(d,450);this.FK={type:a,id:b};this.Vp(f)},this))};z.e.wD=function(){};
z.e.Vp=function(a){var b=this,c=(0,window.$)(this.jn.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,l=z.B.find(a,function(a){return h===String(a.value)});b.wD(l);l="0"===h;f.toggle(l);l&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"\u8bf7\u9009\u62e9\u7406\u7531",detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.Du=function(){return'\x3cdiv class\x3d"loading"\x3e\u7406\u7531\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.v(Bv,z.S);var Cv={question:"question_report",answer:"question_answer_report",post:"article_report",member:"member_report",comment:"comment_report",favlist:"favlist_report",message:"message_report"},CG=(0,z.t)(z.Qs(function(a){return window.$.getJSON(z.ya("/report/%s/options",a))}),z.m);
Bv.submit=function(a,b,c){b=window.$.extend({type:a,id:b},c);z.X.na({type:"ga_click_report",data:{type:a}});window.$.post("/report",b).done(function(a){if(a.r)"duplicate_report"===a.errtype?z.T(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5"):z.T(a.msg);else if(a.noti){var b=z.ch({title:"\u4e3e\u62a5\u6210\u529f\uff01",Gj:!0,content:'\x3cp\x3e\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u300c\u79c1\u4fe1\u300d\u901a\u77e5\u60a8\x3c/p\x3e\x3cp\x3e\u60a8\u4e5f\u53ef\u4ee5\u8fdb\u5165 \x3ca href\x3d"/community/report"\x3e\u793e\u533a\u670d\u52a1\u4e2d\u5fc3\x3c/a\x3e \u67e5\u770b\u5b9e\u65f6\u5904\u7406\u8fdb\u5ea6\x3c/p\x3e\x3clabel class\x3d"modal-dialog-cancelNoti"\x3e\x3cinput type\x3d"checkbox" name\x3d"cancelNoti" /\x3e\u4e0d\u518d\u63d0\u9192\x3c/label\x3e',
className:"report-success-dialog",ba:!0,buttons:["\u77e5\u9053\u5566"]});b.o().g(b,z.ir,function(){(0,window.$)(z.Ng(b)).find("input[name\x3dcancelNoti]")[0].checked&&window.$.post("/community/report/noti",{cancel:!0});return!0})}else z.T("\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210",2E3,"\u4e3e\u62a5\u6210\u529f\uff01")})};
Bv.prototype.submit=z.kl(function(a){Bv.submit(this.type,this.id,a)},function(){return{sa:this.su,hd:!0}});Bv.prototype.WG=z.kl(function(){(new Fv(this.type,this.id)).open(this.type,this.id);z.X.na({type:"ga_click_report_box",data:{type:this.type}})},function(){return{sa:this.su,hd:!0}});
Bv.prototype.UM=function(){var a=this.$E,b=this.$E.Za();CG(this.type).then(function(c){window.$.each(c,function(a,c){var g=new mv(c.label,{value:c.value,options:c.options});b.Ka(g)});yv(a);(0,window.$)(b.m()).addClass("report-menu")});this.o().g(b,"show",z.kl(function(){z.X.na({type:"ga_click_report_box",data:{type:this.type}})},{sa:this.su,hd:!0})).g(b,"action",this.ow)};
Bv.prototype.ow=function(a){var b=a.target.X().value;a=a.target.X().options;var c=this.type;0===b?(b=new Fv(this.type,this.id),b.Kk("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",'\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3ctextarea class\x3d"textarea" name\x3d"detail"\x3e\x3c/textarea\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"0" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e'),b=(0,window.$)(b.aw().m()),b=(0,window.$)("form",b),b.validate({rules:{detail:{rangelength:[2,
100],required:!0}},messages:{detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",b)})):"member"===c&&10018!==b?(b='\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3cinput placeholder\x3d"\u586b\u5199\u8fdd\u89c4\u5185\u5bb9\u94fe\u63a5\u4f1a\u66f4\u5feb\u88ab\u7ba1\u7406\u5458\u5904\u7406" type\x3d"text" name\x3d"link" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"'+b+'" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e',
(new Fv(this.type,this.id)).Kk("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",b)):"question"===c&&a?Ev(this,a):Bv.submit(c,this.id,{reason:b})};z.v(Fv,Av);Fv.prototype.gD=CG;Fv.prototype.submit=function(){var a=(0,window.$)((0,window.$)("form",this.jn.m())[0]).serializeArray(),a=z.B.reduce(a,function(a,c){c.value&&(a[c.name]=c.value);return a},{});Bv.submit(this.type,this.id,a)};Fv.prototype.$C=function(a){return z.ya("\u4e3a\u4ec0\u4e48\u4e3e\u62a5\u8fd9\u4e2a%s\uff1f",this.DA[a]||"\u6761\u76ee")};z.v(Gv,z.ll);
Gv.prototype.init=function(){var a=z.y("zh-create-pm");a&&this.o().g(a,"click",this.CO);var a=z.y("zh-pm-item-wrap"),b=new ev;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a);this.o().g(a,"click",this.ya);(0,window.$)(function(){(0,window.$)("#zh-change-pm-admin").change(function(){var a=(0,window.$)(this).find("option:selected").attr("data-token");window.location.href="self"===a?"/admin_feedback":"/admin_feedback/"+a})});(0,window.$)('a[name\x3d"report"]').each(function(a,b){var f=
(0,window.$)(b).closest(".zm-pm-item").data("report-token");Dv(new Bv("message",f),b)})};Gv.prototype.CO=z.kl(function(){var a;this.In();this.Rb.show();z.mp(this.Rb,-1);(a=z.Qa(window.location.pathname,"admin_inbox")?"admin":(0,window.$)("#zh-change-pm-admin option:selected").attr("data-token"))&&this.Rb.ft(a)},!0);Gv.prototype.In=function(){this.Rb||(this.Rb=new z.kp({Ns:!0}))};
Gv.prototype.ya=function(a){if(a=z.lj(this.uU,a.target)){var b=a.name,c=z.mc(a,null,this.lf);if(!c||!a.name)return!0;var d=(0,window.$)(c).data(),f=d.member,g=d.name;switch(b){case "reply":z.kl((0,z.t)(function(){this.In();this.Rb.show();var a=this.Rb,b=d.type;a.bp=d.token;a.Kz=b;z.mp(this.Rb,f,g,!1);this.Rb.bc.focus()},this),!0)();break;case "delete":var h=c.getAttribute("data-token");z.ch("\u5220\u9664\u79c1\u4fe1\u4f1a\u8bdd","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u4e0e "+g+"\u7684\u6240\u6709\u4f1a\u8bdd\u5417\uff1f",
function(a){a&&Hv(h)},this);break;case "edit":z.aj(this.Qc,this.lg),this.mi=-1}}};z.v(Iv,z.ll);
Iv.prototype.init=function(){this.as=z.y("zh-pm-detail-item-wrap");this.o().g(this.as,"click",this.ya);var a=z.y("zh-pm-editor-form");if(a){this.Rb=new z.kp({Ns:!0});this.Rb.pp=!1;this.Rb.fh(a);this.Rb.show();if(a=this.Bb()[0]){var a=(0,window.$)(a).data(),b=this.Rb,c=a.type;b.bp=a.token;b.Kz=c;z.mp(this.Rb,a.member,a.name)}else a=z.Vn,z.mp(this.Rb,a.id,a.Wv);this.Rb.focus()}else this.Rb=new z.kp({Ns:!0});Jv(this);this.oj()};
Iv.prototype.oj=function(){(0,window.$)('a[name\x3d"report"]').each(function(a,b){var c=(0,window.$)(b).closest(".zm-pm-item").data("token");Dv(new Bv("message",c),b)})};Iv.prototype.Bb=function(){return z.Qb(this.as)};
Iv.prototype.ya=function(a){var b=z.lj(this.as,a.target);if(b&&(a=b.name,b=z.mc(b,null,this.lf))){var b=(0,window.$)(b).data(),c=b.token;switch(a){case "reply":this.Rb.show();a=this.Rb;var d=b.type;a.bp=c;a.Kz=d;z.mp(this.Rb,b.member,b.name,!1);this.Rb.focus();break;case "delete":Kv(this,c)}}};z.v(Mv,z.S);z.e=Mv.prototype;z.e.cA=!z.ah;z.e.bA=!z.ah;z.e.hi=function(a){this.Wf=a};z.e.init=function(){this.cc=z.y("zh-load-more");this.w(this.BK)};
z.e.D=function(){Mv.v.D.call(this);this.Hm=1;Sv(this);this.yk=(0,window.$)(this.cc);this.cc&&Qv(this)&&(this.o().g(this.cc,"click",function(){this.Rn=!0;this.sh&&"pending"===this.sh.state()&&1===this.Hm?(this.sh.done((0,z.t)(this.Sg,this)),this.jz=!0,Ov(this,!0)):this.dy()}),this.cA&&(this.Lz=new z.zl(this.ay,100,this),this.o().g(window,"scroll",function(){this.Lz.fire()})));Tv(this,this.Bb())};
z.e.ay=function(){var a=this.cc;a&&z.Yf(a)&&1E3>=a.getBoundingClientRect().top-z.yb().height&&!(this.Fs||this.sh&&"pending"===this.sh.state())&&(this.bA&&(3===this.Hm?(this.Hm=1,this.jz=!1):(this.Rn=!1,this.Hm++,this.jz=!0)),this.Cj())};z.e.dy=function(){this.cA&&this.Fs?(this.Sg(this.Fs),this.Fs=null):(Ov(this,!0),this.Cj())};
z.e.Cj=function(a,b,c){b=b||z.p;if(!this.sh||"pending"!==this.sh.state()){var d=this.hG(window.$.extend(this.params,{offset:this.offset,start:this.Oe}));this.sh=window.$.post(this.url,d).done(b).done(window.$.proxy(function(b){if(c)return c.call(this,b);this.cA&&!a?this.jz?this.Sg(b):(this.Fs=b,Ov(this,!1)):this.Sg(b)},this));1!==this.Hm&&Ov(this,!0);return this.sh}};z.e.hG=function(a){return a};
z.e.Sg=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.cc.setAttribute("data-next",f));0<c&&(this.Em(d),this.offset=this.Sx?this.Sx(this.Bb()):this.offset+c);b=!0;b=this.nr?this.nr(a):!(-1===f||10>c);z.R(this.cc,b);Ov(this,!1);Rv(this)}};z.e.Bb=function(){return z.vb(this.Wf,this.h)};z.e.aG=function(a){return a.id.split("-")[1]};
z.e.Em=function(a,b){var c=z.fa(a)?a.join(""):a,c=z.Gb(c+" "),d=z.vb(this.Wf,c);Tv(this,d);"prepend"===b?z.Lb(c,this.h.firstChild):this.h.appendChild(c);Sv(this)};z.e.Lj=z.p;z.v(z.Uv,z.N);z.Uv.prototype.ra=null;z.Uv.prototype.handleEvent=function(a){if("input"==a.type)Vv(this),z.P&&this.h!=z.qb(this.h).activeElement||this.dispatchEvent(Wv(a));else if("keydown"!=a.type||Ju(a)){var b="keydown"==a.type?this.h.value:null;z.x&&229==a.keyCode&&(b=null);var c=Wv(a);Vv(this);this.ra=z.ld(function(){this.ra=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.Uv.prototype.C=function(){z.Uv.v.C.call(this);this.R.H();Vv(this);delete this.h};z.v(Xv,z.N);var Yv=0;z.e=Xv.prototype;z.e.po=function(){this.Ei()};z.e.Ei=function(){var a=this.Yq();this.Hh&&(0>this.Qg-a?(z.bc(this.Hh,"\u5df2\u8d85\u51fa "+(a-this.Qg)+" \u5b57"),z.H.add(this.Hh,"zg-text-error")):(z.bc(this.Hh,"\u8fd8\u53ef\u4ee5\u8f93\u5165 "+(this.Qg-a)+" \u5b57"),z.H.remove(this.Hh,"zg-text-error")))};z.e.C=function(){Xv.v.C.call(this);delete this.Od;this.qj.H();this.qj=null};z.e.isValid=function(){return 0<=this.Qg-this.Od.value.length};z.e.Yq=function(){return this.Od.value.length};
z.v(Zv,Xv);Zv.prototype.Yq=function(){return Math.ceil(z.Fa(this.Od.value).replace(/(http|https):\/\/[a-zA-Z0-9]+(\.[a-zA-Z0-9]+)+([-A-Z0-9a-z_\$\.\+\!\*\(\)\/\,\:;@&=\?~#%]*)*/gi,"length-20-string----").replace(/[^\x00-\xff]/g,"--").length/2)};var bw;z.v($v,z.ll);$v.prototype.Ve={};var DG=z.Qs(function(){return window.$.get("/node/WebShareDialogV2")});z.e=$v.prototype;z.e.init=function(){this.o().g(z.Aj,"question_title_change",function(){this.Ve[this.zf]=null});DG().then((0,z.t)(function(a){a=z.Gb(z.Fa(a));this.B(a);this.ub();this.show();dw(this,this.lK)},this))};z.e.show=function(){cw(this);this.xc&&(this.xc.checked=!1,this.Nj());z.pl.S().refresh();this.ga.G(!0)};z.e.hide=function(){this.ga.G(!1)};
z.e.bR=function(a,b,c,d){this.rf={title:a,type:b,bS:c,params:d};this.zf=b+":"+c};z.e.cR=function(){var a=z.fe(this.fa);a&&a.r?z.T(a.msg):(this.Ve[this.zf]=a,cw(this))};z.e.B=function(a){this.h=a;this.ga=new z.Xg(null,!1);z.Sg(this.ga,null);this.ga.Ag=!0;this.ga.W().appendChild(this.h);z.K(this.ga,z.ir,function(){bw=null});this.sk=new z.kp({bG:"share"});this.sk.vb=this.ga;this.sk.fh(z.y("tb-webshare-letter-content"));this.sk.Mk=!1;this.sk.init()};z.e.cz=function(){this.xc.checked=!0;this.Nj()};
z.e.ub=function(){var a=z.A("tab-navs",this.h);this.o().g(a,"click",this.qP);this.OR=(0,window.$)(".tab-nav \x3e a",this.h);this.NR=z.vb("zm-tab-content",this.h);(0,window.$)(".zm-command",this.h).on("click",window.$.proxy(this.ya,this));this.uy=z.y("zh-webshare-sina-pm");this.rz=new z.ql(this.uy);this.$G=new Zv(this.uy,z.y("zg-webshare-sina-counter"),140,Yv);this.o().g(z.X,"sina_callback",function(a){this.cz(a.Oc.id,a.Oc.name)});this.vu();a=z.A("zg-btn-blue",this.sk.m());z.V.active||z.H.gH(a,"zg-btn-blue",
"zg-btn-disabled");this.o().g(a,"click",this.ya)};z.e.vu=function(){this.xc=z.A("sina-checkbox",this.h);this.o().g(this.xc,"change",this.gy)};z.e.Nj=function(){var a=z.A("weibo-share-button",this.h),b=this.xc.checked;z.H.enable(a,"zg-btn-blue",b);z.H.enable(a,"zg-btn-disabled",!b)};z.e.gy=function(a){a=a.target;var b=a.getAttribute("data-bindurl");a!==this.xc||z.er.id?a=void 0:(window.open(b),a.checked=!1,a=!0);a||this.Nj()};z.e.qP=function(a){(a=this.cf(a.target))&&dw(this,a.id)};
z.e.ya=function(a){var b=this.cf(a.target);if(b)switch(b.name){case "send_sina":if(!z.H.has(b,"zg-btn-disabled")){var c=this.uy.value;c&&this.zf in this.Ve&&(b=new z.mj(!0),b.add("content",c),c=[],this.xc.checked&&c.push("sina"),b.add("via",c.join(",")),this.Sj(b),this.rf&&z.X.na({type:"ga_click_share_"+this.rf.type+"_weibo",data:{MH:c}}))}break;case "send":if(!z.H.has(b,"zg-btn-disabled"))if(b=this.sk,"-1"===String(b.mi))z.np(b,"\u8bf7\u586b\u5199\u6536\u4fe1\u4eba\u3002");else if(c=b.bc.value,this.zf in
this.Ve)if(z.Fa(c)){var d=new z.mj(!0);d.add("talker_id",b.mi);d.add("content",c);d.add("via","pm");this.Sj(d);this.rf&&z.X.na("ga_click_share_"+this.rf.type+"_message")}else z.np(b,"\u8bf7\u586b\u5199\u79c1\u4fe1\u5185\u5bb9\u3002");break;case "send_daily":b=new z.mj(!0);b.add("content",(0,window.$)(".tb-webshare-daily-form [name\x3drecommend-reason]").val());b.add("via","daily");this.Sj(b);break;case "cancel":this.hide()}a.stopPropagation();a.preventDefault()};
z.e.Sj=function(a){z.C.forEach(this.rf.params,function(b,c){a.add(c,b)});this.fa=new z.U(!0);z.Ld(this.o(),this.fa,"complete",this.ju);this.fa.ajax("/"+this.rf.type+"/share",a.ld())};z.e.ju=function(){var a=z.fe(this.fa);this.ga.G(!1);a&&a.r?z.T(a.msg):z.T(a.msg||"\u5206\u4eab\u53d1\u9001\u5b8c\u6bd5")};z.e.T=function(){return this.ga.T()};var gy=function(a,b){var c=[],d=[].slice,f=z.yj(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.V.sa()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});var EG=/a(:(link|visited|active|hover))?/;hw.prototype.clone=function(){var a=new hw;a.eh=this.eh.concat();a.gn=this.gn;return a};var FG=/(^|;|{)\s*color:([^;]+);/g,lw={},ow={},GG={},HG="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),IG="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var JG;z.v(z.pw,z.N);z.e=z.pw.prototype;z.e.F=null;z.e.XI=!0;z.e.Pb=z.Gd("goog.editor.Plugin");z.e.DH=function(){this.F&&(this.disable(this.F),this.F=null)};z.e.enable=function(a){this.F==a?this.jc=!0:this.Pb.log(z.be,"Trying to enable an unregistered field with this plugin.",void 0)};z.e.disable=function(a){this.F==a?this.jc=!1:this.Pb.log(z.be,"Trying to disable an unregistered field with this plugin.",void 0)};z.e.isEnabled=function(a){return this.F==a?this.jc:!1};z.e.Ep=z.Cq;z.e.BN=z.Cq;
z.e.C=function(){this.F&&this.DH(this.F);z.pw.v.C.call(this)};z.vw=z.C.rm({Bw:1,QL:2,ir:3,gj:4,jr:5,execCommand:6,queryCommandValue:7,gG:8,BJ:10,AJ:11});JG=z.C.Eh(8,10,11);z.pw.prototype.execCommand=function(a,b){var c=this.BN(a);c||(z.O&&z.Ow(this.F,!0,!0),this.F.Gh());try{var d=this.$e.apply(this,arguments)}finally{c||(this.F.Xe(),z.Mw(this.F))}return d};z.pw.prototype.De=function(){return!1};var ww,zw;z.v(uw,z.N);uw.prototype.wa=null;uw.prototype.Nc=null;uw.prototype.Pb=z.Gd("goog.editor.Field");ww="change";z.xw="delayedchange";zw={QS:"cvc",iT:"load",CT:"unload",IS:"beforechange",OS:ww,RS:z.xw,KS:"beforefocus",US:"focus",MS:"blur",LS:"beforetab",aT:"ifrsz",rT:"selectionchange"};z.Bw=0;z.KG=null;z.e=uw.prototype;z.e.Ig=!1;z.e.JH=!1;z.e.Kt=!1;z.e.m=function(){return this.wa};z.e.addListener=function(a,b,c,d){var f=this.m();z.is&&f&&this.pc()&&(f=f.ownerDocument);this.kc.g(f,a,b,c,d)};
z.e.Ph=function(a){return this.qd[a]};var Aw=15,yw=250;uw.prototype.pc=z.Dq;uw.prototype.Sn=z.Dq;uw.prototype.VG=z.Cq;var Dw={46:!0,8:!0};z.x||(Dw[9]=!0);var Ew={86:!0,88:!0};z.x&&(Dw[229]=!0);
uw.prototype.Nu=function(){this.kc&&this.kc.removeAll();if((z.Pq||z.bh)&&this.pc()&&this.VG()){try{var a=this.kb.Ta();a.removeEventListener("keydown",this.Mm,!1);a.removeEventListener("touchend",this.Mm,!1)}catch(b){}delete this.Mm}if(z.P&&this.pc()){try{a=this.kb.Ta(),a.removeEventListener("focus",this.zu,!1),a.removeEventListener("blur",this.yu,!1)}catch(c){}delete this.zu;delete this.yu}this.oe&&this.oe.stop();this.Cq.stop()};
uw.prototype.C=function(){(1==this.Dj||this.Xd())&&this.Pb.qk("Disposing a field that is in use.");this.Nc&&this.execCommand("clearlorem");this.Dj=z.Bw;for(var a in this.qd){var b=this.qd[a];b.Ep()||b.disable(this)}this.kb=this.wa=null;this.Nu();this.cl&&(z.cd(this.cl),this.cl=null);this.Ml=null;this.kc&&(this.kc.H(),this.kc=null);for(;a=this.DS.pop();)a.H();z.KG==this.id&&(z.KG=null);for(var c in this.qd)a=this.qd[c],a.XI&&a.H();delete this.qd;uw.v.C.call(this)};
var LG=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];uw.prototype.fz=function(){if(z.fs||!this.pc())this.kc.g(this.m(),"DOMSubtreeModified",this.Cw);else{var a=this.kb.Ha();this.kc.g(a,LG,this.Cw,!0);this.kc.g(a,"DOMAttrModified",(0,z.t)(this.nD,this,this.Cw),!0)}};var MG={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},NG={65:!0,86:!0,88:!0},Jw={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=uw.prototype;
z.e.Qn=function(a,b){for(var c=this.mj[a],d=z.B.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||JG[a])&&g[z.vw[a]].apply(g,d))return!0}return!1};z.e.nN=function(a,b){for(var c=this.mj[a],d=z.B.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||JG[a])&&g[z.vw[a]].apply(g,d)}};z.e.Ks=function(a,b,c){for(var d=this.mj[a],f=z.B.slice(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||JG[a])f[0]=h[z.vw[a]].apply(h,f)}return f[0]};
z.e.ff=function(a){(z.O||Gw(this,a))&&!this.Qn(1,a)&&z.ps&&Iw(this,a)};z.e.RL=function(a){if(z.O){if(!Gw(this,a))return}else this.nw=!0,this.Gh();this.Qn(2,a)||z.ps||Iw(this,a)};z.e.SL=function(a){z.O||!this.nw&&!Cw(a)||this.An();this.Qn(3,a);Nw(this,"selectionchange")||(MG[a.keyCode]||(a.ctrlKey||a.metaKey)&&NG[a.keyCode])&&this.MG.start()};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.mj[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.De(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Xd()&&this.kf;if(z.r(a))return this.Is(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.Is(a[d],b);return c};z.e.Is=function(a,b){for(var c=this.mj[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.De(a)&&(b||f.Ep()))return f.queryCommandValue(a)}return b?null:!1};z.e.nD=function(a,b){if(!Nw(this,ww)){var c=b.Zb;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Cw=function(a){Nw(this,ww)||(a=a.XC?a.Zb:a,a.target.firebugIgnore||this.oe.start())};z.e.fr=function(){z.x&&this.execCommand("clearlorem",!0);z.O&&this.nv();this.Xe()};z.e.kM=function(){var a=this.LG;this.LG=null;z.Mw(this,void 0,a)};z.e.Gh=function(){Nw(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.Xe=function(a){Qw(this,!0,a)};z.e.An=function(){Nw(this,ww)||(this.oe&&this.oe.stop(),Nw(this,z.xw)||this.Cq.start())};z.e.mC=function(){Nw(this,z.xw)||(this.Cq.stop(),this.dispatchEvent(z.xw))};
z.e.nv=function(){this.lC();this.nC()};z.e.lC=function(){Nw(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.nC=function(){if(!Nw(this,"focus")){z.KG=this.id;this.kf=!0;this.dispatchEvent("focus");if(z.O){var a=this.m(),b=z.Lw(this);if(b){var c=z.Zl(b);0!=z.$l(b)||c&&c!=a&&"BODY"!=c.tagName||z.au(a)}}!z.gs&&this.pc()&&this.kb.Ta().parent.getSelection().removeAllRanges()}};z.e.Fq=function(){Nw(this,"blur")||(z.KG==this.id&&(z.KG=null),this.kf=!1,this.dispatchEvent("blur"))};
z.e.dj=function(a){z.KG=this.id;if(z.x){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.Ml.Ta().open(b.href)}this.Kt=!0};z.e.uw=function(){this.Kt=!1};z.e.tD=function(a){if(!this.JH||this.Kt)this.Kt=!1,z.Mw(this,a),z.x&&(this.LG=a.target,this.MG.start())};z.e.YL=function(a){z.Mw(this,a)};
z.e.hl=function(){if(this.queryCommandValue("usinglorem"))return"\u00a0";if(!this.Xd()){var a=this.Nc;a||this.Pb.log(z.xq,"Couldn't get the field element to read the contents",void 0);return a.innerHTML}var b=this.m(),a=b.cloneNode(!1),b=b.innerHTML;z.x&&b.match(/^\s*<script/i)&&(b="\u00a0"+b);a.innerHTML=b;this.nN(11,a);return this.Ks(10,a.innerHTML)};
z.e.Fd=function(a,b,c,d){if(1==this.Dj)this.Pb.log(z.be,"Can't set html while loading Trogedit",void 0);else{d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.Ow(this,!1,!0);a=b;if(b=this.m()){if(this.pc()&&z.F)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Nc;b&&Hw(this,a,b);d&&this.execCommand("updatelorem");this.Xd()&&(c?(z.O&&z.nt(this.oe),Qw(this)):this.Xe())}};
z.e.Uz=function(){var a=this.kb.Ha();a.designMode="on";z.ls&&a.execCommand("styleWithCSS",!1,!1)};z.e.hE=function(){this.Qk&&Tw(this)&&z.Zf(this.Qk,this.m())};z.e.Xd=function(){return 2==this.Dj};z.e.focus=function(){if(!z.tw&&this.pc())this.kb.Ta().focus();else{if(z.P)var a=this.Dk.pageXOffset,b=this.Dk.pageYOffset;this.m().focus();z.P&&this.Dk.scrollTo(a,b)}};z.e.Sf=function(){(z.ds||z.F)&&z.Sw(this);this.focus()};
z.e.Fe=function(a){this.Dj=1;var b=this.Nc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;b.className+=" editable";this.Cx(a)};z.e.Cx=function(a){var b=this.Nc;if(b){var b=b.innerHTML,c={},b=this.Ks(8,b,c),d=this.Ml.B("IFRAME",this.eD());if(Tw(this)){var f=(0,z.t)(this.VD,this,d,b,c);this.cl=z.K(d,"load",f,!0);a&&(d.src=a)}this.aB(d);Tw(this)||this.VD(d,b,c)}};
z.e.gr=function(){z.x&&z.cu(this.kb.Ta());z.KG!=this.id&&this.execCommand("updatelorem");if((z.Pq||z.bh)&&this.pc()&&this.VG()){var a=this.kb.Ta();this.Mm=(0,z.t)(a.focus,a);a.addEventListener("keydown",this.Mm,!1);a.addEventListener("touchend",this.Mm,!1)}z.P&&this.pc()?(this.zu=(0,z.t)(this.nv,this),this.yu=(0,z.t)(this.Fq,this),a=this.kb.Ta(),a.addEventListener("focus",this.zu,!1),a.addEventListener("blur",this.yu,!1)):(z.os?(this.addListener("focus",this.nC),this.addListener(z.uq,this.lC)):this.addListener("focus",
this.nv),this.addListener("blur",this.Fq,z.O));z.O?this.fz():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.Gh),this.addListener(["cut","paste"],Nu(this.Xe)),this.addListener("drop",this.fr));this.addListener(z.F?"dragend":"dragdrop",this.fr);this.addListener("keydown",this.ff);this.addListener("keypress",this.RL);this.addListener("keyup",this.SL);this.MG=new z.ji(this.kM,250,this);z.ms&&this.addListener("click",Rw);this.addListener("mousedown",this.dj);this.JH?(this.kc.g(this.kb.Ha(),
"mouseup",this.tD),this.addListener("dragstart",this.uw)):this.addListener("mouseup",this.tD);this.addListener("mouseover",this.YL);this.hE();Qw(this);this.Pb.info("Dispatching load "+this.id);this.dispatchEvent("load");for(var b in this.qd)this.qd[b].enable(this)};z.e.aB=function(a){var b=this.Nc;a.className=b.className;a.id=b.id;z.Ob(a,b)};z.e.cw=function(a){var b=z.pc(z.ob(this.Nc));return new qw(this.id,b,!1,!1,a)};
z.e.WH=function(a,b,c){c=this.cw(c);Tw(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.tw&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.HC,z.wf(a,c.Gv),a.innerHTML=b):sw(c,b,new rw(this.m(),this.Qk),a)};z.e.VD=function(a,b,c){this.cl&&(z.cd(this.cl),this.cl=null);a.allowTransparency="true";this.WH(a,b,c);Fw(this,(a.contentDocument||a.contentWindow.document).body);!z.tw&&this.pc()&&this.Uz();this.gr()};
z.e.eD=function(){var a="padding:0;"+this.Nc.style.cssText;z.xa(a,";")||(a+=";");a+="background-color:white;";z.x&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var OG;z.v(z.Uw,uw);z.e=z.Uw.prototype;z.e.Pb=z.Gd("goog.editor.SeamlessField");z.e.pE=!1;z.e.tN=!1;z.e.Sn=function(){return this.pE};z.e.xD=function(){Nw(this,ww)||Vw(this)};
z.e.sz=function(){if(this.Wo?0:this.Wo=!0){var a=!1,b=Kw(this);if(b){var c,d=Kw(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(Lu(d,"height"),10)&&z.wf(d,"height","1px");z.pc(z.ob(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=OG||(OG=z.hg())));c=d;this.eO&&(c=Math.max(c,this.eO));(0,window.parseInt)(Lu(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.Wo=!1;a&&this.dispatchEvent("ifrsz")}};z.e.Mw="";var PG=!1;z.e=z.Uw.prototype;z.e.pc=function(){return!z.tw};
z.e.fz=function(){z.Uw.v.fz.call(this);if(this.pc()){var a=Kw(this).ownerDocument;this.kc.g(a,LG,this.xD,!0);this.NN=z.$c(this.kb.Ta(),"load",this.sz,!0,this);this.kc.g(a,"DOMAttrModified",(0,z.t)(this.nD,this,this.xD),!0)}};z.e.An=function(){Nw(this,ww)||(z.Uw.v.An.call(this),this.pc()&&this.sz())};
z.e.Fq=function(){if(!Nw(this,"blur")&&(z.Uw.v.Fq.call(this),!z.tw&&!z.gs)){var a=this.kb.Ta(),b=!1;z.cd(this.IE);this.IE=z.$c(a.document.body,"dragover",function(){b=!0});z.m.setTimeout((0,z.t)(function(){if(!b&&this.kb){var a=z.Lw(this),d=this.kb.Ta();z.cu(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.Uz=function(){z.Uw.v.Uz.call(this);var a=this.kb.Ha();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.hE=function(){this.pc()||PG||(this.Qk&&z.Zf(this.Qk,this.m()),PG=!0)};z.e.Cx=function(a){if(this.pc())z.Uw.v.Cx.call(this,a);else if(a=this.Nc)Fw(this,a),a.contentEditable=!0,Hw(this,a.innerHTML,a),this.gr()};z.e.gr=function(){if(this.pc()){var a=this;z.m.setTimeout(function(){Ww(a)},0)}z.Uw.v.gr.call(this)};z.e.eD=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.aB=function(a){if(!this.tN){var b=this.Nc;b&&(this.pE="auto"==z.Bf(b,"overflowY"))}var b=this.Nc,c=z.ob(b),d=b.style.width,f=b.style.height;z.wf(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);var g=Ku(b),c=g.width,g=g.height,h="";this.Sn()&&(h="\x26nbsp;",z.wf(b,"position","relative"),z.wf(b,"overflow","visible"),z.wf(a,"position","absolute"),z.wf(a,"top","0"),z.wf(a,"left","0"));z.Tf(b,
c,g);z.pc(z.ob(b))&&z.wf(b,"lineHeight","0");b.innerHTML=h;z.Tf(a,c,g);z.Tf(b,d,f);z.wf(b,"visibility","");b.appendChild(a);Tw(this)||(b=a.contentWindow.document,z.pc(z.ob(a.ownerDocument))&&(b.open(),b.write("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e"),b.close()))};z.e.cw=function(a){var b=this.Nc;if(b)return new qw(this.id,z.pc(z.ob(b)),!0,this.Sn(),a);throw Error("no field");};
z.e.WH=function(a,b,c){z.wf(a,"visibility","hidden");c=this.cw(c);var d=this.Nc,f=this.Qk;if(!this.Mw){var g=this.Nc;if(g){var h=g.ownerDocument,l=z.ka(h);if(!GG[l]){for(var n=z.ka(h),q=[],h=gw(h.styleSheets),D=0,E;E=h[D];D++)if((E=fw(E))&&E.length)for(var M=0,L=E.length;M<L;M++){var Q=new hw,oa;oa=Q;var sb=E[M],fb=sb.style;if(fb){var La=void 0,Da=void 0;fb&&(La=sb.selectorText)&&(Da=fb.cssText)?z.x&&(Da+="/* */"):sb.cssText&&(Da=/([^\{]+)\{/,La=Da.exec(sb.cssText)[1],Da=sb.cssText.replace(Da,"").replace(/\}[^\}]*$/g,
""));if(La){sb=oa;sb.eh=[];La=La.split(/,\s*/gm);for(fb=0;fb<La.length;fb++){var Cf=La[fb];0<Cf.length&&sb.eh.push(new jw(Cf))}oa.gn=Da;oa=!0}else oa=!1}else oa=!1;oa&&q.push(Q)}GG[n]=q}n=GG[l];l=[];for(q=0;q<n.length;q++)l.push(n[q].clone());h=new nw(g);D=new kw("body");for(n=0;n<l.length;n++)for(E=l[n].eh,q=E.length,M=0;M<q;M++){L=E[M];Q=L;oa=h.uid;if(Q.ou[oa])oa=Q.ou[oa];else{for(var Da=0,fb=La=sb=null,Cf=h.sF,mo=Cf.length,Df=0;Df<=Q.bi.length;Df++){for(La=Q.bi[Df];Da<mo;){var se=Cf[Da];if(La&&
mw(La,se)){sb={vC:Da,NG:Df};Da++;break}else fb&&mw(fb,se)&&(sb={vC:Da,NG:Df-1});Da++}fb=La}oa=Q.ou[oa]=sb}oa&&(Q=oa.NG,L=L.bi,Da=L.length-1,oa.vC==h.sF.length-1||Q<Da?(L=L.concat(),L.splice(0,Q+1,D),Q=new jw,Q.bi=L,E.push(Q)):0<Q&&Q==Da&&(Q=new jw,Q.bi=[D,L[Da]],E.push(Q)))}h=new hw;g=g.currentStyle||z.qb(g).defaultView.getComputedStyle(g,"")||{};n=new jw;n.bi=[new kw("html")];h.eh=[n];D={};for(n=0;q=HG[n];n++)D[q]=g[z.ab(q)];iw(h,D);l.push(h);h=new hw;D=new jw;D.bi=[new kw("body")];E={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(n=0;q=IG[n];n++)E[q]=g[z.ab(q)];iw(h,E,!0);h.eh=[D];l.push(h);g=[];q=l.length;for(n=0;n<q;n++){E=l[n];h=g;M=E.eh.length;D=!1;for(L=0;L<M;L++){Q=E.eh[L].bi;oa=Q.length;for(Da=0;Da<oa;Da++)h.push(Q[Da].fE," ");L<M-1&&h.push(",");z.O&&!z.w("1.9a")&&(D=D||EG.test(Q[oa-1].fE))}E=E.gn;D&&(E=E.replace(FG,"$1 color: $2 ! important; "));h.push("{",E,"}\n")}this.Mw=g.join("")}}d=new rw(d,f+this.Mw);c.Xp&&(f=z.eg(d.CS),(f.top||f.left||f.right||
f.bottom)&&z.wf(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));sw(c,b,d,a);Ww(this);z.wf(a,"visibility","visible")};z.e.Nu=function(){z.cd(this.IE);z.cd(this.NN);z.Uw.v.Nu.call(this)};var ux={};ux._default_={gw:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},il:Qu,jl:Qu,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},xx:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
ux.answer={il:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},jl:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},WI:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
ux.question={il:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},jl:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
ux.favlist={il:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},jl:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
ux.post={gw:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},il:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},jl:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},xx:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
ux.roundtable={gw:function(a){return window.$.get("/roundtable/comments/"+a)},il:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},jl:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},xx:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};z.v(Xw,z.Ic);Yw.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.v(Zw,Av);var FE=function(a){return function(b,c){return a(z.ya("/manage/%s/options?action\x3d%s",b,c))}}(z.Qs(window.$.getJSON));z.e=Zw.prototype;z.e.xA={remove:"\u5220\u9664",lock:"\u9501\u5b9a",unlock:"\u89e3\u9664\u9501\u5b9a",collapse:"\u6298\u53e0",uncollapse:"\u89e3\u9664\u6298\u53e0",mute:"\u9694\u79bb",unmute:"\u89e3\u9664\u9694\u79bb"};z.e.gD=function(a){return FE(a,this.gl())};z.e.Kk=function(a,b){var c=Zw.v.Kk.call(this,a,b);c.qc.set("ok",this.xA[this.gl()]);return c};z.e.gl=function(){return(0,window.$)(this.Cu).data("op").split("-")[0]};
z.e.$C=function(a){return z.ya("\u786e\u5b9a\u8981%s\u8be5%s\uff1f",this.xA[this.gl()],this.DA[a]||"\u6761\u76ee")};z.e.QG=function(a){(0,window.$)(".footnote",this.aw().m()).text(a)};z.e.wD=function(a){a&&(a.trackable?ax(this,a).then((0,z.t)(this.QG,this)):this.QG(""))};Zw.prototype.submit=function(){var a=(0,window.$)(this.Cu).data(),b=a.action,a=a.content,c=(0,window.$)((0,window.$)("form",this.jn.m())[0]).serialize();a&&(c+="\x26"+a);$w(b,c,this.Lk)};
Zw.prototype.C=function(){this.Lk=this.Cu=null;Zw.v.C.call(this)};Zw.prototype.open=function(a,b,c){this.Cu=a;this.Lk=c||z.Xd.pU;Zw.v.open.call(this,b.type,b.id,"")};z.v(bx,z.S);z.e=bx.prototype;z.e.defaults={trigger:{A:"data-editable"},oI:"hc-actionbar",EN:"checked",lR:100,EM:100};z.e.D=function(){bx.v.D.call(this);this.Jm=z.G("div");window.document.body.appendChild(this.Jm);cx(this,this.h)};z.e.ew=function(){return this.JM};
z.e.mJ=function(a,b,c){b=z.G("div",{title:a.V,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.G("i","icon icon-actionbar-"+a.name)]);z.$f(b,!0);this.o().g(b,"click",function(){dx(this,a.name)&&a.Sm(this.Cf)});return b};z.e.aa=function(){this.Jm.innerHTML="";z.Jb(this.Jm,z.B.map(z.C.Pa(this.Am.At()),this.mJ,this))};z.v(z.fx,z.S);z.fx.prototype.defaults={ND:{},TI:!0};z.fx.prototype.D=function(){z.fx.v.D.call(this);var a=this,b=this.h;this.J.TI&&(this.Cp=sx(b));this.o().g(b,"paste",function(){(0,window.setTimeout)(function(){gx(a)})}).g(b,"keydown",this.zM)};
z.fx.prototype.zM=function(a){var b=z.jg(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.Nm(),d=b.Z(),f=b.ia(),g=this.h,h,l=jx(d,g,lx)||f!==d&&(h||(h=jx(f,g,lx)));if(l){var n=z.gc(l),q=b.xa(),D=b.Na();if(l.getAttribute("data-editable")&&n===l.href){var E=!1;h=h||jx(f,g,lx)||l;var g=l.contains(d),M=h.contains(f);if(c)g&&(d=l,q=0,E=!0),M&&(f=h,D=z.Ws(h),E=!0),E&&z.xm(d,q,f,D).select();else if(g&&M&&h===l){if(!b.isCollapsed()||0!==q&&n.length!==q)a.preventDefault(),z.Ys(l)}else g&&
(d=l.nextSibling,q=0,E=!0),M&&(f=h.previousSibling,D=z.Ws(f),E=!0),E&&z.xm(d,q,f,D).select()}}}};var rx=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,nx=["http:","https:"],ox=z.Qs(function(a){return window.$.post("/scraper",{url:a})});z.v(tx,z.S);z.e=tx.prototype;z.e.defaults={ME:!1,autofocus:!0,sv:"empty",lf:"zm-item-comment"};z.e.da=function(a){tx.v.da.call(this,a);Mx(this);Ex(this);this.zd=!0;z.B.forEach(Gx(this),this.us,this)};z.e.RI="zm-comment-bubble";z.e.YA="."+tx.prototype.RI;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.G("div",{"class":this.BB,style:"display:none"});this.Ze()};z.e.Gi=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.C=function(){tx.v.C.call(this);this.wa=this.FB=this.Xm=this.QA=this.oh=this.xy=this.NE=null};z.e.Ir=function(a){(a=a.m&&a.m())&&(new z.fx({ND:{image:z.p}})).w(a)};z.e.Hr=function(a,b){if(a.m){var c=(new z.jk).add("type",this.type+"_comment").add("resource_id",this.id),d=a.m(),c=new z.kn(d,{zm:{source:"/people/autocomplete?"+c.toString()},Pj:z.A("zu-main")||window.document.body});new z.cn(d,{Ky:z.un});z.ia(b)&&b(c)}};
z.e.qR=vx(function(a){var b=z.A("zm-comment-content-wrap",a),c=z.A("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.A("zm-comment-editable",c);if(z.Yf(c)){if(Et(c))return z.R(c,!1)}else z.R(c,!0);Cx(g)}else{c=Dx(b);g=z.A("zm-comment-editable",c);var h=new z.Uw(g);h.Fd(!1,"");h.Fe();this.Hr(h,function(){Cx(g)});this.Ir(h);a=z.A("zm-comment-close",c);b=z.A("zm-comment-submit",c);b.name="";var l=function(){var a=z.Fa(h.hl()),b=z.Fa(z.gc(g));a&&b?Ox(f,{content:a,CQ:d},function(a){a.r||
(z.R(c,!1),h.Fd(!1,""),(a=z.B.$d(Gx(f)))&&Qt(a,{offsetTop:100,VA:!0}))}):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),g.focus())};z.K(a,"click",function(){z.R(c,!1)});z.K(b,"click",l);z.K(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(l(),a.preventDefault())})}Qt(c,100)},"reply");z.e.jt=function(a){z.H.enable(this.FB,"expanded",a)};z.e.ni=function(a,b){this.dispatchEvent(new Xw("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.ha(b)?b:this.Sa()}))};
z.e.bj=function(){this.zd?Kx(this):this.Wg=!0};z.e.TO=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.Fp(),(0,window.$)(this.wa).blur(),a.preventDefault());27===a.keyCode&&Ix(this)};
z.e.ya=function(a){var b=z.lj(this.h,a.target,"BUTTON")||z.lj(this.h,a.target);if(b&&b.name){var c=z.mc(b,null,this.J.lf);a.preventDefault();switch(b.name){case "reply_comment":this.qR(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");ot(0,null,a);break;case "delcomment":this.dr(b);break;case "like_comment":this.UL(b);break;case "author_delcomment":Qx(this,b);break;case "admin_delcomment":Px(this,b);break;case "closeform":Ix(this);break;case "addnew":this.Fp();
break;case "load-more":this.ni("comments_all"),this.NE(b)}}};
z.e.NE=function(a){this.ds&&"pending"===this.ds.state()||(a&&z.H.add(a,"loading"),this.ds=this.xy||this.OE(),this.ds.done((0,z.t)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=Gx(this);c.length&&(b=z.B.filter(b,function(a){return!z.B.find(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.B.concat(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.B.forEach(b,this.us,this),a&&z.I(a));z.Jb(this.Xm,
b)}},this)))};z.e.UL=vx(function(a){var b=(0,window.$)(a),c=z.mc(a,null,this.J.lf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");(c=!b.hasClass("liked"))&&this.ni("like_comment");this.tg.xx(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tip","s$r$"+f+" \u4eba\u89c9\u5f97\u8fd9\u4e2a\u5f88\u8d5e");d.text(f);b.toggleClass("liked",c);z.Vi(b[0],c?"\u53d6\u6d88\u8d5e":"\u8d5e")},"like");z.e.expand=function(){this.Ra(!0)};
z.e.collapse=function(){this.Ra(!1)};z.e.Kc=function(){return this.zd};
z.e.Ra=function(a){if(a!==this.zd){a&&(this.$(this.YA).hide(),this.Ze());this.zd=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.R(this.h,this.zd);var b=(0,z.t)(function(){a&&Jx(this);this.dispatchEvent(a?"expand":"collapse");this.el&&!a&&(z.Wm(this.el),Qt(this.el.h))},this),c;a&&this.Wg?(c=Kx(this))&&c.done(b):(0,window.setTimeout)(b);this.oh&&(a?(this.KP=z.gc(this.oh),z.Vi(this.oh,"\u6536\u8d77\u8bc4\u8bba")):z.Vi(this.oh,0>this.la?this.KP:this.la?this.la+" \u6761\u8bc4\u8bba":"\u6dfb\u52a0\u8bc4\u8bba"))}};
z.e.yf=function(){this.Ra(!this.zd)};z.e.OE=function(){return this.tg.jl(this.id)};z.e.ct=function(a){this.Ym=a};z.e.vQ=function(a){a=z.Gb(z.Fa(a));z.R(a,this.zd);z.B.forEach((0,window.$)("."+this.J.lf,a).get(),this.us,this);this.Wg=!1;this.mb();z.Ob(a,this.h);this.h=a;Mx(this)};z.e.hb=function(){var a=z.Fa(this.Zk.hl());return a===this.placeholder?"":a};
z.e.Fp=function(){var a=this.hb(),b=z.Fa(z.gc(this.wa));a&&"TEXTAREA"===this.wa.tagName&&b||a?Ox(this,a):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),this.wa.focus())};z.e.Sa=function(){return this.la};z.e.jL=function(a){if(a.r)return z.gh("\u63d0\u793a\u4fe1\u606f",a.msg);this.tg.gw(a.msg).done(window.$.proxy(this.wQ,this));this.Zk.Fd("");Bx(this);this.jt(!1)};
z.e.us=function(a){if(z.dr("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e\u5220\u9664',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.oj(a)};
z.e.oj=function(a){var b=(0,window.$)("a[name\x3dreport]",a);b.length&&(a=a.getAttribute("data-id"),a=new Bv("comment",a,{post:"article_comment_report",question:"question_comment_report",answer:"question_answer_comment_report"}[this.type]),Dv(a,b[0]),z.Ec(a,this))};z.e.wQ=function(a){this.yj="";a=z.Gb(a);this.Xm.appendChild(a);this.us(a);this.la+=1;Nx(this)};
z.e.dr=function(a){var b=z.mc(a,null,this.J.lf),c=b.getAttribute("data-id");z.ch("\u5220\u9664\u8bc4\u8bba","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",function(a){a&&Sx(this,c,z.qa(z.I,b))},this)};z.e.Ze=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.t)(function(){if(this.yj)return"\u4f60\u7684\u8bc4\u8bba\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Jf=function(){(0,window.$)(window).off("beforeunload.CommentForm")};z.v(Ux,z.S);z.e=Ux.prototype;z.e.Ev="zm-item-expanded";z.e.js="zm-item-meta";z.e.zj=null;z.e.D=function(){Ux.v.D.call(this);var a=Wx(this.h);this.lb=a[this.entryType+"-id"];this.Jh=a[this.entryType+"-url-token"];this.Mq=a;this.Km();this.le();Xx(this)};z.e.un=function(){var a=this.entryType+"-"+this.lb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.Km=function(a){var b={'a[name\x3d"expand"]':function(a){this.Ra(!0);this.Qr&&(a.currentTarget.name="toggleExpanded")},'a[name\x3d"collapse"]':function(){this.Ra(!1)},'a[name\x3d"toggleExpanded"]':this.yf,'a[name\x3d"ignore"]':this.hr,".js-close":this.BD,".js-collect":this.cj,".js-hiderelated":this.AD,".js-share":this.vc,".js-toggle-commentbox":this.GD,".js-unhide":this.KD,'a[name\x3d"dislike"]':this.mD};z.C.extend(b,a||{});z.C.forEach(b,function(a,b){if(z.ia(a))(0,window.$)(this.h).on("click",
b,window.$.proxy(a,this))},this);var c=(0,window.$)(".zm-meta-panel",this.h);z.C.forEach({'a[name\x3d"toggle-comment"]':function(a){this.GD(a);c.toggleClass("focusin",this.qa.Kc())},'a[name\x3d"share"]':this.vc},function(a,b){c.on("click",b,window.$.proxy(a,this))},this)};z.e.GD=function(a){this.gp();this.qa.Kc()&&(a=(0,window.parseInt)(z.gc(a.currentTarget),10)||0,this.qa.ni("view_comments",a))};z.e.Fx=function(){gy(this.entryType,this.Jh,"read")};z.e.Fj=function(){gy(this.entryType,this.Jh,"touch")};
z.e.Kc=function(){return z.H.has(this.h,this.Ev)};z.e.yf=function(){this.Ra(!this.Kc())};z.e.Ra=function(a){if(a===this.Kc())return!1;a&&Ku(this.h).height<z.yb().height&&1<(0,window.$)("a.collapse",this.h).length&&(0,window.$)("a.collapse",this.h).eq(0).remove();z.H.enable(this.h,this.Ev,a);this.dispatchEvent(a?"expand":"collapse");return!0};z.e.BP=function(){window.open(z.A(this.zj,this.h).href)};z.e.BD=function(){(0,window.$)(this.h).fadeOut(150,function(){(0,window.$)(this).remove()})};
z.e.cj=z.p;z.e.hr=z.p;z.e.KD=z.p;z.e.AD=z.p;z.e.vc=Vx(function(){aw(arguments,"tb-webshare-sina")},{sa:"question_answer_share"});
z.e.mD=function(){var a=(0,window.$)(this.h),b=(0,window.$)(".feed-item-inner",a),c=(0,window.$)(".undo-dislike-options",a),d={block_id:a.data("block"),offset:a.data("offset")};c.off().one("click",".revert",function(){b.slideDown();c.slideUp();window.$.post("/topstory/item/uninterest/revert",d)}).one("click",".close",function(){a.slideUp(function(){a.remove()})});window.$.post("/topstory/item/uninterest",d).done(function(){b.slideUp();c.slideDown()})};
z.e.gp=function(){if(!this.qa){var a=(0,window.$)(".toggle-comment",this.h)[0];this.qa=new tx(this.lb,this.entryType);this.L(this.qa);wx(this.qa,z.A(this.js,this.h),a);Tx(this.qa);this.qa.ct(this.un())}this.qa.yf()};z.e.yw=function(){this.qa?this.qa.wa.focus():this.gp()};
z.e.le=function(){this.eg=z.Ir.UH(this.h);z.Ui(this.eg.register("shift+o",this.BP,this),{group:"\u64cd\u4f5c",name:"\u65b0\u7a97\u53e3\u6253\u5f00\u6761\u76ee"});var a=(0,window.$)('a[name\x3d"dislike"], a[name\x3d"ignore"]',this.h);a.length&&z.Ui(this.eg.register("i g",function(){a.click()}),{group:"\u64cd\u4f5c",name:"\u4e0d\u611f\u5174\u8da3"})};Yx.prototype={Mc:function(a){if(a)this.tB.push(a);else{var b={current:this.Md,En:this.En(),or:this.or()};z.B.forEach(this.tB,function(a){(0,window.setTimeout)(function(){a.call(null,b)})})}},remove:function(a){a=this.items.indexOf(a);-1!==a&&(this.items.splice(a,1),Zx(this),this.Mc());return a},En:function(){return this.Md<this.bo},or:function(){return 1!==this.Md},next:function(){this.En()&&(this.Md+=1,this.Mc())},prev:function(){this.or()&&(--this.Md,this.Mc())},random:function(a){if(this.bo>=2*
this.Xg){for(var b=[],c=1;c<this.bo+1;c++)b.push(c);0!==a&&z.B.remove(b,this.Md);0!==this.items.length%this.Xg&&z.B.remove(b,this.bo);a=b.length;a=Math.floor(Math.random()*a);this.Md=b[a]}else a===this.Xg&&this.items.reverse(),this.Md=1;this.Mc();return this.items.length>this.Xg}};z.v(by,Ux);by.prototype.D=function(){by.v.D.call(this);cy(this)};by.prototype.mD=function(){var a=this,b=(0,window.$)(this.h);window.$.post("/actioncard/uninterest",{type:"suggest_topics"},function(){b.slideUp(function(){a.H();b.remove()})})};z.v(dy,Ux);dy.prototype.zj="question_link";dy.prototype.hr=function(){var a=this.Mq["question-id"];this.dispatchEvent({type:"ignore",key:"question-id",value:a});window.$.post("/question/uninterest",{qid:a})};z.v(ey,dy);ey.prototype.D=function(){ey.v.D.call(this);fy(this)};ey.prototype.vc=function(){ey.v.vc.call(this,"\u5206\u4eab\u95ee\u9898","question",this.Jh,{qid:this.lb})};
ey.prototype.le=function(){ey.v.le.call(this);z.Ui(z.Ui(z.Ui(this.eg.register("c",this.gp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.vc,this),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("shift+c",this.yw,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(hy,dy);z.e=hy.prototype;z.e.D=function(){hy.v.D.call(this);this.WA=iy(this.h);this.Qr=this.WA.getAttribute("data-isowner");this.Ww();this.yl()};z.e.vc=z.p;
z.e.Ra=function(a){hy.v.Ra.call(this,a)&&(a||(su(this.sg.m()),jy(this,!1)),a&&this.yl(),this.sg.ez(a),this.sg.rt.Ra(a))};z.e.Ww=function(){var a=z.A("zm-item-answer-author-wrap",this.h);a&&(a=z.A("zm-list-avatar",a),z.Gr.add(a))};z.e.yl=function(){this.sg=new rE(this.Mq["question-id"],{sb:this.Mq["question-url-token"]},this.lb);vE(this.sg,z.A("zm-item-meta",this.h));this.L(this.sg);this.sg.w(this.WA);var a=this.sg.rt;this.o().g(a,"expand",function(){this.Ra(!0)});this.yl=z.p};
z.e.le=function(){hy.v.le.call(this);z.Ui(this.eg.register("o",this.yf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"})};z.e.Km=function(){hy.v.Km.call(this,{"a[name\x3dexpandQuestionDetail]":function(){jy(this,!0)}})};z.v(ky,Ux);ky.prototype.D=function(){ky.v.D.call(this);var a=z.A("column",this.h);bv(a,this.Fj,this)};ky.prototype.Fj=function(){gy("column",this.Jh,"touch")};var py={gA:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},jD:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.v(ly,z.S);var ny={je:1,qg:-1,zA:0};ly.prototype.defaults={mS:"up",uK:"down",WJ:"count",Gs:"pressed"};z.C.extend(ly.prototype,ny);z.e=ly.prototype;z.e.U=ny.zA;
z.e.w=function(a){ly.v.w.call(this,a);var b=this.J;a=this.K=(0,window.$)(a);this.Xt=(0,window.$)("."+b.mS,a);this.Rt=(0,window.$)("."+b.uK,a);this.jA=(0,window.$)("."+b.WJ,a);b=this.Xt.hasClass(this.J.Gs);a=this.Rt.hasClass(this.J.Gs);b?this.U=ny.je:a&&(this.U=ny.qg);ry(this);this.Xt.click(window.$.proxy(this.Ct,this));this.Rt.click(window.$.proxy(this.Bt,this));return this};z.e.Vd=function(){return this.U};
z.e.dc=z.kl(function(a){a!==this.U&&z.C.wg(ny,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.yd&&"pending"===this.yd.state()&&this.yd.abort(),my(this,this.U,a),this.U=a,ry(this),oy(this).done((0,z.t)(function(a){a.r||this.Mc()},this)))},function(a){var b={};b[ny.je]="question_answer_vote_up";b[ny.qg]="question_answer_vote_down";return{sa:b[a],hd:!0}});z.e.track=function(a){a===ny.je?z.oj("vote","voteup","side_vote"):a===ny.qg&&z.oj("vote","votedown","side_vote")};
z.e.Ct=function(){this.dc(this.U===ny.qg?ny.je:this.U^ny.je)};z.e.Bt=function(){this.dc(this.U===ny.je?ny.qg:this.U^ny.qg)};z.e.Mc=function(){this.dispatchEvent("change")};z.v(sy,z.S);sy.prototype.da=function(a){sy.v.da.call(this,a);this.o().g(a,"click",this.EP)};sy.prototype.oK=function(){var a=this.hA;z.Ob(a.m(),this.PH);z.H.remove(a.m(),this.tp)};sy.prototype.JN='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e\u8d5e\u540c\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e\u53cd\u5bf9\x3c/label\x3e\x3c/div\x3e';
sy.prototype.EP=z.kl(function(){this.vb&&this.vb.H();var a=new z.Xg(null,!1);a.Ag=!0;a.bm(!0);a.QC=!0;ty(this);z.Ld(this.o(),a,"hide",this.oK);var b=a.W();b.appendChild(this.hA.m());b.appendChild(z.Gb(this.JN));z.H.add(a.m(),this.lv);a.G(!0);this.vb=a;z.Ec(this,a)},!0);z.v(uy,Ux);z.e=uy.prototype;z.e.zj="post-link";z.e.D=function(){uy.v.D.call(this);vy(this);var a=z.A("zm-votebar",this.h);a&&(this.qb=new ly(this.lb,this.entryType),z.Ec(this,this.qb),this.qb.w(a),(a=z.A("votenum-mobile",this.h))&&(new sy(this.qb)).w(a));wy(this)};z.e.vc=function(){uy.v.vc.call(this,"\u5206\u4eab\u6587\u7ae0","post",this.lb,{post_id:this.lb})};z.e.Ra=function(a){uy.v.Ra.call(this,a)&&(a||su((0,window.$)(".entry-body",this.h)[0]),this.rt.Ra(a),this.ez(a))};
z.e.ez=function(a){var b=this.pj();b&&z.Vm(b,a)};z.e.pj=function(){if(this.qh)return this.qh;var a=!z.ah,b=z.A("zm-editable-content",this.h),c=this.qb&&this.qb.m();a&&c&&(0,window.$)(c).is(":visible")&&b&&230<(0,window.$)(b).height()&&(a=this.qh=new z.$m(null,b),this.L(a),a.tag="votebar",a.oy=50,a.w(c))};z.e.hr=function(){(0,window.$)(".feed-hide-options",this.h).show().siblings().hide();window.$.post(Yu("/post/uninterest"),{id:this.lb})};
z.e.KD=function(){(0,window.$)(".feed-hide-options",this.h).hide().siblings().show();window.$.post(Yu("/post/undo_uninterest"),{id:this.lb})};z.e.AD=function(a){a=(0,window.$)(a.currentTarget);var b=a.data();z.ch(a.attr("title"),Yu("\u786e\u5b9a%s\u5417\uff1f",a.text()),function(a){a&&(this.BD(),window.$.post(Yu("/%s/uninterest",b.type),{id:b.id}))},this)};
z.e.le=function(){uy.v.le.call(this);z.Ui(this.eg.register("v",function(){this.qb&&this.qb.Ct()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Ui(this.eg.register("d",function(){this.qb&&this.qb.Bt()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Ui(z.Ui(z.Ui(z.Ui(this.eg.register("o",this.yf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.gp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.vc,this),{group:"\u64cd\u4f5c",
name:"\u5206\u4eab"}).register("shift+c",this.yw,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(yy,Ux);z.e=yy.prototype;z.e.D=function(){yy.v.D.call(this);this.Mn()};z.e.zj="roundtable_link";z.e.hr=function(){window.$.post("/roundtable/"+this.Jh,{action:"mute"});this.dispatchEvent({type:"ignore",key:"roundtable-id",value:this.lb})};z.e.Mn=function(){bv(this.h,this.Fj,this)};z.e.Fj=function(){gy("roundtable",this.Jh,"touch")};z.v(Ay,Mv);Ay.prototype.Lj=function(a){var b=zy(a);this.L(b);b.w(a);b instanceof hy&&b.Ra(!1)};z.v(By,z.ll);z.ca(By);z.e=By.prototype;
z.e.B=function(){this.tK=!0;this.h=z.G("div",null,[this.MN=z.G("div",null,[this.Ng=z.G("div","zm-favo-list-content"),this.LA=z.G("div","zh-favo-add-new-wrap zm-command",this.DR=z.G("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ \u521b\u5efa\u6536\u85cf\u5939"),this.Ou=z.G("a",{href:"javascript:;","class":"zg-btn-blue"},"\u5173\u95ed")),this.eu=z.G("div","zh-favo-add-new-wrap zm-command",this.HJ=z.G("a",{href:"javascript:;","class":""},"\u53d6\u6d88"),this.ER=z.G("a",{"class":"zm-favo-dialog-create zg-btn-blue",
href:"javascript:;"},"\u521b\u5efa\u6536\u85cf\u5939"))]),this.Uv=z.G("div",{style:"display:none"},[z.G("div",null,["\u6807\u9898",this.Nz=z.G("span",{"class":"zh-favo-add-title-error"},"\u8bf7\u586b\u5199\u6807\u9898")]),z.G("div","zg-section",this.Aj=z.G("input",{"class":"zg-form-text-input",style:"width:97%;font-size:13px"})),z.G("div",null,"\u63cf\u8ff0\uff08\u53ef\u9009\uff09"),z.G("div","zg-section zg-editor-simple-wrap zg-form-text-input",this.Bl=z.G("textarea",{"class":"zg-editor-input",style:"height:66px"})),
this.fQ=z.G("label",null,[this.yN=z.G("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),z.G("strong",null," \u516c\u5f00 "),z.G("span","zg-gray-normal","\u516c\u5f00\u540e\u4e0d\u80fd\u8bbe\u7f6e\u4e3a\u79c1\u5bc6")]),this.HN=z.G("br"),this.bQ=z.G("label",null,[this.xN=z.G("input",{type:"radio",value:"private",name:"mode"}),z.G("strong",null," \u79c1\u5bc6 "),z.G("span","zg-gray-normal","\u53ea\u6709\u4f60\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u6536\u85cf\u5939")]),z.G("div","zm-command",
[this.zz=z.G("a",{href:"javascript:;","class":"zg-mr10"},"\u53d6\u6d88"),this.jq=z.G("a",{href:"javascript:;","class":"zg-mr10"},"\u5b8c\u6210"),this.JA=z.G("a",{"class":"zg-btn-blue"},"\u786e\u8ba4\u521b\u5efa")])])]);z.R(this.Nz,!1);z.R(this.eu,!1);(new z.Al(this.Oz)).w(this.Aj);(new z.Al(this.jv)).w(this.Bl);z.B.forEach(this.yx,function(a){Dy(this,a)},this);this.yx.length||(this.Ng.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6536\u85cf\u5939\uff0c\u5c06\u7b54\u6848\u5206\u7c7b\u6536\u85cf\x3c/div\x3e ',
z.R(this.eu,!0),z.R(this.LA,!1));Cy(this);this.ga.W().innerHTML="";this.ga.W().appendChild(this.h);this.ga.ba()};
z.e.ub=function(){this.jJ||(this.jJ=!0,this.o().g(this.zz,"click",function(){this.ma?Hy(this,0):Ky(this)}).g(this.DR,"click",function(){z.X.na({type:"ga_click_add_collection"});Hy(this,1)}).g(this.Ou,"click",function(){Ky(this)}).g(this.ER,"click",function(){z.X.na({type:"ga_click_add_collection"});Hy(this,1)}).g(this.HJ,"click",function(){Ky(this)}).g(this.jq,"click",function(){Ky(this)}).g(this.JA,"click",this.Ug).g(this.Ng,"click",this.hP).g(this.Aj,"change",function(){z.R(this.Nz,!1)}))};
z.e.hP=function(a){var b=z.mc(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.H.has(b,"zm-favo-list-item-link-active")?(c=!0,this.WB=a):this.TB=a;b=new z.mj;b.add("answer_id",this.ma);b.add("favlist_id",a);this.Vy=new z.U(!0);this.locked=!0;z.Ld(this.o(),this.Vy,"complete",this.CI);this.Vy.ajax(c?"/collection/remove":"/collection/add",b.ld())}};
z.e.CI=function(){this.locked=!1;this.Ou.innerHTML="\u5173\u95ed";var a=z.fe(this.Vy);a&&!a.r?(a=z.vb("zm-favo-list-item-link",this.Ng),z.B.forEach(a,function(a){var c=a.getAttribute("data-lid"),d=z.A("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.WB?(d.innerHTML=f-1+"",z.H.remove(a,"zm-favo-list-item-link-active")):c===this.TB&&(d.innerHTML=f+1+"",z.H.add(a,"zm-favo-list-item-link-active"))},this),this.TB=this.WB=null,z.oj("Favorite","add_favorite")):z.T("\u6dfb\u52a0\u5931\u8d25: "+a.msg)};
z.e.Mj=function(){this.ub();this.Ou.innerHTML="\u5173\u95ed";this.ma?(z.R(this.jq,!1),Hy(this,0)):(Hy(this,1),z.R(this.zz,!1),this.jq.innerHTML="\u53d6\u6d88")};z.e.show=function(a){a?(Gy(this),this.ga.G(!0),this.Mj()):(Cy(this,"\u6dfb\u52a0\u5230\u6536\u85cf\u5939",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e\u6536\u85cf\u5939\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.ga.G(!0),this.Zq())};
z.e.Zq=function(){this.ma&&window.$.get("/collections/json",{answer_id:this.ma}).done((0,z.t)(this.YO,this))};z.e.YO=function(a){a&&!a.r&&(this.yx=a.msg[0],this.$r=a.msg[1],Gy(this),this.Mj())};
z.e.Ug=function(){if(!this.fa||!this.fa.Jb()){var a=z.Yi(this.Aj.value);if(a&&a!==this.Oz){a=Iy(this);this.ma&&a.add("answer_id",this.ma);if(this.Or){if(this.YM.ld()===a.ld()){Ky(this);return}a.add("favlist_id",this.VB[0])}this.fa=new z.U(!0);z.Ld(this.o(),this.fa,"complete",this.uI);this.fa.ajax(this.Or?"/collection/update":"/collection/create",a.ld())}else z.R(this.Nz,!0)}};
z.e.uI=function(){var a=z.fe(this.fa);a&&!a.r?this.Or?(Ky(this),z.T("\u7f16\u8f91\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Or=!1):this.ma?(z.R(this.eu,!1),z.R(this.LA,!0),Hy(this,0),this.$r.push(a.msg[0]),Dy(this,a.msg,!0),this.Aj.value="",this.Bl.value=""):(Ky(this),z.T("\u521b\u5efa\u6210\u529f"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):z.T(a.msg)};z.e.T=function(){return this.ga.T()};var Ly="close";
By.prototype.Ze=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.t)(function(){return"\u4f60\u5bf9\u6536\u85cf\u5939\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};By.prototype.Jf=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.v(Py,z.N);Py.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.Zb;if("mousewheel"==a.type){c=1;if(z.x||z.F&&(z.Li||z.w("532.0")))c=40;d=Qy(-a.wheelDelta,c);z.ea(a.wheelDeltaX)?(b=Qy(-a.wheelDeltaX,c),c=Qy(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ea(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.ha(this.XE)&&(b=Pu(b,-this.XE,this.XE));z.ha(this.YE)&&(c=Pu(c,-this.YE,this.YE));this.AN&&(b=-b);b=new Ry(d,a,b,c);this.dispatchEvent(b)};
Py.prototype.C=function(){Py.v.C.call(this);z.cd(this.JE);delete this.JE};z.v(Ry,z.Lc);z.v(Sy,z.N);z.e=Sy.prototype;z.e.fe=0;z.e.ho=0;z.e.co=100;z.e.pn=0;z.e.gk=1;z.e.nE=!1;z.e.ms=!1;z.e.Fa=function(a){a=Ty(this,a);this.fe!=a&&(this.fe=a+this.pn>this.co?this.co-this.pn:a<this.ho?this.ho:a,this.nE||this.ms||this.dispatchEvent("change"))};z.e.X=function(){return Ty(this,this.fe)};z.e.Oo=function(a){a=Ty(this,a);this.pn!=a&&(this.pn=0>a?0:this.fe+a>this.co?this.co-this.fe:a,this.nE||this.ms||this.dispatchEvent("change"))};
z.e.Nh=function(){var a=this.pn;return null==this.gk?a:Math.round(a/this.gk)*this.gk};z.e.Hc=function(){return Ty(this,this.ho)};z.e.Xc=function(){return Ty(this,this.co)};z.e.lw=function(){return this.gk};z.v(Uy,z.S);var QG=z.hd("dragvaluestart"),RG=z.hd("dragvalueend"),SG=z.hd("dragextentstart"),TG=z.hd("dragextentend"),UG=z.hd("dragstart"),VG=z.hd("dragend");z.e=Uy.prototype;z.e.Cb="horizontal";z.e.Lr=!1;z.e.iO=!1;z.e.Ef=10;z.e.fo=0;z.e.rE=!0;z.e.jc=!0;z.e.Rd=!1;z.e.B=function(){Uy.v.B.call(this);var a=this.M().B("div",this.O(this.Cb));this.da(a)};
z.e.da=function(a){Uy.v.da.call(this,a);z.H.add(a,this.O(this.Cb));a=this.m();var b=z.tb(null,"goog-slider-thumb",a)[0];b||(b=this.M().B("div","goog-slider-thumb"),z.rc(b,"button"),a.appendChild(b));this.ab=this.Ad=b;z.rc(this.m(),"slider");jz(this)};z.e.D=function(){Uy.v.D.call(this);this.ee=new z.mg(this.ab);this.Qf=new z.mg(this.Ad);this.ee.Mf(this.Rd);this.Qf.Mf(this.Rd);this.ee.gv=this.Qf.gv=z.p;this.rb=new z.Gh(this.m());Vy(this,!0);this.m().tabIndex=0;dz(this)};
z.e.mb=function(){Uy.v.mb.call(this);z.Hc(this.ee,this.Qf,this.rb,this.Ij)};z.e.ar=function(a){var b=a.Hq==this.ee?this.ab:this.Ad,c;"vertical"==this.Cb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Xc()-this.Hc())+this.Hc()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.Xc()-this.Hc())+this.Hc();c=a.Hq==this.ee?Math.min(Math.max(c,this.Hc()),this.X()+this.Nh()):Math.min(Math.max(c,this.X()),this.Xc());bz(this,b,c)};
z.e.lr=function(a){var b="start"==a.type;z.H.enable(this.m(),"goog-slider-dragging",b);z.H.enable(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Hq==this.ee;b?(this.dispatchEvent(UG),this.dispatchEvent(a?QG:SG)):(this.dispatchEvent(VG),this.dispatchEvent(a?RG:TG))};
z.e.ff=function(a){var b=!0;switch(a.keyCode){case 36:hz(this,this.Hc());break;case 35:hz(this,this.Xc());break;case 33:$y(this,this.Ef);break;case 34:$y(this,-this.Ef);break;case 37:var c=this.Rd&&this.Dd()?1:-1;$y(this,a.shiftKey?c*this.Ef:c*this.lp);break;case 40:$y(this,a.shiftKey?-this.Ef:-this.lp);break;case 39:c=this.Rd&&this.Dd()?-1:1;$y(this,a.shiftKey?c*this.Ef:c*this.lp);break;case 38:$y(this,a.shiftKey?this.Ef:this.lp);break;default:b=!1}b&&a.preventDefault()};
z.e.dj=function(a){this.m().focus&&this.m().focus();var b=a.target;z.Xb(this.ab,b)||z.Xb(this.Ad,b)||(this.iO?hz(this,Yy(this,a)):(this.Dz(a),this.Pe=cz(this,Yy(this,a)),this.ZD="vertical"==this.Cb?this.Ur<this.Pe.offsetTop:this.Ur>gz(this,this.Pe)+this.Pe.offsetWidth,a=z.qb(this.m()),this.o().g(a,"mouseup",this.Az,!0).g(this.m(),"mousemove",this.Dz),this.Th||(this.Th=new z.jd(200),this.o().g(this.Th,z.bk,this.FD)),this.FD(),this.Th.start()))};
z.e.uD=function(a){$y(this,(0<a.detail?-1:1)*this.lp);a.preventDefault()};z.e.FD=function(){var a;if("vertical"==this.Cb){var b=this.Ur,c=this.Pe.offsetTop;this.ZD?b<c&&(a=Zy(this,this.Pe)+this.Ef):b>c+this.Pe.offsetHeight&&(a=Zy(this,this.Pe)-this.Ef)}else b=this.Ur,c=gz(this,this.Pe),this.ZD?b>c+this.Pe.offsetWidth&&(a=Zy(this,this.Pe)+this.Ef):b<c&&(a=Zy(this,this.Pe)-this.Ef);z.ea(a)&&bz(this,this.Pe,a)};
z.e.Az=function(){this.Th&&this.Th.stop();var a=z.qb(this.m());this.o().Ja(a,"mouseup",this.Az,!0).Ja(this.m(),"mousemove",this.Dz)};z.e.Dz=function(a){this.Ur=Xy(this,a)};z.e.Hc=function(){return this.Wa.Hc()};z.e.Xc=function(){return this.Wa.Xc()};z.e.zD=function(){dz(this);jz(this);this.dispatchEvent("change")};z.e.DK=function(){this.Lr=!1};
z.e.setOrientation=function(a){if(this.Cb!=a){var b=this.O(this.Cb),c=this.O(a);this.Cb=a;this.m()&&(z.H.gH(this.m(),b,c),a=this.Rd&&this.Dd()?"right":"left",this.ab.style[a]=this.ab.style.top="",this.Ad.style[a]=this.Ad.style.top="",this.Qb&&(this.Qb.style[a]=this.Qb.style.top="",this.Qb.style.width=this.Qb.style.height=""),dz(this))}};
z.e.C=function(){Uy.v.C.call(this);this.Th&&this.Th.H();delete this.Th;this.vq&&this.vq.H();delete this.vq;delete this.ab;delete this.Ad;this.Qb&&delete this.Qb;this.Wa.H();delete this.Wa;this.rb&&(this.rb.H(),delete this.rb);this.Ij&&(this.Ij.H(),delete this.Ij);this.ee&&(this.ee.H(),delete this.ee);this.Qf&&(this.Qf.H(),delete this.Qf)};z.e.lp=1;z.e.lw=function(){return this.Wa.lw()};z.e.X=function(){return this.Wa.X()};z.e.Fa=function(a){bz(this,this.ab,a)};z.e.Nh=function(){return this.Wa.Nh()};
z.e.Oo=function(a){bz(this,this.Ad,this.Wa.X()+a)};z.e.G=function(a){z.R(this.m(),a);a&&dz(this)};z.e.eb=function(a){this.jc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.jc=a,Vy(this,a),a||this.Az(),z.H.enable(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.jc};z.v(kz,Uy);kz.prototype.O=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.v(lz,z.S);z.e=lz.prototype;z.e.defaults={HB:310,IB:310,mg:250,ng:250,aO:2,opacity:.25,JU:"#eee"};z.e.da=function(a){lz.v.da.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.um=(this.options.HB-this.options.mg)/2;this.options.tm=(this.options.IB-this.options.ng)/2;this.sq()};
z.e.sq=function(){var a=this.options;this.iA=(0,window.$)((0,z.Hn)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"\u62d6\u52a8\u76f8\u7247"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.IB,
containerHeight:a.HB,windowHeight:a.mg,windowWidth:a.ng,windowMarginTop:a.um,windowMarginLeft:a.tm,src:a.src,opacity:a.opacity}));this.Yb=this.iA[0];this.iA.insertBefore(this.h);z.R(this.h,!1);this.UJ=z.A("avatar-editor-container-inner",this.Yb);this.xr=z.A("outer",this.Yb);this.Rw=z.A("inner",this.Yb);this.xm=(0,window.$)(this.xr);this.St=(0,window.$)(this.Rw);this.XD=0;this.xm.load((0,z.t)(this.AH,this));this.St.load((0,z.t)(this.AH,this));this.Rw.src=this.xr.src=this.options.src;this.tR=z.A("goog-slider",
this.Yb)};
z.e.D=function(){this.tz=new kz;this.tz.w(this.tR);this.o().g(this.UJ,["mousedown","touchstart"],function(a){var b=new z.mg(this.Yb);b.addEventListener("drag",(0,z.t)(function(a){var b=this.zoom;this.Ee={up:this.options.ng/b,xn:this.options.mg/b,x:(this.options.tm-(this.eE.left+(a.clientX-this.mt)))/b,y:(this.options.um-(this.eE.top+(a.clientY-this.nt)))/b};oz(this)},this));b.addEventListener("end",(0,z.t)(function(){b.H()},this));b.qm(a);this.qm(a)});this.o().g(this.Yb,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.o().g(this.tz,"change",function(){var a=this.tz.X(),b=this.$H;mz(this,(this.GS-b)*a/100+b)})};z.e.AH=function(){this.XM||(this.Rw.complete&&this.xr.complete?this.init():(this.XD++,2<=this.XD&&this.init()))};z.e.init=function(){this.wr=this.xm.width();this.vr=this.xm.height();var a=this.options.ng/this.wr,b=this.options.mg/this.vr;this.$H=a=b>a?b:a;this.GS=this.$H*this.options.aO;this.Ee={xn:this.options.ng/a,up:this.options.mg/a,x:0,y:0};mz(this,a);nz(this,this.wr/2,this.vr/2);this.XM=!0};
z.e.qm=function(a){this.mt=a.clientX;this.nt=a.clientY;this.eE=this.St.position();this.xm.position()};z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.v(pz,z.S);var qz=1;z.e=pz.prototype;z.e.da=function(a){this.h=a;this.B()};
z.e.B=function(){this.$z="http://upload."+z.bq.Wl+"/upload_avatar";this.wk=(0,window.$)((0,z.Hn)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.$z,
type:this.Pp,dest_id:this.Pp===qz?z.V[3]:this.zC,return_size:this.DG}));this.cI=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.cI.appendTo(window.document.body);this.input=this.wk.find("input[type\x3dfile]")[0];z.x?(this.wk.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.wk),this.wk.addClass("avatar-editor-form-ie")):(this.wk.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.o().g(this.input,"change",this.Mc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.o().g(z.X,"iframe_data",function(a){(a=a.Oc)&&!a.r?"upload"===a.handle_mode?(this.xl=a.url,this.Qw=a.id,rz()||this.vo()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.QB(a)):z.T(a.msg)})};
z.e.Mc=function(a){sz(this);a=this.input=a.target;if(rz()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.t)(function(a){this.xl=a.target.result;this.vo()},this);b.readAsDataURL(a)}}else this.wk[0].submit();vz(this)};z.e.vo=function(){var a=this.Ba.W();this.Pw=new window.Image;this.Pw.src=this.xl;a=(0,window.$)(a);a.html("");a.append(this.Pw);this.Zu=new lz;this.Zu.w(this.Pw)};
z.e.QB=function(a){a&&!a.r?this.data=a:z.T(a.msg);this.dispatchEvent({type:"success",src:this.data});this.Ba.G(!1)};z.e.getData=function(){return this.data||null};z.v(xz,z.S);xz.prototype.da=function(a){xz.v.da.call(this,a);this.o().g(z.X,"sina_callback",this.ss);this.o().g(z.X,"qqconn_callback",this.ss);this.o().g(z.y("zh-setting-page-bind-sina-unbindbtn"),"click",this.QF);this.o().g(z.y("zh-setting-page-bind-qqconn-unbindbtn"),"click",this.QF)};
xz.prototype.ss=function(a){if("sina_callback"===a.type){var b=z.er.name=a.Oc.name;a=z.er.id=a.Oc.id;z.y("zh-setting-page-bind-sinaname").innerHTML='\x3ca href\x3d"http://weibo.com/'+a+'" target\x3d"_blank"\x3e@'+b+"\x3c/a\x3e";yz(!0)}else"qqconn_callback"===a.type&&(z.y("zh-setting-page-bind-qqconnname").innerHTML=a.Oc.name,zz(!0))};
xz.prototype.QF=function(a){var b=a.target.getAttribute("data-weibotype");if(window.confirm("\u4f60\u786e\u5b9a\u8981\u89e3\u9664\u4e0e"+{sina:"\u65b0\u6d6a\u5fae\u535a",qqconn:" QQ "}[b]+"\u7684\u7ed1\u5b9a\u5417\uff1f")){var c=new z.U(!0);z.Ld(this.o(),c,"success",function(){var a=z.fe(c);a&&!a.r?"sina"===b?yz():"qqconn"===b&&zz():z.T(a.msg)});c.ajax("/oauth/unbind/"+b)}};z.v(Az,z.S);z.e=Az.prototype;z.e.da=function(a){Az.v.da.call(this,a);this.ie=(0,window.$)("input",a);this.vd=(0,window.$)(".zm-profile-details-items",this.h);this.Bp=[];var b=this;b.Bp=this.ie.map(function(){var a=new Dz("/topic/autocomplete",this,b.PP||(0,window.$)(this).parents(".topic-input-wrap")[0]);a.Gm=!1;var d=(0,z.t)(b.filter,b);a.filter=d;return a});this.Vl()};
z.e.D=function(){this.o().g(z.A("add",this.h),"click",this.add);var a=this;this.ie.each(function(){a.o().g(this,"keydown",function(a){this.keydown(a)})});z.B.forEach(this.Bp,function(b){a.o().g(b.N,z.Jj,a.select)});this.vd.on("click","[name\x3d'del']",window.$.proxy(this.remove,this));this.Vl()};
z.e.Vl=function(){if(!z.bq.wc){var a=this;this.Lf&&this.Lf.H();var b=new Lt;b.Iq="profile-edit-item-moving";Mt(b,this.vd[0],0);b.init();this.Lf=b;(0,window.$)('a, input, [role\x3d"button"]',this.vd).each(function(){a.o().g(this,"mousedown",function(a){a.stopPropagation()})})}};z.e.keydown=function(a){13===a.keyCode&&(0,window.setTimeout)((0,z.t)(function(){Bz(this)&&this.add();this.ie[0].value&&this.ie[1]&&!this.ie[1].value&&this.ie[1].focus()},this));return!0};z.e.select=function(){Bz(this)&&this.add()};
z.e.add=function(){var a=z.Fa(this.ie[0].value),b={title:a,member_url_token:z.Vn["1"]};if(this.ie[1]){var c=z.Fa(this.ie[1].value);if(!a&&!c)return;b.sub_title=c}St("ProfileEditItemV2",b,this.rO,this)};
z.e.rO=function(a){a=(0,window.$)(a);var b;if(a.data("title")){if(b=this.vd.find("[data-title\x3d'"+a.data("title")+"']")[0]){z.cj(b);Cz(this);return}}else if(a.data("sub-title")&&(b=this.vd.find("[data-sub-title\x3d'"+a.data("sub-title")+"']")[0])){z.cj(b);Cz(this);return}this.vd.append(a);this.Vl();Cz(this);this.dispatchEvent("add")};z.e.remove=function(a){(0,window.$)(a.target).parents("li").remove();this.dispatchEvent("remove")};
Az.prototype.filter=function(a){return z.B.filter(a,function(a){return!this.vd.find("[data-title\x3d'"+a+"']")[0]},this)};z.v(Dz,z.Dk);Dz.prototype.Ul=function(a,b){a=a[0].slice(1);a=z.B.filter(a,function(a){return 3<a.length});a=z.B.map(a,function(a){return a[1]});this.filter&&(a=this.filter(a));Dz.v.Ul.call(this,a,b)};z.v(Ez,z.S);z.e=Ez.prototype;z.e.da=function(a){Ez.v.da.call(this,a);Fz(this);this.Y=[];var b=this;(0,window.$)(".editable-group",this.h).each(function(){var a=new Az;b.Y.push(a);a.w(this)});a=z.y("zm-profile-edit-submit");this.o().g(a,"click",this.ey);(new xz).w(this.h);(0,window.$)(this.h).on("change","input, textarea, select",function(){b.Ze()})};
z.e.D=function(){Ez.v.D.call(this);z.kl(z.p,!0)();var a=z.y("zm-profile-progress-anim"),b=new Gz;b.addEventListener("update",function(){var c=100*b.X()|0;10>c&&(c=10);a.style.width=a.innerHTML=c+"%"});z.B.forEach(this.Y,function(a,c){b.watch({name:"name"+c,target:a,Kh:["add","remove"],Bh:function(){return!!a.vd.children().length}})},this);var c=this.h,d=z.y("zm-profile-edit-male"),f=z.y("zm-profile-edit-female"),g=z.y("zm-profile-edit-description"),h=(0,window.$)(".business-selection select")[0],
l=z.y("zm-profile-edit-expert-disable");b.watch({name:"expert_progress",target:z.y("zm-profile-edit-expert-enable"),Kh:["change"],Bh:function(){return null!==Ny(c,"enable_expert")}}).watch({name:"expert_progress",target:l,Kh:["change"],Bh:function(){return null!==Ny(c,"enable_expert")}}).watch({name:"gender_progress",target:d,Kh:["change"],Bh:function(){return null!==Ny(c,"gender")}}).watch({name:"gender_progress",target:f,Kh:["change"],Bh:function(){return null!==Ny(c,"gender")}}).watch({name:"desc_progress",
target:g,Kh:["blur"],Bh:function(){return!!z.Fa(g.value)}}).watch({name:"business_progress",target:g,Kh:["blur"],Bh:function(){return!!z.Fa(g.value)}}).watch({name:"headline_progress",target:h,Kh:["blur"],Bh:function(){return!!z.Fa(h.value)}})};z.e.Ze=function(){(0,window.$)(window).on("beforeunload.profileedit",(0,z.t)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Jf=function(){(0,window.$)(window).off("beforeunload.profileedit")};
z.e.ey=z.kl(function(){var a=(0,window.$)("#zm-profile-edit-male").is(":checked")?1:0,b=(0,window.$)("#zm-profile-edit-headline").val(),c=(0,window.$)("#zm-profile-edit-description").val(),d=(0,window.$)(".business-selection select").val(),f=[];(0,window.$)("#zm-profile-edit-loc-container").children().each(function(){f.push((0,window.$)(this).data("title"))});var g=[];(0,window.$)("#zm-profile-edit-co-container").children().each(function(){var a=(0,window.$)(this);g.push([a.data("title"),a.data("sub-title")||
""])});var h=[];(0,window.$)("#zm-profile-edit-edu-container").children().each(function(){var a=(0,window.$)(this);h.push([a.data("title"),a.data("sub-title")||""])});var l=(0,window.$)("#zm-profile-edit-weibo-enable").is(":checked")?1:0,n=(0,window.$)("#zm-profile-edit-expert-enable").is(":checked")?1:0,a=z.C.filter({gender:a,headline:b,description:c,location:f,business:d,employment:g,education:h,enable_weibo:l,enable_expert:n},qt);Oy(a,(0,z.t)(function(){this.Jf();window.location.href="/people/"+
z.V[1]+"/about"},this),function(a){z.T(z.fa(a)?a[0][1]:a)})},!0);z.v(Gz,z.N);Gz.prototype.update=function(a,b){this.ry[a]=b;this.dispatchEvent({type:"update"});return this};Gz.prototype.watch=function(a){var b=(0,z.t)(function(){this.update(a.name,a.Bh())},this);z.K(a.target,a.Kh,b);b();return this};Gz.prototype.X=function(){var a=z.C.Pa(this.ry);return a.length&&z.B.filter(a,Boolean).length/a.length};z.v(Hz,z.S);Hz.prototype.da=function(a){Hz.v.da.call(this,a);this.K=(0,window.$)(a);this.K.on("click",'a[href^\x3d"javascript"]',window.$.proxy(this.ya,this));this.K.on("click",'a[href^\x3d"javascript"], input',!1);this.K.on("click",".item",window.$.proxy(this.DP,this))};Hz.prototype.DP=function(a){var b=(0,window.$)(a.currentTarget),c=b.data("href"),b=c&&!b.hasClass(this.Ni);a=a.metaKey||a.ctrlKey;b&&(a?window.open(c):window.location.href=c)};
Hz.prototype.ya=function(a){var b=(0,window.$)(a.currentTarget),c=b.closest(".item");a=b.attr("name");if("edit"===a)b.closest(".description").hide().siblings(".description-edit").show().find("input").focus().closest(".item").addClass(this.Ni).closest(".skilled-topics").addClass(this.Ni),Iz(this,c);else if("cancel"===a)b.closest(".description-edit").hide().siblings(".description").show().closest(".item").removeClass(this.Ni).closest(".skilled-topics").removeClass(this.Ni),Iz(this,c,!0);else if("save"===
a){var d=new z.U(!0);this.o().g(d,"success",function(){var a=z.fe(d);a.r?z.T(a.msg):(b.closest(".description-edit").hide().siblings(".description").show().children(".des").text(a.msg).siblings(".edit").addClass("zu-edit-button").children(".edit-msg").html("\u4fee\u6539").closest(".item").removeClass(this.Ni).closest(".skilled-topics").removeClass(this.Ni),Iz(this,c,!0))});d.ajax("/topic/bio/update","tid\x3d"+b.closest(".item").data("id")+"\x26bio\x3d"+b.parent().siblings("input").val(),"POST")}};z.v(Jz,z.S);
Jz.prototype.da=function(a){Jz.v.da.call(this);if(a&&(this.K=(0,window.$)(a),(0,window.$)(".editable-group",this.K).each(function(){(new Kz).w(this)}),(a=z.y("profile-header-description-input"))&&new z.ql(a),(a=z.A("zm-profile-header-avatar-container"))&&z.H.has(a,"self"))){var b=new pz(qz);b.w(a);this.o().g(b,"beforepost",function(){(0,window.$)(".zm-avatar-editor-preview").parent().append((0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e"))});this.o().g(b,
"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:b.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),z.T("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),z.A("zm-avatar-editor-preview").src=b.getData().url)})})}};z.v(Kz,z.S);
Kz.prototype.da=function(a){Kz.v.da.call(this);this.K=(0,window.$)(a);this.he=(0,window.$)(".info-wrap",this.K);this.Id=(0,window.$)(".edit-wrap",this.K);this.Ap=(0,window.$)(".title",this.he);(0,window.$)("input",this.Id)};
Kz.prototype.D=function(){Kz.v.D.call(this);this.K.on("click","[name\x3d'edit']",z.kl(window.$.proxy(function(){this.K.addClass("editing");var a=this.Id.find("input").get(0);a?a.focus():(a=this.Id.find("textarea").get(0))&&a.focus()},this),!0));var a=this;this.Bp=[];(0,window.$)("input[type\x3dtext]",this.K).each(function(){var b=new Dz("/topic/autocomplete",this,(0,window.$)(this).parents(".topic-input-wrap")[0]);a.Bp.push(b)});this.Id.on("keydown","input",function(a){13===a.keyCode&&(0,window.setTimeout)(function(){var b=
(0,window.$)(a.target),f=b.parents(".edit-wrap").children().index(b.parent()),g=b.parents(".edit-wrap").find("input, select").get(f+1),f=b.parents(".edit-wrap").find("input, select").get(f-1);b.val()&&(g?g.focus():f&&!(0,window.$)(f).val()&&f.focus())})});this.Id.on("click","[name\x3d'cancel'], [name\x3d'save']",window.$.proxy(function(a){a=a.target.name;"cancel"===a?this.cancel():"save"===a&&this.save()},this));var b=(0,window.$)(".fold-wrap");b.click(function(a){"fold"===a.target.name?b.addClass("fold"):
"unfold"===a.target.name&&b.removeClass("fold")})};
Kz.prototype.save=function(){var a=this,b=this.K.data("name");if("location"===b){var b=this.Id.find("input.location"),c=this.Id.find("select"),d=this.Id.find("input.male").is(":checked")?1:0;window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{location:[b.val()],business:c.val(),gender:d}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.location[0].html||(b.location[0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5c45\u4f4f\u5730\x3c/a\x3e"),b.business.html||
(b.business.html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u884c\u4e1a\x3c/a\x3e"),a.he.find("span.location").attr("title",b.location[0].text).html(b.location[0].html),a.he.find("span.business").attr("title",b.business.text).html(b.business.html),b=1===(0,window.parseInt)(b.gender,10)?"male":"female",a.he.find("span.gender i").removeClass("icon-profile-female icon-profile-male").addClass("icon-profile-"+b),a.cancel())})}else"employment"===b?(c=
this.Id.find("input.employment"),b=this.Id.find("input.position"),c=c.val(),b=b.val(),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{employment:[[c,b]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.employment[0][0].text||b.employment[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.employment[0][0].html||(b.employment[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u516c\u53f8\u4fe1\u606f\x3c/a\x3e"),b.employment[0][1].html||
(b.employment[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u804c\u4f4d\x3c/a\x3e"),a.he.find(".employment").attr("title",b.employment[0][0].text).html(b.employment[0][0].html),a.he.find(".position").attr("title",b.employment[0][1].text).html(b.employment[0][1].html),a.cancel())})):"education"===b?(c=[this.Id.find("input.education"),this.Id.find("input.education-extra")],b=c[0].val(),c=c[1].val(),window.$.post("/node/ProfileHeaderV2",{method:"save",
params:{data:{education:[[b,c]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.education[0][0].text||b.education[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.education[0][0].html||(b.education[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5b66\u6821\u4fe1\u606f\x3c/a\x3e"),b.education[0][1].html||(b.education[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e13\u4e1a\x3c/a\x3e"),
a.he.find(".education").attr("title",b.education[0][0].text).html(b.education[0][0].html),a.he.find(".education-extra").attr("title",b.education[0][1].text).html(b.education[0][1].html),a.cancel())})):"description"===b&&(b=this.Id.find("textarea.description"),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{description:b.val()}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.description.text?a.K.removeClass("empty"):(b.description.fold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",
b.description.unfold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",a.K.addClass("empty")),a.he.find(".fold-item .content").empty().html(b.description.fold_html),a.he.find(".unfold-item .content").html(b.description.unfold_html),b.description.shortened?a.he.removeClass("disable-fold"):a.he.addClass("disable-fold"),a.cancel())}))};Kz.prototype.cancel=function(){this.K.removeClass("editing")};z.v(Lz,z.ll);z.e=Lz.prototype;z.e.init=function(a){this.Yb=a;this.o().g(a,"click",this.ya);this.refresh()};z.e.hi=function(a){this.Wf=a};
z.e.ya=function(a){if(a.target){var b=z.lj(this.Yb,a.target);b&&(this.type=b.getAttribute("data-type"),this.id=b.getAttribute("data-id"),this.action=b.name,this.item=z.mc(a.target,null,this.Wf),this.type&&this.id&&this.action&&this.item&&!this.YH&&(this.YH=!0,this.fa=new z.U(!0),this.o().g(this.fa,"complete",this.Sg),this.fa.ajax("/people/"+("top"===this.action?"pin":"unpin")+"_"+this.type,this.type+"_id\x3d"+this.id,"POST")))}};
z.e.Sg=function(){if("cancel-top"===this.action)z.Wi(this.item,!0);else if("top"===this.action){var a=z.vb(this.Wf,this.Yb);z.Mf(this.item);a&&2<=a.length&&z.Lb(z.I(this.item),z.A(this.Wf,this.Yb));this.scroll();z.cj(this.item);z.R(z.A("zm-item-top-btn-top",this.item),!1);z.R(z.A("zm-item-top-btn-cancel",this.item),!0);this.refresh()}this.YH=!1};z.e.scroll=function(){if(this.PQ){var a=z.A("zm-profile-section-wrap"),b=z.qc(z.ob((z.m||window).document)).y;a&&0>z.Mf(a).y-b&&a.scrollIntoView()}};
z.e.refresh=function(){var a=z.vb(this.Wf,this.Yb);a&&0<a.length&&z.B.forEach(a,function(a,c){if(0!==c){var d=z.A("zm-item-top-btn-top",a);d&&z.R(d,!0)}},this)};z.v(Nz,z.S);Nz.prototype.D=function(){this.o().g(this.h,"click",this.ya)};Nz.prototype.ya=function(a){var b=z.lj(this.h,a.target);this.Um&&this.Um(b);b&&b.name&&"focus"===b.name&&(0,z.Fs)(b,this.Sv,function(){b.getAttribute("data-followme")&&(z.H.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$\u5bf9\u65b9\u5df2\u5173\u6ce8\u4f60"):b.setAttribute("data-tip","s$b$\u5df2\u4e92\u76f8\u5173\u6ce8"))},this.Rv,{WT:"question"===this.Sv?"\u5173\u6ce8\u95ee\u9898":null})};
Nz.prototype.PG=function(a){this.Um=a};z.v(Oz,z.N);var Pz=0;Oz.prototype.po=function(){this.Ei()};Oz.prototype.Ei=function(){var a=this.Od.value.length;if(a>this.Qg){var b=this.Od.scrollTop,c=this.Od.scrollLeft;this.Od.value=this.Od.value.substring(0,this.Qg);a=this.Qg;this.Od.scrollTop=b;this.Od.scrollLeft=c}this.Hh&&z.bc(this.Hh,1==this.oC?a:this.Qg-a)};Oz.prototype.C=function(){Oz.v.C.call(this);delete this.Od;this.qj.H();this.qj=null};var Xz;z.v(Qz,z.ll);z.e=Qz.prototype;z.e.init=function(){this.Jr||(this.Jr=!0,this.B(),this.ub())};z.e.ub=function(){z.x||(new z.Al("\u641c\u7d22\u95ee\u9898")).w(this.Qc);this.Y=new z.Hl("/redirect-question/autocomplete",this.Qc,null,null,z.y("zh-question-redirect-diag-content"),!1);this.Y.Gm=!1;this.Y.hh(!0);this.o().g(this.Y,"suggestionsupdate",z.xj);this.o().g(this.Y,"select",this.jP).g(this.lJ,"click",function(){this.ga.G(!1)})};
z.e.jP=function(){var a=this.Y.Yi();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.Qc.value="";var b=a[3],a=a[1];this.ga.G(!1);this.Qc.value="";this.fa=new z.U(!0);z.Ld(this.o(),this.fa,"complete",this.DI);this.fa.ajax("/question/redirect","qid\x3d"+this.oa+"\x26rqid\x3d"+b);this.Ws=b;this.jG=a}};
z.e.DI=function(){var a=z.fe(this.fa);a&&(a.r?z.T(a.msg):this.zi?(this.zi.innerHTML="\u5df2\u7ecf\u91cd\u5b9a\u5411",this.zi.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.G("div",{id:"zh-question-redirect-diag"},["\u5c06\u95ee\u9898\u8df3\u8f6c\u81f3",z.G("div",{id:"zh-question-redirect-diag-content"},this.Qc=z.G("input",{type:"text","class":"zg-form-text-input"})),z.G("div","zm-command",this.lJ=z.G("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"\u653e\u5f03\u64cd\u4f5c"))]);this.ga=new z.Xg(null,!1);this.ga.Xa("\u95ee\u9898\u91cd\u5b9a\u5411");z.Sg(this.ga,null);this.ga.W().appendChild(this.h)};
z.e.show=function(){this.init();this.ga.G(!0)};var Uz={},Uz=function(){z.J.call(this)};z.v(Uz,z.ll);
Uz.Zt=[["\u9700\u8981\u8be6\u7ec6\u9610\u8ff0","\u7b54\u6848\u8fc7\u4e8e\u7b80\u77ed\u6216\u8868\u8ff0\u4e0d\u6e05\u6670\uff0c\u8bf7\u5b8c\u5584\u7b54\u6848\u3002"],["\u7b54\u975e\u6240\u95ee","\u6ca1\u6709\u6b63\u9762\u6216\u76f4\u63a5\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5e94\u4f5c\u4e3a\u95ee\u9898\u7684\u8bc4\u8bba","\u8be5\u5185\u5bb9\u662f\u5bf9\u95ee\u9898\u672c\u8eab\u7684\u8bc4\u8bba\u800c\u4e0d\u662f\u56de\u7b54\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5e94\u4f5c\u4e3a\u7b54\u6848\u7684\u8bc4\u8bba",
"\u8be5\u5185\u5bb9\u662f\u5bf9\u53e6\u5916\u4e00\u4e2a\u7b54\u6848\u7684\u8bc4\u8bba\u6216\u56de\u5e94\uff0c\u800c\u4e0d\u662f\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5185\u5bb9\u91cd\u590d","\u4e0e\u5df2\u6709\u7b54\u6848\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5185\u5bb9\u5df2\u8fc7\u671f","\u7b54\u6848\u7684\u65f6\u6548\u6027\u5df2\u8fc7\uff0c\u8bf7\u66f4\u65b0\u7b54\u6848\u3002"],["\u9700\u8981\u6ce8\u660e\u5173\u8054\u5229\u76ca",
"\u6709\u5e7f\u544a\u3001\u63a8\u9500\u5acc\u7591\uff0c\u8bf7\u6ce8\u660e\u4f5c\u8005\u4e0e\u5229\u76ca\u65b9\u7684\u5173\u7cfb\u3002"]];Uz.rj=null;Uz.S=function(){Uz.rj||(Uz.rj=new Uz,Uz.rj.init());return Uz.rj};z.e=Uz.prototype;z.e.init=function(){if(!this.h){this.B();this.ub();var a=new z.Mo(this.h);z.Gg(a);a.QD=!0;a.bm(!0);a.G(!1);z.No(a,0);z.et(a,new z.sf(13,0,0,-22));this.wy=a}};z.e.ub=function(){this.o().g(this.h,"click",this.gP)};
z.e.gP=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.cK.VT(a),this.wy.G(!1))};
z.e.B=function(){var a=z.G("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.G("div","zg-r5px zu-hovercard-inner",[z.G("div",{id:"zh-answer-flag-popup-header"},[z.G("a",{"class":"zg-right",href:"http://www.zhihu.com/question/19867017",target:"_blank"},"\u8fd9\u662f\u4ec0\u4e48\uff1f"),"\u9009\u62e9\u4e00\u4e2a\u7406\u7531\uff1a"]),this.TF=z.G("div",{id:"zh-answer-flog-options-wrap"})]),z.G("div","zu-hovercard-spin-top")]);z.B.forEach(Uz.Zt,function(a,c){var d=z.G("a",{href:"javascript:;",
"class":"zm-menu-item-link"},a[0]);d.setAttribute("data-index",c);this.TF.appendChild(d)},this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.wy.setPosition(new z.Ko(a,1));Rz(this,b.$T());this.wy.G(!0);this.cK=b};var Wz;z.v(Sz,z.ll);Sz.prototype.init=function(){this.B();Tz(this)};
Sz.prototype.B=function(){this.h=z.G("div",null,[z.G("div","zg-section",[z.G("div",null,"\u6807\u8bb0\uff1a"),this.dl=z.G("select")]),z.G("div",null,[z.G("div",null,"\u539f\u56e0"),this.Cy=z.G("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.Wm=z.G("div","zm-command",[z.G("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"\u53d6\u6d88"),z.G("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"\u786e\u5b9a")])]);this.dl.appendChild(z.G("option",
{value:"no"},"\u9009\u62e9\u6807\u8bb0\u539f\u56e0"));z.B.forEach(Uz.Zt,function(a,b){this.dl.appendChild(z.G("option",{value:b},a[0]))},this);this.ga=new z.Xg(null,!1);this.ga.Xa("\u6807\u8bb0\u7b54\u6848");z.Sg(this.ga,null);this.ga.W().appendChild(this.h)};Sz.prototype.show=function(){this.ga.G(!0)};z.v(Zz,z.S);z.e=Zz.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){Zz.v.D.call(this);kA();iA(this);hA(this);pA(this);jA(this);oA(this);nA();lA(this);sA();uA(this);$z(this);gA(this);aA(this);cA(this);dA(this);eA(this);fA(this);bA(this);this.Kn();-1<window.location.search.indexOf("clean-followers-noti\x3d1")&&(new z.U(!0)).ajax("/notification/clear","no_refresh_content\x3dtrue\x26type\x3dfollow");(0,window.$)("#__signin").click(function(){z.jl("privacy_sign_in_button","singin")});(0,window.$)(".zm-profile-header-user-edit").click(z.kl(z.p,!0))};
z.e.aS=function(){z.ch("\u786e\u5b9a","\u786e\u5b9a\u8981\u5f3a\u5236\u6b64\u7528\u6237\u6539\u540d\u5417\uff1f",function(a){a&&(z.y("realname_form").submit(),this.Tv.innerHTML="\u5df2\u53d1\u9001",z.H.add(this.Tv,"zg-gray"),z.ed(this.Tv))},this)};
z.e.Kn=function(){this.nj();var a=z.y("zm-profile-header-pm-btn");a&&z.K(a,"click",Mu(function(a){a.preventDefault()},z.kl(function(){var b=new z.kp;b.show();z.mp(b,z.Vn[3],z.Vn[0]);z.lp(b,a.href);b.bc.focus()},{sa:"people_message_button",hd:!0})));var b=z.y("zh-profile-cancel-block");b&&this.o().g(b,"click",this.wF);(0,window.$)("#zh-report-people, #profile-side-op a[name\x3dreport]").each(function(a,b){Dv(new Bv("member",z.Vn[3]),b)});(b=z.y("zh-profile-search-query-mirro"))&&new z.Ek(b,b.getAttribute("placeholder"))};
z.e.wF=function(){z.ch("\u786e\u5b9a\u53d6\u6d88\u5c4f\u853d\uff1f","\u53d6\u6d88\u5c4f\u853d\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002",function(a){a&&mA(this,!1)},this)};z.e.Ik=function(){z.Ld(this.o(),window.document,"click",function(){this.ib.G(!1)})};
z.e.nj=function(){var a=z.y("profile-side-op");a&&this.o().g(a,"click",this.fj)};z.e.lM=function(a){var b="";a.target===this.NI?b="time":a.target===this.OI?b="vote":a.target===this.MI&&(b="ask");window.location.href="/people/"+z.V[1]+"/answers?sort\x3d"+b};
z.e.fj=function(a){a=a.target.name;"block"===a?z.ch("\u786e\u5b9a\u8981\u5c4f\u853d\u8be5\u7528\u6237\uff1f","\u5c4f\u853d\u7528\u6237\u540e\uff0c\u5bf9\u65b9\u5c06\u4e0d\u80fd\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u5b9e\u540d\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\u4f60\u7684\u516c\u5f00\u4fe1\u606f\u3002",function(a){a&&mA(this,!0)},
this):"cancel-block"===a&&this.wF()};z.e.IK=function(a){if(a&&a.target&&(a=z.lj(this.h,a.target))){var b=z.A("zm-profile-fav-item-title",a),c=z.A("zm-profile-fav-item-des",a);b&&c&&"fav-edit"===a.name&&(b=b.innerHTML,c=c.innerHTML||"",a=[Number(a.getAttribute("data-id")),Number(a.getAttribute("data-public"))],Fy(By.S(),b,c,a))}};z.e.fP=function(a){(a=a.target)&&a.name&&(rA(this,a.name),this.search())};
z.e.search=function(a,b,c){this.Ke=z.y("zh-profile-search-query").value;this.Zl="/people/"+z.y("zh-profile-search-form").getAttribute("data_url")+"/search";if(this.Ke){void 0===b&&(b=!0);void 0===c&&(c=!0);if(window.history.pushState){if(this.Uy)return;a&&a.preventDefault();this.$l=new z.U(!0);this.Uy=!0;this.o().g(this.$l,"complete",this.XH);b&&window.history.pushState({q:(0,window.encodeURIComponent)(this.Ke),type:this.ak},"","?pq\x3d"+(0,window.encodeURIComponent)(this.Ke)+"\x26type\x3d"+this.ak);
this.$l.ajax(this.Zl,"type\x3d"+this.ak+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Ke),"","POST")}else a||(c?(this.Ke=z.y("zh-profile-search-query").value,this.Zl="/people/"+z.y("zh-profile-search-form").getAttribute("data_url")+"/search",window.location.href=this.Zl+"?type\x3d"+this.ak+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Ke)):(this.$l=new z.U(!0),this.Uy=!0,this.o().g(this.$l,"success",this.XH),this.Ke=z.y("zh-profile-search-query").value,this.Zl="/people/"+z.y("zh-profile-search-form").getAttribute("data_url")+
"/search",this.$l.ajax(this.Zl,"type\x3d"+this.ak+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Ke),"","POST")));(a=z.y("zh-profile-search-info"))&&z.R(a,!0)}else a&&a.preventDefault()};
z.e.XH=function(){this.Uy=!1;z.bc(z.y("zh-profile-search-word"),this.Ke);var a=z.fe(this.$l);if(a&&!a.r){var b=z.y("zh-profile-search-list");if(b)if(0===a.msg[0])z.y("zh-profile-list-container").innerHTML='\x3cdiv id\x3d"'+b.id+'"\x3e\x3cdiv style\x3d"margin: 20px;color: #999;text-align: center;"\x3e\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u4efb\u4f55\u7ed3\u679c\x3c/div\x3e\x3c/div\x3e';else{var c;c=""+('\x3cdiv id\x3d"'+b.id+'"\x3e');c+=a.msg[1]+"\x3c/div\x3e";z.y("zh-profile-list-container").innerHTML=
c+'\x3ca href\x3d"javascript:;" id\x3d"zh-load-more" class\x3d"zg-btn-white zu-button-more" style\x3d""\x3e\u66f4\u591a\x3c/a\x3e';(a=z.vb("zm-item",b))&&a.length&&(this.Oe=a[a.length-1].id.split("-")[1]);this.Va=null;this.Va=new Ay(z.y(b.id),null,!0);this.Va.init();this.Va.Oe=this.Oe;this.Va.url=this.Zl;this.Va.params.pq=this.Ke;this.Va.params.type=this.ak;z.y("zh-profile-search-query").focus()}}};z.v(tA,z.S);
tA.prototype.da=function(a){this.h=a;this.Qa=new du;this.Qa.w(this.h);this.form=z.y("zm-profile-expert-editform");this.o().g(this.form,"submit",this.ey);this.o().g(this.Qa,["add","remove","sort"],function(){this.Ze()});(0,window.$)(".enable").on("change","input",window.$.proxy(function(){this.Ze()},this));var b=z.y("zh-profile-expert-warning");b&&this.o().g(b,"click",function(a){"close"===a.target.name&&z.Wi(b)});(0,window.$)(".enable input[type\x3d'radio']").click(function(a){z.R(z.y("zh-profile-expert-reopen-tip"),
!Number((0,window.$)(a.target).val()))})};tA.prototype.Ze=function(){(0,window.$)(window).on("beforeunload.profile",(0,z.t)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};tA.prototype.Jf=function(){(0,window.$)(window).off("beforeunload.profile")};
tA.prototype.ey=function(a){a.preventDefault();z.B.map(this.Qa.data,function(a){return a[3]});a=(0,window.$)(this.form).serializeArray()[0].value;var b=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get(),c=this;window.$.post("/node/ProfileEditExpertTopicsV2",{method:"save",params:{settings:{enable_expert:a,expert_topic:b}}},function(a){a&&a.r||(c.Jf(),window.location.href="/people/"+z.V[1])})};z.v(vA,z.S);vA.prototype.D=function(){vA.v.D.call(this);var a=z.y("zh-topic-block-editor");a&&(new hu(z.ar)).w(a);xA(this);yA(this)};z.v(zA,z.S);zA.prototype.init=function(){var a=this;AA();BA();DA();FA();CA();EA();var b=z.y("zh-setting-page-bind-wrap");b&&(new xz).w(b);(0,window.$)(".zu-main-content-inner form").on("change","input, textarea, select",function(){a.mn("SettingsPage")}).on("submit",function(){a.Wk("SettingsPage")})};
zA.prototype.mn=function(){(0,window.$)(window).on("beforeunload.SettingsPage",(0,z.t)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};zA.prototype.Wk=function(){(0,window.$)(window).off("beforeunload.SettingsPage")};z.v(HA,Mv);HA.prototype.init=function(a){HA.v.init.call(this,a);this.ub(this.h)};HA.prototype.dA=function(a){this.dA=a};HA.prototype.ub=function(a){if(this.dA){var b=new Nz,c=this.QK;b.Sv=this.Pv;b.Rv=c||b.Rv;this.Um&&b.PG(this.Um);b.w(a)}};HA.prototype.PG=function(a){this.Um=a};z.v(IA,z.ll);IA.prototype.init=function(){this.o().g(this.h,"click",this.qo)};IA.prototype.qo=function(a){a=z.lj(this.h,a.target);"focus"===(a&&a.name)&&(0,z.Fs)(a,this.Pv,null,this.PK,{follow_text:this.text[0],unfollow_text:this.text[1]})};z.v(JA,z.ll);z.e=JA.prototype;z.e.w=function(a){this.element=a;var b=(0,window.$)("\x3cul\x3e");this.wH=(0,window.$)("\x3cli\x3e");b.append(this.wH);(0,window.$)(a).append(b);this.xH||(this.xH=!0,this.Tz=new z.U(!0),z.Ld(this.o(),this.Tz,"success",this.JO),this.Tz.ajax(this.url,null,"POST"))};z.e.JO=function(){var a=z.fe(this.Tz);a&&(a&&a.r?z.T(a.msg):(KA(this,this.wH,a.msg),this.xH=!1,this.D()))};z.e.D=function(){this.o().g(this.element,"click",this.qo)};
z.e.qo=function(a){var b=(a=a.target)?a.name:"";if(b)switch(b){case "load":case "loadmore":if(!this.$n){var b=a.getAttribute("data-token"),c=a.getAttribute("data-parent");this.$n=!0;this.Ej=new z.U(!0);z.Ld(this.o(),this.Ej,"success",this.Hp);this.Wy=a.parentNode;this.Wy.innerHTML='\x3cspan class\x3d"zg-gray"\x3e\u52a0\u8f7d\u4e2d...\x3c/a\x3e';this.Ej.ajax(this.url+"?child\x3d"+b+"\x26parent\x3d"+c,null,"POST")}break;case "topic":window.location.href=a.href}};
z.e.Hp=function(){var a=z.fe(this.Ej);if(a)if(a&&a.r)z.T(a.msg);else if(a=a.msg,a[1]){(0,window.$)(this.Wy).hide();for(var b=(0,window.$)(this.Wy.parentNode),c=0;c<a[1].length;c++){var d=a[1][c],f=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");"topic"!==d[0][0]&&f.addClass("zm-topic-organize-loadmore");b.append(f);KA(this,f,d)}this.$n=!1}};z.v(MA,z.vn);MA.prototype.Ug=function(a){z.Zq[0][0]===a?this.li():MA.v.Ug.apply(this,arguments)};MA.prototype.PA=function(a){if(a=z.fe(a.target))a.r?z.T(a.msg):a.msg&&(window.location.href=a.msg)};z.v(NA,z.S);z.e=NA.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){NA.v.D.call(this);SA(this);var a=z.y("zh-topic-top-answerer");a&&(new IA(a,"people",["zg-follow","zg-unfollow"])).init();if(a=z.y("zh-topic-direct-question-list"))a=new HA(a,null,"question",null,!0),a.hi("question-item"),a.init();if(a=z.y("zh-topic-title"))this.dd=new MA(!1,"/topic/update","title"),ht(this.dd,["tid\x3d"+this.vf]),this.dd.addEventListener("beforeedit",LA({jp:!0})),this.dd.w(a),(0,window.$)(a).on("click",".js-pin",function(){var a=(0,window.$)(this),b=a.attr("data-action");
window.$.post(b,{tid:z.Zq[0][3]}).done(function(b){b.r?z.T(b.msg):(b=a.hasClass("pin")?'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/remove" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e':'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/add" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e',
a.replaceWith(b))})});if(a=z.y("zh-topic-desc"))(0,window.$)(a).find(".zm-editable-content").data("editable-maxlength"),this.Vk=new z.yn(!0,"/topic/update","description"),this.Vk.Mb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u8bdd\u9898\u63cf\u8ff0\x3c/a\x3e\x3c/div\x3e',ht(this.Vk,["tid\x3d"+this.vf]),this.Vk.cq=!1,this.Vk.HH=!1,this.Vk.addEventListener("beforeedit",LA({jp:!0})),this.Vk.w(a);if(a=z.y("zh-topic-faq"))this.Iv=new z.yn(!0,"/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+
"/faq","content"),this.Iv.Mb='\x3cdiv class\x3d"zm-topic-faq-container"\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\u5e38\u89c1\u95ee\u9898\u662f\u8be5\u8bdd\u9898\u4e0b\u7ecf\u5e38\u4f1a\u63d0\u5230\u7684\u95ee\u9898\u7684\u6574\u7406\uff0c\u4ee5\u4fbf\u540e\u6765\u8005\u67e5\u9605\uff08\x3ca href\x3d"http://www.zhihu.com/question/20388061" class\x3d"zg-link-litblue"\x3e\u5982\u4f55\u521b\u5efa\uff1f\x3c/a\x3e\uff09\x3c/div\x3e\x3ca href\x3d"javascript:;" name\x3d"edit" class\x3d"zg-link-litblue"\x3e\x3cspan class\x3d"zg-blue-edit"\x3e\x3c/span\x3e\u4e3a\u300c'+
z.Zq[0][0]+"\u300d\u6dfb\u52a0\u5e38\u89c1\u95ee\u9898\x3c/a\x3e\x3c/div\x3e",this.Iv.cq=!1,this.Iv.w(a);XA(this);YA(this);RA(this);UA(this);VA();WA(this);PA(this);OA();(a=z.A("zm-topic-search-input-new"))&&new z.Ek(a,"\u5728\u8bdd\u9898\u4e2d\u641c\u7d22");var b=(0,window.$)(a);z.bq.wc||b.focus(function(){b.addClass("stretch-to")}).blur(function(){b.removeClass("stretch-to")});(a=z.A("zm-topic-ask-in-topic"))&&this.o().g(a,"click",this.iz);(a=z.A("zm-topic-feed-container"))&&(new IA(a,"question",
["zg-follow","zg-unfollow"])).init();(a=z.y("zh-topic-side-children-list"))&&(new IA(a,"topic",["zg-follow","zg-unfollow"])).init();aB(this);(a=z.y("zh-topic-info-add"))&&z.B.forEach(z.Qb(a),function(a){var b;a&&a.getAttribute&&(b=a.getAttribute("data-placeholder"))&&new z.Ek(a,b)});(0,window.$)(".js-may-disable").click(z.kl(z.p,!0))};
z.e.XO=function(){this.wq=this.Qa.YB;if(!this.bF&&this.wq){this.bF=!0;this.Ix=new z.U(!0);z.Ld(this.o(),this.Ix,"success",this.yI);this.Ix.ajax("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+"/demand","action\x3dmerge\x26target_topic_id\x3d"+this.wq[3]);var a=z.y("zh-topic-merged-msg");z.R(z.y("zh-topic-merge"),!1);z.R(a,!0);a=z.tb("a",null,a)[0];a.href="/topic/"+this.wq[1];a.innerHTML=this.wq[0];this.Qa&&(this.Qa.ob.value="")}};
z.e.yI=function(){var a=z.fe(this.Ix);a&&a.r?z.T(a.msg):this.bF=!1};z.e.FO=function(){this.fC||(this.fC=!0,this.iv=new z.U(!0),z.Ld(this.o(),this.iv,"success",this.wI),this.iv.ajax("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1])+"/demand","action\x3dremove"))};z.e.wI=function(){var a=z.fe(this.iv);a&&a.r?z.T(a.msg):(a=z.y("zh-topic-del-msg"),z.R(z.y("zh-topic-del-btn"),!1),z.R(a,!0),this.Qa&&(this.Qa.ob.value=""),this.fC=!1)};
z.e.sP=function(a){if((a=a.target)&&a.name)if("add"===a.name){if(a=this.ku.value)this.mu=new z.U(!0),z.Ld(this.o(),this.mu,"complete",this.vI),this.mu.ajax(window.location.href,"action\x3dadd_alias\x26alias\x3d"+(0,window.encodeURIComponent)(a))}else"remove"===a.name?(this.Hy=new z.U(!0),a=a.parentNode.getAttribute("data-token"),z.Ld(this.o(),this.Hy,"complete",this.AI),this.Hy.ajax(window.location.href,"action\x3dremove_alias\x26alias_token\x3d"+a)):"remove-merged"===a.name&&(this.Jy=new z.U(!0),
a=a.parentNode.getAttribute("data-token"),z.Ld(this.o(),this.Jy,"complete",this.BI),this.Jy.ajax("/topic/"+(0,window.encodeURIComponent)(z.Zq[0][1]+"/demand"),"action\x3dremove\x26target_topic_id\x3d"+a))};z.e.BI=function(){var a=z.fe(this.Jy);a&&a.r?z.T(a.msg):QA(this,a.msg)};z.e.AI=function(){var a=z.fe(this.Hy);a&&a.r?z.T(a.msg):QA(this,a.msg)};
z.e.vI=function(){var a=z.fe(this.mu);if(a&&a.r)z.T(a.msg);else{var a=a.msg,b=z.G("li");b.setAttribute("data-token",a[1]);b.innerHTML=a[0]+' \x3ca name\x3d"remove" href\x3d"javascript:;" class\x3d"zg-link-gray"\x3e\u79fb\u9664\x3c/a\x3e';this.lu.appendChild(b);this.ku.value="";z.R(this.lu.parentNode,!0)}};z.e.kz=function(a){this.jy?this.ib.T()?this.ib.G(!1):(this.ib.G(!0),a.stopPropagation(),a.preventDefault(),this.Ik()):(a.stopPropagation(),a.preventDefault(),this.nj(),this.Ik());this.jy=!0};
z.e.Ik=function(){z.Ld(this.o(),window.document,"click",function(){this.ib.G(!1)})};z.e.nj=function(){var a=z.y("zh-topic-side-head"),b=this.$f.getAttribute("data-auth");this.ib=new pv;this.Iw=!0;"f-topic-manage"===b&&this.ib.Ka(this.xP=new mv("\u7ba1\u7406\u8bdd\u9898"));this.ib.Ka(this.yP=new mv("\u7ec4\u7ec7\u8bdd\u9898"));this.ib.Ka(this.wP=new mv("\u8bdd\u9898\u65e5\u5fd7"));this.Iw&&(this.ib.aa(a),this.o().g(this.ib,"action",this.fj))};
z.e.fj=function(a){var b="";a.target===this.xP?b="admin":a.target===this.yP?b="organize":a.target===this.wP&&(b="log");window.location.href=["/topic",this.Qz[1],b].join("/")};z.e.eP=function(){var a=z.fe(this.Gy);if(a&&!a.r){var b=[];z.B.forEach(a,function(a){b.push(z.Xi(a,null,!0))});this.pQ.innerHTML=b.join("")+'\x3cdiv class\x3d"zg-clear"\x3e\x3c/div\x3e';a.length&&z.R(z.y("zh-topic-side-related-topics-wrap"),!0)}};
z.e.QO=function(a){var b=a.target;b&&b.name&&"remove"===b.name&&(this.QM=b,this.aE||(this.aE=!0,this.Tw=new z.U(!0),this.o().g(this.Tw,"success",this.RO),a="token\x3d"+this.QM.parentNode.getAttribute("data-token")+"\x26action\x3dremove\x26element\x3d"+(0,window.encodeURIComponent)((0,window.$)(a.target).prev("[data-element]").text()),this.Tw.ajax("/topic/"+z.Zq[0][1]+"/information/manage",a,"POST")))};
z.e.RO=function(){this.aE=!1;var a=z.fe(this.Tw);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.A("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html()))};z.e.SO=function(a){a.preventDefault();this.cE||(this.cE=!0,this.Uw=new z.U(!0),this.o().g(this.Uw,"success",this.PO),a=z.Qb(this.Dr),this.Uw.ajax("/topic/"+z.Zq[0][1]+"/information/manage","title\x3d"+a[0].value+"\x26content\x3d"+a[1].value+"\x26url\x3d"+a[2].value+"\x26action\x3dadd","POST"))};
z.e.PO=function(){this.cE=!1;var a=z.fe(this.Uw);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.A("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html(),a=z.Qb(this.Dr),z.B.forEach(a,function(a,c){3>c&&(a.value="")})))};z.e.iz=z.kl(function(){if(!z.Mp()){var a=z.En.S();a.show();var b=z.A("zm-topic-search-input-new");b.value&&z.Fn(a,b.value);a.Qa.data.length||a.Qa.dk(z.Zq[0])}},!0);z.v(bB,z.S);bB.prototype.B=function(){this.h=this.M().B("FORM",{method:"POST",style:"display:none"})};bB.prototype.post=function(a,b,c){var d=this.m();d||(this.aa(),d=this.m());d.action=b||"";d.target=c||"";b=d;var f,g=new z.Zs;for(f in a)c=a[f],z.ga(c)?z.B.forEach(c,(0,z.t)(this.XA,this,g,f)):this.XA(g,f,c);b.innerHTML=g.toString();d.submit()};bB.prototype.XA=function(a,b,c){a.append('\x3cinput type\x3d"hidden" name\x3d"',z.Ia(b),'" value\x3d"',z.Ia(c),'"\x3e')};z.v(fB,z.ll);fB.prototype.init=function(){var a=lt(new z.dk(window.location.href),"group_id");a&&(this.Jj=new z.U(!1),z.Ld(this.o(),this.Jj,"success",this.qy),a&&this.Jj.ajax("/noti7/read","group_id\x3d"+a,"POST"))};fB.prototype.qy=function(){var a=z.fe(this.Jj);if(a&&!a.r&&a.msg){var b=a.msg;if(!0===b||"true"===b||"True"===b)return;this.mO=a.msg;this.dispatchEvent("change")}(a=z.Is)&&z.Io(a)};z.v(gB,z.S);z.e=gB.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){gB.v.D.call(this);iB(this);if(this.Lc=z.y("zh-list-meta-wrap"))this.o().g(this.Lc,"click",this.wo),lt(new z.dk(window.location.href),"fc")&&kB(this);var a=z.y("zh-favlists-wrap");a&&(new HA(a,null,"favlist",null,!0)).init();hB(this);(a=z.y("zh-favlist-log-list-wrap"))&&(new HA(a,null,"favlist",null,!0)).init();(a=z.y("zh-favlist-following-wrap"))&&(new HA(a,null,"favlist",null,!0)).init();if(a=z.y("zh-favlist-followers-wrap"))a=new HA(a,null,"people",["zg-btn-follow","zg-btn-unfollow"],
!0),a.hi("zm-profile-section-item"),a.dA(!0),a.init();this.o().g(window,"hashchange",this.vU);this.Zw();this.mo=new fB;this.mo.init()};z.e.wM=function(a){a=a.target;var b=a.id.split("-"),c=b[1],b=b[2];(new z.U(!0)).ajax("/collection/remove","answer_id\x3d"+c+"\x26favlist_id\x3d"+b);if(b=z.mc(a,"div","zm-item"))a=z.vb("zm-item-answer",b),1===a.length?z.I(b):(a=z.B.find(a,function(a){return a.getAttribute("data-aid")===c}))&&z.I(a.parentNode)};
z.e.nz=function(a){a=z.lj(this.rk,a.target);var b=window.location.pathname.match(/^\/collection\/(\w+)/);a&&a.name&&b&&aw(["\u5206\u4eab\u6536\u85cf\u5939","collection",b[1],{fid:z.$q[0]}],"tb-webshare-"+a.name)};z.e.kR=z.kl(function(){By.S().show(!0)},!0);z.e.kz=function(a){this.jy?this.ib.T()?this.ib.G(!1):(this.ib.G(!0),a.stopPropagation(),a.preventDefault(),this.Ik()):(a.stopPropagation(),a.preventDefault(),this.nj(),this.Ik());this.jy=!0};
z.e.Ik=function(){z.Ld(this.o(),window.document,"click",function(){this.ib.G(!1)})};z.e.nj=function(){var a=z.y("zh-list-side-head");this.ib=new pv;this.Iw=!0;this.visible||this.ib.Ka(this.AP=new mv("\u8bbe\u7f6e\u4e3a\u516c\u5f00"));this.ib.Ka(this.vP=new mv("\u5220\u9664\u6b64\u6536\u85cf\u5939"));this.Iw&&(this.ib.aa(a),this.o().g(this.ib,"action",this.fj))};
z.e.wo=function(a){a=a.target;switch(a&&a.name){case "edit":Fy(By.S());break;case "addcomment":kB(this);this.qa.yf();this.qa.Kc()&&this.qa.ni("view_comments",(0,window.parseInt)(z.gc(a),10)||0);break;case "remove":jB(this)}};
z.e.fj=function(a){a.target===this.AP?z.ch("\u786e\u5b9a\u8bbe\u7f6e\u6536\u85cf\u5939\u4e3a\u516c\u5f00\uff1f","\u6536\u85cf\u5939\u8bbe\u7f6e\u4e3a\u516c\u5f00\u540e\uff0c\u5c06\u4e0d\u80fd\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6\u3002",function(a){a&&lB(this)},this):a.target===this.vP&&jB(this)};z.e.Zw=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=dB(a).done(function(a){b.html(a)}))})};var vB=(0,window.$)("#is-topstory2").length?"topstory2":"homefeed",nB=z.x&&!z.w(9),qB={ac:"actioncard",q:"question",a:"answer",p:"article",c:"column",r:"roundtable"},sB={question:"question",answer:"question",article:"column",column:"column",roundtable:"roundtable"},tB={question:"question",answer:"question",article:"article",column:"column",roundtable:"roundtable"};mB.prototype.hf=function(){this.oA=(0,window.$)('meta[itemprop\x3d"ZReactor"]',this.rh);this.oA.length&&(pB(this),this.VM())};
mB.prototype.XP=function(){var a=[],b=z.yj(550,function(){a.length&&(oB(a),a=[])});return function(c){a.push(c);b()}}();
mB.prototype.VM=z.Wg(function(){z.K(z.X,"click_feed_fresh",function(a){oB({mid:z.fr.ga_vars.user_hash,object_type:"btn",object_id:2,object_meta:{load_items:a.data.count},action_type:"click",context:vB,others:""})});z.K(z.X,"topstory_feed_more",function(){oB({mid:z.fr.ga_vars.user_hash,object_type:"btn",object_id:1,object_meta:{next:(0,window.$)("#js-home-feed-list .feed-item").length+1},action_type:"click",context:vB,others:""})})});z.v(wB,Mv);var WG={ROUNDTABLE_ADD_RELATED:"roundtable",ARTICLE_VOTE_UP:"post_vote",ARTICLE_CREATE:"post_create",RECOMMENDED:"feed_recommended",QUESTION_FOLLOW:"feed_question_follow",QUESTION_CREATE:"feed_question",ANSWER_VOTE_UP:"feed_answer_vote",ANSWER_CREATE:"feed_answer_answer"};z.e=wB.prototype;z.e.D=function(){wB.v.D.call(this);this.vj&&(this.Tt.click(window.$.proxy(this.RN,this)),yB(this))};
z.e.RN=function(){this.dispatchEvent("hidenewblockbtn");this.Tt.hide();var a=zB(this),b=(0,window.$)("html, body").animate({scrollTop:0},"slow").promise();1800<window.$.now()/1E3-(0,window.parseInt)(a.eq(0).data("block"),10)?window.location.reload():(this.Oe="more",this.pA.show(),this.Cj(!0,null,function(a){this.pA.hide();a&&a.msg.length?(this.Em(a.msg,"prepend"),160<zB(this).length?window.location.reload():b.then(window.$.proxy(function(){yB(this)},this))):(this.Rx=!0,b.then(function(){z.ch({title:"\u63d0\u793a\u4fe1\u606f",
Gj:!0,content:'\x3cp\x3e\u6682\u65f6\u6ca1\u6709\u66f4\u591a\u52a8\u6001\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/topics"\x3e\u5173\u6ce8\u66f4\u591a\u8bdd\u9898\uff0c\u4e30\u5bcc\u52a8\u6001\u4e2d\u7684\u5185\u5bb9\x3c/a\x3e\x3c/p\x3e',ba:!0,buttons:["\u786e\u5b9a"]})}))}))};z.e.Sg=function(a){a&&!a.r&&(a=a.msg,a.length?(z.R(this.cc,0<a.length),this.qA.hide(),this.Em(a),this.vj&&yB(this),Ov(this,!1),Rv(this)):(this.yk.hide(),this.qA.show(),this.vj&&!this.Rx&&AB(this)&&BB(this)))};
z.e.vM=function(a){var b=a.currentTarget.h.getAttribute("data-feedtype"),b=WG[b];"comment"===a.namespace&&b&&a.yc.fill("category","feed").fill("label",b)};z.e.Lj=function(a){var b=zy(a);this.L(b);this.o().g(b,"click!",this.vM);b.w(a);new mB(b);return b};z.e.Cj=function(a,b,c){if(this.vj&&"live"!==this.Oe&&"more"!==this.Oe){z.X.na({type:"topstory_feed_more"});var d=zB(this),d=d.eq(d.length-1),f=d.data("block");this.params.block_id=f;this.offset=d.data("offset")}wB.v.Cj.call(this,a,b,c)};
z.e.hG=function(a){if(this.vj){var b={};"live"===a.start?(b.action="live",b.limit=a.offset):"more"===a.start?b.action="more":(b.action="next",b.block_id=a.block_id,b.offset=a.offset);a=b}return{params:a,method:"next"}};z.ca(DB);z.v(IB,z.S);z.e=IB.prototype;z.e.D=function(){IB.v.D.call(this);this.K=(0,window.$)(this.h);if(this.te=z.y("zh-main-feed-fresh-button"))this.xk=(0,window.$)(this.te),this.vj?(this.o().g(this.te,"click",this.nQ),this.o().g(z.X,"topstory2",this.ID)):this.wE?(this.o().g(this.te,"click",this.mQ),this.o().g(z.X,"topstory",this.ID)):(this.o().g(this.te,"click",this.pR),this.o().g(z.X,"homefeed",this.aM));JB(this);NB(this);MB(this)};
z.e.mQ=function(){this.xk.text("\u52a0\u8f7d\u4e2d\u2026");this.jh=0;var a=this;this.Va.offset=0;this.Va.Oe=0;this.Va.Cj(!0,function(){CB(a.Va)}).done(function(){a.xk.hide();Qv(a.Va)})};z.e.nQ=function(){this.xk.text("\u52a0\u8f7d\u4e2d\u2026");var a=this.jh;this.jh=0;var b=this;this.Va.offset=a;this.Va.Oe="live";this.Va.Cj(!0,null,function(a){a&&a.msg.length&&(b.Va.Em(a.msg,"prepend"),b.xk.hide())});z.X.na({type:"click_feed_fresh",data:{count:a}})};
z.e.pR=function(){var a=z.A("zm-home-question-list-devider",this.h);a&&z.H.remove(a,"zm-home-question-list-devider");var a=this.os.length,b=(0,window.$)("."+this.GC,this.h)[0];b&&5<=a&&((0,window.$)(".feed-separator-hook",this.h).next(".feed-item-hook").css("border-top","1px solid #eee").end().remove(),(0,window.$)(b).css("border-top","none").before('\x3cdiv class\x3d"feed-item-hook feed-separator-hook feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u4f60\u770b\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'));
z.B.forEach(this.os,function(a){var b=(0,window.$)("."+this.GC,this.h)[0];b?z.Lb(a,b):this.h.appendChild(a)},this);this.os=[];z.R(this.te,!1);HB();z.X.na({type:"ga_click_feed_fresh",data:{count:a}})};
z.e.aM=function(a){var b=z.Fa(a.Oc);a=this.os;var c=a.length;if(b&&!(500<c)){var d=z.Gb(b),f=this.mx,g=function(a){return z.C.LK(f,a)},b=function(){return g(function(a){return a.ma===n.ma})},h=function(){return g(function(a){return a.oa===n.oa})},l=function(){return g(function(a){return a.lb===n.lb})};if(!function(){return g(function(a){return a.m().id===d.id})}()){var n=this.Va.Lj(d);if(n.ma){if(b())return}else if(n.oa){if(h())return}else if(n.lb&&l())return;KB(this,n);a.push(d);c+=1;this.te&&(this.te.innerHTML=
(99<c?"99+":c)+" \u6761\u65b0\u52a8\u6001",z.R(this.te,!0))}}};z.e.ID=function(a){this.jh=this.jh||0;this.jh+=+a.Oc;this.te&&(this.te.innerHTML=(99<this.jh?"99+":this.jh)+" \u6761\u65b0\u52a8\u6001",z.R(this.te,!0))};z.v(OB,z.S);z.e=OB.prototype;z.e.D=function(){OB.v.D.call(this);var a=z.y("zh-invite-select");a&&this.o().g(a,"change",this.cy);(a=z.A("zm-invite-list"))&&this.o().g(a,"click",this.ya);(this.Nw=z.y("zh-invite-ignore-all-btn"))&&this.o().g(this.Nw,"click",this.MM)};
z.e.ya=function(a){if((a=a.target)&&a.name){if("ignore"===a.name){z.H.add(a,"zg-btn-disabled");this.NM=new z.U(!1);var b="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.He+"\x26op\x3dpass";this.NM.ajax("/question/askpeople",b,"POST");(b=a.parentNode)&&z.Wi(b,!0)}"recover"!==a.name||this.rG||(this.pG=a,this.rG=!0,z.H.add(a,"zg-btn-disabled"),a.innerHTML="...",this.qG=new z.U(!1),this.o().g(this.qG,"success",this.zI),a="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.He+"\x26op\x3drecover",
this.qG.ajax("/question/askpeople",a,"POST"))}};z.e.cy=function(a){var b=lt(new z.dk(window.location.href),"filter_by");(a=a.target)&&a.value&&(a=a.value,a!==b&&(window.location.href="/question/invited?filter_by\x3d"+a))};z.e.zI=function(){this.rG=!1;this.dc(this.pG,"ignore");this.pG.name="ignore"};
z.e.dc=function(a,b){var c=a.parentNode,d=z.A("zm-invite-item-info-label",c);"ignore"===b?(z.H.remove(a,"zg-btn-disabled"),z.H.remove(a,"recover"),z.H.add(a,"ignore"),z.H.add(c,"invite"),z.H.remove(c,"ignore"),d.innerHTML="\u65b0\u9080\u8bf7",a.name="ignore",a.innerHTML="\u5ffd\u7565"):(z.H.remove(a,"zg-btn-disabled"),z.H.remove(a,"ignore"),z.H.add(a,"recover"),z.H.remove(c,"invite"),z.H.remove(c,"draft"),z.H.add(c,"ignore"),d.innerHTML="\u5df2\u5ffd\u7565",a.name="recover",a.innerHTML="\u6062\u590d")};
z.e.MM=function(){this.Ow||(this.Ow=!0,this.WD=new z.U(!1),this.o().g(this.WD,"success",this.xI),this.WD.ajax("/question/askpeople","uid\x3d"+z.V.He+"\x26op\x3dignore_all","POST"))};z.e.xI=function(){this.Ow=!1;z.R(this.Nw);this.Ow=!1;z.B.forEach(z.vb("zm-invite-item-control"),(0,z.t)(function(a){this.dc(a,"recover")},this))};z.v(PB,z.S);PB.prototype.D=function(){PB.v.D.call(this);this.ml();this.o().g(this.h,"click",this.ya)};PB.prototype.ya=function(a){a=a.target;if(a.name)switch(a.name){case "fold":(0,window.$)(a).parent().hide().prev().animate({height:"show"},200);break;case "fold-follow":(0,window.$)(a).parent().hide().prev().show();break;case "unfold-item":(0,window.$)(a).parent(".author-list").hide().siblings(".hidden").show()}};
PB.prototype.ml=function(){this.$n||(this.$n=!0,this.Ej=new z.U(!1),this.o().g(this.Ej,"success",this.$x),this.Ej.ajax("/noti7/calendar","","GET"))};
PB.prototype.$x=function(){this.$n=!1;var a=z.ee(this.Ej);if(a){var b=z.y("zh-noti7-list-inner");/category/.test(a)?(b.innerHTML=a,b&&(a=new Mv(b,"/noti7/calendar",!0),a.Em=function(a){var b=z.G("div","zm-item-more-wrap");b.innerHTML=a;z.Lb(b,this.cc)},Pv(a,function(a){this.Oe=this.cc.getAttribute("data-next");return!a||a.msg[0]&&a.msg[1]}),a.init())):b.innerHTML='\x3cdiv class\x3d"empty"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e\u60a8\u6536\u5230\u7684\u6d88\u606f\u4f1a\u663e\u793a\u5728\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'}};z.v(QB,z.ll);QB.prototype.init=function(){var a=z.y("home-suggest-block");a&&(this.h=a,a=z.y("home-suggest-close-button"),z.Ld(this.o(),a,"click",function(){(new z.U(!0)).ajax("/option","key\x3dno_show_lookup\x26value\x3d1");z.R(this.h,!1)}),a=z.y("home-suggest-refresh-button"),this.o().g(a,"click",this.dP),this.bs=z.y("home-suggest-list"),TB(this))};QB.prototype.dP=function(){RB(this);return!0};
QB.prototype.DO=function(a){a.r||((a=a.msg)&&z.fa(a)&&a.length?(this.Lw=[],this.cC=a,RB(this)):this.bs.innerHTML="")};z.v(UB,z.S);UB.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};
UB.prototype.D=function(){UB.v.D.call(this);WB(this);var a=z.A("zm-invite-container");a&&(new OB).w(a);z.y("home-settings-page-wrap")&&(a=z.y("zh-topic-block-editor"))&&(new hu(z.ar)).w(a);(a=z.y("zh-noti7"))&&(new PB).w(a);var b=z.y("zm-home-sidebar-domain-entry-link");b&&(a=!!b.getAttribute("data-expanded"),b=new z.bi(b,z.y("zm-home-sidebar-domain-entry-nav"),a),a&&z.$c(b,"toggle",function(){z.hh("/notifeature?feature\x3d4",null,"GET");return!0}));(0,window.$)(".zm-side-pinned-topics").on("click",
".unpin",function(){var a=(0,window.$)(this).parent();window.$.post("/pin-topic/remove",{tid:(0,window.$)(this).attr("data-tid")}).done(function(b){b.r||a.fadeOut()})});VB(this);(new QB).init();ZB();$B(this);YB();EB();XB()};z.v(bC,z.Kg);z.ca(bC);z.e=bC.prototype;z.e.hf=function(){this.o().g(window.document,"click",this.er)};
z.e.er=function(a){a=a.target;if("IMG"===a.tagName&&z.H.has(a,this.VR)){var b=a.getAttribute("data-original");if(b)if(z.ah)window.open(b);else if(!z.mc(a,null,"editable")){this.Ea('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e\u67e5\u770b\u539f\u56fe\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.G(!0);z.H.add(this.m(),"zm-light-box-fullscreen-image");var b=z.yb(),c=z.y("zm-light-box-x1"),d=z.y("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.X.na({type:"ga_click_enlarge_image",target:a})}}};z.e.ba=z.p;z.e.focus=z.p;z.e.NL=function(){this.G(!1);z.H.remove(window.document.body,this.kB)};
z.e.ai=function(){bC.v.ai.call(this);z.H.add(window.document.body,this.kB);z.Ld(this.o(),window.document,"click",this.NL)};z.e.B=function(){bC.v.B.call(this);z.H.add(this.m(),"zm-light-box")};z.e.Dx=function(){this.Uc=this.M().B("div",this.Bc+"-bg zm-light-box-background");z.R(this.Uc,!1)};bC.S();z.v(cC,mv);cC.prototype.ae=function(){return this.dispatchEvent("action")};z.Ih("goog-option",function(){return new cC(null)});z.v(z.dC,z.tl);z.ca(z.dC);z.dC.prototype.B=function(a){return a.M().B("div",this.O()+" goog-inline-block","\u00a0")};z.dC.prototype.w=function(a,b){b=z.dC.v.w.call(this,a,b);z.H.add(b,"goog-inline-block");return b};z.dC.prototype.O=function(){return"goog-toolbar-separator"};z.v(z.eC,z.vl);z.ca(z.eC);z.eC.prototype.tc=function(){return"toolbar"};z.eC.prototype.vn=function(a){return"HR"==a.tagName?new z.ul(z.dC.S()):z.eC.v.vn.call(this,a)};z.eC.prototype.O=function(){return"goog-toolbar"};z.eC.prototype.$v=function(){return z.Sr};z.v(fC,rv);z.ca(fC);fC.prototype.O=function(){return"goog-toolbar-button"};z.v(z.gC,z.Rh);z.Ih("goog-toolbar-button",function(){return new z.gC(null)});z.v(hC,tv);z.ca(hC);hC.prototype.createCaption=function(a,b){return hC.v.createCaption.call(this,iC(a,b),b)};hC.prototype.Fa=function(a,b){a&&jC(this.W(a),b)};hC.prototype.Ae=function(a){this.Fa(a.m(),a.X());z.H.add(a.m(),"goog-color-menu-button");hC.v.Ae.call(this,a)};z.v(z.kC,z.Bh);z.ca(z.kC);var nC=0;z.e=z.kC.prototype;z.e.B=function(a){var b=this.df(a);return a.M().B("div",b?b.join(" "):null,lC(this,a.hb(),a.Zi(),a.M()))};z.e.Xu=function(a,b){var c=b.B("table",this.O()+"-table",b.B("tbody",this.O()+"-body",a));c.cellSpacing=0;c.cellPadding=0;z.rc(c,"grid");return c};z.e.hc=function(){return!1};z.e.w=function(){return null};
z.e.Ea=function(a,b){if(a){var c=z.tb("tbody",this.O()+"-body",a)[0];if(c){var d=0;z.B.forEach(c.rows,function(a){z.B.forEach(a.cells,function(a){z.Kb(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.ob(a),h=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(mC(this,l,g));f.length==h&&(l=g.B("tr",this.O()+"-row",f),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(mC(this,"",g));l=g.B("tr",this.O()+"-row",f);c.appendChild(l)}}}z.$f(a,!0,z.O)}};
z.e.O=function(){return"goog-palette"};z.v(qC,z.N);z.e=qC.prototype;z.e.dh=null;z.e.pf=null;z.e.ll=function(){return this.Ed.length};z.e.Oh=function(a){return this.Ed[a]||null};z.e.Ka=function(a){this.Ai(a,this.ll())};z.e.Ai=function(a,b){a&&(this.am(a,!1),z.B.Nn(this.Ed,a,b))};z.e.removeItem=function(a){a&&z.B.remove(this.Ed,a)&&a==this.dh&&(this.dh=null,this.dispatchEvent("select"))};z.e.Fg=function(){return this.dh};z.e.Bb=function(){return z.B.clone(this.Ed)};
z.e.qf=function(a){a!=this.dh&&(this.am(this.dh,!1),this.dh=a,this.am(a,!0));this.dispatchEvent("select")};z.e.ol=function(){var a=this.dh;return a?z.B.indexOf(this.Ed,a):-1};z.e.Uo=function(a){this.qf(this.Oh(a))};z.e.clear=function(){z.B.clear(this.Ed);this.dh=null};z.e.C=function(){qC.v.C.call(this);delete this.Ed;this.dh=null};z.e.am=function(a,b){a&&("function"==typeof this.pf?this.pf(a,b):"function"==typeof a.fm&&a.fm(b))};z.v(z.sC,z.Kh);z.e=z.sC.prototype;z.e.nc=null;z.e.Ib=-1;z.e.pa=null;z.e.C=function(){z.sC.v.C.call(this);this.pa&&(this.pa.H(),this.pa=null);this.nc=null};z.e.dm=function(a){z.sC.v.dm.call(this,a);uC(this);this.pa?(this.pa.clear(),rC(this.pa,a)):(this.pa=new qC(a),a=(0,z.t)(this.am,this),this.pa.pf=a,this.o().g(this.pa,"select",this.gj));this.Ib=-1};z.e.Dg=function(){return""};z.e.cm=function(){};
z.e.nd=function(a){z.sC.v.nd.call(this,a);var b=oC(this.N,this,a.target);b&&a.relatedTarget&&z.Xb(b,a.relatedTarget)||b!=vC(this)&&wC(this,b)};z.e.Rh=function(a){z.sC.v.Rh.call(this,a);var b=oC(this.N,this,a.target);b&&a.relatedTarget&&z.Xb(b,a.relatedTarget)||b==vC(this)&&pC(this.N,this,b,!1)};z.e.xe=function(a){z.sC.v.xe.call(this,a);this.Jb()&&(a=oC(this.N,this,a.target),a!=vC(this)&&wC(this,a))};z.e.ae=function(a){var b=vC(this);return b?(this.qf(b),z.sC.v.ae.call(this,a)):!1};
z.e.$b=function(a){var b=this.hb(),b=b?b.length:0,c=this.nc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.ae(a);if(36==a.keyCode)return this.Sb(0),!0;if(35==a.keyCode)return this.Sb(b-1),!0;var d=0>this.Ib?this.ol():this.Ib;switch(a.keyCode){case 37:-1==d&&(d=b);if(0<d)return this.Sb(d-1),a.preventDefault(),!0;break;case 39:if(d<b-1)return this.Sb(d+1),a.preventDefault(),!0;break;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Sb(d-c),a.preventDefault(),!0;break;
case 40:if(-1==d&&(d=-c),d<b-c)return this.Sb(d+c),a.preventDefault(),!0}return!1};z.e.gj=function(){};z.e.Zi=function(){return this.nc};z.e.Sb=function(a){a!=this.Ib&&(xC(this,this.Ib,!1),this.Ib=a,xC(this,a,!0))};z.e.ol=function(){return this.pa?this.pa.ol():-1};z.e.Fg=function(){return this.pa?this.pa.Fg():null};z.e.Uo=function(a){this.pa&&this.pa.Uo(a)};z.e.qf=function(a){this.pa&&this.pa.qf(a)};z.e.am=function(a,b){this.m()&&a&&z.H.enable(a.parentNode,this.N.O()+"-cell-selected",b)};z.v(yC,z.sC);yC.prototype.qs=null;yC.prototype.jw=function(){var a=this.Fg();return a?(a=Lu(a,"background-color"),AC(a)):null};yC.prototype.To=function(a){a=AC(a);this.qs||(this.qs=z.B.map(this.mq,function(a){return AC(a)}));this.Uo(a?z.B.indexOf(this.qs,a):-1)};z.v(BC,vv);var DC={ZS:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),tT:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),pT:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=BC.prototype;z.e.jw=function(){return this.X()};z.e.To=function(a){this.Fa(a)};z.e.Fa=function(a){for(var b=0,c;c=this.Oh(b);b++)"function"==typeof c.To&&c.To(a);BC.v.Fa.call(this,a)};z.e.Cn=function(a){"function"==typeof a.target.jw?this.Fa(a.target.jw()):"none"==a.target.X()&&this.Fa(null);BC.v.Cn.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.yb=function(a,b){a&&0==this.ll()&&(this.gh(CC(this.M())),this.Fa(this.X()));BC.v.yb.call(this,a,b)};
z.Ih("goog-color-menu-button",function(){return new BC(null)});z.v(EC,tv);z.ca(EC);EC.prototype.O=function(){return"goog-toolbar-menu-button"};z.v(FC,EC);z.ca(FC);FC.prototype.createCaption=function(a,b){return uv(iC(a,b),this.O(),b)};FC.prototype.Fa=function(a,b){a&&jC(this.W(a),b)};FC.prototype.Ae=function(a){this.Fa(a.m(),a.X());z.H.add(a.m(),"goog-toolbar-color-menu-button");FC.v.Ae.call(this,a)};z.v(GC,BC);z.Ih("goog-toolbar-color-menu-button",function(){return new GC(null)});z.v(HC,vv);z.Ih("goog-toolbar-menu-button",function(){return new HC(null)});z.v(IC,vv);z.e=IC.prototype;z.e.pa=null;z.e.hv=null;z.e.D=function(){IC.v.D.call(this);KC(this);NC(this);z.sc(this.m(),"haspopup","false")};z.e.da=function(a){IC.v.da.call(this,a);(a=this.Dg())?JC(this,a):this.Uo(0)};z.e.C=function(){IC.v.C.call(this);this.pa&&(this.pa.H(),this.pa=null);this.hv=null};z.e.Cn=function(a){this.qf(a.target);IC.v.Cn.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.gj=function(){var a=this.Fg();IC.v.Fa.call(this,a&&a.X());KC(this)};
z.e.gh=function(a){var b=IC.v.gh.call(this,a);a!=b&&(this.pa&&this.pa.clear(),a&&(this.pa?z.Eg(a,function(a){MC(a);this.pa.Ka(a)},this):LC(this,a)));return b};z.e.Ka=function(a){MC(a);IC.v.Ka.call(this,a);this.pa?this.pa.Ka(a):LC(this,this.Za())};z.e.Ai=function(a,b){MC(a);IC.v.Ai.call(this,a,b);this.pa?this.pa.Ai(a,b):LC(this,this.Za())};z.e.removeItem=function(a){IC.v.removeItem.call(this,a);this.pa&&this.pa.removeItem(a)};z.e.qf=function(a){if(this.pa){var b=this.Fg();this.pa.qf(a);a!=b&&this.dispatchEvent("change")}};
z.e.Uo=function(a){this.pa&&this.qf(this.pa.Oh(a))};z.e.Fa=function(a){if(null!=a&&this.pa)for(var b=0,c;c=this.pa.Oh(b);b++)if(c&&"function"==typeof c.X&&c.X()==a){this.qf(c);return}this.qf(null)};z.e.Fg=function(){return this.pa?this.pa.Fg():null};z.e.ol=function(){return this.pa?this.pa.ol():-1};z.e.yb=function(a,b){IC.v.yb.call(this,a,b);this.wb()&&this.Za().Sb(this.ol())};z.Ih("goog-select",function(){return new IC(null)});z.v(OC,IC);z.Ih("goog-toolbar-select",function(){return new OC(null)});var TC=[10,10,13,16,18,24,32,48];var XG=z.u("Link");z.u("Edit Link");z.u("Text to display:");z.YG=z.u("Link to:");z.u("Web address");z.u("Link to a page or file somewhere else on the web");z.u("Test this link");
z.u("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.u("To what URL should this link go?");z.u("Email address");z.u("Link to an email address");
z.u("Invalid email address");z.u("To what email address should this link?");z.u("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.u("Open this link in a new window");z.u("Image");var $G,aH,cD,bD,bH,cH,dH,eH,SC,fH,gH,hH,iH,VC,jH,kH,lH,mH,nH,oH,pH,qH,rH,sH,tH,uH,vH,wH,xH,yH,zH,AH,BH,CH,DH,EH,FH,GH,HH,IH,JH,KH,LH,MH;z.ZG={};$G=z.u("Normal");aH=z.u("Normal / serif");cD=[{caption:$G,value:"arial,sans-serif"},{caption:aH,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}];
bD={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],
"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]};bH=z.u("Small");cH=z.u("Normal");dH=z.u("Large");eH=z.u("Huge");SC=[{caption:bH,value:1},{caption:cH,value:2},{caption:dH,value:4},{caption:eH,value:6}];fH=z.u("Heading");gH=z.u("Subheading");hH=z.u("Minor heading");iH=z.u("Normal");VC=[{caption:fH,Aa:"H2"},{caption:gH,Aa:"H3"},{caption:hH,Aa:"H4"},{caption:iH,Aa:"P"}];jH=z.u("Format");kH=z.u("Format");
lH=z.u("Undo");mH=z.u("Redo");nH=z.u("Font");oH=z.u("Font size");pH=z.u("Text color");qH=z.u("Bold");rH=z.u("Italic");sH=z.u("Underline");tH=z.u("Text background color");uH=z.u("Add or remove link");vH=z.u("Numbered list");wH=z.u("Bullet list");xH=z.u("Decrease indent");yH=z.u("Increase indent");zH=z.u("Align left");AH=z.u("Align center");BH=z.u("Align right");CH=z.u("Justify");DH=z.u("Remove formatting");EH=z.u("Insert image");FH=z.u("Strikethrough");GH=z.u("Left-to-right");HH=z.u("Right-to-left");
IH=z.u("Quote");JH=z.u("Edit HTML source");KH=z.u("Subscript");LH=z.u("Superscript");MH=z.u("Edit HTML");z.NH={};
z.ZG.yA=[{Aa:"+undo",V:lH,Oa:"tr-icon tr-undo",factory:dD,jb:!0},{Aa:"+redo",V:mH,Oa:"tr-icon tr-redo",factory:dD,jb:!0},{Aa:"+fontName",V:nH,Oa:"tr-fontName",factory:function(a,b,c,d,f,g){var h=ZC(a,b,c,d,f,g);aD(h);JC(h,$G);z.H.add(h.Za().W(),"goog-menu-noaccel");h.ri=function(a){var b=null;a&&0<a.length&&(b=z.Bg(h.Za(),PC(a)));b!=h.Fg()&&h.qf(b)};return h},jb:!0},{Aa:"+fontSize",V:oH,Oa:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=ZC(a,b,c,d,f,g);RC(h);JC(h,cH);z.H.add(h.Za().W(),"goog-menu-noaccel");
h.ri=function(a){var b;if(b=z.r(a))b=a.match(BG),b="px"==(b&&b[0]||null);b&&(a=z.B.lastIndexOf(TC,(0,window.parseInt)(a,10)));a=0<a?a:null;a!=h.X()&&h.Fa(a)};return h},jb:!0},{Aa:"+bold",V:qH,Oa:"tr-icon tr-bold",jb:!0},{Aa:"+italic",V:rH,Oa:"tr-icon tr-italic",jb:!0},{Aa:"+underline",V:sH,Oa:"tr-icon tr-underline",jb:!0},{Aa:"+foreColor",V:pH,Oa:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=$C(a,b,c,d,f,g);a.To("#000");a.ri=z.qa(eD,a);return a},jb:!0},{Aa:"+backColor",V:tH,Oa:"tr-icon tr-backColor",
factory:function(a,b,c,d,f,g){a=$C(a,b,c,d,f,g);a.To("#FFF");a.ri=z.qa(eD,a);return a},jb:!0},{Aa:"+link",V:uH,caption:XG,Oa:"tr-link",jb:!0},{Aa:"+insertOrderedList",V:vH,Oa:"tr-icon tr-insertOrderedList",jb:!0},{Aa:"+insertUnorderedList",V:wH,Oa:"tr-icon tr-insertUnorderedList",jb:!0},{Aa:"+outdent",V:xH,Oa:"tr-icon tr-outdent",factory:z.WC},{Aa:"+indent",V:yH,Oa:"tr-icon tr-indent",factory:z.WC},{Aa:"+justifyLeft",V:zH,Oa:"tr-icon tr-justifyLeft",jb:!0},{Aa:"+justifyCenter",V:AH,Oa:"tr-icon tr-justifyCenter",
jb:!0},{Aa:"+justifyRight",V:BH,Oa:"tr-icon tr-justifyRight",jb:!0},{Aa:"+justifyFull",V:CH,Oa:"tr-icon tr-justifyFull",jb:!0},{Aa:"+removeFormat",V:DH,Oa:"tr-icon tr-removeFormat",factory:z.WC},{Aa:"image",V:EH,Oa:"tr-icon tr-image",factory:z.WC},{Aa:"+strikeThrough",V:FH,Oa:"tr-icon tr-strikeThrough",jb:!0},{Aa:"+subscript",V:KH,Oa:"tr-icon tr-subscript",jb:!0},{Aa:"+superscript",V:LH,Oa:"tr-icon tr-superscript",jb:!0},{Aa:"ltr",V:GH,Oa:"tr-icon tr-ltr",jb:!0},{Aa:"rtl",V:HH,Oa:"tr-icon tr-rtl",
factory:function(a,b,c,d,f,g){var h=z.YC(a,b,c,d,f,g);h.ri=function(a){a=!!a;z.H.enable(h.getParent().m(),"tr-rtl-mode",a);h.bd(a)};return h},jb:!0},{Aa:"+BLOCKQUOTE",V:IH,Oa:"tr-icon tr-BLOCKQUOTE",jb:!0},{Aa:"+formatBlock",V:jH,caption:kH,Oa:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=ZC(a,b,c,d,f,g);UC(h);JC(h,iH);z.H.add(h.Za().W(),"goog-menu-noaccel");h.ri=function(a){a=a&&0<a.length?a:null;a!=h.X()&&h.Fa(a)};return h},jb:!0},{Aa:"editHtml",V:JH,caption:MH,Oa:"tr-editHtml",factory:z.WC}];
for(var OH=0,PH;PH=z.ZG.yA[OH];OH++)z.NH[PH.Aa]=PH;delete z.ZG.yA;var QH={};QH.track=z.oj;z.v(z.fD,z.pw);z.ra(z.fD.prototype,QH);z.fD.prototype.defaults={mk:null,title:"Distraction Free Mode",$I:"back",OQ:"publish",Vv:"zu-editing-distraction-free",FR:"sticky-goog-scrollfloater",cS:"zm-editable-toolbar-container"};z.fD.prototype.md=z.Pe("FullScreenPlugin");z.NH.toggleFullScreen={Aa:"toggleFullScreen",V:"\u5199\u4f5c\u6a21\u5f0f",Oa:"tr-icon tr-max",factory:z.WC};z.e=z.fD.prototype;z.e.De=z.qa(z.C.wg,{xT:"toggleFullScreen",SS:"enterFullScreen",TS:"exitFullScreen"});
z.e.C=function(){this.ha.H();z.I(this.h);this.J=this.hp=this.rc=this.zb=this.h=null;z.fD.v.C.call(this)};
z.e.Eu=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.$I+'" name\x3d"return"\x3e\u8fd4\u56de\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.OQ+'" name\x3d"save"\x3e\u53d1\u5e03\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ha.g(z.A("back",b),"click",function(a){a.preventDefault();kD(this)},!1,this);this.ha.g(z.A("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&kD(this)},!1,this);this.h=b;this.rc=z.A("content",b);this.hp=z.G("div",{className:"toolbar-info"});this.J.mk||(this.J.mk=this.F.wa)};z.e.$e=function(a){this.h||this.Eu();switch(a){case "enterFullScreen":hD(this);break;case "exitFullScreen":kD(this);break;case "toggleFullScreen":this.gx()?kD(this):hD(this)}};
z.e.gx=function(){return z.H.has(window.document.body,this.J.Vv)};z.e.BF=function(){this.gx()?kD(this):"writing"===window.location.hash.slice(1)&&hD(this)};z.e.to=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&kD(this)};z.e.TG=function(a){z.H[a?"add":"remove"](this.zb,this.J.FR)};z.v(lD,z.ll);var mD="\u52a0\u8f7d\u4e2d...";z.e=lD.prototype;
z.e.show=function(){z.Mb(this.h=z.G("div","zg-mt10",[z.G("h3",{style:"margin:0 0 5px;"},"\u5206\u4eab\u5230\u5fae\u535a"),z.G("div","zm-tab-content",[z.G("div",{className:"zg-section zg-clear",innerHTML:'\x3clabel\x3e\x3cinput data-bindurl\x3d"/oauth/auth/sina?next\x3d/oauth/callback" class\x3d"sina-checkbox" type\x3d"checkbox"\x3e\x3ci class\x3d"zg-ico-sina"\x3e\x3c/i\x3e \u65b0\u6d6a\u5fae\u535a\x3c/label\x3e '}),z.G("div","zg-section",z.G("div","zg-form-text-input",this.Vo=z.G("textarea",{style:"width:100%;height: 66px;"},
"\u52a0\u8f7d\u4e2d..."))),z.G("div","zm-command",[z.G("div",["zm-item-meta","zg-left"],this.dR=z.G("span")),this.HR=z.G("a",{"class":"zg-btn-blue weibo-share-button",href:"javascript:;"},"\u5206\u4eab\u5230\u5fae\u535a")])])]),z.y("zh-question-answer-form-wrap"));this.o().g(z.X,"sina_callback",function(a){this.cz(a.Oc.id,a.Oc.name)});this.vu();this.Nj();z.pl.S().refresh();var a=this;this.gz===mD?z.hh("/answer/"+a.Zf.sb+"/sharetext",function(b){(b=z.fe(b.target))&&b.sina&&(a.gz=b.sina,a.ub())},"GET"):
this.ub()};z.e.cz=function(a,b){z.er.name=b;this.sR=z.er.id=a;this.xc.checked=!0;this.Nj()};z.e.Nj=function(){var a=z.A("weibo-share-button",this.h),b=this.xc.checked;z.H.enable(a,"zg-btn-blue",b);z.H.enable(a,"zg-btn-disabled",!b)};z.e.ub=function(){this.Vo.value=this.gz;this.rz=new z.ql(this.Vo);this.$G=new Zv(this.Vo,this.dR,140,Yv);this.o().g(this.HR,"click",this.ya)};z.e.vu=function(){this.xc=z.A("sina-checkbox",this.h);this.o().g(this.xc,"change",this.gy)};
z.e.gy=function(a){a=a.target;var b=a.getAttribute("data-bindurl");a!==this.xc||this.sR?this.Nj():(window.open(b),a.checked=!1)};z.e.ya=function(a){if((a=a.target)&&z.H.has(a,"zg-btn-blue")&&this.Vo.value){a=new z.mj(!0);a.add("content",this.Vo.value);var b=[];this.xc.checked&&b.push("sina");a.add("via",b.join(","));this.Sj(a);z.oj("share",this.gU?"answer_weibo":"question_weibo")}else z.T("\u8bf7\u60a8\u9009\u62e9\u6216\u7ed1\u5b9a\u5fae\u535a\u540e\u518d\u8fdb\u884c\u5206\u4eab\uff01")};
z.e.Sj=function(a){a.add("aid",this.Zf.ma);this.fa=new z.U(!0);z.Ld(this.o(),this.fa,"complete",this.ju);this.fa.ajax("/answer/share",a.ld())};z.e.ju=function(){var a=z.fe(this.fa);a&&a.r?z.T(a.msg):(z.T("\u5206\u4eab\u53d1\u9001\u5b8c\u6bd5"),z.R(this.h,!1))};z.v(nD,mv);z.Ih("goog-checkbox-menuitem",function(){return new nD(null)});z.v(oD,z.ll);z.e=oD.prototype;
z.e.init=function(){this.Tl=z.y("zh-question-redirect-info");this.Tl.innerHTML&&(this.Un=!0);this.o().g(this.Tl,"click",function(a){"cancel"===a.target.name&&qD(this)});var a=z.y("zh-question-side-header-wrap");if(z.bq.wc&&!z.bq.xE&&a){var b=z.y("zh-question-filter-wrap");b?z.Lb(a,b):a.style[z.x?"styleFloat":"cssFloat"]="none"}(this.$f=z.y("zh-question-operation-menu"))&&this.nj();this.o().g(z.Aj,"anon_change",function(a){var b=z.y("zh-question-side-invitation-anon");b&&z.R(b,a.nb);(b=z.y("zh-question-side-invitation-notanon"))&&
z.R(b,!a.nb);this.Ll&&this.Ll.eb(zu(this.data.Zg)||!a.nb)});(this.rk=z.y("zh-question-webshare-container"))&&this.o().g(this.rk,"click",this.nz)};
z.e.nj=function(){this.ib=new pv;var a=this.data.Fm,b=this.$f.getAttribute("data-auth"),b=b?b.split(","):[];if(null==a||0===a)this.ib.Ka(this.ws=pD("\u4f7f\u7528\u533f\u540d\u8eab\u4efd",!0)),this.ws.bd(this.data.nb),z.br&&z.B.contains(z.br,"question_op_redirect")||"close"===z.Wq.status||(this.ib.Ka(this.Ll=pD(this.Un?"\u64a4\u6d88\u91cd\u5b9a\u5411":"\u95ee\u9898\u91cd\u5b9a\u5411")),this.Ll.eb(zu(this.data.Zg)||!this.data.nb)),z.B.contains(b,"auth-f-manage")&&this.ib.Ka(this.zP=pD("\u66f4\u65b0\u8bdd\u9898\u9875\u663e\u793a",
!1)),this.o().g(this.ib,"action",this.fj),this.ws&&this.o().g(z.Aj,"anon_change",function(a){this.ws.bd(!!a.nb)}),this.Nb&&z.B.contains(b,"auth-pu-mark")&&(this.ib.Ka(this.iy=pD("\u4f18\u8d28\u56de\u7b54",!0)),this.iy.bd(this.Nb.uN)),a=new vv("Settings",this.ib),a.Zj=!0,xv(a),a.w(this.$f)};
z.e.fj=function(a){var b=this.ws;if(a.target===b)ot(b.Ce()?1:0,function(a){a||b.bd(!b.Ce())});else if(a.target===this.Ll){if(!1===LA({Rl:!0})())return!1;this.Bo||(this.Bo=new Qz(this.oa),this.o().g(this.Bo,"change",this.XN));this.ib.G(!1);this.Un?qD(this):this.Bo.show()}else a.target===this.uP?z.hh("/question/"+this.data.sb+(this.uP.Ce()?"/unlock_summary":"/lock_summary"),function(){window.top!==window?window.top.location.href="/question/"+z.Wq.sb:window.location.reload()},"POST"):a.target===this.zP?
window.$.post("/refresh_topic_feeds",{q:z.Wq.sb}).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")}):a.target===this.iy&&window.$.post("/answer/"+this.Nb.sb+(this.iy.Ce()?"/good_mark":"/good_unmark")).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")})};
z.e.XN=function(){this.Tl.innerHTML='\x3cdiv class\x3d"zg-wrap"\x3e\x3cdiv class\x3d"zu-global-nitify-inner"\x3e\x3cspan class\x3d"zu-global-notify-icon"\x3e\x3c/span\x3e\u6b64\u95ee\u9898\u5c06\u8df3\u8f6c\u81f3 \x3ca href\x3d"/question/'+this.Bo.Ws+'"\x3e'+this.Bo.jG+'\x3c/a\x3e \uff08\x3ca href\x3d"javascript:;" name\x3d"cancel"\x3e\u64a4\u6d88\u91cd\u5b9a\u5411\x3c/a\x3e\uff09\x3c/div\x3e\x3c/div\x3e';z.R(this.Tl,!0);this.Un=!0;this.Ll.cm("\u64a4\u6d88\u91cd\u5b9a\u5411")};
z.e.nz=function(a){var b=z.lj(this.rk,a.target);b&&b.name&&z.kl(function(){var a=(0,window.$)("#zh-question-webshare-container").data();aw([a.title,a.type,a.urlToken,{answer:{aid:a.id},question:{qid:a.id}}[a.type]],"tb-webshare-"+b.name);z.X.na({type:"ga_click_share_question_box",target:b,data:{type:b.name}})},function(){return{hd:"letter"===b.name}})()};z.v(rD,z.vn);rD.prototype.Dh=function(){rD.v.Dh.call(this);this.Pk.innerHTML="\u66f4\u65b0"};rD.prototype.da=function(a){rD.v.da.call(this,a);a=this.M();var b=a.B("strong",null,xu(this.Rz));a.On(b,this.Vb)};z.v(sD,z.ll);var uD=null;sD.prototype.aa=function(a){this.h=z.G("div","zu-bio-editor-wrap",[this.cN=z.G("div","zu-bio-editor-inner-wrap"),this.Cc=z.G("div","zm-command",[this.Pk=z.G("a",{name:"save",href:"javascript:;",className:"zg-r3px zg-btn-blue"},"\u5b8c\u6210")])]);z.B.forEach(this.Uk,function(a){a=new rD(a);a.aa(this.cN);this.items.push(a)},this);this.$M&&z.R(this.Cc,!1);a.appendChild(this.h);this.o().g(this.Cc,"click",this.ya)};
sD.prototype.Xv=function(){var a=this.items.length,b;if(!a&&this.Uk.length)for(b=0;b<this.Uk.length;b++)if(this.Uk[b][1])return this.Uk[b][1];var c=null;for(b=0;b<a;b++)if(c=this.items[b].hb())return c};sD.prototype.ya=function(a){(a=this.cf(a.target))&&"save"===a.name&&(this.ga&&this.ga.G(!1),this.dispatchEvent("change"))};z.v(xD,z.S);z.e=xD.prototype;z.e.C=function(){BD(this);this.cd.H();xD.v.C.call(this)};
z.e.w=function(a){this.h=a;this.Cr=z.A("draft-saved-info",a);z.R(this.Cr,!1);this.bE=z.A("draft-saved-time",a);this.EJ=z.A("draft-clear-button",a);a=this.o().g(this.cd,z.bk,this.Xs).g(this.EJ,"click",this.FJ).g(this.Sq,"keydown",this.GN);"oninput"in this.Sq&&!z.x?a.g(this.Sq,"input",this.eN):a.g(this.Sq,"keydown",this.fN);var b=z.Uq.Jd&&1E3*z.Uq.Jd[1];b&&(CD(this,b),this.Mz=(0,window.setInterval)((0,z.t)(function(){CD(this,b)},this),22E3))};
z.e.GN=function(a){(a.metaKey||a.ctrlKey)&&"s"===z.Oi[a.keyCode]&&(this.UN(),this.isContentEditable||a.preventDefault())};z.e.mn=function(){(0,window.$)(window).on("beforeunload.DraftSaver",(0,z.t)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u6210\u529f\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Wk=function(){(0,window.$)(window).off("beforeunload.DraftSaver")};z.e.eN=function(){AD(this);yD(this)};
z.e.fN=function(a){z.jg(a.keyCode)&&(AD(this),yD(this))};z.e.Ea=function(a){this.tb.Ea(a);this.tb.Po()};z.e.hb=function(){return this.tb.ef()};z.e.FG=function(){if(!this.Kf){var a=this.hb();if(a){zD(this,"\u4fdd\u5b58\u4e2d\u2026");var a=(new z.jk).add("qid",this.oa).add("content",a),b=new z.U;b.ajax("/answer/draft/save",a.toString(),"POST");this.o().g(b,"success",(0,z.t)(this.Ug,this));this.FE=b}}};z.e.xS=150;z.e.Xs=z.yj(xD.prototype.xS,xD.prototype.FG);z.e.VN=350;z.e.UN=z.yj(xD.prototype.VN,xD.prototype.FG);
z.e.gN=3E3;z.e.dN=z.yj(xD.prototype.gN,function(){this.Kf||(this.hb()?this.Xs():DD(this))});z.e.Ug=function(a){a=z.fe(a.target);var b="",c=!1;0===a.r?b="\u5df2\u4fdd\u5b58":(b=a.msg||"\u4fdd\u5b58\u5931\u8d25\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002",c=!0);BD(this);z.R(this.Cr,!0);zD(this,b,c);this.Wk();"\u4fdd\u5b58\u6210\u529f"===a.msg&&this.dispatchEvent("saveContent");this.cd.start()};
z.e.FJ=function(a){a.preventDefault();z.ch("\u6e05\u9664\u8349\u7a3f",this.oE?"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5e76\u53d6\u6d88\u7f16\u8f91\u5417\uff1f":"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5417\uff1f",function(a){a&&(this.oE?(DD(this),this.tb.dispatchEvent("cancel_edit"),this.tb.li()):(this.Ea(""),DD(this),ft(this.tb)))},this)};z.v(ED,z.yn);z.e=ED.prototype;z.e.dD=function(){var a=z.tb("h2","zm-editable-content",z.y("zh-question-title"))[0];return{title:a&&(/answer\/\d+$/.test(window.location.pathname)?z.gc(a):a.firstChild.nodeValue)||"",mk:this.Oi}};z.e.Xv=function(){return this.Wp};z.e.bt=function(a){this.nb=a};z.e.eb=function(a,b){this.enabled=a;this.Jr?(this.li(),this.Mb=b,this.Vb.innerHTML=this.Mb):b&&(this.Mb=b)};z.e.da=function(a){ED.v.da.call(this,a);this.Jr=!0;z.H.add(this.Vb,"zu-answer-form-disabled-wrap")};
z.e.C=function(){this.Fr&&(z.I(this.Fr),this.KH=this.Fr=null);ED.v.C.call(this)};z.e.bj=function(a){this.bt(a.nb);this.Kp&&(this.Kp.checked=a.nb)};z.e.D=function(){ED.v.D.call(this);this.o().g(z.Aj,"anon_change",this.bj)};
z.e.yg=function(){ED.v.yg.call(this);var a=this.M(),b=z.V.sa();this.Fr=a.B("div","zh-answer-form clearfix",[b?yu(this.kg):"",this.KH=a.B("div",null,[a.B("div","zu-answer-form-title",[b?wu(this.kg):"\u6211\u6765\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898",this.hJ=a.B("span")])])]);FD(this,this.Wp);a.On(this.Fr,this.Oi);this.o().g(this.KH,"click",this.ya);z.V.sa()?z.V.active||GD(this,'\x3cdiv class\x3d"active-mask-tip-answer"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e',
'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):GD(this,'\x3cdiv class\x3d"signin-mask-tip-answer"\x3e\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u56de\u7b54\x3c/a\x3e\x3c/div\x3e')};
z.e.cr=function(a){switch(a){case "edit_bio":a=tD();if(!this.wu){var b=z.Wq.sb;a.wx=!0;a.tG=b;this.o().g(a,"change",this.Wx)}this.wu=!0;wD(a);break;case "cancel_delete":this.dispatchEvent("cancel_delete_answer");break;case "answer_my_question":HD(this)}return!0};z.e.pe=function(){"editing"===this.status?this.Fb&&z.R(this.Fb,!0):this.Fb&&z.R(this.Fb,!1);z.R(this.jd,!1);this.Vb&&z.R(this.Vb,!this.enabled)};z.e.NJ='\x3cdiv class\x3d"zm-command clearfix"\x3e\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3c% if (questionStatus !\x3d\x3d "normal") { %\x3e\x3cspan class\x3d"zg-gray-normal" style\x3d"margin-right:5px;"\x3e\u88ab\x3c%\x3d statusText %\x3e\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\x3c/span\x3e\x3ca class\x3d"zg-right" data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e\x3c% } %\x3e\x3cspan class\x3d"\x3c%\x3d (questionStatus !\x3d\x3d "normal" ? "hidden" : "") %\x3e"\x3e\x3clabel style\x3d"cursor:pointer"\x3e\x3cinput name\x3d"anno-checkbox" type\x3d"checkbox"\x3e\u533f\u540d\x3c/label\x3e \x3ca class\x3d"submit-button zg-btn-blue" name\x3d"save" href\x3d"javascript:;"\x3e\u53d1\u5e03\u56de\u7b54\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e';
z.e.Dh=function(){var a=(0,z.Hn)(this.NJ);this.Cc=z.Gb(a({questionStatus:z.Wq.status,statusText:{suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"}[z.Wq.status]}));this.Pk=(0,window.$)(".submit-button",this.Cc)[0];ID(this);this.Fb.appendChild(this.Cc);this.ready(function(){if(this.Ma&&this.Ma.on)this.Ma.on("load",this.Yw,!1,this)})};
z.e.Yw=function(){var a=new xD(this);z.Ec(this,a);this.o().g(a,"saveContent",function(){var a=!this.Sd&&this.Ma.Ph("FullScreenPlugin");a&&gD(a)},!1,this);var b=gt(this);this.o().g(b,"focus",function(){a.cd.start()}).g(b,"blur",function(){AD(a);a.Xs()}).g(this,"saveSuccess",function(){AD(a);DD(a)});a.w(this.Cc);this.rC=a};z.e.Wx=function(){var a=tD().Xv();a&&FD(this,a)};z.v(JD,z.yn);var MD=[{value:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0",label:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0"},{value:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f",label:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f"},{value:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f",label:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f"},{value:"other",label:"\u5176\u4ed6"}];z.e=JD.prototype;z.e.w=function(a){JD.v.w.call(this,a);this.o().g(z.Aj,"anon_change",this.bj)};
z.e.bj=function(a){this.Qr||z.H.enable(this.h,"zm-editable-disabled",a.nb)};
z.e.Dh=function(){JD.v.Dh.call(this);this.Dy=z.G("div",{"class":"zm-editable-require-reason-wrap",style:"padding:10px 0 0 0"},[z.G("a",{"class":"zg-right zg-link-litblue",href:"http://www.zhihu.com/question/19550238/answer/12202028",target:"_blank"},"\u4e3a\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u88ab\u516c\u5171\u7f16\u8f91\uff1f"),LD(),this.cF=z.G("span"),this.jQ=z.G("div",{"class":"zg-form-text-input",style:"height:22px;margin:10px 0 0 0;display:none"},this.iQ=z.G("textarea",{style:"width:100%;height:22px !important;min-height:22px !important;"}))]);
z.Lb(this.Dy,this.Cc);this.Fo&&this.ii(" * \u5fc5\u9009","zg-gray-normal");var a=z.tb("select",null,this.Dy)[0];this.o().g(a,"change",function(){z.R(this.jQ,"other"===a.value);this.ii(" * \u5fc5\u9009","zg-gray-normal")})};
z.e.Ug=function(a){var b=z.tb("select",null,this.Dy)[0],c=b.value;if(this.Fo){if("none"===c){this.ii("\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531");return}if("other"===b.value&&(c=z.Yi(this.iQ.value),!c)){this.ii("\u8bf7\u586b\u5199\u4fee\u6539\u7406\u7531");return}}"title"===this.zq&&-1===a.indexOf("?")&&-1===a.indexOf("\uff1f")?this.ii("\u8fd8\u6ca1\u6709\u8f93\u5165\u95ee\u53f7"):("none"===c&&(c=""),this.params=["id\x3d"+this.oa+"\x26reason\x3d"+(0,window.encodeURIComponent)(c)+"\x26question_id\x3d"+
this.oa],this.dispatchEvent("change"),JD.v.Ug.call(this,a),this.ii("* \u5fc5\u9009","zg-gray-normal"),this.Fo=!0)};z.e.ii=function(a,b){this.cF.innerHTML=a;z.H.set(this.cF,b||"zg-error-text")};z.e.ef=function(){return this.Sd&&this.GP?(0,z.vj)(z.Ba(this.Ma.value)):JD.v.ef.call(this)};
z.e.Ze=function(){(0,window.$)(window).on("beforeunload.EditorWithReason",(0,z.t)(function(){return"\u4f60\u5bf9\u95ee\u9898\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Jf=function(){(0,window.$)(window).off("beforeunload.EditorWithReason")};z.e.li=function(){JD.v.li.call(this);this.Jf()};z.e.sf=function(){JD.v.sf.call(this);this.Ze()};z.v(ND,pv);z.e=ND.prototype;z.e.$R=!1;z.e.BE=0;z.e.If=null;z.e.da=function(a){ND.v.da.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.M().m(a),1)};z.e.D=function(){ND.v.D.call(this);z.vd.forEach(this.uf,this.$A,this);var a=this.o();a.g(this,"action",this.qO);a.g(this.M().Ha(),"mousedown",this.xF,!0);z.F&&a.g(this.M().Ha(),"contextmenu",this.xF,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.uf.Ld(z.ka(a))||(a?(b={h:a,iH:b,bO:c,BC:d?"contextmenu":"mousedown",Ex:f},this.uf.set(z.ka(a),b),a=b):a=null,this.Da&&this.$A(a))};z.e.$A=function(a){this.o().g(a.h,a.BC,this.OF)};z.e.detach=function(a){if(!a||!this.uf.Ld(z.ka(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ka(a);if(this.Da){var b=this.uf.get(a);this.o().Ja(b.h,b.BC,this.OF)}this.uf.remove(a)};
z.e.YG=function(a,b,c){b=z.ea(a.iH)?new Zt(a.h,a.iH,!0):new Yt(b,c);b.em&&b.em(5);OD(this,b,a.bO,a.Ex,a.h)};z.e.hide=function(){this.T()&&(this.G(!1),this.T()||(this.BE=(0,z.Wa)(),this.If=null))};z.e.kx=function(){return this.T()||150>(0,z.Wa)()-this.BE};z.e.qO=function(){this.hide()};z.e.OF=function(a){for(var b=this.uf.Hb(),c=0;c<b.length;c++){var d=this.uf.get(b[c]);if(d.h==a.currentTarget){this.YG(d,a.clientX,a.clientY);a.preventDefault();a.stopPropagation();break}}};
z.e.xF=function(a){this.T()&&!this.Ff(a.target)&&this.hide()};z.e.Yc=function(a){ND.v.Yc.call(this,a);this.hide()};z.e.C=function(){ND.v.C.call(this);this.uf&&(this.uf.clear(),delete this.uf)};z.v(PD,z.S);PD.prototype.L=function(a,b){PD.v.L.call(this,a,b);this.o().g(a,"beforeexpand",this.tM)};PD.prototype.tM=function(a){var b=a.target;z.Eg(this,function(a){b!==a&&a.Kc()&&a.Ra(!1)})};PD.prototype.H=function(){this.o().H();PD.v.H.call(this)};z.v(QD,z.Xg);QD.prototype.D=function(){QD.v.D.call(this);z.$g(this,490);(0,window.$)(this.m()).addClass("user-guiding-dialog")};QD.prototype.Gd=function(a){(0,window.$)('[class^\x3d"view"]',this.h).hide();(0,window.$)(".view-"+a,this.h).show()};z.v(TD,z.S);z.e=TD.prototype;z.e.B=function(){this.h=z.G("div",{style:"display:none",className:"question-invite-panel"})};
z.e.D=function(){TD.v.D.call(this);var a=this.h,b=this.o();if(!this.Wg){b.g(z.Aj,"anon_change",this.reload);var c=z.A("cancel-anon",a);c&&b.g(c,"click",this.nL);if(!z.A("error-message")){var c=z.A("search-input",a),d=z.A("invite-title",a);this.cx=z.A("invite-status",a);b.g(this.cx,"click",this.oL);var f=z.A("suggest-persons",a);f&&(b.g(f,"click",this.Aw),this.eH=f);(0,window.$)(".invite-status",a).on("mouseenter mouseleave",".invited-shortlist",function(a){(0,window.$)(".invited-hovercard",this).toggleClass("in",
"mouseenter"===a.type)});this.Vw(c,d);this.fH=(0,window.$)(this.eH).children().map(this.$F).get();this.zl=(0,window.$)(".invited-fulllist",this.cx).children().map(this.$F).get();UD(this);z.R(this.h,this.af)}}};z.e.mb=function(){TD.v.mb.call(this);this.o().H()};z.e.Gi=function(){return'\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cdiv class\x3d"spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.reload=function(){this.Kc()?this.Xj():this.Wg=!0};z.e.Xj=function(){var a=this,b=this.SN;this.mb();z.H.add(this.h,b);this.h.innerHTML=this.Gi();return window.$.get("/node/QuestionInvitePanelV2",{params:{question_id:this.gQ}}).done(function(c){a.Wg=!1;z.H.remove(a.h,b);c=z.Gb(z.Fa(c));z.R(c,a.Kc());z.Ob(c,a.h);a.h=c;a.D()})};z.e.C=function(){TD.v.C.call(this);this.ca.H()};z.e.Kc=function(){return this.af};z.e.expand=function(){this.Ra(!0)};z.e.collapse=function(){this.Ra(!1)};
z.e.Ra=function(a){if(a!==this.af){this.dispatchEvent(a?"beforeexpand":"beforecollapse");var b=(0,z.t)(function(){this.dispatchEvent(a?"expand":"collapse")},this);a&&this.Wg?this.Xj().done(b):b();this.af=a;z.R(this.h,a)}};z.e.yf=function(){this.Ra(!this.af)};
z.e.Vw=function(a){var b=this,c=(0,z.Hn)('\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3cspan class\x3d"zu-autocomplete-row-name" title\x3d"\x3c%-fullname%\x3e"\x3e\x3c%-fullname%\x3e\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c%\x3dheadline%\x3e\x3c/span\x3e');this.ca=new z.Lk(a,{Zd:8,source:"/people/autocomplete?type\x3dinvite",di:a.offsetParent,placeholder:"\u641c\u7d22\u4f60\u60f3\u9080\u8bf7\u7684\u4eba",rd:function(a,
b,g){g.innerHTML=c(a.data)},filter:function(a){return z.B.filter(a,function(a){return!VD(b,a.id)})},select:function(a){XD(b,"ask_to_answer_search");Cu(b.Hs,a.id,"search").done(function(c){if(c.r)return z.T(c.msg);$D(b,a);YD(b,a.id,!0)});return""}})};z.e.nL=function(){ot(0)};
z.e.Aw=function(a){var b=a.target;if("BUTTON"===b.tagName||z.H.has(b,this.mN)){this.Pn&&"pending"===this.Pn.state()&&this.Pn.abort();a="related"===b.getAttribute("data-type")?"recommended_relative_questions":"recommended_top_answerers";XD(this,a);var c=b.getAttribute("data-uid"),d=this.kE,f=(0,z.t)(function(a){a?(WD(this,b,!0),$D(this,ZD(this,c)),this.wJ()):(WD(this,b,!1),bE(this,c))},this);z.H.has(b,d)?(this.Pn=Bu(this.Hs,c),f(!1)):(this.Pn=Cu(this.Hs,c,a).done(function(a){a.r&&(z.T(a.msg),f(!1))}),
f(!0))}};z.e.oL=function(a){a=a.target;"BUTTON"===a.tagName&&(a=a.getAttribute("data-uid"),Bu(this.Hs,a),YD(this,a,!1),bE(this,a))};z.e.$F=function(){var a=(0,window.$)(this),b=(0,window.$)(".zm-item-link-avatar",a);return{id:String((0,window.$)("button",a).data("uid")),avatar:(0,window.$)("img",b).attr("src"),fullname:b.attr("title"),url_token:b.attr("href").split("/").slice(-1)[0]}};z.e.eR='\u4f60\u5df2\u9080\u8bf7 \x3cspan class\x3d"invited-shortlist"\x3e\x3c% helper.each(persons.slice(0, 2), function(person, i, sliced) { %\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3c%\x3d i !\x3d\x3d sliced.length - 1 ? "\u3001" : ""%\x3e\x3c% }); %\x3e\x3c%\x3dhelper.fullList()%\x3e\x3c/span\x3e\x3c% if (persons.length \x3e 2) { %\x3e \u7b49 \x3c%\x3dpersons.length%\x3e \u4eba \x3c% } %\x3e';
z.e.XK='\x3cdiv class\x3d"invited-hovercard"\x3e\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cul class\x3d"invited-fulllist"\x3e\x3c% helper.each(persons, function(person, i) { %\x3e\x3cli\x3e\x3ca title\x3d"\x3c%-person.fullname%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3dperson.url_token%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3dperson.avatar%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray" title\x3d"\x3c%-person.fullname%\x3e"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3cbutton class\x3d"cancel-button zg-link-btn zg-link-gray" data-uid\x3d"\x3c%\x3dperson.id%\x3e"\x3e\u6536\u56de\u9080\u8bf7\x3c/button\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3c/div\x3e';
z.e.wJ=z.Wg(function(){z.V.Zg&&window.$.post("/question/popup",{action:"invite",question_token:z.Wq.sb},function(a){a&&SD(new QD,a)})});z.v(cE,z.S);z.e=cE.prototype;z.e.D=function(){cE.v.D.call(this);this.o().g(this.h,"click",this.wo);dE(this);this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.yc.fill("label","question")})};z.e.oj=function(){var a=(0,window.$)("a[name\x3dreport-question]",this.m());a.length&&Dv(new Bv("question",this.data.oa),a[0])};
z.e.wo=function(a){var b=(a=z.lj(this.h,a.target))&&a.name;if(b)switch(b){case "addcomment":"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(a).text())?z.kl(this.$q,{sa:"question_add_comment_start"}).call(this,a):this.$q(a);break;case "remove":fE(this);break;case "admin":eE(this,a);break;case "share":z.X.na({type:"ga_click_share_question_box",target:a});this.vc();break;case "invite":this.Aw()}};
z.e.$q=function(a){this.qa.yf();this.qa.Kc()&&this.qa.ni("view_comments",(0,window.parseInt)(z.gc(a),10)||0)};z.e.Aw=function(){this.jE.yf();var a=this.jE.Kc();this.dispatchEvent(new Xw("click!invitation",{category:"invitation",action:(a?"show":"hide")+"_ask_to_answer_card",label:"?",value:this.data.ne}))};z.e.vc=z.kl(function(){aw(["\u5206\u4eab\u95ee\u9898","question",this.data.sb,{qid:this.data.oa}],"tb-webshare-sina")},{sa:"question_question_share"});
z.e.SJ=function(a){this.HA.X(a.msg.action);this.HA.cm(a.msg.caption)};z.v(xy,z.S);z.e=xy.prototype;z.e.Sa=function(){return this.wm.data("votecount")};z.e.Mc=function(){this.dispatchEvent("change")};z.e.Xj=function(){this.Ql&&"pending"===this.Ql.state()||(this.Ql=this.tg.jD(this.lb).done((0,z.t)(this.Qs,this)))};z.e.Qs=function(a){if(a=z.Fa(a))a=(0,window.$)(a),this.wm.replaceWith(a),this.wm=a,this.ub(),this.Mc()};
z.e.ub=function(){function a(a,d){var f=z.G("div","zm-voters");a.appendChild(f);var g=z.G("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.lb+"/voters_profile",l=new ev({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&(b.wm.data("votecount",c.total),b.Mc()),h=c.next);return{results:a.payload,next:!!h}})}});l.w(g);l.Gc().setAttribute("hidden","true");z.Ec(d,l);z.Ld(l.o(),l,"next",function(){l.Bb().length?(l.Gc().removeAttribute("hidden"),
l.use("autoload",{bB:!1,viewport:f})):(l.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e\u8fd8\u6ca1\u6709\u4eba\u8d5e\u540c\x3c/div\x3e')});return l.es()}var b=this;(0,window.$)("a.more",this.wm).click(function(){var c=Iu({Gj:!0,title:b.Sa()+" \u4eba\u8d5e\u540c",className:"zm-voters-dialog",KB:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.W(),c).then(function(){b.resolve(null)})})}).promise()});c.o().g(b,"change",function(){c.Xa(b.Sa()+" \u4eba\u8d5e\u540c")})})};
z.e.D=function(){this.wm=(0,window.$)(this.h);this.ub()};gE.prototype.hf=function(){var a=[this.K.get(0)].concat(this.K.parents().get()),b=window.$.map(a,function(a){return(0,window.$)(a).data("navigable")})[0];this.kO=b&&window.$.grep(b.items(),function(b){return~window.$.inArray(b,a)})[0]};gE.prototype.getItem=function(){return this.kO};z.v(hE,z.yn);z.e=hE.prototype;z.e.D=function(){hE.v.D.call(this);this.ready(function(){if(this.Ma&&this.Ma.on)this.Ma.on("load",this.Yw,!1,this)})};
z.e.Yw=function(){var a=new xD(this,!0);z.Ec(this,a);this.o().g(a,"saveContent",function(){var a=!this.Sd&&this.Ma.Ph("FullScreenPlugin");a&&gD(a);(0,window.$)(this.fq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09")}).g(a,"clearContent",function(){(0,window.$)(this.fq).text("\u53d6\u6d88");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539")});
var b=gt(this);this.o().g(b,"focus",function(){a.cd.start()}).g(b,"blur",function(){AD(a);this.VJ!==this.ef()&&a.Xs()}).g(this,"saveSuccess",function(){delete z.Uq.Jd;AD(a);DD(a)}).g(this,"save_unchanged",function(){delete z.Uq.Jd;AD(a);DD(a)});a.w(this.Cc);z.Uq.Jd&&z.Uq.Jd[0]&&(0,window.$)(this.fq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00")};
z.e.Dh=function(){this.Cc=z.G("div","zm-command",[(0,window.$)('\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u53d6\u6d88\u7f16\u8f91\u5e76\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e')[0],this.fq=
z.G("a",{"class":"zm-command-cancel",name:"cancel",href:"#"},"\u53d6\u6d88"),this.Pk=z.G("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"#"},"\u53d1\u5e03")]);this.Fb.appendChild(this.Cc)};z.e.Jv=function(){var a=this;window.$.get("/draft/get",{qid:this.Go},function(b){b.r||(a.dt(b.msg),a.VJ=b.msg)})};
z.e.bD=function(){var a=[];if(!this.disabled){var b="\u4fee\u6539";z.Uq.Jd&&z.Uq.Jd[0]&&(b="\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09");a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+b+"\x3c/span\x3e\x3c/a\x3e")}return a.join("")};z.v(iE,hv);z.ca(iE);iE.prototype.B=function(a){var b=iE.v.B.call(this,a);z.H.add(b,"goog-submenu");jE(this,a,b);return b};iE.prototype.w=function(a,b){b=iE.v.w.call(this,a,b);z.H.add(b,"goog-submenu");jE(this,a,b);var c=z.tb("div","goog-menu",b);if(c.length){var d=new pv(a.M()),c=c[0];z.R(c,!1);a.M().Ha().body.appendChild(c);d.w(c);a.gh(d,!0)}return b};iE.prototype.Ea=function(a,b){var c=this.W(a),d=c&&c.lastChild;iE.v.Ea.call(this,a,b);d&&c.lastChild!=d&&z.H.has(d,"goog-submenu-arrow")&&c.appendChild(d)};
iE.prototype.Ae=function(a){iE.v.Ae.call(this,a);var b=a.W(),c=a.M(),c=z.ub(c.La,"span","goog-submenu-arrow",b)[0];kE(a,c);c!=b.lastChild&&b.appendChild(c);z.sc(a.m(),"haspopup","true")};z.v(lE,mv);var EE=218;z.e=lE.prototype;z.e.Nd=null;z.e.mz=null;z.e.PD=!1;z.e.oc=null;z.e.Qq=!1;z.e.Ip=!0;z.e.wN=!1;z.e.D=function(){lE.v.D.call(this);this.o().g(this.getParent(),"hide",this.IF);this.oc&&pE(this,this.oc,!0)};z.e.mb=function(){this.o().Ja(this.getParent(),"hide",this.IF);this.oc&&(pE(this,this.oc,!1),this.Qq||(this.oc.mb(),z.I(this.oc.m())));lE.v.mb.call(this)};z.e.C=function(){this.oc&&!this.Qq&&this.oc.H();this.oc=null;lE.v.C.call(this)};
z.e.td=function(a,b){lE.v.td.call(this,a);b&&(this.Za().Yf=!0);a||(this.Nd&&z.md(this.Nd),this.Nd=z.ld(this.zg,EE,this))};z.e.lt=function(){var a=this.getParent();a&&z.mu(a)==this&&(oE(this,!0),nE(this))};z.e.zg=function(){var a=this.oc;a&&a.getParent()==this&&(oE(this,!1),z.Eg(a,function(a){"function"==typeof a.zg&&a.zg()}))};z.e.G=function(a,b){var c=lE.v.G.call(this,a,b);c&&!this.T()&&this.zg();return c};
z.e.$b=function(a){var b=a.keyCode,c=this.Dd()?37:39,d=this.Dd()?39:37;if(!this.PD){if(!this.isEnabled()||b!=c&&b!=this.Kx)return!1;this.lt();nu(this.Za());mE(this)}else if(!this.Za().$b(a))if(b==d)this.zg();else return!1;a.preventDefault();return!0};z.e.BO=function(){this.oc.getParent()==this&&(mE(this),this.Nl.td(this),nE(this))};z.e.IF=function(a){a.target==this.Nl&&(this.zg(),mE(this))};z.e.nd=function(a){this.isEnabled()&&(mE(this),this.mz=z.ld(this.lt,EE,this));lE.v.nd.call(this,a)};
z.e.ae=function(a){mE(this);if(this.Tb&8)return lE.v.ae.call(this,a);this.lt();return!0};z.e.Ka=function(a){this.Za().L(a,!0)};z.e.Ai=function(a,b){this.Za().Bk(a,b,!0)};z.e.removeItem=function(a){(a=this.Za().removeChild(a,!0))&&a.H()};z.e.Oh=function(a){return z.Dg(this.Za(),a)};z.e.ll=function(){return z.Cg(this.Za())};z.e.Bb=function(){return this.Za().Bb()};z.e.Za=function(){this.oc?this.Qq&&this.oc.getParent()!=this&&z.Ag(this.oc,this):this.gh(new pv(this.M()),!0);this.oc.m()||this.oc.B();return this.oc};
z.e.gh=function(a,b){var c=this.oc;a!=c&&(c&&(this.zg(),this.Da&&pE(this,c,!1)),this.oc=a,this.Qq=!b,a&&(z.Ag(a,this),a.G(!1,!0),a.Dm=!1,a.Ne(!1),this.Da&&pE(this,a,!0)))};z.e.Ff=function(a){return this.Za().Ff(a)};z.Ih("goog-submenu",function(){return new lE(null)});z.v(qE,lE);qE.prototype.$b=function(a){var b=qE.v.$b.call(this,a);a=(0,window.parseInt)(z.Oi[a.keyCode],10);(0,window.isNaN)(a)||this.Za().Sb(a-1);return b};z.v(rE,z.S);var LE={all_can_comment:"\u5141\u8bb8\u4efb\u4f55\u4eba\u8bc4\u8bba",followee_can_comment:"\u5141\u8bb8\u6211\u5173\u6ce8\u7684\u4eba\u8bc4\u8bba",nobody_can_comment:"\u5173\u95ed\u8bc4\u8bba"};z.e=rE.prototype;z.e.un=function(){return"#answer-"+this.ma};z.e.oj=function(){var a=(0,window.$)("a[name\x3dreport]",this.Lc);if(a.length){var b=new Bv("answer",this.ma);Dv(b,a[0]);z.Ec(b,this)}};z.e.Fx=function(){gy("answer",this.sb,"read")};
z.e.Fj=function(){gy("answer",this.sb,/^\/question\//.test(window.location.pathname)?"read":"touch")};
z.e.D=function(){rE.v.D.call(this);tE(this);this.Df=z.A("zm-item-answer-author-info",this.h);var a=!1;!z.V.sa()&&0<(0,window.$)(this.h).parents('div[data-fixed-summary\x3d"1"]').length&&(a=!0);uE(this,a);this.Lc=this.Lc||z.A("zm-item-meta",this.h);(this.Yh=z.A("zm-meta-panel",this.Lc))&&this.o().g(this.Yh,"click",this.wo);this.Ie?(IE(this),this.Df&&(this.UF=(this.nb=z.Qa(this.Df.innerHTML,"\u533f\u540d\u7528\u6237"))?null:this.Df.innerHTML.replace(/src=".+?"/g,'src\x3d"'+z.V[2]+'"'),this.o().g(this.Df,
"click",function(a){"cancel-anon"===a.target.name&&ot(!1)}))):this.$w();wE(this);this.pj();(0,window.$)(this.h).on("contentchange",window.$.proxy(this.pj,this));this.Ww();this.ub();HE(this);this.oj();z.ah&&!z.bh&&xE(this)};z.e.ez=function(a){var b=this.pj();b&&z.Vm(b,a)};
z.e.$w=function(){var a=z.A("zm-votebar",this.h)||z.A("zm-votebar",this.Yh);if(a){var b=new ly(this.ma);b.w(a);this.qb=b;this.o().g(b,"change",this.qQ).g(b,"action",function(a){a.data.state===ny.je?z.X.na({type:"ga_click_vote_up",target:this}):a.data.state===ny.qg&&z.X.na({type:"ga_click_vote_down",target:this})});(a=z.A("votenum-mobile",this.Yh))&&(new sy(b)).w(a)}};
z.e.pj=function(){if(this.qh)return this.qh;var a=z.A("zm-editable-content",this.h),b=this.qb&&this.qb.m();!this.Ie&&!z.ah&&b&&(0,window.$)(b).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.qh=new z.$m(null,a),this.L(a),a.tag="votebar",a.oy=50,a.w(b))};z.e.qQ=function(){this.pk&&this.pk.Xj()};
z.e.ub=function(){this.Df&&this.o().g(this.Df,"click",this.ya);this.Ie&&(this.UI=z.V);this.o().g(z.Aj,"anon_change",function(a){this.Ie?this.bt(a.nb):this.qb.Vd()===ny.je&&this.pk.Xj()});yE(this);(0,window.$)(this.h).on("focusin focusout",function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)})};z.e.cf=function(a){return z.lj(this.h,a)};
z.e.ya=function(a){if(a=(a=this.cf(a.target))&&a.name)if("edit"===a){a=tD();if(!this.wu){var b=z.Wq.sb;a.wx=!0;a.tG=b;this.o().g(a,"change",this.Wx)}this.wu=!0;wD(a)}else"complex"===a&&(a=z.A("zm-item-answer-summary",this.h),b=z.A("zm-item-rich-text",this.h),z.R(a,!1),z.R(b,!0))};z.e.Wx=function(){var a=tD().Xv()||z.V[4]||"";if(a){var b=z.A("zu-question-my-bio",this.Df);b.title=a;b.innerHTML=a}};z.e.Ww=function(){var a=z.A("zm-item-answer-author-wrap",this.h),a=z.A("zm-list-avatar",a);z.Gr.add(a)};
z.e.bt=function(a){a?this.Df.innerHTML='\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e\u533f\u540d\u7528\u6237\x3ca class\x3d"zg-link-gray cancel-anon" href\x3d"javascript:void(0);" name\x3d"cancel-anon"\x3e\u53d6\u6d88\u533f\u540d\x3c/a\x3e\x3c/h3\x3e':this.Ie&&(this.UF?this.Df.innerHTML=this.UF.replace("\x3c/h3\x3e","").replace("\x3c/H3\x3e","")+'\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e\x3c/h3\x3e':
(a=[],a.push('\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e'),a.push(uu()),a.push(vu(z.V,"zm-item-answer-creator")),a.push("\x3c/h3\x3e"),this.Df.innerHTML=a.join("")))};z.e.LF=function(){var a=(0,window.$)(this.h);a.hide("fast",function(){a.remove()});this.H()};
z.e.wo=function(a){var b=this.cf(a.target),c=b&&b.name;if(c)switch(c){case "addcomment":this.tw();this.qa&&this.qa.Kc()&&this.qa.ni("view_comments",(0,window.parseInt)(z.gc(b),10)||0);break;case "remove":this.dr();break;case "thanks":z.X.na({type:"ga_click_thank_answer",target:b});this.kr();break;case "comment_opt":this.Su||KE(this);break;case "admin":AE(this);break;case "share":z.X.na({type:"ga_click_share_answer_box",target:b});this.vc();break;case "nohelp":this.vD(a);break;case "favo":z.X.na({type:"ga_click_collect_answer_box",
target:b}),this.cj()}};z.e.iM=function(){(new Bv("answer",this.ma)).WG()};
z.e.vD=sE(function(a){a=a.target;var b=!!a.m;z.X.na({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.kv&&"pending"===this.kv.state()&&this.kv.abort();var c,d;d=b?a.Dg():a.innerHTML;d=(c=-1<d.indexOf("\u64a4\u9500"))?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9";b?a.cm(d):a.innerHTML=d;c=c?"/answer/helpful":"/answer/not_helpful";b||z.cj(a);this.kv=window.$.post(c,{aid:this.ma})},{sa:"question_answer_not_helpful",hd:!0});
z.e.vc=sE(function(){aw(["\u5206\u4eab\u56de\u7b54","answer",this.sb,{aid:this.ma}],"tb-webshare-sina")},{sa:"question_answer_share"});z.e.cj=sE(function(){var a=By.S();Ey(a,this.ma);a.show()},{sa:"question_answer_collect",hd:!0});z.e.QJ=function(){this.qa||zE(this);this.qa.yf();(0,window.$)(this.Yh).toggleClass("focusin",this.qa.Kc())};
z.e.tw=sE(rE.prototype.QJ,function(){return{sa:"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(z.A("toggle-comment",this.h)).text())?"question_answer_add_comment_start":!1}});z.e.$q=sE(function(a){this.qa&&this.qa.Kc()?this.qa.wa.focus():this.tw();a.preventDefault()},{sa:"question_answer_add_comment_start"});
z.e.kr=sE(function(){var a=(0,window.$)("a[name\x3dthanks]",this.Yh)[0];a&&!z.H.has(a,"disabled")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Vi(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.ma})):(z.Vi(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.ma})),z.cj(a))},{sa:"question_answer_thank"});
z.e.Xy=function(a){qy.Xy(this.ma,a);(0,window.$)(".copyright",this.Lc).html(a?"":'\x3cspan class\x3d"zg-bull"\x3e\x26bull;\x3c/span\x3e \u7981\u6b62\u8f6c\u8f7d')};z.e.sL=function(a){var b=a.target;a=b.X();"\u7981\u6b62\u8f6c\u8f7d"===a?this.Xy(!b.Ce()):"\u5220\u9664"===a?this.dr():a in LE&&window.$.post("/answer/comment_permission",{answer_id:this.ma,permission:a}).done((0,z.t)(function(a){a&&!a.r&&z.B.forEach(this.Tu,function(a){a.bd(a===b)})},this))};
z.e.dr=function(){z.ch("\u4f60\u786e\u5b9a\u8981\u5220\u9664\u81ea\u5df1\u7684\u7b54\u6848\u5417\uff1f","\u7b54\u6848\u5185\u5bb9\u4e0d\u4f1a\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4f60\u8fd8\u53ef\u4ee5\u64a4\u6d88\u672c\u6b21\u5220\u9664\u64cd\u4f5c\u3002",function(a){a&&(this.Uh=!0,this.status=-1,ME(this))},this)};z.e.m=function(){return this.h};z.v(OE,rE);OE.prototype.w=function(a){OE.v.w.call(this,a);this.Ie&&this.bt(this.eK.nb)};OE.prototype.T=function(){return(0,window.$)(this.h).is(":visible")};z.v(PE,z.S);z.e=PE.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};z.e.D=function(){PE.v.D.call(this);var a=z.y("zh-question-meta-wrap");a&&(this.lG=new cE(this.data),this.L(this.lG),this.lG.w(a));this.Ln();RE(this);this.mo=new fB;this.o().g(this.mo,"change",this.qy);this.mo.init();this.UG();QE(this);(a=z.fr.topic_errors_info)&&z.ol(a)};
z.e.UG=function(){this.data.sb=z.Wq.sb;ZE(this,!0);z.V.sa()&&(XE(this),YE(this));cF(this);(this.Qu=z.y("zg-question-suggested-topics"))&&this.o().g(this.Qu,"click",this.sO);this.Kn();this.o().g(window,"hashchange",function(a){a=a.Zb;a.oldURL&&"writing"===a.oldURL.split("#")[1]||VE(this)});aF(this);SE(this);z.Vq&&(0,window.setTimeout)(function(){window.location.href=z.Vq},5E3)};
z.e.Ln=function(){gy("question",this.data.sb,"read");this.o().g(this,["click!","show!"],function(a){"comment"===a.namespace&&a.yc.fill("category","question_answer").fill("label","question_answer");"invitation"===a.namespace&&a.yc.fill("label","question_page")})};z.e.qy=function(){this.BM=!0;this.jk=(0,window.$)(this.mo.mO)[0];z.Mb(this.jk,z.y("zh-question-redirect-info"));z.R(this.jk,!0);z.bq.wc||(this.Vi=new z.Tm,this.Vi.w(this.jk),it(this.Vi));this.o().g(this.jk,"click",this.pD);VE(this)};
z.e.TM=function(a){"close"!==z.Wq.status&&(a=a.target.m(),this.Db=new JD(this.data.oa,"/question/detail","content",!0,null),KD(this.Db,zu(this.data.Zg)),this.Db.KT=z.nj,z.A("zm-editable-content",a).innerHTML&&(this.Db.Fo=!0),this.Db.w(a),this.o().g(this.Db,"click_edit",function(){z.X.na("ga_question_supplement_edit_start")}),this.o().g(this.Db,"cancel_edit",function(){z.X.na("ga_question_supplement_edit_cancel")}),this.o().g(this.Db,"save_changed",function(){z.X.na("ga_question_supplement_edit_save_changed")}),
this.o().g(this.Db,"save_unchanged",function(){z.X.na("ga_question_supplement_edit_save_unchanged")}),this.Db.addEventListener("beforeedit",LA({Rl:!0})))};
z.e.WM=function(a){a=a.target.m();var b=z.y("zh-question-answer-summary-link"),c;!a||!z.bq.mE&&this.data.KR||(c=new z.yn(!0,"/question/summary","content"),ht(c,["id\x3d"+this.data.oa]),c.cq=!1,c.w(a));if(b){var d=z.y("zh-question-answer-summary-wrap");this.o().g(b,"click",function(){c&&(z.R(d,!0),c.sf())}).g(d,"click",function(a){"cancel"===a.target.name&&(a=!c.ef(),z.R(d,!a))})}this.JR=c;this.JR.addEventListener("beforeedit",LA({Rl:!0}))};
z.e.pD=function(a){if("close"===a.target.name){if(this.Vi&&(z.Wm(this.Vi),z.Vm(this.Vi,!1),window.history.replaceState)){a=new z.dk(window.location.href);var b=a.ld();b.remove("q");b.remove("psq");window.history.replaceState({},"",a.Je+"?"+b.toString())}z.R(this.jk,!1);z.R(this.Js,!1)}else if("A"===a.target.tagName&&"zh-question-suggest-reask"===a.target.id&&(z.R(this.Js,!1),z.En.S().show()),b="a"===(0,window.$)(a.target).prop("tagName").toLowerCase()?a.target:this.cf(a.target,"A"))a.preventDefault(),
a.stopPropagation(),a=b.getAttribute("data-source")||b.href,b=a.indexOf("#"),a=0>b?null:a.substr(b+1),VE(this,a&&(0,window.decodeURIComponent)(a))};z.e.$L=function(){var a=this.sg,b=a.m(),c=a.me.hb()[0];z.R(b,!1);c=z.Gb(z.Fa(c));z.Lb(c,b);this.Bi[a.ma]=null;this.Lp=z.B.filter(this.Lp,function(b){return b!==a.ma},this);var d=999;this.ru=z.B.filter(this.ru,function(b){b.aid===a.ma&&(d=b.vote);return b.aid!==a.ma},this);z.I(b);a.H();bF(this,c,d,!1)};
z.e.Vx=function(a){a=a.target;if(a instanceof OE){var b=a.m();switch(a.$t){case "collap":this.Vm.appendChild(b);z.H.add(b,"zm-item-collapsed");this.data.ne--;WE(this);break;case "cancel_collap":this.Np.appendChild(b);z.H.remove(b,"zm-item-collapsed");fF(this,b);this.data.ne++;WE(this);break;case "set_delete":UE(this);this.data.ne--;WE(this);break;case "cancel_delete":fF(this,this.Bi[this.$h].m()),UE(this),this.data.ne++,WE(this)}}};z.e.WC=function(a){return this.Bi[a]};
z.e.MR=function(a){(a=z.lj(this.Ah,a.target))&&a.name&&("expand"===a.name?(this.MJ||eF(this),dF(this,!0)):dF(this,!1))};z.e.AO=function(){var a=this.Bi[this.$h],b;a?(NE(a),fF(this,a.m())):(b=this.Zf,a=new z.U(!0),z.Ld(this.o(),a,"success",function(){window.location.href="/question/"+z.Wq.sb+"/answer/"+b.url_token}),a.ajax("/answer/unremove","aid\x3d"+b.id))};
z.e.tO=function(){var a=this.tb.Kp.checked,b={Gj:!0,title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5728\u8be5\u95ee\u9898\u4e0b\u7684\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"},c=(0,z.t)(function(){if(!this.fa||!this.fa.Jb()){var b=this.tb.ef();if(b){var c=new z.U(!0),g=new z.jk,h=a?1:0;g.add("id",this.oa).add("content",b).add("anon",h);c.on("success",function(){z.Wq.nb!==h&&z.Aj.dispatchEvent(new at(h));var a=z.fe(this.fa);
a&&!a.r?(a=z.Gb(z.Fa(a.msg[0])),this.Np.appendChild(a),bF(this,a,this.Lp.length,!0),UE(this),AD(this.tb.rC),DD(this.tb.rC),this.tb.H(),z.Wq.nb||(this.jO=new lD(this.Bi[this.$h]),this.jO.show()),z.V.NK&&(0,window.$)("#answer-my-question-tip").insertAfter((0,window.$)("#zh-question-answer-form-wrap")).show(),this.data.ne++,WE(this)):z.gh("\u63d0\u793a\u4fe1\u606f",a.msg)},!1,this);c.ajax("/answer/add",g.toString());this.fa=c}}},this);z.Wq.nb&&!a?z.ch(b,function(a){a&&c()}):c()};z.e.cf=function(){};
z.e.sO=function(a){if((a=this.cf(a.target))&&a.name){var b=a.name;"close"===b?z.R(this.Qu,!1):"addtag"===b&&(this.Qa.Se(a.id.split("-")[1],a.innerHTML),z.R(a,!1))}};z.e.Kn=function(){this.pz=new oD(this.oa);this.pz.init()};z.v(gF,PE);z.e=gF.prototype;z.e.UG=function(){(this.Eq=z.y("zh-single-answer-disable-wrap"))&&this.o().g(this.Eq,"click",this.KQ);this.yl();this.Kn();jF();ZE(this,!1);var a=(0,window.$)("#zh-question-answer-collections \x3e .zh-general-list").get(0);if(a){var b=new ev({use:["autoload","nodeSource"]});this.L(b);b.w(a)}hF(this)};z.e.Ln=function(){this.o().g(this,["click!","show!"],function(a){"invitation"===a.namespace&&a.yc.fill("label","answer_page")});gF.v.Ln.call(this)};
z.e.KQ=function(a){a.target&&a.target.name&&NE(this.Nb)};z.e.yl=function(){var a=z.A("zm-item-answer",z.y("zh-question-answer-wrap"));if(a){this.Nb=new OE(this.oa);this.L(this.Nb);this.Nb.w(a);a=this.o();a.g(this.Nb,"change",this.Vx);if(this.Nb.Ie){a.g(z.Aj,"anon_change",function(a){iF(this,a.nb)});var b=this.Nb.me;b&&a.g(b,"change",function(){var a=z.Fa(b.hb()[0]),a=z.Gb(a);z.Ob(a,this.Nb.h);this.Nb.H();this.yl(a)})}kF(this);zE(this.Nb,{autofocus:!1,ME:!0})}};z.e.WC=function(a){if(this.Nb.ma===a)return this.Nb};
z.e.VI='\x3ch3\x3e\u5173\u4e8e\u4f5c\u8005\x3c/h3\x3e\x3c% if (author) { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"/people/\x3c%\x3d author.url_token %\x3e" tabindex\x3d"-1"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"\x3c%\x3d author.avatar_path.replace("_s.","_m.") %\x3e"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\x3ca href\x3d"/people/\x3c%\x3d author.url_token %\x3e"\x3e\x3c%\x3d author.fullname %\x3e\x3c/a\x3e\x3c/h2\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\x3c%\x3d author.headline || "" %\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"javascript:;"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"http://img.zhihu.dev:4080/66/6b/666b0abfc_m.jpg"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\u533f\u540d\u7528\u6237\x3c/h2\x3e\x3c/div\x3e\x3c% } %\x3e';
z.e.Kn=function(){this.pz=new oD(this.oa,this.Nb);this.pz.init();var a=z.y("js-sidebar-author-info");a&&(new IA(a)).init()};z.e.Vx=function(a){a=a.target;if(a instanceof OE)switch(a.$t){case "collap":z.H.add(a.m(),"zm-item-collapsed");break;case "cancel_collap":z.H.remove(a.m(),"zm-item-collapsed");break;case "set_delete":case "cancel_delete":kF(this),window.location.reload()}};z.v(lF,z.S);z.e=lF.prototype;z.e.init=function(){var a=z.A("js-topic-feed-page");this.w(a)};
z.e.D=function(){lF.v.D.call(this);var a=this;this.lA=(0,window.$)(".js-topic-feed-container",this.h);this.lA.find(".js-topic-item").each(function(){var b=new oF;a.L(b);b.w(this);a.o().g(b,"unfollow",function(){pF(a)})});this.Cs=new tF;this.Cs.w((0,window.$)(".js-pinned-topics",this.element)[0]);(this.cc=z.y("js-load-more"))&&this.o().g(this.cc,"click",this.dy);this.o().g(this.Cs,"change",function(a){(0,window.$)("#tf-"+a.rH).find(".js-pin").replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')});
this.Qt=(0,window.$)(".follow-topics-count");qF(this);this.Ln()};z.e.dy=function(){mF(this.cc,!0);this.fa=new z.U(!0);z.Ld(this.o(),this.fa,"complete",(0,z.t)(this.Sg,this));var a=new z.mj;a.add("page",++this.page);this.fa.ajax(window.location.pathname,a.ld())};z.e.Sg=function(){var a=z.fe(this.fa);a&&!a.r&&(0<a.msg.length?(nF(this,a.msg),mF(this.cc,!1)):(0,window.$)(this.cc).hide())};
z.e.Ln=function(){var a=(0,window.$)(this.m());window.$.each({".zu-main-sidebar .topics-plaza a":["visit_topic_square","topic_feed_sidebar"],".hidden-topics-plaza a":["visit_topic_square","topic_feed_recommend"],".js-pager.topics-pager":["click_change_recommend_topic","topic_feed_recommend"],".js-nomore-recommend":["click_nomore_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-follow":["click_follow_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-unfollow":["click_unfollow_recommend_topic",
"topic_feed_recommend"],'.topic-recommend .topic-feed-item a[href^\x3d"/question/"]':["visit_question","topic_feed_recommend"]},function(b,c){a.on("click",b,function(){z.Y.apply(null,["topic"].concat(c))})})};z.v(oF,z.S);oF.prototype.D=function(){oF.v.D.call(this);this.o().g(this.h,"click",(0,z.t)(this.Tx,this))};
oF.prototype.Tx=function(a){var b=a.target;a=(0,window.$)(b).attr("data-action");var c=(0,window.$)(this.h).find(".topic-avatar img"),d=c.clone(),f,g=(0,window.$)(this.h).data("id");if("pin-topic"===a)f=this.getParent().Cs,wF(f,g).done(function(a){if(!a.r&&a.msg){(0,window.$)(".zu-main-sidebar .side-title").show();z.cj(b);(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"unpin-topic" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e');
a=c.offset();var g=(0,window.$)(f.h).offset();1E3<a.top-g.top?(g=(0,window.$)(".top-nav-topic-selector.current a").offset(),g={top:g.top+20,left:g.left+15,width:"25px",height:"25px",opacity:.1},d.css({position:"absolute","z-index":"999"}).css("top",a.top).css("left",a.left).appendTo("body").animate(g,300,function(){d.remove()})):d.css({position:"absolute","z-index":"999"}).appendTo("body").css("top",a.top).css("left",a.left).animate({top:g.top-63+(0,window.$)(f.h).height(),left:g.left,width:"-\x3d50px",
height:"-\x3d50px",opacity:.5},300,function(){d.remove()});(0,window.$)(".no-pin-topics").hide()}});else if("unpin-topic"===a)xF(this.getParent().Cs,g,function(){var a=(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"zg-gray pin topic-hover-content" style\x3d""\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')[0];z.cj(a)});else if("unfollow"===a){var h=this,l=(0,window.$)(h.h);(a=(0,window.$)(".topic-recommend .zg-btn-unfollow[data-id\x3d"+
b.id.match(/-(.*)/)[1]+"]").get(0))?(0,z.Fs)(a,"topic",null,["zg-btn-follow","zg-btn-unfollow"]):(0,z.Fs)(b,"topic",null,["follow","unfollow"]);l.fadeOut(function(){l.remove();h.dispatchEvent("unfollow")})}};z.v(tF,z.S);tF.prototype.BQ=(0,z.Hn)('\x3cdiv class\x3d"side-topic-item js-pin-item  cursor-move" data-topicid\x3d"\x3c%\x3dtopic.id%\x3e" \x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"pin-topic-avatar-link"\x3e\x3cimg src\x3d"\x3c%\x3dtopic.avatar_path%\x3e" alt\x3d"" title\x3d"\u62d6\u52a8\u4ee5\u6392\u5e8f" class\x3d"side-topic-avatar js-topic-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-content ellipsis"\x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"topic-link side-topic-title"\x3e\x3c%\x3dtopic.name%\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-meta"\x3e\x3c% if (topic.children_num \x3e 0) { %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.children_num%\x3e \u4e2a\u5b50\u8bdd\u9898\x3c/span\x3e\x3cspan class\x3d"bull"\x3e\x26bull;\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.followers_num%\x3e \u4eba\u5173\u6ce8\x3c/span\x3e\x3c/div\x3e\x3c% if (topic.feed_num \x3e 0) { %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\x3c%\x3dtopic.feed_num %\x3e \u6761\u52a8\u6001\x26nbsp;\x26raquo;\x3c/a\x3e\x3c% }else{ %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\u8fdb\u5165\u8bdd\u9898 \x26raquo;\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e\x3ca href\x3d"javascript:;" data-action\x3d"up" class\x3d"up" data-tip\x3d"s$b$\u7f6e\u9876"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:;" data-action\x3d"remove" class\x3d"delete"\x3e\x3c/a\x3e\x3c/div\x3e');
tF.prototype.D=function(){tF.v.D.call(this);this.o().g(this.h,"click",(0,z.t)(this.Tx,this));uF(this)};
tF.prototype.Tx=function(a){var b=this,c=a.target,d=(0,window.$)(c).attr("data-action");if(d){var f=(0,window.$)(c).parents(".js-pin-item");if("up"===d){a=f.position();var g=f.clone();f.before(g).css({position:"absolute","z-index":"999"}).css("top",a.top).animate({top:(0,window.$)(b.h).position().top},200,function(){g.remove();f.css({position:"relative",top:0}).prependTo(b.h);b.tt()});g.css("opacity",0)}else"remove"===d&&f.fadeOut(function(){f.remove();b.tt();b.dispatchEvent({type:"change",rH:f.attr("data-topicid")});
0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})}else a.stopPropagation()};tF.prototype.tt=function(){var a=[];(0,window.$)(this.h).find("div.js-pin-item").each(function(){a.push((0,window.$)(this).attr("data-topicid"))});return window.$.post("/pin-topic",{topic_ids:a.join(",")},function(){})};z.v(yF,z.S);z.e=yF.prototype;z.e.init=function(){z.Xp.L(this);this.w(window.document.body)};
z.e.D=function(){yF.v.D.call(this);this.Pt=(0,window.$)("ul.zm-topic-cat-main").children();var a=this.vd=(0,window.$)("div.zh-general-list"),b=new ev({use:["autoload","nodeSource"]});this.L(b);b.w(a.get(0));this.o().g(b,"next",this.Hp);this.HE=b;a.on("click","a.follow",function(){(0,z.Fs)(this,"topic",z.qa(z.cj,this),null,{follow_text:"\u5173\u6ce8"})});z.K(window,"hashchange",this.CF,!1,this);this.CF()||(a.show(),this.Hp())};
z.e.Hp=function(){var a=this.vd.show().children();if(!a.length)return this.vd.html('\x3cp class\x3d"zg-gray-normal" style\x3d"text-align:center;line-height:4;"\x3e\u6ca1\u6709\u5b50\u8bdd\u9898\u3002\x3c/p\x3e');a.removeClass("no-border "+this.AC);a.filter(":odd").addClass(this.AC);a=a.last();a.index()%2?a.add(a.prev()).addClass("no-border"):a.addClass("no-border");a=this.Zq();a=AF(this,a.params&&a.params.topic_id);a.length&&a.addClass(this.bn).siblings().removeClass(this.bn)};z.e.Zq=function(){return this.vd.data("init")};
z.e.CF=function(){var a;a:{if(a=(0,window.decodeURIComponent)(window.location.hash.slice(1))){var b=zF(this,a);if(b.length&&this.Pt.filter("."+this.bn).text()!==a){b.addClass(this.bn).siblings().removeClass(this.bn);a={params:{topic_id:b.data("id")}};b=this.Zq();window.$.extend(!0,b,a);this.vd.attr("data-init",JSON.stringify(b));this.vd.empty();this.HE.Fi();this.HE.es();a=!0;break a}}a=void 0}return a};z.v(BF,z.S);
BF.prototype.init=function(){(0,window.$)(".report-table .report-appeal").click(function(a){a.preventDefault();var b=(0,window.$)(this).closest("tr"),c=new z.Xg;z.Pg(c,!0);c.Ag=!0;z.Sg(c,z.jr);c.Xa("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");c.Ea('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');c.G(!0);c.ba();c.o().g(c,z.ir,function(){window.$.post("/report/appeal",{report_id:b.data("id"),
reason:(0,window.$)('[name\x3d"reason"]',c.h).val()},function(){z.ch({title:"\u7533\u8bc9\u63d0\u4ea4",Gj:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",ba:!0,buttons:["\u77e5\u9053\u5566"]})})})});(0,window.$)(".report-table .report-show-deleted").click(function(a){a.preventDefault();
(0,window.$)(this).next(".report-deleted").toggleClass("hidden")})};z.v(CF,z.S);CF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};CF.prototype.D=function(){CF.v.D.call(this);DF(this,"zh-global-logs-wrap");DF(this,"zh-global-logs-questions-wrap");DF(this,"zh-question-log-list-wrap")};z.v(EF,z.S);EF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};EF.prototype.D=function(){EF.v.D.call(this);this.Jn("zh-question-followers-list-wrap")};EF.prototype.Jn=function(a){if(a=z.y(a)){var b=new ev;this.L(b);b.use("locationSource");b.w(a)}};z.v(GF,ev);GF.prototype.$p=function(){return z.Gb('\x3cbutton class\x3d"feeds-loading"\x3e\x3cspan\x3e\u66f4\u591a\x3c/span\x3e\x3c/button\x3e')};GF.prototype.lz=function(a){this.Kd&&(z.bc(this.Kd.firstChild,a?"\u52aa\u529b\u52a0\u8f7d\u4e2d...":"\u66f4\u591a"),z.H.enable(this.Kd,"loading",a))};z.v(HF,z.S);HF.prototype.yi=function(){Ux.call(this,"answer");this.Ev="entry-expaneded";this.js="item-footer";this.tp="votebar"};z.v(HF.prototype.yi,Ux);z.e=HF.prototype.yi.prototype;z.e.Km=function(){HF.prototype.yi.v.Km.call(this,{".js-expand":this.Ra,".js-thank":this.kr});this.$w();var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new pv;b.w((0,window.$)(".menu",a)[0]);b=new vv("operation",b);b.Zj=!0;xv(b);wv(b);b.hc=z.Dq;b.w((0,window.$)(".menubutton",a)[0])}IF(this);this.pj()};
z.e.pj=function(){var a=(0,z.t)(function(){if(!this.qh){var a=z.A("entry-content",this.h),c=this.qb&&this.qb.m();!z.ah&&c&&(0,window.$)(c).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.qh=new z.$m(null,a),this.L(a),a.tag="votebar",a.w(c))}},this);this.o().g(this,["expand","collapse"],function(b){(b="expand"===b.type)&&a();this.qh&&z.Vm(this.qh,b)})};
z.e.$w=function(){var a,b,c=(0,window.$)("."+this.tp,this.m())[0];c&&(a=this.qb=new ly(this.lb,this.entryType),this.L(a),z.Ec(this,a),a.w(c),(c=(0,window.$)(".js-mobi-vote",this.m())[0])&&(new sy(a)).w(c));if(c=(0,window.$)(".zm-item-vote-info",this.m())[0])b=new xy(this.lb,this.entryType),this.L(b),z.Ec(this,b),b.w(c);a&&b&&this.o().g(a,"change",function(){b.Xj()}).g(b,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(b.Sa())})};
z.e.kr=Vx(function(a){(a=a.target)&&!z.H.has(a,"thanked")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Vi(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.lb})):(z.Vi(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.lb})))},{sa:"question_answer_thank"});z.e.vc=function(){HF.prototype.yi.v.vc.call(this,"\u5206\u4eab\u56de\u7b54","answer",this.Jh,{aid:this.lb})};
z.e.cj=Vx(function(){var a=By.S();Ey(a,this.lb);a.show()},{sa:"question_answer_collect",hd:!0});
z.e.le=function(){HF.prototype.yi.v.le.call(this);z.Ui(this.eg.register("v",function(){this.qb&&this.qb.Ct()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Ui(this.eg.register("d",function(){this.qb&&this.qb.Bt()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Ui(z.Ui(z.Ui(z.Ui(z.Ui(this.eg.register("o",this.yf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.gp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("f x",this.vc,
this),{group:"\u64cd\u4f5c",name:"\u5206\u4eab"}).register("s c",this.cj,this),{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("shift+c",this.yw,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};HF.prototype.CA=function(){Ux.call(this,"question");this.js="item-footer"};z.v(HF.prototype.CA,Ux);
HF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body);this.Mn();this.Gr();JF();var a=(0,window.$)(".rt-comment-box")[0];if(a){var b=new tx(this.Io.id,"roundtable");this.L(b);b.w(a)}};HF.prototype.Mn=function(){this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.yc.fill("label","roundtable").fill("category",this.Vg)})};
HF.prototype.Gr=function(){function a(a){a=a.getAttribute("data-type");return(a={answer:HF.prototype.yi,question:HF.prototype.CA}[a])?new a:new z.S}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new GF;c.use("childConstructor",{factory:a});null!==this.getAttribute("data-navigable")&&c.use("shortcut",{items:"\x3e.item"});b.L(c);c.w(this)})};z.v(KF,z.S);KF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body);this.Gr();MF(this);NF(this);LF();FF("[data-highlight]",this.Ty)};
KF.prototype.Gr=function(){function a(a){var b=new z.S;(0,window.$)("li.answer-item",a).each(function(){var a=new HF.prototype.yi;a.js="actions";a.tp="zm-votebar";b.L(a);a.w(this)});return b}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new ev({use:["autoload","dataPagingSource"]});c.use("childConstructor",{factory:a});var d=(0,window.$)(this).data("navigable");d&&c.use("shortcut",d);b.L(c);c.w(this);Wu(c,function(a){FF((0,window.$)("[data-highlight]",a),b.Ty)})})};z.v(OF,z.N);
z.ra(OF.prototype,{defaults:{source:"/topic/autocomplete",Yb:null,jK:"",Ju:!1,pS:"/topic/%s",template:'\x3cli data-id\x3d"\x3c%\x3did%\x3e"\x3e\x3ca class\x3d"tag-link" href\x3d"\x3c%\x3durl%\x3e"\x3e\x3c%\x3dname%\x3e\x3c/a\x3e\x3c/li\x3e',parse:function(a){var b=(0,window.$)(a);return{Rs:!0,id:b.data("id"),url:a.href,name:b.text()}},jR:z.Dq,zK:"canedit",sv:"empty",Pm:"button",rQ:"remove-button"},PR:function(a){return Yu(this.J.pS,a.url_token)},has:function(a){return!!z.B.find(this.lh,function(b){return b.name===
a.name||b.id===a.id})},KK:function(a){return z.B.find(this.lh,function(b){return b.name===a})},ST:function(a){return z.B.find(this.lh,function(b){return b.id===a})},Mc:function(){var a=!!z.Qb(this.Yb).length;z.H.enable(this.Yb,this.J.sv,!a);this.dispatchEvent("change")},add:function(a,b){a&&(this.has(a)||this.lh.push(a),a.Rs=!1,b||this.J.jR.call(this,a))&&(this.zQ(a),a.Rs=!0,this.dispatchEvent("add"),this.Mc())},remove:function(a){this.lh=z.B.filter(this.lh,function(b){return a!==b.id},this);this.dispatchEvent("remove");
this.Mc()},fL:function(){return z.B.filter(this.lh,function(a){return!1!==a.Rs})},eL:function(){return z.B.map(this.fL(),function(a){return a.id})},zQ:function(a){a=z.Gb(this.xG(a));this.Yb.appendChild(a);this.Fe(a)},xG:function(a){return(0,z.Hn)(this.J.template,a)},aa:function(){this.Yb.innerHTML=z.B.map(this.lh,this.xG,this).join("")},RP:function(){return z.B.map(this.hD(),this.J.parse)},hD:function(){return z.Qb(this.Yb)},rg:function(){var a=this,b=a.J;this.ca=PF(this.input,{source:b.source,di:function(a){return z.nc(a,
function(a){return"static"!==window.$.css(a,"position")})}(a.input),placeholder:this.input.getAttribute("placeholder"),select:function(c){a.add({id:c.id,name:c.id?c.label:a.input.value,url:a.PR(c),avatar:c.avatar,url_token:c.url_token});return b.jK},filter:function(c){return z.B.filter(c,function(c){return b.Ju&&!c.id?!1:!z.B.find(a.lh,function(a){return a.Rs&&a.id===c.id})})}});z.B.forEach(this.hD(),this.Fe,this);z.K(this.input,"keypress",function(c){var d;13!==c.keyCode||b.Ju||!(d=z.Fa(this.value))||
a.ca.wb()||a.add(a.KK(d)||{id:null,name:d,url:"/topic/"+d})});this.Mc()},removeTag:function(a){this.remove((0,window.$)(a).remove().data("id"))},SP:function(a,b){var c=z.B.find(this.Fu,function(b){return b.action===a});c&&c.method&&c.method.call(this,b);this.input.focus()},Fe:function(a){var b=this.J;z.H.add(a,b.zK);z.B.forEach(this.Fu,function(c){var d=new z.Rh(" ",z.$h.S());d.uh([b.Pm,c.$u].join(" "));d.aa(a);d.eb(!0);d.Rc(c.V);d.addEventListener("action",function(){this.SP(c.action,a)},!1,this)},
this)}});QF.prototype.init=function(){RF(this);TF(this)};VF.prototype.init=function(){(0,window.$)("a.js-obfuscate-email").each(function(){var a=(0,window.$)(this),b=a.data("email").split("").reverse().join("");a.attr("href","mailto:"+b).text(b)})};z.v(WF,z.S);WF.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};WF.prototype.D=function(){WF.v.D.call(this);var a=(0,window.$)("#zh-following-question-item-list").children(".zh-general-list");if(a.length){var b=new ev;this.L(b);b.use("nodeSource");b.w(a.get(0))}};z.v(XF,z.S);XF.prototype.D=function(){this.o().g(this.h,"click",this.qo)};XF.prototype.qo=function(a){var b=a.target;b&&"rmdraft"===b.name&&z.ch("\u5220\u9664\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8349\u7a3f\u5417\uff1f",function(a){a&&(z.hh("/draft/delete",null,"POST","qid\x3d"+b.id.split("-")[1]),z.I(this.h))},this)};z.v(YF,z.S);YF.prototype.init=function(){var a=z.y("zh-draft-page-wrap");a&&this.w(a)};
YF.prototype.D=function(){z.K(z.y("zh-clear-all-draft"),"click",function(){z.ch("\u5220\u9664\u6240\u6709\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u8349\u7a3f\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d",function(a){a&&z.hh("/draft/clear",function(){window.location.href="/draft"},"POST")});return!1});this.Jn()};YF.prototype.Jn=function(){var a=z.y("zh-draft-item-list");if(a){var b=new ev;b.use("locationSource",{As:!0}).use("childConstructor",{Hi:XF});b.w(a)}};var RH;z.v(aG,z.hi);z.e=aG.prototype;
z.e.play=function(){if(1==this.U)return!1;this.Rg();this.sc("play");this.startTime=(0,z.Wa)();this.U=1;if(!z.ea(RH))if(z.x)RH=z.w("10.0");else{var a=window.document.createElement("div");a.innerHTML='\x3cdiv style\x3d"-webkit-transition:opacity 1s linear;-moz-transition:opacity 1s linear;-o-transition:opacity 1s linear;transition:opacity 1s linear"\x3e';a=a.firstChild;RH=z.ea(a.style.transition)||z.ea(a.style.WebkitTransition)||z.ea(a.style.MozTransition)||z.ea(a.style.hI)}if(RH)return z.wf(this.h,this.ZM),
this.nH=z.ld(this.UP,void 0,this),!0;this.Bz(!1);return!1};z.e.UP=function(){ZF(this.h,this.fS);z.wf(this.h,this.JC);this.nH=z.ld((0,z.t)(this.Bz,this,!1),1E3*this.wK)};z.e.stop=function(){1==this.U&&this.Bz(!0)};z.e.Bz=function(a){$F(this.h,"");z.md(this.nH);z.wf(this.h,this.JC);this.endTime=(0,z.Wa)();this.U=z.ii;a?this.sc("stop"):this.sc("finish");this.Tg()};z.e.C=function(){this.stop();aG.v.C.call(this)};z.e.pause=function(){};z.v(cG,z.S);cG.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};cG.prototype.D=function(){cG.v.D.call(this);eG(this);this.Zw();gG(this);dG();this.o().g(this,"click!",function(a){"comment"===a.namespace&&a.yc.fill("category",this.Vg).fill("label",this.JK)})};cG.prototype.Zw=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=dB(a).done(function(a){b.html(a)}))})};z.v(fG,ev);
fG.prototype.D=function(){fG.v.D.call(this);this.use("childConstructor",{Hi:hy})};z.v(iG,z.S);iG.prototype.init=function(){z.Xp.L(this);this.w(window.document.body)};iG.prototype.D=function(){iG.v.D.call(this);this.Jn()};iG.prototype.Jn=function(){var a=z.y("js-suggest-people");if(a){var b=new ev({source:jG()});this.L(b);b.w(a)}};kG.$inject=["$scope"];kG.prototype.removeTag=function(a,b){a.splice((0,z.B.indexOf)(a,b),1)};kG.prototype.moveupTag=function(a,b){var c=(0,z.B.indexOf)(a,b);0<c&&(a.splice(c,1),a.splice(c-1,0,b))};kG.prototype.onActvityUrlChange=function(){var a=this.Zs,b=a.activityUrl,c=a.roundtable.activityUrls;b&&-1===(0,z.B.indexOf)(c,b)&&(c.push(b),a.activityUrl="")};
kG.prototype.submit=function(a,b){var c="create"===b,d={roundtable:JSON.stringify(a)};if(c&&3>a.activityUrls.length)return z.T("\u8bf7\u81f3\u5c11\u6dfb\u52a0\u4e09\u6761\u52a8\u6001");window.$.post(window.location.pathname+window.location.search,d).then(function(c){c.success?"create"===b?(z.T(c.message||"\u6d3b\u52a8\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838"),(0,window.setTimeout)(function(){window.location.href="/roundtable"},3E3)):(z.T(c.message||"\u6d3b\u52a8\u4fee\u6539\u6210\u529f"),
(0,window.setTimeout)(function(){window.location.href="/roundtable/"+a.slug},3E3)):z.T(c.message||"\u63d0\u4ea4\u5931\u8d25")})};z.v(mG,z.Lk);nG.$inject=["$parse","$timeout"];pG.$inject=["$interpolate"];rG.$inject=["$interpolateProvider"];z.v(sG,HF);sG.prototype.init=function(){z.Xp.L(this);this.w(window.document.body);vG(this);tG(this);uG(this);JF();this.Gr()};z.v(wG,z.S);wG.prototype.init=function(){var a=window.location.hash.slice(1);a&&(z.cj((0,window.$)("."+a).get(0)),(0,window.$)(".zh-friendliness-sidenav").find('[data-section\x3d"'+a+'"]').addClass("active"));(0,window.$)(".zh-friendliness-sidenav a").click(function(b){a=(0,window.$)(b.target).data("section");z.cj((0,window.$)("."+a).get(0));(0,window.$)(".zh-friendliness-sidenav a").removeClass("active");(0,window.$)(b.target).addClass("active")})};z.v(xG,z.S);xG.prototype.init=function(){this.K=(0,window.$)(".friendly-quiz-container");this.yR=(0,window.parseFloat)(this.K.data("star"));(0,window.$)(".start-btn",this.K).click(window.$.proxy(this.zR,this))};xG.prototype.zR=function(){this.Vt=(0,window.$)(".item",this.K);if(this.By=this.Vt.length)this.xq=-1,this.AB=[],this.Ap=(0,window.$)("h1",this.K),this.K.removeClass("welcome").addClass("answering"),yG(this),(0,window.$)(".choose-btn",this.K).click(window.$.proxy(this.xJ,this))};
xG.prototype.xJ=function(a){a=(0,window.$)(a.target).data("isfriendly");var b=this.vm.data("id");this.AB.push({id:b,isFriendly:a});this.xq<this.By-1?yG(this):window.$.post("/community/friendly/quiz",{params:JSON.stringify(this.AB)},window.$.proxy(function(a){a.r||(a=a.msg,a.isSuccessed?zG(this):AG(this,a.ids))},this))};z.ua("ZH.entryCommunity",function(){(new BF).init()});z.ua("ZH.entryQuestionLog",function(){(new CF).init()});z.ua("ZH.entryQuestionFollowersPage",function(){(new EF).init()});z.ua("ZH.entrySQ",function(){(new PE).init()});z.ua("ZH.entrySA",function(){(new gF).init()});z.ua("ZH.entryL",function(){(new gB).init()});z.ua("ZH.entryT",function(){(new NA).init()});z.ua("ZH.entryTS",function(){(new yF).init()});z.ua("ZH.entryP",function(){(new Zz).init()});z.ua("ZH.entrySearch",function(){(new KF).init()});
z.ua("ZH.entryPM",function(){(new Gv).init()});z.ua("ZH.entryPMDetail",function(){(new Iv).init()});z.ua("ZH.entrySettings",function(){(new zA).init()});z.ua("ZH.entryTopicFeed",function(){(new lF).init()});z.ua("ZH.entryRQ3",function(){(new QF).init()});z.ua("ZH.entryTerms",function(){(new VF).init()});z.ua("ZH.entryHome",function(){(new UB).init()});z.ua("ZH.entryQuestionFollowing",function(){(new WF).init()});z.ua("ZH.entryDraft",function(){(new YF).init()});z.ua("ZH.entryExplore",function(){(new cG).init()});
z.ua("ZH.entryLookup",function(){(new iG).init()});z.ua("ZH.entryCC",function(){(0,window.$)(function(){(0,window.$)("#js-apply-button").click(z.kl(function(){window.$.post("/classical-chinese");var a=(0,window.$)(this),b=a.data("num");a.text("\u60a8\u5df2\u7533\u8acb\u4f7f\u7528").addClass("disabled");(0,window.$)(".apply-num").text("\u5df2\u6709 "+(b+1)+" \u4eba\u7533\u8acb")}))})});z.ua("ZH.entryRb",function(){(new HF).init()});
z.ua("ZH.entryRbEdit",function(){var a=window.angular.module("roundtableApp",[]);a.controller("RoundtableFormCtrl",kG);a.directive("uiAvatarEditor",oG);a.directive("uiSuggest",pG);a.directive("uiTimepicker",nG);a.filter("avatarUrl",qG);a.config(rG);window.angular.bootstrap(window.document.body,["roundtableApp"])});z.ua("ZH.entryRbPending",function(){(new sG).init()});z.ua("ZH.entryFriendlinessPage",function(){(new wG).init()});z.ua("ZH.entryFriendlyQuiz",function(){(new xG).init()});z.jf("app");}).call(this, __z_z__);
//@ sourceURL=module_app.js